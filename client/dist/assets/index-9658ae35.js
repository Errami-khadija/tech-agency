var Zde=Object.defineProperty;var ehe=(e,t,r)=>t in e?Zde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var or=(e,t,r)=>(ehe(e,typeof t!="symbol"?t+"":t,r),r);function the(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const a=Object.getOwnPropertyDescriptor(i,n);a&&Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var a=Function.bind.apply(t,n);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var VY={exports:{}},rT={},QY={exports:{}},Ii={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=Symbol.for("react.element"),rhe=Symbol.for("react.portal"),ihe=Symbol.for("react.fragment"),nhe=Symbol.for("react.strict_mode"),ahe=Symbol.for("react.profiler"),ohe=Symbol.for("react.provider"),she=Symbol.for("react.context"),lhe=Symbol.for("react.forward_ref"),che=Symbol.for("react.suspense"),uhe=Symbol.for("react.memo"),dhe=Symbol.for("react.lazy"),iH=Symbol.iterator;function hhe(e){return e===null||typeof e!="object"?null:(e=iH&&e[iH]||e["@@iterator"],typeof e=="function"?e:null)}var WY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GY=Object.assign,qY={};function qb(e,t,r){this.props=e,this.context=t,this.refs=qY,this.updater=r||WY}qb.prototype.isReactComponent={};qb.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qb.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KY(){}KY.prototype=qb.prototype;function vN(e,t,r){this.props=e,this.context=t,this.refs=qY,this.updater=r||WY}var yN=vN.prototype=new KY;yN.constructor=vN;GY(yN,qb.prototype);yN.isPureReactComponent=!0;var nH=Array.isArray,XY=Object.prototype.hasOwnProperty,bN={current:null},YY={key:!0,ref:!0,__self:!0,__source:!0};function $Y(e,t,r){var i,n={},a=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)XY.call(t,i)&&!YY.hasOwnProperty(i)&&(n[i]=t[i]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)n[i]===void 0&&(n[i]=s[i]);return{$$typeof:NC,type:e,key:a,ref:o,props:n,_owner:bN.current}}function fhe(e,t){return{$$typeof:NC,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wN(e){return typeof e=="object"&&e!==null&&e.$$typeof===NC}function phe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aH=/\/+/g;function fO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?phe(""+e.key):t.toString(36)}function zB(e,t,r,i,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case NC:case rhe:o=!0}}if(o)return o=e,n=n(o),e=i===""?"."+fO(o,0):i,nH(n)?(r="",e!=null&&(r=e.replace(aH,"$&/")+"/"),zB(n,t,r,"",function(c){return c})):n!=null&&(wN(n)&&(n=fhe(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(aH,"$&/")+"/")+e)),t.push(n)),1;if(o=0,i=i===""?".":i+":",nH(e))for(var s=0;s<e.length;s++){a=e[s];var l=i+fO(a,s);o+=zB(a,t,r,l,n)}else if(l=hhe(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=i+fO(a,s++),o+=zB(a,t,r,l,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function iS(e,t,r){if(e==null)return e;var i=[],n=0;return zB(e,i,"","",function(a){return t.call(r,a,n++)}),i}function Ahe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cl={current:null},HB={transition:null},ghe={ReactCurrentDispatcher:cl,ReactCurrentBatchConfig:HB,ReactCurrentOwner:bN};Ii.Children={map:iS,forEach:function(e,t,r){iS(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return iS(e,function(){t++}),t},toArray:function(e){return iS(e,function(t){return t})||[]},only:function(e){if(!wN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ii.Component=qb;Ii.Fragment=ihe;Ii.Profiler=ahe;Ii.PureComponent=vN;Ii.StrictMode=nhe;Ii.Suspense=che;Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ghe;Ii.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=GY({},e.props),n=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=bN.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)XY.call(t,l)&&!YY.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:NC,type:e.type,key:n,ref:a,props:i,_owner:o}};Ii.createContext=function(e){return e={$$typeof:she,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ohe,_context:e},e.Consumer=e};Ii.createElement=$Y;Ii.createFactory=function(e){var t=$Y.bind(null,e);return t.type=e,t};Ii.createRef=function(){return{current:null}};Ii.forwardRef=function(e){return{$$typeof:lhe,render:e}};Ii.isValidElement=wN;Ii.lazy=function(e){return{$$typeof:dhe,_payload:{_status:-1,_result:e},_init:Ahe}};Ii.memo=function(e,t){return{$$typeof:uhe,type:e,compare:t===void 0?null:t}};Ii.startTransition=function(e){var t=HB.transition;HB.transition={};try{e()}finally{HB.transition=t}};Ii.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ii.useCallback=function(e,t){return cl.current.useCallback(e,t)};Ii.useContext=function(e){return cl.current.useContext(e)};Ii.useDebugValue=function(){};Ii.useDeferredValue=function(e){return cl.current.useDeferredValue(e)};Ii.useEffect=function(e,t){return cl.current.useEffect(e,t)};Ii.useId=function(){return cl.current.useId()};Ii.useImperativeHandle=function(e,t,r){return cl.current.useImperativeHandle(e,t,r)};Ii.useInsertionEffect=function(e,t){return cl.current.useInsertionEffect(e,t)};Ii.useLayoutEffect=function(e,t){return cl.current.useLayoutEffect(e,t)};Ii.useMemo=function(e,t){return cl.current.useMemo(e,t)};Ii.useReducer=function(e,t,r){return cl.current.useReducer(e,t,r)};Ii.useRef=function(e){return cl.current.useRef(e)};Ii.useState=function(e){return cl.current.useState(e)};Ii.useSyncExternalStore=function(e,t,r){return cl.current.useSyncExternalStore(e,t,r)};Ii.useTransition=function(){return cl.current.useTransition()};Ii.version="18.2.0";QY.exports=Ii;var Oe=QY.exports;const al=HY(Oe),$I=the({__proto__:null,default:al},[Oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mhe=Oe,vhe=Symbol.for("react.element"),yhe=Symbol.for("react.fragment"),bhe=Object.prototype.hasOwnProperty,whe=mhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xhe={key:!0,ref:!0,__self:!0,__source:!0};function JY(e,t,r){var i,n={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)bhe.call(t,i)&&!xhe.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:vhe,type:e,key:a,ref:o,props:n,_owner:whe.current}}rT.Fragment=yhe;rT.jsx=JY;rT.jsxs=JY;VY.exports=rT;var N=VY.exports,JI={},ZY={exports:{}},yc={},e$={exports:{}},t$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,H){var G=R.length;R.push(H);e:for(;0<G;){var $=G-1>>>1,L=R[$];if(0<n(L,H))R[$]=H,R[G]=L,G=$;else break e}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var H=R[0],G=R.pop();if(G!==H){R[0]=G;e:for(var $=0,L=R.length,K=L>>>1;$<K;){var X=2*($+1)-1,ee=R[X],W=X+1,te=R[W];if(0>n(ee,G))W<L&&0>n(te,ee)?(R[$]=te,R[W]=G,$=W):(R[$]=ee,R[X]=G,$=X);else if(W<L&&0>n(te,G))R[$]=te,R[W]=G,$=W;else break e}}return H}function n(R,H){var G=R.sortIndex-H.sortIndex;return G!==0?G:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,A=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var H=r(c);H!==null;){if(H.callback===null)i(c);else if(H.startTime<=R)i(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=r(c)}}function b(R){if(A=!1,y(R),!m)if(r(l)!==null)m=!0,Y(x);else{var H=r(c);H!==null&&j(b,H.startTime-R)}}function x(R,H){m=!1,A&&(A=!1,p(_),_=-1),f=!0;var G=h;try{for(y(H),d=r(l);d!==null&&(!(d.expirationTime>H)||R&&!M());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var L=$(d.expirationTime<=H);H=e.unstable_now(),typeof L=="function"?d.callback=L:d===r(l)&&i(l),y(H)}else i(l);d=r(l)}if(d!==null)var K=!0;else{var X=r(c);X!==null&&j(b,X.startTime-H),K=!1}return K}finally{d=null,h=G,f=!1}}var w=!1,C=null,_=-1,B=5,P=-1;function M(){return!(e.unstable_now()-P<B)}function O(){if(C!==null){var R=e.unstable_now();P=R;var H=!0;try{H=C(!0,R)}finally{H?I():(w=!1,C=null)}}else w=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=O,I=function(){V.postMessage(null)}}else I=function(){g(O,0)};function Y(R){C=R,w||(w=!0,I())}function j(R,H){_=g(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,Y(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var G=h;h=H;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return H()}finally{h=G}},e.unstable_scheduleCallback=function(R,H,G){var $=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,R){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=G+L,R={id:u++,callback:H,priorityLevel:R,startTime:G,expirationTime:L,sortIndex:-1},G>$?(R.sortIndex=G,t(c,R),r(l)===null&&R===r(c)&&(A?(p(_),_=-1):A=!0,j(b,G-$))):(R.sortIndex=L,t(l,R),m||f||(m=!0,Y(x))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var H=h;return function(){var G=h;h=H;try{return R.apply(this,arguments)}finally{h=G}}}})(t$);e$.exports=t$;var Che=e$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r$=Oe,mc=Che;function Xt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i$=new Set,B2={};function h0(e,t){fb(e,t),fb(e+"Capture",t)}function fb(e,t){for(B2[e]=t,e=0;e<t.length;e++)i$.add(t[e])}var Df=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZI=Object.prototype.hasOwnProperty,_he=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oH={},sH={};function She(e){return ZI.call(sH,e)?!0:ZI.call(oH,e)?!1:_he.test(e)?sH[e]=!0:(oH[e]=!0,!1)}function Ehe(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bhe(e,t,r,i){if(t===null||typeof t>"u"||Ehe(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ul(e,t,r,i,n,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ns[e]=new ul(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ns[t]=new ul(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ns[e]=new ul(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ns[e]=new ul(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ns[e]=new ul(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ns[e]=new ul(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ns[e]=new ul(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ns[e]=new ul(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ns[e]=new ul(e,5,!1,e.toLowerCase(),null,!1,!1)});var xN=/[\-:]([a-z])/g;function CN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xN,CN);ns[t]=new ul(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xN,CN);ns[t]=new ul(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xN,CN);ns[t]=new ul(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ns[e]=new ul(e,1,!1,e.toLowerCase(),null,!1,!1)});ns.xlinkHref=new ul("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ns[e]=new ul(e,1,!1,e.toLowerCase(),null,!0,!0)});function _N(e,t,r,i){var n=ns.hasOwnProperty(t)?ns[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bhe(t,r,n,i)&&(r=null),i||n===null?She(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Gf=r$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nS=Symbol.for("react.element"),hy=Symbol.for("react.portal"),fy=Symbol.for("react.fragment"),SN=Symbol.for("react.strict_mode"),eF=Symbol.for("react.profiler"),n$=Symbol.for("react.provider"),a$=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),tF=Symbol.for("react.suspense"),rF=Symbol.for("react.suspense_list"),BN=Symbol.for("react.memo"),Jp=Symbol.for("react.lazy"),o$=Symbol.for("react.offscreen"),lH=Symbol.iterator;function fw(e){return e===null||typeof e!="object"?null:(e=lH&&e[lH]||e["@@iterator"],typeof e=="function"?e:null)}var na=Object.assign,pO;function px(e){if(pO===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pO=t&&t[1]||""}return`
`+pO+e}var AO=!1;function gO(e,t){if(!e||AO)return"";AO=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),a=i.stack.split(`
`),o=n.length-1,s=a.length-1;1<=o&&0<=s&&n[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(n[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||n[o]!==a[s]){var l=`
`+n[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{AO=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?px(e):""}function Mhe(e){switch(e.tag){case 5:return px(e.type);case 16:return px("Lazy");case 13:return px("Suspense");case 19:return px("SuspenseList");case 0:case 2:case 15:return e=gO(e.type,!1),e;case 11:return e=gO(e.type.render,!1),e;case 1:return e=gO(e.type,!0),e;default:return""}}function iF(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fy:return"Fragment";case hy:return"Portal";case eF:return"Profiler";case SN:return"StrictMode";case tF:return"Suspense";case rF:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a$:return(e.displayName||"Context")+".Consumer";case n$:return(e._context.displayName||"Context")+".Provider";case EN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BN:return t=e.displayName||null,t!==null?t:iF(e.type)||"Memo";case Jp:t=e._payload,e=e._init;try{return iF(e(t))}catch{}}return null}function Phe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iF(t);case 8:return t===SN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function KA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function The(e){var t=s$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aS(e){e._valueTracker||(e._valueTracker=The(e))}function l$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=s$(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function X5(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nF(e,t){var r=t.checked;return na({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cH(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=KA(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c$(e,t){t=t.checked,t!=null&&_N(e,"checked",t,!1)}function aF(e,t){c$(e,t);var r=KA(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oF(e,t.type,r):t.hasOwnProperty("defaultValue")&&oF(e,t.type,KA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uH(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oF(e,t,r){(t!=="number"||X5(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ax=Array.isArray;function Ry(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+KA(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function sF(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Xt(91));return na({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dH(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Xt(92));if(Ax(r)){if(1<r.length)throw Error(Xt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:KA(r)}}function u$(e,t){var r=KA(t.value),i=KA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function hH(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lF(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oS,h$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oS=oS||document.createElement("div"),oS.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oS.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function M2(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ohe=["Webkit","ms","Moz","O"];Object.keys(Vx).forEach(function(e){Ohe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vx[t]=Vx[e]})});function f$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vx.hasOwnProperty(e)&&Vx[e]?(""+t).trim():t+"px"}function p$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=f$(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var Dhe=na({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cF(e,t){if(t){if(Dhe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Xt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Xt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Xt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Xt(62))}}function uF(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dF=null;function MN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hF=null,Uy=null,Ny=null;function fH(e){if(e=zC(e)){if(typeof hF!="function")throw Error(Xt(280));var t=e.stateNode;t&&(t=sT(t),hF(e.stateNode,e.type,t))}}function A$(e){Uy?Ny?Ny.push(e):Ny=[e]:Uy=e}function g$(){if(Uy){var e=Uy,t=Ny;if(Ny=Uy=null,fH(e),t)for(e=0;e<t.length;e++)fH(t[e])}}function m$(e,t){return e(t)}function v$(){}var mO=!1;function y$(e,t,r){if(mO)return e(t,r);mO=!0;try{return m$(e,t,r)}finally{mO=!1,(Uy!==null||Ny!==null)&&(v$(),g$())}}function P2(e,t){var r=e.stateNode;if(r===null)return null;var i=sT(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Xt(231,t,typeof r));return r}var fF=!1;if(Df)try{var pw={};Object.defineProperty(pw,"passive",{get:function(){fF=!0}}),window.addEventListener("test",pw,pw),window.removeEventListener("test",pw,pw)}catch{fF=!1}function Ihe(e,t,r,i,n,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Qx=!1,Y5=null,$5=!1,pF=null,Fhe={onError:function(e){Qx=!0,Y5=e}};function Lhe(e,t,r,i,n,a,o,s,l){Qx=!1,Y5=null,Ihe.apply(Fhe,arguments)}function Rhe(e,t,r,i,n,a,o,s,l){if(Lhe.apply(this,arguments),Qx){if(Qx){var c=Y5;Qx=!1,Y5=null}else throw Error(Xt(198));$5||($5=!0,pF=c)}}function f0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function b$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pH(e){if(f0(e)!==e)throw Error(Xt(188))}function Uhe(e){var t=e.alternate;if(!t){if(t=f0(e),t===null)throw Error(Xt(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return pH(n),e;if(a===i)return pH(n),t;a=a.sibling}throw Error(Xt(188))}if(r.return!==i.return)r=n,i=a;else{for(var o=!1,s=n.child;s;){if(s===r){o=!0,r=n,i=a;break}if(s===i){o=!0,i=n,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,i=n;break}if(s===i){o=!0,i=a,r=n;break}s=s.sibling}if(!o)throw Error(Xt(189))}}if(r.alternate!==i)throw Error(Xt(190))}if(r.tag!==3)throw Error(Xt(188));return r.stateNode.current===r?e:t}function w$(e){return e=Uhe(e),e!==null?x$(e):null}function x$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=x$(e);if(t!==null)return t;e=e.sibling}return null}var C$=mc.unstable_scheduleCallback,AH=mc.unstable_cancelCallback,Nhe=mc.unstable_shouldYield,khe=mc.unstable_requestPaint,Ba=mc.unstable_now,jhe=mc.unstable_getCurrentPriorityLevel,PN=mc.unstable_ImmediatePriority,_$=mc.unstable_UserBlockingPriority,J5=mc.unstable_NormalPriority,zhe=mc.unstable_LowPriority,S$=mc.unstable_IdlePriority,iT=null,nh=null;function Hhe(e){if(nh&&typeof nh.onCommitFiberRoot=="function")try{nh.onCommitFiberRoot(iT,e,void 0,(e.current.flags&128)===128)}catch{}}var Ku=Math.clz32?Math.clz32:Whe,Vhe=Math.log,Qhe=Math.LN2;function Whe(e){return e>>>=0,e===0?32:31-(Vhe(e)/Qhe|0)|0}var sS=64,lS=4194304;function gx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Z5(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~n;s!==0?i=gx(s):(a&=o,a!==0&&(i=gx(a)))}else o=r&~n,o!==0?i=gx(o):a!==0&&(i=gx(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ku(t),n=1<<r,i|=e[r],t&=~n;return i}function Ghe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qhe(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ku(a),s=1<<o,l=n[o];l===-1?(!(s&r)||s&i)&&(n[o]=Ghe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function AF(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E$(){var e=sS;return sS<<=1,!(sS&4194240)&&(sS=64),e}function vO(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kC(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ku(t),e[t]=r}function Khe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Ku(r),a=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~a}}function TN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ku(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var gn=0;function B$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M$,ON,P$,T$,O$,gF=!1,cS=[],TA=null,OA=null,DA=null,T2=new Map,O2=new Map,iA=[],Xhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gH(e,t){switch(e){case"focusin":case"focusout":TA=null;break;case"dragenter":case"dragleave":OA=null;break;case"mouseover":case"mouseout":DA=null;break;case"pointerover":case"pointerout":T2.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":O2.delete(t.pointerId)}}function Aw(e,t,r,i,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[n]},t!==null&&(t=zC(t),t!==null&&ON(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Yhe(e,t,r,i,n){switch(t){case"focusin":return TA=Aw(TA,e,t,r,i,n),!0;case"dragenter":return OA=Aw(OA,e,t,r,i,n),!0;case"mouseover":return DA=Aw(DA,e,t,r,i,n),!0;case"pointerover":var a=n.pointerId;return T2.set(a,Aw(T2.get(a)||null,e,t,r,i,n)),!0;case"gotpointercapture":return a=n.pointerId,O2.set(a,Aw(O2.get(a)||null,e,t,r,i,n)),!0}return!1}function D$(e){var t=wm(e.target);if(t!==null){var r=f0(t);if(r!==null){if(t=r.tag,t===13){if(t=b$(r),t!==null){e.blockedOn=t,O$(e.priority,function(){P$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function VB(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mF(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);dF=i,r.target.dispatchEvent(i),dF=null}else return t=zC(r),t!==null&&ON(t),e.blockedOn=r,!1;t.shift()}return!0}function mH(e,t,r){VB(e)&&r.delete(t)}function $he(){gF=!1,TA!==null&&VB(TA)&&(TA=null),OA!==null&&VB(OA)&&(OA=null),DA!==null&&VB(DA)&&(DA=null),T2.forEach(mH),O2.forEach(mH)}function gw(e,t){e.blockedOn===t&&(e.blockedOn=null,gF||(gF=!0,mc.unstable_scheduleCallback(mc.unstable_NormalPriority,$he)))}function D2(e){function t(n){return gw(n,e)}if(0<cS.length){gw(cS[0],e);for(var r=1;r<cS.length;r++){var i=cS[r];i.blockedOn===e&&(i.blockedOn=null)}}for(TA!==null&&gw(TA,e),OA!==null&&gw(OA,e),DA!==null&&gw(DA,e),T2.forEach(t),O2.forEach(t),r=0;r<iA.length;r++)i=iA[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<iA.length&&(r=iA[0],r.blockedOn===null);)D$(r),r.blockedOn===null&&iA.shift()}var ky=Gf.ReactCurrentBatchConfig,eM=!0;function Jhe(e,t,r,i){var n=gn,a=ky.transition;ky.transition=null;try{gn=1,DN(e,t,r,i)}finally{gn=n,ky.transition=a}}function Zhe(e,t,r,i){var n=gn,a=ky.transition;ky.transition=null;try{gn=4,DN(e,t,r,i)}finally{gn=n,ky.transition=a}}function DN(e,t,r,i){if(eM){var n=mF(e,t,r,i);if(n===null)MO(e,t,i,tM,r),gH(e,i);else if(Yhe(n,e,t,r,i))i.stopPropagation();else if(gH(e,i),t&4&&-1<Xhe.indexOf(e)){for(;n!==null;){var a=zC(n);if(a!==null&&M$(a),a=mF(e,t,r,i),a===null&&MO(e,t,i,tM,r),a===n)break;n=a}n!==null&&i.stopPropagation()}else MO(e,t,i,null,r)}}var tM=null;function mF(e,t,r,i){if(tM=null,e=MN(i),e=wm(e),e!==null)if(t=f0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=b$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tM=e,null}function I$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jhe()){case PN:return 1;case _$:return 4;case J5:case zhe:return 16;case S$:return 536870912;default:return 16}default:return 16}}var cA=null,IN=null,QB=null;function F$(){if(QB)return QB;var e,t=IN,r=t.length,i,n="value"in cA?cA.value:cA.textContent,a=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(i=1;i<=o&&t[r-i]===n[a-i];i++);return QB=n.slice(e,1<i?1-i:void 0)}function WB(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uS(){return!0}function vH(){return!1}function bc(e){function t(r,i,n,a,o){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uS:vH,this.isPropagationStopped=vH,this}return na(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uS)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uS)},persist:function(){},isPersistent:uS}),t}var Kb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FN=bc(Kb),jC=na({},Kb,{view:0,detail:0}),efe=bc(jC),yO,bO,mw,nT=na({},jC,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mw&&(mw&&e.type==="mousemove"?(yO=e.screenX-mw.screenX,bO=e.screenY-mw.screenY):bO=yO=0,mw=e),yO)},movementY:function(e){return"movementY"in e?e.movementY:bO}}),yH=bc(nT),tfe=na({},nT,{dataTransfer:0}),rfe=bc(tfe),ife=na({},jC,{relatedTarget:0}),wO=bc(ife),nfe=na({},Kb,{animationName:0,elapsedTime:0,pseudoElement:0}),afe=bc(nfe),ofe=na({},Kb,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sfe=bc(ofe),lfe=na({},Kb,{data:0}),bH=bc(lfe),cfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ufe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dfe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hfe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dfe[e])?!!t[e]:!1}function LN(){return hfe}var ffe=na({},jC,{key:function(e){if(e.key){var t=cfe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=WB(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ufe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LN,charCode:function(e){return e.type==="keypress"?WB(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?WB(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pfe=bc(ffe),Afe=na({},nT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wH=bc(Afe),gfe=na({},jC,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LN}),mfe=bc(gfe),vfe=na({},Kb,{propertyName:0,elapsedTime:0,pseudoElement:0}),yfe=bc(vfe),bfe=na({},nT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wfe=bc(bfe),xfe=[9,13,27,32],RN=Df&&"CompositionEvent"in window,Wx=null;Df&&"documentMode"in document&&(Wx=document.documentMode);var Cfe=Df&&"TextEvent"in window&&!Wx,L$=Df&&(!RN||Wx&&8<Wx&&11>=Wx),xH=String.fromCharCode(32),CH=!1;function R$(e,t){switch(e){case"keyup":return xfe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var py=!1;function _fe(e,t){switch(e){case"compositionend":return U$(t);case"keypress":return t.which!==32?null:(CH=!0,xH);case"textInput":return e=t.data,e===xH&&CH?null:e;default:return null}}function Sfe(e,t){if(py)return e==="compositionend"||!RN&&R$(e,t)?(e=F$(),QB=IN=cA=null,py=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return L$&&t.locale!=="ko"?null:t.data;default:return null}}var Efe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _H(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Efe[e.type]:t==="textarea"}function N$(e,t,r,i){A$(i),t=rM(t,"onChange"),0<t.length&&(r=new FN("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Gx=null,I2=null;function Bfe(e){X$(e,0)}function aT(e){var t=my(e);if(l$(t))return e}function Mfe(e,t){if(e==="change")return t}var k$=!1;if(Df){var xO;if(Df){var CO="oninput"in document;if(!CO){var SH=document.createElement("div");SH.setAttribute("oninput","return;"),CO=typeof SH.oninput=="function"}xO=CO}else xO=!1;k$=xO&&(!document.documentMode||9<document.documentMode)}function EH(){Gx&&(Gx.detachEvent("onpropertychange",j$),I2=Gx=null)}function j$(e){if(e.propertyName==="value"&&aT(I2)){var t=[];N$(t,I2,e,MN(e)),y$(Bfe,t)}}function Pfe(e,t,r){e==="focusin"?(EH(),Gx=t,I2=r,Gx.attachEvent("onpropertychange",j$)):e==="focusout"&&EH()}function Tfe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return aT(I2)}function Ofe(e,t){if(e==="click")return aT(t)}function Dfe(e,t){if(e==="input"||e==="change")return aT(t)}function Ife(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ju=typeof Object.is=="function"?Object.is:Ife;function F2(e,t){if(Ju(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!ZI.call(t,n)||!Ju(e[n],t[n]))return!1}return!0}function BH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MH(e,t){var r=BH(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BH(r)}}function z$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H$(){for(var e=window,t=X5();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=X5(e.document)}return t}function UN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ffe(e){var t=H$(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z$(r.ownerDocument.documentElement,r)){if(i!==null&&UN(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(i.start,n);i=i.end===void 0?a:Math.min(i.end,n),!e.extend&&a>i&&(n=i,i=a,a=n),n=MH(r,a);var o=MH(r,i);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lfe=Df&&"documentMode"in document&&11>=document.documentMode,Ay=null,vF=null,qx=null,yF=!1;function PH(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yF||Ay==null||Ay!==X5(i)||(i=Ay,"selectionStart"in i&&UN(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qx&&F2(qx,i)||(qx=i,i=rM(vF,"onSelect"),0<i.length&&(t=new FN("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Ay)))}function dS(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gy={animationend:dS("Animation","AnimationEnd"),animationiteration:dS("Animation","AnimationIteration"),animationstart:dS("Animation","AnimationStart"),transitionend:dS("Transition","TransitionEnd")},_O={},V$={};Df&&(V$=document.createElement("div").style,"AnimationEvent"in window||(delete gy.animationend.animation,delete gy.animationiteration.animation,delete gy.animationstart.animation),"TransitionEvent"in window||delete gy.transitionend.transition);function oT(e){if(_O[e])return _O[e];if(!gy[e])return e;var t=gy[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V$)return _O[e]=t[r];return e}var Q$=oT("animationend"),W$=oT("animationiteration"),G$=oT("animationstart"),q$=oT("transitionend"),K$=new Map,TH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function og(e,t){K$.set(e,t),h0(t,[e])}for(var SO=0;SO<TH.length;SO++){var EO=TH[SO],Rfe=EO.toLowerCase(),Ufe=EO[0].toUpperCase()+EO.slice(1);og(Rfe,"on"+Ufe)}og(Q$,"onAnimationEnd");og(W$,"onAnimationIteration");og(G$,"onAnimationStart");og("dblclick","onDoubleClick");og("focusin","onFocus");og("focusout","onBlur");og(q$,"onTransitionEnd");fb("onMouseEnter",["mouseout","mouseover"]);fb("onMouseLeave",["mouseout","mouseover"]);fb("onPointerEnter",["pointerout","pointerover"]);fb("onPointerLeave",["pointerout","pointerover"]);h0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));h0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h0("onBeforeInput",["compositionend","keypress","textInput","paste"]);h0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nfe=new Set("cancel close invalid load scroll toggle".split(" ").concat(mx));function OH(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Rhe(i,t,void 0,e),e.currentTarget=null}function X$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&n.isPropagationStopped())break e;OH(n,s,c),a=l}else for(o=0;o<i.length;o++){if(s=i[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&n.isPropagationStopped())break e;OH(n,s,c),a=l}}}if($5)throw e=pF,$5=!1,pF=null,e}function Un(e,t){var r=t[_F];r===void 0&&(r=t[_F]=new Set);var i=e+"__bubble";r.has(i)||(Y$(t,e,2,!1),r.add(i))}function BO(e,t,r){var i=0;t&&(i|=4),Y$(r,e,i,t)}var hS="_reactListening"+Math.random().toString(36).slice(2);function L2(e){if(!e[hS]){e[hS]=!0,i$.forEach(function(r){r!=="selectionchange"&&(Nfe.has(r)||BO(r,!1,e),BO(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hS]||(t[hS]=!0,BO("selectionchange",!1,t))}}function Y$(e,t,r,i){switch(I$(t)){case 1:var n=Jhe;break;case 4:n=Zhe;break;default:n=DN}r=n.bind(null,t,r,e),n=void 0,!fF||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function MO(e,t,r,i,n){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var s=i.stateNode.containerInfo;if(s===n||s.nodeType===8&&s.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;s!==null;){if(o=wm(s),o===null)return;if(l=o.tag,l===5||l===6){i=a=o;continue e}s=s.parentNode}}i=i.return}y$(function(){var c=a,u=MN(r),d=[];e:{var h=K$.get(e);if(h!==void 0){var f=FN,m=e;switch(e){case"keypress":if(WB(r)===0)break e;case"keydown":case"keyup":f=pfe;break;case"focusin":m="focus",f=wO;break;case"focusout":m="blur",f=wO;break;case"beforeblur":case"afterblur":f=wO;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=yH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=rfe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=mfe;break;case Q$:case W$:case G$:f=afe;break;case q$:f=yfe;break;case"scroll":f=efe;break;case"wheel":f=wfe;break;case"copy":case"cut":case"paste":f=sfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wH}var A=(t&4)!==0,g=!A&&e==="scroll",p=A?h!==null?h+"Capture":null:h;A=[];for(var v=c,y;v!==null;){y=v;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=P2(v,p),b!=null&&A.push(R2(v,b,y)))),g)break;v=v.return}0<A.length&&(h=new f(h,m,null,r,u),d.push({event:h,listeners:A}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==dF&&(m=r.relatedTarget||r.fromElement)&&(wm(m)||m[If]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=c,m=m?wm(m):null,m!==null&&(g=f0(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(A=yH,b="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(A=wH,b="onPointerLeave",p="onPointerEnter",v="pointer"),g=f==null?h:my(f),y=m==null?h:my(m),h=new A(b,v+"leave",f,r,u),h.target=g,h.relatedTarget=y,b=null,wm(u)===c&&(A=new A(p,v+"enter",m,r,u),A.target=y,A.relatedTarget=g,b=A),g=b,f&&m)t:{for(A=f,p=m,v=0,y=A;y;y=av(y))v++;for(y=0,b=p;b;b=av(b))y++;for(;0<v-y;)A=av(A),v--;for(;0<y-v;)p=av(p),y--;for(;v--;){if(A===p||p!==null&&A===p.alternate)break t;A=av(A),p=av(p)}A=null}else A=null;f!==null&&DH(d,h,f,A,!1),m!==null&&g!==null&&DH(d,g,m,A,!0)}}e:{if(h=c?my(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=Mfe;else if(_H(h))if(k$)x=Dfe;else{x=Tfe;var w=Pfe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Ofe);if(x&&(x=x(e,c))){N$(d,x,r,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&oF(h,"number",h.value)}switch(w=c?my(c):window,e){case"focusin":(_H(w)||w.contentEditable==="true")&&(Ay=w,vF=c,qx=null);break;case"focusout":qx=vF=Ay=null;break;case"mousedown":yF=!0;break;case"contextmenu":case"mouseup":case"dragend":yF=!1,PH(d,r,u);break;case"selectionchange":if(Lfe)break;case"keydown":case"keyup":PH(d,r,u)}var C;if(RN)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else py?R$(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(L$&&r.locale!=="ko"&&(py||_!=="onCompositionStart"?_==="onCompositionEnd"&&py&&(C=F$()):(cA=u,IN="value"in cA?cA.value:cA.textContent,py=!0)),w=rM(c,_),0<w.length&&(_=new bH(_,e,null,r,u),d.push({event:_,listeners:w}),C?_.data=C:(C=U$(r),C!==null&&(_.data=C)))),(C=Cfe?_fe(e,r):Sfe(e,r))&&(c=rM(c,"onBeforeInput"),0<c.length&&(u=new bH("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=C))}X$(d,t)})}function R2(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rM(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=P2(e,r),a!=null&&i.unshift(R2(e,a,n)),a=P2(e,t),a!=null&&i.push(R2(e,a,n))),e=e.return}return i}function av(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DH(e,t,r,i,n){for(var a=t._reactName,o=[];r!==null&&r!==i;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===i)break;s.tag===5&&c!==null&&(s=c,n?(l=P2(r,a),l!=null&&o.unshift(R2(r,l,s))):n||(l=P2(r,a),l!=null&&o.push(R2(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kfe=/\r\n?/g,jfe=/\u0000|\uFFFD/g;function IH(e){return(typeof e=="string"?e:""+e).replace(kfe,`
`).replace(jfe,"")}function fS(e,t,r){if(t=IH(t),IH(e)!==t&&r)throw Error(Xt(425))}function iM(){}var bF=null,wF=null;function xF(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var CF=typeof setTimeout=="function"?setTimeout:void 0,zfe=typeof clearTimeout=="function"?clearTimeout:void 0,FH=typeof Promise=="function"?Promise:void 0,Hfe=typeof queueMicrotask=="function"?queueMicrotask:typeof FH<"u"?function(e){return FH.resolve(null).then(e).catch(Vfe)}:CF;function Vfe(e){setTimeout(function(){throw e})}function PO(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),D2(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);D2(t)}function IA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xb=Math.random().toString(36).slice(2),Xd="__reactFiber$"+Xb,U2="__reactProps$"+Xb,If="__reactContainer$"+Xb,_F="__reactEvents$"+Xb,Qfe="__reactListeners$"+Xb,Wfe="__reactHandles$"+Xb;function wm(e){var t=e[Xd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[If]||r[Xd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LH(e);e!==null;){if(r=e[Xd])return r;e=LH(e)}return t}e=r,r=e.parentNode}return null}function zC(e){return e=e[Xd]||e[If],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function my(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Xt(33))}function sT(e){return e[U2]||null}var SF=[],vy=-1;function sg(e){return{current:e}}function Hn(e){0>vy||(e.current=SF[vy],SF[vy]=null,vy--)}function Fn(e,t){vy++,SF[vy]=e.current,e.current=t}var XA={},Ds=sg(XA),Rl=sg(!1),$m=XA;function pb(e,t){var r=e.type.contextTypes;if(!r)return XA;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ul(e){return e=e.childContextTypes,e!=null}function nM(){Hn(Rl),Hn(Ds)}function RH(e,t,r){if(Ds.current!==XA)throw Error(Xt(168));Fn(Ds,t),Fn(Rl,r)}function $$(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(Xt(108,Phe(e)||"Unknown",n));return na({},r,i)}function aM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||XA,$m=Ds.current,Fn(Ds,e),Fn(Rl,Rl.current),!0}function UH(e,t,r){var i=e.stateNode;if(!i)throw Error(Xt(169));r?(e=$$(e,t,$m),i.__reactInternalMemoizedMergedChildContext=e,Hn(Rl),Hn(Ds),Fn(Ds,e)):Hn(Rl),Fn(Rl,r)}var of=null,lT=!1,TO=!1;function J$(e){of===null?of=[e]:of.push(e)}function Gfe(e){lT=!0,J$(e)}function lg(){if(!TO&&of!==null){TO=!0;var e=0,t=gn;try{var r=of;for(gn=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}of=null,lT=!1}catch(n){throw of!==null&&(of=of.slice(e+1)),C$(PN,lg),n}finally{gn=t,TO=!1}}return null}var yy=[],by=0,oM=null,sM=0,Wc=[],Gc=0,Jm=null,pf=1,Af="";function im(e,t){yy[by++]=sM,yy[by++]=oM,oM=e,sM=t}function Z$(e,t,r){Wc[Gc++]=pf,Wc[Gc++]=Af,Wc[Gc++]=Jm,Jm=e;var i=pf;e=Af;var n=32-Ku(i)-1;i&=~(1<<n),r+=1;var a=32-Ku(t)+n;if(30<a){var o=n-n%5;a=(i&(1<<o)-1).toString(32),i>>=o,n-=o,pf=1<<32-Ku(t)+n|r<<n|i,Af=a+e}else pf=1<<a|r<<n|i,Af=e}function NN(e){e.return!==null&&(im(e,1),Z$(e,1,0))}function kN(e){for(;e===oM;)oM=yy[--by],yy[by]=null,sM=yy[--by],yy[by]=null;for(;e===Jm;)Jm=Wc[--Gc],Wc[Gc]=null,Af=Wc[--Gc],Wc[Gc]=null,pf=Wc[--Gc],Wc[Gc]=null}var Ac=null,hc=null,Yn=!1,ku=null;function eJ(e,t){var r=Yc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function NH(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ac=e,hc=IA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ac=e,hc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jm!==null?{id:pf,overflow:Af}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ac=e,hc=null,!0):!1;default:return!1}}function EF(e){return(e.mode&1)!==0&&(e.flags&128)===0}function BF(e){if(Yn){var t=hc;if(t){var r=t;if(!NH(e,t)){if(EF(e))throw Error(Xt(418));t=IA(r.nextSibling);var i=Ac;t&&NH(e,t)?eJ(i,r):(e.flags=e.flags&-4097|2,Yn=!1,Ac=e)}}else{if(EF(e))throw Error(Xt(418));e.flags=e.flags&-4097|2,Yn=!1,Ac=e}}}function kH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ac=e}function pS(e){if(e!==Ac)return!1;if(!Yn)return kH(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xF(e.type,e.memoizedProps)),t&&(t=hc)){if(EF(e))throw tJ(),Error(Xt(418));for(;t;)eJ(e,t),t=IA(t.nextSibling)}if(kH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Xt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hc=IA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hc=null}}else hc=Ac?IA(e.stateNode.nextSibling):null;return!0}function tJ(){for(var e=hc;e;)e=IA(e.nextSibling)}function Ab(){hc=Ac=null,Yn=!1}function jN(e){ku===null?ku=[e]:ku.push(e)}var qfe=Gf.ReactCurrentBatchConfig;function Ru(e,t){if(e&&e.defaultProps){t=na({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var lM=sg(null),cM=null,wy=null,zN=null;function HN(){zN=wy=cM=null}function VN(e){var t=lM.current;Hn(lM),e._currentValue=t}function MF(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function jy(e,t){cM=e,zN=wy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Il=!0),e.firstContext=null)}function ou(e){var t=e._currentValue;if(zN!==e)if(e={context:e,memoizedValue:t,next:null},wy===null){if(cM===null)throw Error(Xt(308));wy=e,cM.dependencies={lanes:0,firstContext:e}}else wy=wy.next=e;return t}var xm=null;function QN(e){xm===null?xm=[e]:xm.push(e)}function rJ(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,QN(t)):(r.next=n.next,n.next=r),t.interleaved=r,Ff(e,i)}function Ff(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zp=!1;function WN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sf(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function FA(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Vi&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,Ff(e,r)}return n=i.interleaved,n===null?(t.next=t,QN(i)):(t.next=n.next,n.next=t),i.interleaved=t,Ff(e,r)}function GB(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,TN(e,r)}}function jH(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?n=a=t:a=a.next=t}else n=a=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uM(e,t,r,i){var n=e.updateQueue;Zp=!1;var a=n.firstBaseUpdate,o=n.lastBaseUpdate,s=n.shared.pending;if(s!==null){n.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=n.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,f=s.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,A=s;switch(h=t,f=r,A.tag){case 1:if(m=A.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=A.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=na({},d,h);break e;case 2:Zp=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(s=s.next,s===null){if(s=n.shared.pending,s===null)break;h=s,s=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(1);if(u===null&&(l=d),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);e0|=o,e.lanes=o,e.memoizedState=d}}function zH(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(Xt(191,n));n.call(i)}}}var nJ=new r$.Component().refs;function PF(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:na({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cT={isMounted:function(e){return(e=e._reactInternals)?f0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=ol(),n=RA(e),a=Sf(i,n);a.payload=t,r!=null&&(a.callback=r),t=FA(e,a,n),t!==null&&(Xu(t,e,n,i),GB(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=ol(),n=RA(e),a=Sf(i,n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=FA(e,a,n),t!==null&&(Xu(t,e,n,i),GB(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ol(),i=RA(e),n=Sf(r,i);n.tag=2,t!=null&&(n.callback=t),t=FA(e,n,i),t!==null&&(Xu(t,e,i,r),GB(t,e,i))}};function HH(e,t,r,i,n,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!F2(r,i)||!F2(n,a):!0}function aJ(e,t,r){var i=!1,n=XA,a=t.contextType;return typeof a=="object"&&a!==null?a=ou(a):(n=Ul(t)?$m:Ds.current,i=t.contextTypes,a=(i=i!=null)?pb(e,n):XA),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cT,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function VH(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&cT.enqueueReplaceState(t,t.state,null)}function TF(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs=nJ,WN(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=ou(a):(a=Ul(t)?$m:Ds.current,n.context=pb(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(PF(e,t,a,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&cT.enqueueReplaceState(n,n.state,null),uM(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function vw(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Xt(309));var i=r.stateNode}if(!i)throw Error(Xt(147,e));var n=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=n.refs;s===nJ&&(s=n.refs={}),o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Xt(284));if(!r._owner)throw Error(Xt(290,e))}return e}function AS(e,t){throw e=Object.prototype.toString.call(t),Error(Xt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QH(e){var t=e._init;return t(e._payload)}function oJ(e){function t(p,v){if(e){var y=p.deletions;y===null?(p.deletions=[v],p.flags|=16):y.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function i(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function n(p,v){return p=UA(p,v),p.index=0,p.sibling=null,p}function a(p,v,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<v?(p.flags|=2,v):y):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,v,y,b){return v===null||v.tag!==6?(v=UO(y,p.mode,b),v.return=p,v):(v=n(v,y),v.return=p,v)}function l(p,v,y,b){var x=y.type;return x===fy?u(p,v,y.props.children,b,y.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jp&&QH(x)===v.type)?(b=n(v,y.props),b.ref=vw(p,v,y),b.return=p,b):(b=JB(y.type,y.key,y.props,null,p.mode,b),b.ref=vw(p,v,y),b.return=p,b)}function c(p,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=NO(y,p.mode,b),v.return=p,v):(v=n(v,y.children||[]),v.return=p,v)}function u(p,v,y,b,x){return v===null||v.tag!==7?(v=Um(y,p.mode,b,x),v.return=p,v):(v=n(v,y),v.return=p,v)}function d(p,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=UO(""+v,p.mode,y),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nS:return y=JB(v.type,v.key,v.props,null,p.mode,y),y.ref=vw(p,null,v),y.return=p,y;case hy:return v=NO(v,p.mode,y),v.return=p,v;case Jp:var b=v._init;return d(p,b(v._payload),y)}if(Ax(v)||fw(v))return v=Um(v,p.mode,y,null),v.return=p,v;AS(p,v)}return null}function h(p,v,y,b){var x=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:s(p,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nS:return y.key===x?l(p,v,y,b):null;case hy:return y.key===x?c(p,v,y,b):null;case Jp:return x=y._init,h(p,v,x(y._payload),b)}if(Ax(y)||fw(y))return x!==null?null:u(p,v,y,b,null);AS(p,y)}return null}function f(p,v,y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,s(v,p,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nS:return p=p.get(b.key===null?y:b.key)||null,l(v,p,b,x);case hy:return p=p.get(b.key===null?y:b.key)||null,c(v,p,b,x);case Jp:var w=b._init;return f(p,v,y,w(b._payload),x)}if(Ax(b)||fw(b))return p=p.get(y)||null,u(v,p,b,x,null);AS(v,b)}return null}function m(p,v,y,b){for(var x=null,w=null,C=v,_=v=0,B=null;C!==null&&_<y.length;_++){C.index>_?(B=C,C=null):B=C.sibling;var P=h(p,C,y[_],b);if(P===null){C===null&&(C=B);break}e&&C&&P.alternate===null&&t(p,C),v=a(P,v,_),w===null?x=P:w.sibling=P,w=P,C=B}if(_===y.length)return r(p,C),Yn&&im(p,_),x;if(C===null){for(;_<y.length;_++)C=d(p,y[_],b),C!==null&&(v=a(C,v,_),w===null?x=C:w.sibling=C,w=C);return Yn&&im(p,_),x}for(C=i(p,C);_<y.length;_++)B=f(C,p,_,y[_],b),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?_:B.key),v=a(B,v,_),w===null?x=B:w.sibling=B,w=B);return e&&C.forEach(function(M){return t(p,M)}),Yn&&im(p,_),x}function A(p,v,y,b){var x=fw(y);if(typeof x!="function")throw Error(Xt(150));if(y=x.call(y),y==null)throw Error(Xt(151));for(var w=x=null,C=v,_=v=0,B=null,P=y.next();C!==null&&!P.done;_++,P=y.next()){C.index>_?(B=C,C=null):B=C.sibling;var M=h(p,C,P.value,b);if(M===null){C===null&&(C=B);break}e&&C&&M.alternate===null&&t(p,C),v=a(M,v,_),w===null?x=M:w.sibling=M,w=M,C=B}if(P.done)return r(p,C),Yn&&im(p,_),x;if(C===null){for(;!P.done;_++,P=y.next())P=d(p,P.value,b),P!==null&&(v=a(P,v,_),w===null?x=P:w.sibling=P,w=P);return Yn&&im(p,_),x}for(C=i(p,C);!P.done;_++,P=y.next())P=f(C,p,_,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),v=a(P,v,_),w===null?x=P:w.sibling=P,w=P);return e&&C.forEach(function(O){return t(p,O)}),Yn&&im(p,_),x}function g(p,v,y,b){if(typeof y=="object"&&y!==null&&y.type===fy&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case nS:e:{for(var x=y.key,w=v;w!==null;){if(w.key===x){if(x=y.type,x===fy){if(w.tag===7){r(p,w.sibling),v=n(w,y.props.children),v.return=p,p=v;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jp&&QH(x)===w.type){r(p,w.sibling),v=n(w,y.props),v.ref=vw(p,w,y),v.return=p,p=v;break e}r(p,w);break}else t(p,w);w=w.sibling}y.type===fy?(v=Um(y.props.children,p.mode,b,y.key),v.return=p,p=v):(b=JB(y.type,y.key,y.props,null,p.mode,b),b.ref=vw(p,v,y),b.return=p,p=b)}return o(p);case hy:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(p,v.sibling),v=n(v,y.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=NO(y,p.mode,b),v.return=p,p=v}return o(p);case Jp:return w=y._init,g(p,v,w(y._payload),b)}if(Ax(y))return m(p,v,y,b);if(fw(y))return A(p,v,y,b);AS(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(p,v.sibling),v=n(v,y),v.return=p,p=v):(r(p,v),v=UO(y,p.mode,b),v.return=p,p=v),o(p)):r(p,v)}return g}var gb=oJ(!0),sJ=oJ(!1),HC={},ah=sg(HC),N2=sg(HC),k2=sg(HC);function Cm(e){if(e===HC)throw Error(Xt(174));return e}function GN(e,t){switch(Fn(k2,t),Fn(N2,e),Fn(ah,HC),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lF(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lF(t,e)}Hn(ah),Fn(ah,t)}function mb(){Hn(ah),Hn(N2),Hn(k2)}function lJ(e){Cm(k2.current);var t=Cm(ah.current),r=lF(t,e.type);t!==r&&(Fn(N2,e),Fn(ah,r))}function qN(e){N2.current===e&&(Hn(ah),Hn(N2))}var Zn=sg(0);function dM(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var OO=[];function KN(){for(var e=0;e<OO.length;e++)OO[e]._workInProgressVersionPrimary=null;OO.length=0}var qB=Gf.ReactCurrentDispatcher,DO=Gf.ReactCurrentBatchConfig,Zm=0,ra=null,ao=null,_o=null,hM=!1,Kx=!1,j2=0,Kfe=0;function hs(){throw Error(Xt(321))}function XN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ju(e[r],t[r]))return!1;return!0}function YN(e,t,r,i,n,a){if(Zm=a,ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qB.current=e===null||e.memoizedState===null?Jfe:Zfe,e=r(i,n),Kx){a=0;do{if(Kx=!1,j2=0,25<=a)throw Error(Xt(301));a+=1,_o=ao=null,t.updateQueue=null,qB.current=epe,e=r(i,n)}while(Kx)}if(qB.current=fM,t=ao!==null&&ao.next!==null,Zm=0,_o=ao=ra=null,hM=!1,t)throw Error(Xt(300));return e}function $N(){var e=j2!==0;return j2=0,e}function zd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _o===null?ra.memoizedState=_o=e:_o=_o.next=e,_o}function su(){if(ao===null){var e=ra.alternate;e=e!==null?e.memoizedState:null}else e=ao.next;var t=_o===null?ra.memoizedState:_o.next;if(t!==null)_o=t,ao=e;else{if(e===null)throw Error(Xt(310));ao=e,e={memoizedState:ao.memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},_o===null?ra.memoizedState=_o=e:_o=_o.next=e}return _o}function z2(e,t){return typeof t=="function"?t(e):t}function IO(e){var t=su(),r=t.queue;if(r===null)throw Error(Xt(311));r.lastRenderedReducer=e;var i=ao,n=i.baseQueue,a=r.pending;if(a!==null){if(n!==null){var o=n.next;n.next=a.next,a.next=o}i.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,i=i.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Zm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=i):l=l.next=d,ra.lanes|=u,e0|=u}c=c.next}while(c!==null&&c!==a);l===null?o=i:l.next=s,Ju(i,t.memoizedState)||(Il=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do a=n.lane,ra.lanes|=a,e0|=a,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function FO(e){var t=su(),r=t.queue;if(r===null)throw Error(Xt(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,a=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do a=e(a,o.action),o=o.next;while(o!==n);Ju(a,t.memoizedState)||(Il=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function cJ(){}function uJ(e,t){var r=ra,i=su(),n=t(),a=!Ju(i.memoizedState,n);if(a&&(i.memoizedState=n,Il=!0),i=i.queue,JN(fJ.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||_o!==null&&_o.memoizedState.tag&1){if(r.flags|=2048,H2(9,hJ.bind(null,r,i,n,t),void 0,null),Lo===null)throw Error(Xt(349));Zm&30||dJ(r,t,n)}return n}function dJ(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ra.updateQueue,t===null?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hJ(e,t,r,i){t.value=r,t.getSnapshot=i,pJ(t)&&AJ(e)}function fJ(e,t,r){return r(function(){pJ(t)&&AJ(e)})}function pJ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ju(e,r)}catch{return!0}}function AJ(e){var t=Ff(e,1);t!==null&&Xu(t,e,1,-1)}function WH(e){var t=zd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:z2,lastRenderedState:e},t.queue=e,e=e.dispatch=$fe.bind(null,ra,e),[t.memoizedState,e]}function H2(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=ra.updateQueue,t===null?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function gJ(){return su().memoizedState}function KB(e,t,r,i){var n=zd();ra.flags|=e,n.memoizedState=H2(1|t,r,void 0,i===void 0?null:i)}function uT(e,t,r,i){var n=su();i=i===void 0?null:i;var a=void 0;if(ao!==null){var o=ao.memoizedState;if(a=o.destroy,i!==null&&XN(i,o.deps)){n.memoizedState=H2(t,r,a,i);return}}ra.flags|=e,n.memoizedState=H2(1|t,r,a,i)}function GH(e,t){return KB(8390656,8,e,t)}function JN(e,t){return uT(2048,8,e,t)}function mJ(e,t){return uT(4,2,e,t)}function vJ(e,t){return uT(4,4,e,t)}function yJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bJ(e,t,r){return r=r!=null?r.concat([e]):null,uT(4,4,yJ.bind(null,t,e),r)}function ZN(){}function wJ(e,t){var r=su();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&XN(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function xJ(e,t){var r=su();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&XN(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function CJ(e,t,r){return Zm&21?(Ju(r,t)||(r=E$(),ra.lanes|=r,e0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Il=!0),e.memoizedState=r)}function Xfe(e,t){var r=gn;gn=r!==0&&4>r?r:4,e(!0);var i=DO.transition;DO.transition={};try{e(!1),t()}finally{gn=r,DO.transition=i}}function _J(){return su().memoizedState}function Yfe(e,t,r){var i=RA(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},SJ(e))EJ(t,r);else if(r=rJ(e,t,r,i),r!==null){var n=ol();Xu(r,e,i,n),BJ(r,t,i)}}function $fe(e,t,r){var i=RA(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(SJ(e))EJ(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(n.hasEagerState=!0,n.eagerState=s,Ju(s,o)){var l=t.interleaved;l===null?(n.next=n,QN(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=rJ(e,t,n,i),r!==null&&(n=ol(),Xu(r,e,i,n),BJ(r,t,i))}}function SJ(e){var t=e.alternate;return e===ra||t!==null&&t===ra}function EJ(e,t){Kx=hM=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function BJ(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,TN(e,r)}}var fM={readContext:ou,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Jfe={readContext:ou,useCallback:function(e,t){return zd().memoizedState=[e,t===void 0?null:t],e},useContext:ou,useEffect:GH,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,KB(4194308,4,yJ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return KB(4194308,4,e,t)},useInsertionEffect:function(e,t){return KB(4,2,e,t)},useMemo:function(e,t){var r=zd();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=zd();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Yfe.bind(null,ra,e),[i.memoizedState,e]},useRef:function(e){var t=zd();return e={current:e},t.memoizedState=e},useState:WH,useDebugValue:ZN,useDeferredValue:function(e){return zd().memoizedState=e},useTransition:function(){var e=WH(!1),t=e[0];return e=Xfe.bind(null,e[1]),zd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ra,n=zd();if(Yn){if(r===void 0)throw Error(Xt(407));r=r()}else{if(r=t(),Lo===null)throw Error(Xt(349));Zm&30||dJ(i,t,r)}n.memoizedState=r;var a={value:r,getSnapshot:t};return n.queue=a,GH(fJ.bind(null,i,a,e),[e]),i.flags|=2048,H2(9,hJ.bind(null,i,a,r,t),void 0,null),r},useId:function(){var e=zd(),t=Lo.identifierPrefix;if(Yn){var r=Af,i=pf;r=(i&~(1<<32-Ku(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=j2++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kfe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zfe={readContext:ou,useCallback:wJ,useContext:ou,useEffect:JN,useImperativeHandle:bJ,useInsertionEffect:mJ,useLayoutEffect:vJ,useMemo:xJ,useReducer:IO,useRef:gJ,useState:function(){return IO(z2)},useDebugValue:ZN,useDeferredValue:function(e){var t=su();return CJ(t,ao.memoizedState,e)},useTransition:function(){var e=IO(z2)[0],t=su().memoizedState;return[e,t]},useMutableSource:cJ,useSyncExternalStore:uJ,useId:_J,unstable_isNewReconciler:!1},epe={readContext:ou,useCallback:wJ,useContext:ou,useEffect:JN,useImperativeHandle:bJ,useInsertionEffect:mJ,useLayoutEffect:vJ,useMemo:xJ,useReducer:FO,useRef:gJ,useState:function(){return FO(z2)},useDebugValue:ZN,useDeferredValue:function(e){var t=su();return ao===null?t.memoizedState=e:CJ(t,ao.memoizedState,e)},useTransition:function(){var e=FO(z2)[0],t=su().memoizedState;return[e,t]},useMutableSource:cJ,useSyncExternalStore:uJ,useId:_J,unstable_isNewReconciler:!1};function vb(e,t){try{var r="",i=t;do r+=Mhe(i),i=i.return;while(i);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function LO(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function OF(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tpe=typeof WeakMap=="function"?WeakMap:Map;function MJ(e,t,r){r=Sf(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){AM||(AM=!0,zF=i),OF(e,t)},r}function PJ(e,t,r){r=Sf(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){OF(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){OF(e,t),typeof i!="function"&&(LA===null?LA=new Set([this]):LA.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function qH(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new tpe;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=Ape.bind(null,e,t,r),t.then(e,e))}function KH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function XH(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sf(-1,1),t.tag=2,FA(r,t,1))),r.lanes|=1),e)}var rpe=Gf.ReactCurrentOwner,Il=!1;function Js(e,t,r,i){t.child=e===null?sJ(t,null,r,i):gb(t,e.child,r,i)}function YH(e,t,r,i,n){r=r.render;var a=t.ref;return jy(t,n),i=YN(e,t,r,i,a,n),r=$N(),e!==null&&!Il?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Lf(e,t,n)):(Yn&&r&&NN(t),t.flags|=1,Js(e,t,i,n),t.child)}function $H(e,t,r,i,n){if(e===null){var a=r.type;return typeof a=="function"&&!sk(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,TJ(e,t,a,i,n)):(e=JB(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:F2,r(o,i)&&e.ref===t.ref)return Lf(e,t,n)}return t.flags|=1,e=UA(a,i),e.ref=t.ref,e.return=t,t.child=e}function TJ(e,t,r,i,n){if(e!==null){var a=e.memoizedProps;if(F2(a,i)&&e.ref===t.ref)if(Il=!1,t.pendingProps=i=a,(e.lanes&n)!==0)e.flags&131072&&(Il=!0);else return t.lanes=e.lanes,Lf(e,t,n)}return DF(e,t,r,i,n)}function OJ(e,t,r){var i=t.pendingProps,n=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Cy,lc),lc|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fn(Cy,lc),lc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,Fn(Cy,lc),lc|=i}else a!==null?(i=a.baseLanes|r,t.memoizedState=null):i=r,Fn(Cy,lc),lc|=i;return Js(e,t,n,r),t.child}function DJ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DF(e,t,r,i,n){var a=Ul(r)?$m:Ds.current;return a=pb(t,a),jy(t,n),r=YN(e,t,r,i,a,n),i=$N(),e!==null&&!Il?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Lf(e,t,n)):(Yn&&i&&NN(t),t.flags|=1,Js(e,t,r,n),t.child)}function JH(e,t,r,i,n){if(Ul(r)){var a=!0;aM(t)}else a=!1;if(jy(t,n),t.stateNode===null)XB(e,t),aJ(t,r,i),TF(t,r,i,n),i=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ou(c):(c=Ul(r)?$m:Ds.current,c=pb(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==i||l!==c)&&VH(t,o,i,c),Zp=!1;var h=t.memoizedState;o.state=h,uM(t,i,o,n),l=t.memoizedState,s!==i||h!==l||Rl.current||Zp?(typeof u=="function"&&(PF(t,r,u,i),l=t.memoizedState),(s=Zp||HH(t,r,s,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,iJ(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ru(t.type,s),o.props=c,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ou(l):(l=Ul(r)?$m:Ds.current,l=pb(t,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&VH(t,o,i,l),Zp=!1,h=t.memoizedState,o.state=h,uM(t,i,o,n);var m=t.memoizedState;s!==d||h!==m||Rl.current||Zp?(typeof f=="function"&&(PF(t,r,f,i),m=t.memoizedState),(c=Zp||HH(t,r,c,i,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return IF(e,t,r,i,a,n)}function IF(e,t,r,i,n,a){DJ(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return n&&UH(t,r,!1),Lf(e,t,a);i=t.stateNode,rpe.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=gb(t,e.child,null,a),t.child=gb(t,null,s,a)):Js(e,t,s,a),t.memoizedState=i.state,n&&UH(t,r,!0),t.child}function IJ(e){var t=e.stateNode;t.pendingContext?RH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RH(e,t.context,!1),GN(e,t.containerInfo)}function ZH(e,t,r,i,n){return Ab(),jN(n),t.flags|=256,Js(e,t,r,i),t.child}var FF={dehydrated:null,treeContext:null,retryLane:0};function LF(e){return{baseLanes:e,cachePool:null,transitions:null}}function FJ(e,t,r){var i=t.pendingProps,n=Zn.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(n&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Fn(Zn,n&1),e===null)return BF(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=fT(o,i,0,null),e=Um(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=LF(r),t.memoizedState=FF,e):ek(t,o));if(n=e.memoizedState,n!==null&&(s=n.dehydrated,s!==null))return ipe(e,t,o,i,s,n,r);if(a){a=i.fallback,o=t.mode,n=e.child,s=n.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=UA(n,l),i.subtreeFlags=n.subtreeFlags&14680064),s!==null?a=UA(s,a):(a=Um(a,o,r,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o=o===null?LF(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=FF,i}return a=e.child,e=a.sibling,i=UA(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ek(e,t){return t=fT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gS(e,t,r,i){return i!==null&&jN(i),gb(t,e.child,null,r),e=ek(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ipe(e,t,r,i,n,a,o){if(r)return t.flags&256?(t.flags&=-257,i=LO(Error(Xt(422))),gS(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,n=t.mode,i=fT({mode:"visible",children:i.children},n,0,null),a=Um(a,n,o,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&gb(t,e.child,null,o),t.child.memoizedState=LF(o),t.memoizedState=FF,a);if(!(t.mode&1))return gS(e,t,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var s=i.dgst;return i=s,a=Error(Xt(419)),i=LO(a,i,void 0),gS(e,t,o,i)}if(s=(o&e.childLanes)!==0,Il||s){if(i=Lo,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Ff(e,n),Xu(i,e,n,-1))}return ok(),i=LO(Error(Xt(421))),gS(e,t,o,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=gpe.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,hc=IA(n.nextSibling),Ac=t,Yn=!0,ku=null,e!==null&&(Wc[Gc++]=pf,Wc[Gc++]=Af,Wc[Gc++]=Jm,pf=e.id,Af=e.overflow,Jm=t),t=ek(t,i.children),t.flags|=4096,t)}function eV(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),MF(e.return,t,r)}function RO(e,t,r,i,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=n)}function LJ(e,t,r){var i=t.pendingProps,n=i.revealOrder,a=i.tail;if(Js(e,t,i.children,r),i=Zn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eV(e,r,t);else if(e.tag===19)eV(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Fn(Zn,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&dM(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),RO(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&dM(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}RO(t,!0,r,null,a);break;case"together":RO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function XB(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lf(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),e0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Xt(153));if(t.child!==null){for(e=t.child,r=UA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=UA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function npe(e,t,r){switch(t.tag){case 3:IJ(t),Ab();break;case 5:lJ(t);break;case 1:Ul(t.type)&&aM(t);break;case 4:GN(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;Fn(lM,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Fn(Zn,Zn.current&1),t.flags|=128,null):r&t.child.childLanes?FJ(e,t,r):(Fn(Zn,Zn.current&1),e=Lf(e,t,r),e!==null?e.sibling:null);Fn(Zn,Zn.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return LJ(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Fn(Zn,Zn.current),i)break;return null;case 22:case 23:return t.lanes=0,OJ(e,t,r)}return Lf(e,t,r)}var RJ,RF,UJ,NJ;RJ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};RF=function(){};UJ=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,Cm(ah.current);var a=null;switch(r){case"input":n=nF(e,n),i=nF(e,i),a=[];break;case"select":n=na({},n,{value:void 0}),i=na({},i,{value:void 0}),a=[];break;case"textarea":n=sF(e,n),i=sF(e,i),a=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=iM)}cF(r,i);var o;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var s=n[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(B2.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var l=i[c];if(s=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(B2.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Un("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};NJ=function(e,t,r,i){r!==i&&(t.flags|=4)};function yw(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function fs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function ape(e,t,r){var i=t.pendingProps;switch(kN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(t),null;case 1:return Ul(t.type)&&nM(),fs(t),null;case 3:return i=t.stateNode,mb(),Hn(Rl),Hn(Ds),KN(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(pS(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ku!==null&&(QF(ku),ku=null))),RF(e,t),fs(t),null;case 5:qN(t);var n=Cm(k2.current);if(r=t.type,e!==null&&t.stateNode!=null)UJ(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Xt(166));return fs(t),null}if(e=Cm(ah.current),pS(t)){i=t.stateNode,r=t.type;var a=t.memoizedProps;switch(i[Xd]=t,i[U2]=a,e=(t.mode&1)!==0,r){case"dialog":Un("cancel",i),Un("close",i);break;case"iframe":case"object":case"embed":Un("load",i);break;case"video":case"audio":for(n=0;n<mx.length;n++)Un(mx[n],i);break;case"source":Un("error",i);break;case"img":case"image":case"link":Un("error",i),Un("load",i);break;case"details":Un("toggle",i);break;case"input":cH(i,a),Un("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Un("invalid",i);break;case"textarea":dH(i,a),Un("invalid",i)}cF(r,a),n=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?i.textContent!==s&&(a.suppressHydrationWarning!==!0&&fS(i.textContent,s,e),n=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&fS(i.textContent,s,e),n=["children",""+s]):B2.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Un("scroll",i)}switch(r){case"input":aS(i),uH(i,a,!0);break;case"textarea":aS(i),hH(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=iM)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),r==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[Xd]=t,e[U2]=i,RJ(e,t,!1,!1),t.stateNode=e;e:{switch(o=uF(r,i),r){case"dialog":Un("cancel",e),Un("close",e),n=i;break;case"iframe":case"object":case"embed":Un("load",e),n=i;break;case"video":case"audio":for(n=0;n<mx.length;n++)Un(mx[n],e);n=i;break;case"source":Un("error",e),n=i;break;case"img":case"image":case"link":Un("error",e),Un("load",e),n=i;break;case"details":Un("toggle",e),n=i;break;case"input":cH(e,i),n=nF(e,i),Un("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=na({},i,{value:void 0}),Un("invalid",e);break;case"textarea":dH(e,i),n=sF(e,i),Un("invalid",e);break;default:n=i}cF(r,n),s=n;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?p$(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h$(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&M2(e,l):typeof l=="number"&&M2(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(B2.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Un("scroll",e):l!=null&&_N(e,a,l,o))}switch(r){case"input":aS(e),uH(e,i,!1);break;case"textarea":aS(e),hH(e);break;case"option":i.value!=null&&e.setAttribute("value",""+KA(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Ry(e,!!i.multiple,a,!1):i.defaultValue!=null&&Ry(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=iM)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fs(t),null;case 6:if(e&&t.stateNode!=null)NJ(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Xt(166));if(r=Cm(k2.current),Cm(ah.current),pS(t)){if(i=t.stateNode,r=t.memoizedProps,i[Xd]=t,(a=i.nodeValue!==r)&&(e=Ac,e!==null))switch(e.tag){case 3:fS(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fS(i.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Xd]=t,t.stateNode=i}return fs(t),null;case 13:if(Hn(Zn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yn&&hc!==null&&t.mode&1&&!(t.flags&128))tJ(),Ab(),t.flags|=98560,a=!1;else if(a=pS(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(Xt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Xt(317));a[Xd]=t}else Ab(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fs(t),a=!1}else ku!==null&&(QF(ku),ku=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?uo===0&&(uo=3):ok())),t.updateQueue!==null&&(t.flags|=4),fs(t),null);case 4:return mb(),RF(e,t),e===null&&L2(t.stateNode.containerInfo),fs(t),null;case 10:return VN(t.type._context),fs(t),null;case 17:return Ul(t.type)&&nM(),fs(t),null;case 19:if(Hn(Zn),a=t.memoizedState,a===null)return fs(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)yw(a,!1);else{if(uo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=dM(e),o!==null){for(t.flags|=128,yw(a,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)a=r,e=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fn(Zn,Zn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ba()>yb&&(t.flags|=128,i=!0,yw(a,!1),t.lanes=4194304)}else{if(!i)if(e=dM(o),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yw(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Yn)return fs(t),null}else 2*Ba()-a.renderingStartTime>yb&&r!==1073741824&&(t.flags|=128,i=!0,yw(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ba(),t.sibling=null,r=Zn.current,Fn(Zn,i?r&1|2:r&1),t):(fs(t),null);case 22:case 23:return ak(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?lc&1073741824&&(fs(t),t.subtreeFlags&6&&(t.flags|=8192)):fs(t),null;case 24:return null;case 25:return null}throw Error(Xt(156,t.tag))}function ope(e,t){switch(kN(t),t.tag){case 1:return Ul(t.type)&&nM(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mb(),Hn(Rl),Hn(Ds),KN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qN(t),null;case 13:if(Hn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Xt(340));Ab()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(Zn),null;case 4:return mb(),null;case 10:return VN(t.type._context),null;case 22:case 23:return ak(),null;case 24:return null;default:return null}}var mS=!1,_s=!1,spe=typeof WeakSet=="function"?WeakSet:Set,wr=null;function xy(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){fa(e,t,i)}else r.current=null}function UF(e,t,r){try{r()}catch(i){fa(e,t,i)}}var tV=!1;function lpe(e,t){if(bF=eM,e=H$(),UN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==r||n!==0&&d.nodeType!==3||(s=o+n),d!==a||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++c===n&&(s=o),h===a&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(wF={focusedElem:e,selectionRange:r},eM=!1,wr=t;wr!==null;)if(t=wr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wr=e;else for(;wr!==null;){t=wr;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var A=m.memoizedProps,g=m.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?A:Ru(t.type,A),g);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xt(163))}}catch(b){fa(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,wr=e;break}wr=t.return}return m=tV,tV=!1,m}function Xx(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&UF(t,r,a)}n=n.next}while(n!==i)}}function dT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function NF(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kJ(e){var t=e.alternate;t!==null&&(e.alternate=null,kJ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xd],delete t[U2],delete t[_F],delete t[Qfe],delete t[Wfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jJ(e){return e.tag===5||e.tag===3||e.tag===4}function rV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jJ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kF(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=iM));else if(i!==4&&(e=e.child,e!==null))for(kF(e,t,r),e=e.sibling;e!==null;)kF(e,t,r),e=e.sibling}function jF(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(jF(e,t,r),e=e.sibling;e!==null;)jF(e,t,r),e=e.sibling}var Qo=null,Nu=!1;function Tp(e,t,r){for(r=r.child;r!==null;)zJ(e,t,r),r=r.sibling}function zJ(e,t,r){if(nh&&typeof nh.onCommitFiberUnmount=="function")try{nh.onCommitFiberUnmount(iT,r)}catch{}switch(r.tag){case 5:_s||xy(r,t);case 6:var i=Qo,n=Nu;Qo=null,Tp(e,t,r),Qo=i,Nu=n,Qo!==null&&(Nu?(e=Qo,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qo.removeChild(r.stateNode));break;case 18:Qo!==null&&(Nu?(e=Qo,r=r.stateNode,e.nodeType===8?PO(e.parentNode,r):e.nodeType===1&&PO(e,r),D2(e)):PO(Qo,r.stateNode));break;case 4:i=Qo,n=Nu,Qo=r.stateNode.containerInfo,Nu=!0,Tp(e,t,r),Qo=i,Nu=n;break;case 0:case 11:case 14:case 15:if(!_s&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var a=n,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&UF(r,t,o),n=n.next}while(n!==i)}Tp(e,t,r);break;case 1:if(!_s&&(xy(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){fa(r,t,s)}Tp(e,t,r);break;case 21:Tp(e,t,r);break;case 22:r.mode&1?(_s=(i=_s)||r.memoizedState!==null,Tp(e,t,r),_s=i):Tp(e,t,r);break;default:Tp(e,t,r)}}function iV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new spe),t.forEach(function(i){var n=mpe.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function wu(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Qo=s.stateNode,Nu=!1;break e;case 3:Qo=s.stateNode.containerInfo,Nu=!0;break e;case 4:Qo=s.stateNode.containerInfo,Nu=!0;break e}s=s.return}if(Qo===null)throw Error(Xt(160));zJ(a,o,n),Qo=null,Nu=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){fa(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HJ(t,e),t=t.sibling}function HJ(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wu(t,e),Sd(e),i&4){try{Xx(3,e,e.return),dT(3,e)}catch(A){fa(e,e.return,A)}try{Xx(5,e,e.return)}catch(A){fa(e,e.return,A)}}break;case 1:wu(t,e),Sd(e),i&512&&r!==null&&xy(r,r.return);break;case 5:if(wu(t,e),Sd(e),i&512&&r!==null&&xy(r,r.return),e.flags&32){var n=e.stateNode;try{M2(n,"")}catch(A){fa(e,e.return,A)}}if(i&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&c$(n,a),uF(s,o);var c=uF(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?p$(n,d):u==="dangerouslySetInnerHTML"?h$(n,d):u==="children"?M2(n,d):_N(n,u,d,c)}switch(s){case"input":aF(n,a);break;case"textarea":u$(n,a);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ry(n,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ry(n,!!a.multiple,a.defaultValue,!0):Ry(n,!!a.multiple,a.multiple?[]:"",!1))}n[U2]=a}catch(A){fa(e,e.return,A)}}break;case 6:if(wu(t,e),Sd(e),i&4){if(e.stateNode===null)throw Error(Xt(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(A){fa(e,e.return,A)}}break;case 3:if(wu(t,e),Sd(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{D2(t.containerInfo)}catch(A){fa(e,e.return,A)}break;case 4:wu(t,e),Sd(e);break;case 13:wu(t,e),Sd(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(ik=Ba())),i&4&&iV(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(_s=(c=_s)||u,wu(t,e),_s=c):wu(t,e),Sd(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(wr=e,u=e.child;u!==null;){for(d=wr=u;wr!==null;){switch(h=wr,f=h.child,h.tag){case 0:case 11:case 14:case 15:Xx(4,h,h.return);break;case 1:xy(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){i=h,r=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(A){fa(i,r,A)}}break;case 5:xy(h,h.return);break;case 22:if(h.memoizedState!==null){aV(d);continue}}f!==null?(f.return=h,wr=f):aV(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{n=d.stateNode,c?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=f$("display",o))}catch(A){fa(e,e.return,A)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(A){fa(e,e.return,A)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wu(t,e),Sd(e),i&4&&iV(e);break;case 21:break;default:wu(t,e),Sd(e)}}function Sd(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jJ(r)){var i=r;break e}r=r.return}throw Error(Xt(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(M2(n,""),i.flags&=-33);var a=rV(e);jF(e,a,n);break;case 3:case 4:var o=i.stateNode.containerInfo,s=rV(e);kF(e,s,o);break;default:throw Error(Xt(161))}}catch(l){fa(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cpe(e,t,r){wr=e,VJ(e)}function VJ(e,t,r){for(var i=(e.mode&1)!==0;wr!==null;){var n=wr,a=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||mS;if(!o){var s=n.alternate,l=s!==null&&s.memoizedState!==null||_s;s=mS;var c=_s;if(mS=o,(_s=l)&&!c)for(wr=n;wr!==null;)o=wr,l=o.child,o.tag===22&&o.memoizedState!==null?oV(n):l!==null?(l.return=o,wr=l):oV(n);for(;a!==null;)wr=a,VJ(a),a=a.sibling;wr=n,mS=s,_s=c}nV(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,wr=a):nV(e)}}function nV(e){for(;wr!==null;){var t=wr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_s||dT(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!_s)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Ru(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zH(t,a,i);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zH(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&D2(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xt(163))}_s||t.flags&512&&NF(t)}catch(h){fa(t,t.return,h)}}if(t===e){wr=null;break}if(r=t.sibling,r!==null){r.return=t.return,wr=r;break}wr=t.return}}function aV(e){for(;wr!==null;){var t=wr;if(t===e){wr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,wr=r;break}wr=t.return}}function oV(e){for(;wr!==null;){var t=wr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dT(4,t)}catch(l){fa(t,r,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(l){fa(t,n,l)}}var a=t.return;try{NF(t)}catch(l){fa(t,a,l)}break;case 5:var o=t.return;try{NF(t)}catch(l){fa(t,o,l)}}}catch(l){fa(t,t.return,l)}if(t===e){wr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,wr=s;break}wr=t.return}}var upe=Math.ceil,pM=Gf.ReactCurrentDispatcher,tk=Gf.ReactCurrentOwner,eu=Gf.ReactCurrentBatchConfig,Vi=0,Lo=null,Wa=null,ts=0,lc=0,Cy=sg(0),uo=0,V2=null,e0=0,hT=0,rk=0,Yx=null,El=null,ik=0,yb=1/0,tf=null,AM=!1,zF=null,LA=null,vS=!1,uA=null,gM=0,$x=0,HF=null,YB=-1,$B=0;function ol(){return Vi&6?Ba():YB!==-1?YB:YB=Ba()}function RA(e){return e.mode&1?Vi&2&&ts!==0?ts&-ts:qfe.transition!==null?($B===0&&($B=E$()),$B):(e=gn,e!==0||(e=window.event,e=e===void 0?16:I$(e.type)),e):1}function Xu(e,t,r,i){if(50<$x)throw $x=0,HF=null,Error(Xt(185));kC(e,r,i),(!(Vi&2)||e!==Lo)&&(e===Lo&&(!(Vi&2)&&(hT|=r),uo===4&&nA(e,ts)),Nl(e,i),r===1&&Vi===0&&!(t.mode&1)&&(yb=Ba()+500,lT&&lg()))}function Nl(e,t){var r=e.callbackNode;qhe(e,t);var i=Z5(e,e===Lo?ts:0);if(i===0)r!==null&&AH(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&AH(r),t===1)e.tag===0?Gfe(sV.bind(null,e)):J$(sV.bind(null,e)),Hfe(function(){!(Vi&6)&&lg()}),r=null;else{switch(B$(i)){case 1:r=PN;break;case 4:r=_$;break;case 16:r=J5;break;case 536870912:r=S$;break;default:r=J5}r=$J(r,QJ.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function QJ(e,t){if(YB=-1,$B=0,Vi&6)throw Error(Xt(327));var r=e.callbackNode;if(zy()&&e.callbackNode!==r)return null;var i=Z5(e,e===Lo?ts:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=mM(e,i);else{t=i;var n=Vi;Vi|=2;var a=GJ();(Lo!==e||ts!==t)&&(tf=null,yb=Ba()+500,Rm(e,t));do try{fpe();break}catch(s){WJ(e,s)}while(1);HN(),pM.current=a,Vi=n,Wa!==null?t=0:(Lo=null,ts=0,t=uo)}if(t!==0){if(t===2&&(n=AF(e),n!==0&&(i=n,t=VF(e,n))),t===1)throw r=V2,Rm(e,0),nA(e,i),Nl(e,Ba()),r;if(t===6)nA(e,i);else{if(n=e.current.alternate,!(i&30)&&!dpe(n)&&(t=mM(e,i),t===2&&(a=AF(e),a!==0&&(i=a,t=VF(e,a))),t===1))throw r=V2,Rm(e,0),nA(e,i),Nl(e,Ba()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(Xt(345));case 2:nm(e,El,tf);break;case 3:if(nA(e,i),(i&130023424)===i&&(t=ik+500-Ba(),10<t)){if(Z5(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){ol(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=CF(nm.bind(null,e,El,tf),t);break}nm(e,El,tf);break;case 4:if(nA(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var o=31-Ku(i);a=1<<o,o=t[o],o>n&&(n=o),i&=~a}if(i=n,i=Ba()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*upe(i/1960))-i,10<i){e.timeoutHandle=CF(nm.bind(null,e,El,tf),i);break}nm(e,El,tf);break;case 5:nm(e,El,tf);break;default:throw Error(Xt(329))}}}return Nl(e,Ba()),e.callbackNode===r?QJ.bind(null,e):null}function VF(e,t){var r=Yx;return e.current.memoizedState.isDehydrated&&(Rm(e,t).flags|=256),e=mM(e,t),e!==2&&(t=El,El=r,t!==null&&QF(t)),e}function QF(e){El===null?El=e:El.push.apply(El,e)}function dpe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],a=n.getSnapshot;n=n.value;try{if(!Ju(a(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nA(e,t){for(t&=~rk,t&=~hT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ku(t),i=1<<r;e[r]=-1,t&=~i}}function sV(e){if(Vi&6)throw Error(Xt(327));zy();var t=Z5(e,0);if(!(t&1))return Nl(e,Ba()),null;var r=mM(e,t);if(e.tag!==0&&r===2){var i=AF(e);i!==0&&(t=i,r=VF(e,i))}if(r===1)throw r=V2,Rm(e,0),nA(e,t),Nl(e,Ba()),r;if(r===6)throw Error(Xt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nm(e,El,tf),Nl(e,Ba()),null}function nk(e,t){var r=Vi;Vi|=1;try{return e(t)}finally{Vi=r,Vi===0&&(yb=Ba()+500,lT&&lg())}}function t0(e){uA!==null&&uA.tag===0&&!(Vi&6)&&zy();var t=Vi;Vi|=1;var r=eu.transition,i=gn;try{if(eu.transition=null,gn=1,e)return e()}finally{gn=i,eu.transition=r,Vi=t,!(Vi&6)&&lg()}}function ak(){lc=Cy.current,Hn(Cy)}function Rm(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zfe(r)),Wa!==null)for(r=Wa.return;r!==null;){var i=r;switch(kN(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&nM();break;case 3:mb(),Hn(Rl),Hn(Ds),KN();break;case 5:qN(i);break;case 4:mb();break;case 13:Hn(Zn);break;case 19:Hn(Zn);break;case 10:VN(i.type._context);break;case 22:case 23:ak()}r=r.return}if(Lo=e,Wa=e=UA(e.current,null),ts=lc=t,uo=0,V2=null,rk=hT=e0=0,El=Yx=null,xm!==null){for(t=0;t<xm.length;t++)if(r=xm[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,a=r.pending;if(a!==null){var o=a.next;a.next=n,i.next=o}r.pending=i}xm=null}return e}function WJ(e,t){do{var r=Wa;try{if(HN(),qB.current=fM,hM){for(var i=ra.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}hM=!1}if(Zm=0,_o=ao=ra=null,Kx=!1,j2=0,tk.current=null,r===null||r.return===null){uo=1,V2=t,Wa=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=ts,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=KH(o);if(f!==null){f.flags&=-257,XH(f,o,s,a,t),f.mode&1&&qH(a,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var A=new Set;A.add(l),t.updateQueue=A}else m.add(l);break e}else{if(!(t&1)){qH(a,c,t),ok();break e}l=Error(Xt(426))}}else if(Yn&&s.mode&1){var g=KH(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),XH(g,o,s,a,t),jN(vb(l,s));break e}}a=l=vb(l,s),uo!==4&&(uo=2),Yx===null?Yx=[a]:Yx.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=MJ(a,l,t);jH(a,p);break e;case 1:s=l;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(LA===null||!LA.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=PJ(a,s,t);jH(a,b);break e}}a=a.return}while(a!==null)}KJ(r)}catch(x){t=x,Wa===r&&r!==null&&(Wa=r=r.return);continue}break}while(1)}function GJ(){var e=pM.current;return pM.current=fM,e===null?fM:e}function ok(){(uo===0||uo===3||uo===2)&&(uo=4),Lo===null||!(e0&268435455)&&!(hT&268435455)||nA(Lo,ts)}function mM(e,t){var r=Vi;Vi|=2;var i=GJ();(Lo!==e||ts!==t)&&(tf=null,Rm(e,t));do try{hpe();break}catch(n){WJ(e,n)}while(1);if(HN(),Vi=r,pM.current=i,Wa!==null)throw Error(Xt(261));return Lo=null,ts=0,uo}function hpe(){for(;Wa!==null;)qJ(Wa)}function fpe(){for(;Wa!==null&&!Nhe();)qJ(Wa)}function qJ(e){var t=YJ(e.alternate,e,lc);e.memoizedProps=e.pendingProps,t===null?KJ(e):Wa=t,tk.current=null}function KJ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ope(r,t),r!==null){r.flags&=32767,Wa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{uo=6,Wa=null;return}}else if(r=ape(r,t,lc),r!==null){Wa=r;return}if(t=t.sibling,t!==null){Wa=t;return}Wa=t=e}while(t!==null);uo===0&&(uo=5)}function nm(e,t,r){var i=gn,n=eu.transition;try{eu.transition=null,gn=1,ppe(e,t,r,i)}finally{eu.transition=n,gn=i}return null}function ppe(e,t,r,i){do zy();while(uA!==null);if(Vi&6)throw Error(Xt(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Xt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Khe(e,a),e===Lo&&(Wa=Lo=null,ts=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vS||(vS=!0,$J(J5,function(){return zy(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=eu.transition,eu.transition=null;var o=gn;gn=1;var s=Vi;Vi|=4,tk.current=null,lpe(e,r),HJ(r,e),Ffe(wF),eM=!!bF,wF=bF=null,e.current=r,cpe(r),khe(),Vi=s,gn=o,eu.transition=a}else e.current=r;if(vS&&(vS=!1,uA=e,gM=n),a=e.pendingLanes,a===0&&(LA=null),Hhe(r.stateNode),Nl(e,Ba()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(AM)throw AM=!1,e=zF,zF=null,e;return gM&1&&e.tag!==0&&zy(),a=e.pendingLanes,a&1?e===HF?$x++:($x=0,HF=e):$x=0,lg(),null}function zy(){if(uA!==null){var e=B$(gM),t=eu.transition,r=gn;try{if(eu.transition=null,gn=16>e?16:e,uA===null)var i=!1;else{if(e=uA,uA=null,gM=0,Vi&6)throw Error(Xt(331));var n=Vi;for(Vi|=4,wr=e.current;wr!==null;){var a=wr,o=a.child;if(wr.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(wr=c;wr!==null;){var u=wr;switch(u.tag){case 0:case 11:case 15:Xx(8,u,a)}var d=u.child;if(d!==null)d.return=u,wr=d;else for(;wr!==null;){u=wr;var h=u.sibling,f=u.return;if(kJ(u),u===c){wr=null;break}if(h!==null){h.return=f,wr=h;break}wr=f}}}var m=a.alternate;if(m!==null){var A=m.child;if(A!==null){m.child=null;do{var g=A.sibling;A.sibling=null,A=g}while(A!==null)}}wr=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,wr=o;else e:for(;wr!==null;){if(a=wr,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xx(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,wr=p;break e}wr=a.return}}var v=e.current;for(wr=v;wr!==null;){o=wr;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,wr=y;else e:for(o=v;wr!==null;){if(s=wr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dT(9,s)}}catch(x){fa(s,s.return,x)}if(s===o){wr=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,wr=b;break e}wr=s.return}}if(Vi=n,lg(),nh&&typeof nh.onPostCommitFiberRoot=="function")try{nh.onPostCommitFiberRoot(iT,e)}catch{}i=!0}return i}finally{gn=r,eu.transition=t}}return!1}function lV(e,t,r){t=vb(r,t),t=MJ(e,t,1),e=FA(e,t,1),t=ol(),e!==null&&(kC(e,1,t),Nl(e,t))}function fa(e,t,r){if(e.tag===3)lV(e,e,r);else for(;t!==null;){if(t.tag===3){lV(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(LA===null||!LA.has(i))){e=vb(r,e),e=PJ(t,e,1),t=FA(t,e,1),e=ol(),t!==null&&(kC(t,1,e),Nl(t,e));break}}t=t.return}}function Ape(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&r,Lo===e&&(ts&r)===r&&(uo===4||uo===3&&(ts&130023424)===ts&&500>Ba()-ik?Rm(e,0):rk|=r),Nl(e,t)}function XJ(e,t){t===0&&(e.mode&1?(t=lS,lS<<=1,!(lS&130023424)&&(lS=4194304)):t=1);var r=ol();e=Ff(e,t),e!==null&&(kC(e,t,r),Nl(e,r))}function gpe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XJ(e,r)}function mpe(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Xt(314))}i!==null&&i.delete(t),XJ(e,r)}var YJ;YJ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rl.current)Il=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Il=!1,npe(e,t,r);Il=!!(e.flags&131072)}else Il=!1,Yn&&t.flags&1048576&&Z$(t,sM,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;XB(e,t),e=t.pendingProps;var n=pb(t,Ds.current);jy(t,r),n=YN(null,t,i,e,n,r);var a=$N();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ul(i)?(a=!0,aM(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,WN(t),n.updater=cT,t.stateNode=n,n._reactInternals=t,TF(t,i,e,r),t=IF(null,t,i,!0,a,r)):(t.tag=0,Yn&&a&&NN(t),Js(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(XB(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=ype(i),e=Ru(i,e),n){case 0:t=DF(null,t,i,e,r);break e;case 1:t=JH(null,t,i,e,r);break e;case 11:t=YH(null,t,i,e,r);break e;case 14:t=$H(null,t,i,Ru(i.type,e),r);break e}throw Error(Xt(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ru(i,n),DF(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ru(i,n),JH(e,t,i,n,r);case 3:e:{if(IJ(t),e===null)throw Error(Xt(387));i=t.pendingProps,a=t.memoizedState,n=a.element,iJ(e,t),uM(t,i,null,r);var o=t.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=vb(Error(Xt(423)),t),t=ZH(e,t,i,r,n);break e}else if(i!==n){n=vb(Error(Xt(424)),t),t=ZH(e,t,i,r,n);break e}else for(hc=IA(t.stateNode.containerInfo.firstChild),Ac=t,Yn=!0,ku=null,r=sJ(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ab(),i===n){t=Lf(e,t,r);break e}Js(e,t,i,r)}t=t.child}return t;case 5:return lJ(t),e===null&&BF(t),i=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,o=n.children,xF(i,n)?o=null:a!==null&&xF(i,a)&&(t.flags|=32),DJ(e,t),Js(e,t,o,r),t.child;case 6:return e===null&&BF(t),null;case 13:return FJ(e,t,r);case 4:return GN(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=gb(t,null,i,r):Js(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ru(i,n),YH(e,t,i,n,r);case 7:return Js(e,t,t.pendingProps,r),t.child;case 8:return Js(e,t,t.pendingProps.children,r),t.child;case 12:return Js(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,a=t.memoizedProps,o=n.value,Fn(lM,i._currentValue),i._currentValue=o,a!==null)if(Ju(a.value,o)){if(a.children===n.children&&!Rl.current){t=Lf(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===i){if(a.tag===1){l=Sf(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),MF(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Xt(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),MF(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Js(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,jy(t,r),n=ou(n),i=i(n),t.flags|=1,Js(e,t,i,r),t.child;case 14:return i=t.type,n=Ru(i,t.pendingProps),n=Ru(i.type,n),$H(e,t,i,n,r);case 15:return TJ(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ru(i,n),XB(e,t),t.tag=1,Ul(i)?(e=!0,aM(t)):e=!1,jy(t,r),aJ(t,i,n),TF(t,i,n,r),IF(null,t,i,!0,e,r);case 19:return LJ(e,t,r);case 22:return OJ(e,t,r)}throw Error(Xt(156,t.tag))};function $J(e,t){return C$(e,t)}function vpe(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yc(e,t,r,i){return new vpe(e,t,r,i)}function sk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ype(e){if(typeof e=="function")return sk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===EN)return 11;if(e===BN)return 14}return 2}function UA(e,t){var r=e.alternate;return r===null?(r=Yc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function JB(e,t,r,i,n,a){var o=2;if(i=e,typeof e=="function")sk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fy:return Um(r.children,n,a,t);case SN:o=8,n|=8;break;case eF:return e=Yc(12,r,t,n|2),e.elementType=eF,e.lanes=a,e;case tF:return e=Yc(13,r,t,n),e.elementType=tF,e.lanes=a,e;case rF:return e=Yc(19,r,t,n),e.elementType=rF,e.lanes=a,e;case o$:return fT(r,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n$:o=10;break e;case a$:o=9;break e;case EN:o=11;break e;case BN:o=14;break e;case Jp:o=16,i=null;break e}throw Error(Xt(130,e==null?e:typeof e,""))}return t=Yc(o,r,t,n),t.elementType=e,t.type=i,t.lanes=a,t}function Um(e,t,r,i){return e=Yc(7,e,i,t),e.lanes=r,e}function fT(e,t,r,i){return e=Yc(22,e,i,t),e.elementType=o$,e.lanes=r,e.stateNode={isHidden:!1},e}function UO(e,t,r){return e=Yc(6,e,null,t),e.lanes=r,e}function NO(e,t,r){return t=Yc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bpe(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vO(0),this.expirationTimes=vO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vO(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function lk(e,t,r,i,n,a,o,s,l){return e=new bpe(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},WN(a),e}function wpe(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hy,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function JJ(e){if(!e)return XA;e=e._reactInternals;e:{if(f0(e)!==e||e.tag!==1)throw Error(Xt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ul(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Xt(171))}if(e.tag===1){var r=e.type;if(Ul(r))return $$(e,r,t)}return t}function ZJ(e,t,r,i,n,a,o,s,l){return e=lk(r,i,!0,e,n,a,o,s,l),e.context=JJ(null),r=e.current,i=ol(),n=RA(r),a=Sf(i,n),a.callback=t??null,FA(r,a,n),e.current.lanes=n,kC(e,n,i),Nl(e,i),e}function pT(e,t,r,i){var n=t.current,a=ol(),o=RA(n);return r=JJ(r),t.context===null?t.context=r:t.pendingContext=r,t=Sf(a,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=FA(n,t,o),e!==null&&(Xu(e,n,o,a),GB(e,n,o)),o}function vM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ck(e,t){cV(e,t),(e=e.alternate)&&cV(e,t)}function xpe(){return null}var eZ=typeof reportError=="function"?reportError:function(e){console.error(e)};function uk(e){this._internalRoot=e}AT.prototype.render=uk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Xt(409));pT(e,t,null,null)};AT.prototype.unmount=uk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;t0(function(){pT(null,e,null,null)}),t[If]=null}};function AT(e){this._internalRoot=e}AT.prototype.unstable_scheduleHydration=function(e){if(e){var t=T$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<iA.length&&t!==0&&t<iA[r].priority;r++);iA.splice(r,0,e),r===0&&D$(e)}};function dk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uV(){}function Cpe(e,t,r,i,n){if(n){if(typeof i=="function"){var a=i;i=function(){var c=vM(o);a.call(c)}}var o=ZJ(t,i,e,0,null,!1,!1,"",uV);return e._reactRootContainer=o,e[If]=o.current,L2(e.nodeType===8?e.parentNode:e),t0(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var s=i;i=function(){var c=vM(l);s.call(c)}}var l=lk(e,0,!1,null,null,!1,!1,"",uV);return e._reactRootContainer=l,e[If]=l.current,L2(e.nodeType===8?e.parentNode:e),t0(function(){pT(t,l,r,i)}),l}function mT(e,t,r,i,n){var a=r._reactRootContainer;if(a){var o=a;if(typeof n=="function"){var s=n;n=function(){var l=vM(o);s.call(l)}}pT(t,o,e,n)}else o=Cpe(r,t,e,n,i);return vM(o)}M$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gx(t.pendingLanes);r!==0&&(TN(t,r|1),Nl(t,Ba()),!(Vi&6)&&(yb=Ba()+500,lg()))}break;case 13:t0(function(){var i=Ff(e,1);if(i!==null){var n=ol();Xu(i,e,1,n)}}),ck(e,1)}};ON=function(e){if(e.tag===13){var t=Ff(e,134217728);if(t!==null){var r=ol();Xu(t,e,134217728,r)}ck(e,134217728)}};P$=function(e){if(e.tag===13){var t=RA(e),r=Ff(e,t);if(r!==null){var i=ol();Xu(r,e,t,i)}ck(e,t)}};T$=function(){return gn};O$=function(e,t){var r=gn;try{return gn=e,t()}finally{gn=r}};hF=function(e,t,r){switch(t){case"input":if(aF(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=sT(i);if(!n)throw Error(Xt(90));l$(i),aF(i,n)}}}break;case"textarea":u$(e,r);break;case"select":t=r.value,t!=null&&Ry(e,!!r.multiple,t,!1)}};m$=nk;v$=t0;var _pe={usingClientEntryPoint:!1,Events:[zC,my,sT,A$,g$,nk]},bw={findFiberByHostInstance:wm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Spe={bundleType:bw.bundleType,version:bw.version,rendererPackageName:bw.rendererPackageName,rendererConfig:bw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=w$(e),e===null?null:e.stateNode},findFiberByHostInstance:bw.findFiberByHostInstance||xpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yS.isDisabled&&yS.supportsFiber)try{iT=yS.inject(Spe),nh=yS}catch{}}yc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_pe;yc.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dk(t))throw Error(Xt(200));return wpe(e,t,null,r)};yc.createRoot=function(e,t){if(!dk(e))throw Error(Xt(299));var r=!1,i="",n=eZ;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=lk(e,1,!1,null,null,r,!1,i,n),e[If]=t.current,L2(e.nodeType===8?e.parentNode:e),new uk(t)};yc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Xt(188)):(e=Object.keys(e).join(","),Error(Xt(268,e)));return e=w$(t),e=e===null?null:e.stateNode,e};yc.flushSync=function(e){return t0(e)};yc.hydrate=function(e,t,r){if(!gT(t))throw Error(Xt(200));return mT(null,e,t,!0,r)};yc.hydrateRoot=function(e,t,r){if(!dk(e))throw Error(Xt(405));var i=r!=null&&r.hydratedSources||null,n=!1,a="",o=eZ;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZJ(t,null,e,1,r??null,n,!1,a,o),e[If]=t.current,L2(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new AT(t)};yc.render=function(e,t,r){if(!gT(t))throw Error(Xt(200));return mT(null,e,t,!1,r)};yc.unmountComponentAtNode=function(e){if(!gT(e))throw Error(Xt(40));return e._reactRootContainer?(t0(function(){mT(null,null,e,!1,function(){e._reactRootContainer=null,e[If]=null})}),!0):!1};yc.unstable_batchedUpdates=nk;yc.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!gT(r))throw Error(Xt(200));if(e==null||e._reactInternals===void 0)throw Error(Xt(38));return mT(e,t,r,!1,i)};yc.version="18.2.0-next-9e3b772b8-20220608";function tZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tZ)}catch(e){console.error(e)}}tZ(),ZY.exports=yc;var hk=ZY.exports,dV=hk;JI.createRoot=dV.createRoot,JI.hydrateRoot=dV.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Q2.apply(this,arguments)}var dA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dA||(dA={}));const hV="popstate";function Epe(e){e===void 0&&(e={});function t(i,n){let{pathname:a,search:o,hash:s}=i.location;return WF("",{pathname:a,search:o,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:yM(n)}return Mpe(t,r,null,e)}function Xa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bpe(){return Math.random().toString(36).substr(2,8)}function fV(e,t){return{usr:e.state,key:e.key,idx:t}}function WF(e,t,r,i){return r===void 0&&(r=null),Q2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yb(t):t,{state:r,key:t&&t.key||i||Bpe()})}function yM(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Yb(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Mpe(e,t,r,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:a=!1}=i,o=n.history,s=dA.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Q2({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=dA.Pop;let g=u(),p=g==null?null:g-c;c=g,l&&l({action:s,location:A.location,delta:p})}function h(g,p){s=dA.Push;let v=WF(A.location,g,p);r&&r(v,g),c=u()+1;let y=fV(v,c),b=A.createHref(v);try{o.pushState(y,"",b)}catch{n.location.assign(b)}a&&l&&l({action:s,location:A.location,delta:1})}function f(g,p){s=dA.Replace;let v=WF(A.location,g,p);r&&r(v,g),c=u();let y=fV(v,c),b=A.createHref(v);o.replaceState(y,"",b),a&&l&&l({action:s,location:A.location,delta:0})}function m(g){let p=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof g=="string"?g:yM(g);return Xa(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let A={get action(){return s},get location(){return e(n,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(hV,d),l=g,()=>{n.removeEventListener(hV,d),l=null}},createHref(g){return t(n,g)},createURL:m,encodeLocation(g){let p=m(g);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(g){return o.go(g)}};return A}var pV;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pV||(pV={}));function Ppe(e,t,r){r===void 0&&(r="/");let i=typeof t=="string"?Yb(t):t,n=pk(i.pathname||"/",r);if(n==null)return null;let a=rZ(e);Tpe(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=kpe(a[s],Hpe(n));return o}function rZ(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let n=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Xa(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=NA([i,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Xa(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rZ(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Upe(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))n(a,o);else for(let l of iZ(a.path))n(a,o,l)}),t}function iZ(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return n?[a,""]:[a];let o=iZ(i.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),n&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Tpe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Npe(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Ope=/^:\w+$/,Dpe=3,Ipe=2,Fpe=1,Lpe=10,Rpe=-2,AV=e=>e==="*";function Upe(e,t){let r=e.split("/"),i=r.length;return r.some(AV)&&(i+=Rpe),t&&(i+=Ipe),r.filter(n=>!AV(n)).reduce((n,a)=>n+(Ope.test(a)?Dpe:a===""?Fpe:Lpe),i)}function Npe(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function kpe(e,t){let{routesMeta:r}=e,i={},n="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,c=n==="/"?t:t.slice(n.length)||"/",u=jpe({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let d=s.route;a.push({params:i,pathname:NA([n,u.pathname]),pathnameBase:Gpe(NA([n,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(n=NA([n,u.pathnameBase]))}return a}function jpe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=zpe(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let a=n[0],o=a.replace(/(.)\/+$/,"$1"),s=n.slice(1);return{params:i.reduce((c,u,d)=>{if(u==="*"){let h=s[d]||"";o=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=Vpe(s[d]||"",u),c},{}),pathname:a,pathnameBase:o,pattern:e}}function zpe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(i.push(s),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function Hpe(e){try{return decodeURI(e)}catch(t){return fk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vpe(e,t){try{return decodeURIComponent(e)}catch(r){return fk(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function pk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Qpe(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:n=""}=typeof e=="string"?Yb(e):e;return{pathname:r?r.startsWith("/")?r:Wpe(r,t):t,search:qpe(i),hash:Kpe(n)}}function Wpe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function kO(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function aZ(e,t,r,i){i===void 0&&(i=!1);let n;typeof e=="string"?n=Yb(e):(n=Q2({},e),Xa(!n.pathname||!n.pathname.includes("?"),kO("?","pathname","search",n)),Xa(!n.pathname||!n.pathname.includes("#"),kO("#","pathname","hash",n)),Xa(!n.search||!n.search.includes("#"),kO("#","search","hash",n)));let a=e===""||n.pathname==="",o=a?"/":n.pathname,s;if(i||o==null)s=r;else{let d=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=Qpe(n,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const NA=e=>e.join("/").replace(/\/\/+/g,"/"),Gpe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qpe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kpe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xpe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oZ=["post","put","patch","delete"];new Set(oZ);const Ype=["get",...oZ];new Set(Ype);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bM(){return bM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bM.apply(this,arguments)}const Ak=Oe.createContext(null),sZ=Oe.createContext(null),p0=Oe.createContext(null),vT=Oe.createContext(null),cg=Oe.createContext({outlet:null,matches:[],isDataRoute:!1}),lZ=Oe.createContext(null);function $pe(e,t){let{relative:r}=t===void 0?{}:t;VC()||Xa(!1);let{basename:i,navigator:n}=Oe.useContext(p0),{hash:a,pathname:o,search:s}=gk(e,{relative:r}),l=o;return i!=="/"&&(l=o==="/"?i:NA([i,o])),n.createHref({pathname:l,search:s,hash:a})}function VC(){return Oe.useContext(vT)!=null}function $b(){return VC()||Xa(!1),Oe.useContext(vT).location}function cZ(e){Oe.useContext(p0).static||Oe.useLayoutEffect(e)}function uZ(){let{isDataRoute:e}=Oe.useContext(cg);return e?dAe():Jpe()}function Jpe(){VC()||Xa(!1);let e=Oe.useContext(Ak),{basename:t,navigator:r}=Oe.useContext(p0),{matches:i}=Oe.useContext(cg),{pathname:n}=$b(),a=JSON.stringify(nZ(i).map(l=>l.pathnameBase)),o=Oe.useRef(!1);return cZ(()=>{o.current=!0}),Oe.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=aZ(l,JSON.parse(a),n,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:NA([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,a,n,e])}function Zpe(){let{matches:e}=Oe.useContext(cg),t=e[e.length-1];return t?t.params:{}}function gk(e,t){let{relative:r}=t===void 0?{}:t,{matches:i}=Oe.useContext(cg),{pathname:n}=$b(),a=JSON.stringify(nZ(i).map(o=>o.pathnameBase));return Oe.useMemo(()=>aZ(e,JSON.parse(a),n,r==="path"),[e,a,n,r])}function eAe(e,t){return tAe(e,t)}function tAe(e,t,r){VC()||Xa(!1);let{navigator:i}=Oe.useContext(p0),{matches:n}=Oe.useContext(cg),a=n[n.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=$b(),c;if(t){var u;let A=typeof t=="string"?Yb(t):t;s==="/"||(u=A.pathname)!=null&&u.startsWith(s)||Xa(!1),c=A}else c=l;let d=c.pathname||"/",h=s==="/"?d:d.slice(s.length)||"/",f=Ppe(e,{pathname:h}),m=oAe(f&&f.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:NA([s,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?s:NA([s,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),n,r);return t&&m?Oe.createElement(vT.Provider,{value:{location:bM({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dA.Pop}},m):m}function rAe(){let e=uAe(),t=Xpe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Oe.createElement(Oe.Fragment,null,Oe.createElement("h2",null,"Unexpected Application Error!"),Oe.createElement("h3",{style:{fontStyle:"italic"}},t),r?Oe.createElement("pre",{style:n},r):null,a)}const iAe=Oe.createElement(rAe,null);class nAe extends Oe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?Oe.createElement(cg.Provider,{value:this.props.routeContext},Oe.createElement(lZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aAe(e){let{routeContext:t,match:r,children:i}=e,n=Oe.useContext(Ak);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),Oe.createElement(cg.Provider,{value:t},i)}function oAe(e,t,r){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var n;if((n=r)!=null&&n.errors)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Xa(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;r&&(d=l.route.errorElement||iAe);let h=t.concat(a.slice(0,c+1)),f=()=>{let m;return u?m=d:l.route.Component?m=Oe.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,Oe.createElement(aAe,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?Oe.createElement(nAe,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var GF;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(GF||(GF={}));var W2;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(W2||(W2={}));function sAe(e){let t=Oe.useContext(Ak);return t||Xa(!1),t}function lAe(e){let t=Oe.useContext(sZ);return t||Xa(!1),t}function cAe(e){let t=Oe.useContext(cg);return t||Xa(!1),t}function dZ(e){let t=cAe(),r=t.matches[t.matches.length-1];return r.route.id||Xa(!1),r.route.id}function uAe(){var e;let t=Oe.useContext(lZ),r=lAe(W2.UseRouteError),i=dZ(W2.UseRouteError);return t||((e=r.errors)==null?void 0:e[i])}function dAe(){let{router:e}=sAe(GF.UseNavigateStable),t=dZ(W2.UseNavigateStable),r=Oe.useRef(!1);return cZ(()=>{r.current=!0}),Oe.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,bM({fromRouteId:t},a)))},[e,t])}function no(e){Xa(!1)}function hAe(e){let{basename:t="/",children:r=null,location:i,navigationType:n=dA.Pop,navigator:a,static:o=!1}=e;VC()&&Xa(!1);let s=t.replace(/^\/*/,"/"),l=Oe.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof i=="string"&&(i=Yb(i));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=i,m=Oe.useMemo(()=>{let A=pk(c,s);return A==null?null:{location:{pathname:A,search:u,hash:d,state:h,key:f},navigationType:n}},[s,c,u,d,h,f,n]);return m==null?null:Oe.createElement(p0.Provider,{value:l},Oe.createElement(vT.Provider,{children:r,value:m}))}function mk(e){let{children:t,location:r}=e;return eAe(qF(t),r)}var gV;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(gV||(gV={}));new Promise(()=>{});function qF(e,t){t===void 0&&(t=[]);let r=[];return Oe.Children.forEach(e,(i,n)=>{if(!Oe.isValidElement(i))return;let a=[...t,n];if(i.type===Oe.Fragment){r.push.apply(r,qF(i.props.children,a));return}i.type!==no&&Xa(!1),!i.props.index||!i.props.children||Xa(!1);let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=qF(i.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wM.apply(this,arguments)}function hZ(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function fAe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pAe(e,t){return e.button===0&&(!t||t==="_self")&&!fAe(e)}const AAe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],gAe=["aria-current","caseSensitive","className","end","style","to","children"];function mAe(e){let{basename:t,children:r,window:i}=e,n=Oe.useRef();n.current==null&&(n.current=Epe({window:i,v5Compat:!0}));let a=n.current,[o,s]=Oe.useState({action:a.action,location:a.location});return Oe.useLayoutEffect(()=>a.listen(s),[a]),Oe.createElement(hAe,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a})}const vAe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yAe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=Oe.forwardRef(function(t,r){let{onClick:i,relative:n,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u}=t,d=hZ(t,AAe),{basename:h}=Oe.useContext(p0),f,m=!1;if(typeof c=="string"&&yAe.test(c)&&(f=c,vAe))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),b=pk(y.pathname,h);y.origin===v.origin&&b!=null?c=b+y.search+y.hash:m=!0}catch{}let A=$pe(c,{relative:n}),g=wAe(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:n});function p(v){i&&i(v),v.defaultPrevented||g(v)}return Oe.createElement("a",wM({},d,{href:f||A,onClick:m||a?i:p,ref:r,target:l}))}),bAe=Oe.forwardRef(function(t,r){let{"aria-current":i="page",caseSensitive:n=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,u=hZ(t,gAe),d=gk(l,{relative:u.relative}),h=$b(),f=Oe.useContext(sZ),{navigator:m}=Oe.useContext(p0),A=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,g=h.pathname,p=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(g=g.toLowerCase(),p=p?p.toLowerCase():null,A=A.toLowerCase());let v=g===A||!o&&g.startsWith(A)&&g.charAt(A.length)==="/",y=p!=null&&(p===A||!o&&p.startsWith(A)&&p.charAt(A.length)==="/"),b=v?i:void 0,x;typeof a=="function"?x=a({isActive:v,isPending:y}):x=[a,v?"active":null,y?"pending":null].filter(Boolean).join(" ");let w=typeof s=="function"?s({isActive:v,isPending:y}):s;return Oe.createElement(Tn,wM({},u,{"aria-current":b,className:x,ref:r,style:w,to:l}),typeof c=="function"?c({isActive:v,isPending:y}):c)});var mV;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(mV||(mV={}));var vV;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vV||(vV={}));function wAe(e,t){let{target:r,replace:i,state:n,preventScrollReset:a,relative:o}=t===void 0?{}:t,s=uZ(),l=$b(),c=gk(e,{relative:o});return Oe.useCallback(u=>{if(pAe(u,r)){u.preventDefault();let d=i!==void 0?i:yM(l)===yM(c);s(e,{replace:d,state:n,preventScrollReset:a,relative:o})}},[l,s,c,i,n,r,e,a,o])}function xAe({title:e,titleId:t,...r},i){return Oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?Oe.createElement("title",{id:t},e):null,Oe.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"}))}const CAe=Oe.forwardRef(xAe),fZ=CAe;var mr={},pZ={},AZ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if(o==="string"||o==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var s=r.apply(null,a);s&&i.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){i.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&i.push(l)}}}return i.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(AZ);var Bi=AZ.exports,gZ={exports:{}},Lu={};function vk(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=mZ(e))&&(i&&(i+=" "),i+=t);return i}function mZ(e){if(typeof e=="string")return e;for(var t,r="",i=0;i<e.length;i++)e[i]&&(t=mZ(e[i]))&&(r&&(r+=" "),r+=t);return r}function _Ae(e){var t=function(a){var o=a.theme,s=a.prefix,l={nextPart:new Map,validators:[]};return function(c,u){return u?c.map(function(d){return[d[0],d[1].map(function(h){return typeof h=="string"?u+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(function(f){return[u+f[0],f[1]]})):h})]}):c}(Object.entries(a.classGroups),s).forEach(function(c){KF(c[1],l,c[0],o)}),l}(e),r=e.conflictingClassGroups,i=e.conflictingClassGroupModifiers,n=i===void 0?{}:i;return{getClassGroupId:function(a){var o=a.split("-");return o[0]===""&&o.length!==1&&o.shift(),vZ(o,t)||function(s){if(yV.test(s)){var l=yV.exec(s)[1],c=l==null?void 0:l.substring(0,l.indexOf(":"));if(c)return"arbitrary.."+c}}(a)},getConflictingClassGroupIds:function(a,o){var s=r[a]||[];return o&&n[a]?[].concat(s,n[a]):s}}}function vZ(e,t){var a;if(e.length===0)return t.classGroupId;var r=t.nextPart.get(e[0]),i=r?vZ(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var n=e.join("-");return(a=t.validators.find(function(o){return(0,o.validator)(n)}))==null?void 0:a.classGroupId}}Object.defineProperty(Lu,"__esModule",{value:!0});var yV=/^\[(.+)\]$/;function KF(e,t,r,i){e.forEach(function(n){if(typeof n!="string"){if(typeof n=="function")return n.isThemeGetter?void KF(n(i),t,r,i):void t.validators.push({validator:n,classGroupId:r});Object.entries(n).forEach(function(a){KF(a[1],bV(t,a[0]),r,i)})}else(n===""?t:bV(t,n)).classGroupId=r})}function bV(e,t){var r=e;return t.split("-").forEach(function(i){r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r}function SAe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,i=new Map;function n(a,o){r.set(a,o),++t>e&&(t=0,i=r,r=new Map)}return{get:function(a){var o=r.get(a);return o!==void 0?o:(o=i.get(a))!==void 0?(n(a,o),o):void 0},set:function(a,o){r.has(a)?r.set(a,o):n(a,o)}}}function EAe(e){var t=e.separator||":",r=t.length===1,i=t[0],n=t.length;return function(a){for(var o,s=[],l=0,c=0,u=0;u<a.length;u++){var d=a[u];if(l===0){if(d===i&&(r||a.slice(u,u+n)===t)){s.push(a.slice(c,u)),c=u+n;continue}if(d==="/"){o=u;continue}}d==="["?l++:d==="]"&&l--}var h=s.length===0?a:a.substring(c),f=h.startsWith("!");return{modifiers:s,hasImportantModifier:f,baseClassName:f?h.substring(1):h,maybePostfixModifierPosition:o&&o>c?o-c:void 0}}}function BAe(e){return{cache:SAe(e.cacheSize),splitModifiers:EAe(e),..._Ae(e)}}var MAe=/\s+/;function PAe(e,t){var r=t.splitModifiers,i=t.getClassGroupId,n=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(MAe).map(function(o){var s=r(o),l=s.modifiers,c=s.hasImportantModifier,u=s.baseClassName,d=s.maybePostfixModifierPosition,h=i(d?u.substring(0,d):u),f=!!d;if(!h){if(!d)return{isTailwindClass:!1,originalClassName:o};if(!(h=i(u)))return{isTailwindClass:!1,originalClassName:o};f=!1}var m=function(A){if(A.length<=1)return A;var g=[],p=[];return A.forEach(function(v){v[0]==="["?(g.push.apply(g,p.sort().concat([v])),p=[]):p.push(v)}),g.push.apply(g,p.sort()),g}(l).join(":");return{isTailwindClass:!0,modifierId:c?m+"!":m,classGroupId:h,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var s=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=s+l;return!a.has(u)&&(a.add(u),n(l,c).forEach(function(d){return a.add(s+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function XF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,n,a,o=s;function s(c){var u=t[0],d=t.slice(1).reduce(function(h,f){return f(h)},u());return i=BAe(d),n=i.cache.get,a=i.cache.set,o=l,l(c)}function l(c){var u=n(c);if(u)return u;var d=PAe(c,i);return a(c,d),d}return function(){return o(vk.apply(null,arguments))}}function Mn(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var yZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,TAe=/^\d+\/\d+$/,OAe=new Set(["px","full","screen"]),DAe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IAe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,FAe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function kc(e){return hA(e)||OAe.has(e)||TAe.test(e)||rf(e)}function rf(e){return A0(e,"length",LAe)}function bZ(e){return A0(e,"size",SZ)}function wZ(e){return A0(e,"position",SZ)}function xZ(e){return A0(e,"url",RAe)}function _y(e){return A0(e,"number",hA)}function hA(e){return!Number.isNaN(Number(e))}function CZ(e){return e.endsWith("%")&&hA(e.slice(0,-1))}function Zv(e){return wV(e)||A0(e,"number",wV)}function la(e){return yZ.test(e)}function ey(){return!0}function Xh(e){return DAe.test(e)}function _Z(e){return A0(e,"",UAe)}function A0(e,t,r){var i=yZ.exec(e);return!!i&&(i[1]?i[1]===t:r(i[2]))}function LAe(e){return IAe.test(e)}function SZ(){return!1}function RAe(e){return e.startsWith("url(")}function wV(e){return Number.isInteger(Number(e))}function UAe(e){return FAe.test(e)}var NAe={__proto__:null,isLength:kc,isArbitraryLength:rf,isArbitrarySize:bZ,isArbitraryPosition:wZ,isArbitraryUrl:xZ,isArbitraryNumber:_y,isArbitraryWeight:_y,isNumber:hA,isPercent:CZ,isInteger:Zv,isArbitraryValue:la,isAny:ey,isTshirtSize:Xh,isArbitraryShadow:_Z};function ZB(){var e=Mn("colors"),t=Mn("spacing"),r=Mn("blur"),i=Mn("brightness"),n=Mn("borderColor"),a=Mn("borderRadius"),o=Mn("borderSpacing"),s=Mn("borderWidth"),l=Mn("contrast"),c=Mn("grayscale"),u=Mn("hueRotate"),d=Mn("invert"),h=Mn("gap"),f=Mn("gradientColorStops"),m=Mn("gradientColorStopPositions"),A=Mn("inset"),g=Mn("margin"),p=Mn("opacity"),v=Mn("padding"),y=Mn("saturate"),b=Mn("scale"),x=Mn("sepia"),w=Mn("skew"),C=Mn("space"),_=Mn("translate"),B=function(){return["auto",t]},P=function(){return["",kc]},M=function(){return["auto",hA,la]},O=function(){return["","0",la]},I=function(){return[hA,_y]},F=function(){return[hA,la]};return{cacheSize:500,theme:{colors:[ey],spacing:[kc],blur:["none","",Xh,rf],brightness:I(),borderColor:[e],borderRadius:["none","","full",Xh,rf],borderSpacing:[t],borderWidth:P(),contrast:I(),grayscale:O(),hueRotate:F(),invert:O(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[CZ,rf],inset:B(),margin:B(),opacity:I(),padding:[t],saturate:I(),scale:I(),sepia:O(),skew:F(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",la]}],container:["container"],columns:[{columns:[Xh]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[la])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zv]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",la]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Zv]}],"grid-cols":[{"grid-cols":[ey]}],"col-start-end":[{col:["auto",{span:[Zv]},la]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ey]}],"row-start-end":[{row:["auto",{span:[Zv]},la]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",la]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",la]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",kc]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Xh]},Xh,rf]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",kc]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",Xh,rf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_y]}],"font-family":[{font:[ey]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rf]}],"line-clamp":[{"line-clamp":["none",hA,_y]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kc]}],"list-image":[{"list-image":["none",la]}],"list-style-type":[{list:["none","disc","decimal",la]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",kc]}],"underline-offset":[{"underline-offset":["auto",kc]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rf]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",la]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[wZ])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[kc]}],"outline-w":[{outline:[kc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[kc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xh,_Z]}],"shadow-color":[{shadow:[ey]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xh,la]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",la]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",la]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",la]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Zv,la]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",la]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",la]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",la]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kc,_y]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var kAe=XF(ZB);function xV(e,t){for(var r in t)EZ(e,r,t[r]);return e}var jAe=Object.prototype.hasOwnProperty,zAe=new Set(["string","number","boolean"]);function EZ(e,t,r){if(jAe.call(e,t)&&!zAe.has(typeof r)&&r!==null){if(Array.isArray(r)&&Array.isArray(e[t]))e[t]=e[t].concat(r);else if(typeof r=="object"&&typeof e[t]=="object"){if(e[t]===null)return void(e[t]=r);for(var i in r)EZ(e[t],i,r[i])}}else e[t]=r}var HAe=vk;Lu.createTailwindMerge=XF,Lu.extendTailwindMerge=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return XF.apply(void 0,typeof e=="function"?[ZB,e].concat(r):[function(){return xV(ZB(),e)}].concat(r))},Lu.fromTheme=Mn,Lu.getDefaultConfig=ZB,Lu.join=HAe,Lu.mergeConfigs=xV,Lu.twJoin=vk,Lu.twMerge=kAe,Lu.validators=NAe;gZ.exports=Lu;var Ri=gZ.exports,Si={},BZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});function t(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,d=new Array(c);u<c;u++)d[u]=l[u];return d}function r(l){if(Array.isArray(l))return t(l)}function i(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(l){return r(l)||i(l)||o(l)||n()}function o(l,c){if(l){if(typeof l=="string")return t(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(u);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return t(l,c)}}function s(l){var c=[];return Object.values(l).forEach(function(u){typeof u=="string"?c=a(c).concat([u]):typeof u=="object"&&!Array.isArray(u)&&u!==null&&(c=a(c).concat(a(s(u))))}),c}})(BZ);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});var t=r(BZ);function r(n){return n&&n.__esModule?n:{default:n}}function i(n){return(0,t.default)(n).join(" ")}})(Si);var yi={},MZ={exports:{}},VAe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QAe=VAe,WAe=QAe;function PZ(){}function TZ(){}TZ.resetWarningCache=PZ;var GAe=function(){function e(i,n,a,o,s,l){if(l!==WAe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TZ,resetWarningCache:PZ};return r.PropTypes=r,r};MZ.exports=GAe();var wi=MZ.exports;const fc=HY(wi);var qAe=function(t){return KAe(t)&&!XAe(t)};function KAe(e){return!!e&&typeof e=="object"}function XAe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||JAe(e)}var YAe=typeof Symbol=="function"&&Symbol.for,$Ae=YAe?Symbol.for("react.element"):60103;function JAe(e){return e.$$typeof===$Ae}function ZAe(e){return Array.isArray(e)?[]:{}}function G2(e,t){return t.clone!==!1&&t.isMergeableObject(e)?bb(ZAe(e),e,t):e}function ege(e,t,r){return e.concat(t).map(function(i){return G2(i,r)})}function tge(e,t){if(!t.customMerge)return bb;var r=t.customMerge(e);return typeof r=="function"?r:bb}function rge(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function CV(e){return Object.keys(e).concat(rge(e))}function OZ(e,t){try{return t in e}catch{return!1}}function ige(e,t){return OZ(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function nge(e,t,r){var i={};return r.isMergeableObject(e)&&CV(e).forEach(function(n){i[n]=G2(e[n],r)}),CV(t).forEach(function(n){ige(e,n)||(OZ(e,n)&&r.isMergeableObject(t[n])?i[n]=tge(n,r)(e[n],t[n],r):i[n]=G2(t[n],r))}),i}function bb(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||ege,r.isMergeableObject=r.isMergeableObject||qAe,r.cloneUnlessOtherwiseSpecified=G2;var i=Array.isArray(t),n=Array.isArray(e),a=i===n;return a?i?r.arrayMerge(e,t,r):nge(e,t,r):G2(t,r)}bb.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,n){return bb(i,n,r)},{})};var age=bb,uu=age,yk={},DZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{accordion:function(){return r},default:function(){return i}});var r={defaultProps:{icon:void 0,className:"",animate:{unmount:{},mount:{}},disabled:!1},styles:{base:{container:{display:"block",position:"relative",width:"w-full"},header:{initial:{display:"flex",justifyContent:"justify-between",alignItems:"items-center",width:"w-full",py:"py-4",borderWidth:"border-b border-b-blue-gray-100",color:"text-blue-gray-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-semibold",lineHeight:"leading-snug",userSelect:"select-none",hover:"hover:text-blue-gray-900",transition:"transition-colors"},active:{color:"text-blue-gray-900"},icon:{width:"w-5",height:"h-5",ml:"ml-4"}},body:{display:"block",width:"w-full",py:"py-4",color:"text-gray-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"},disabled:{pointerEvents:"pointer-events-none",opacity:"opacity-50"}}}},i=r})(DZ);var IZ={},FZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},r=t})(FZ);var LZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},r=t})(LZ);var bk={},Ls={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}t(e,{propTypesColors:function(){return n},propTypesAnimation:function(){return a},propTypesDismissType:function(){return o},propTypesOffsetType:function(){return s},propTypesPlacements:function(){return l}});var r=i(wi);function i(c){return c&&c.__esModule?c:{default:c}}var n=["blue-gray","gray","brown","deep-orange","orange","amber","yellow","lime","light-green","green","teal","cyan","light-blue","blue","indigo","deep-purple","purple","pink","red"],a=r.default.shape({mount:r.default.instanceOf(Object),unmount:r.default.instanceOf(Object)}),o=r.default.shape({enabled:r.default.bool,escapeKey:r.default.bool,referencePointerDown:r.default.bool,outsidePointerDown:r.default.bool,ancestorScroll:r.default.bool,bubbles:r.default.bool}),s=r.default.oneOfType([r.default.number,r.default.shape({mainAxis:r.default.number,crossAxis:r.default.number,alignmentAxis:r.default.number})]),l=["top-start","top","top-end","right-start","right","right-end","bottom-start","bottom","bottom-end","left-start","left","left-end"]})(Ls);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{propTypesVariant:function(){return a},propTypesColor:function(){return o},propTypesIcon:function(){return s},propTypesShow:function(){return l},propTypesDismissible:function(){return c},propTypesAnimate:function(){return u},propTypesClassName:function(){return d},propTypesChildren:function(){return h}});var r=n(wi),i=Ls;function n(f){return f&&f.__esModule?f:{default:f}}var a=["filled","gradient"],o=i.propTypesColors,s=r.default.node,l=r.default.bool,c=r.default.shape({action:r.default.node,onClose:r.default.func.isRequired}),u=i.propTypesAnimation,d=r.default.string,h=r.default.node.isRequired})(bk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{alert:function(){return o},default:function(){return s}});var r=a(FZ),i=a(LZ),n=bk;function a(l){return l&&l.__esModule?l:{default:l}}var o={defaultProps:{variant:"filled",color:"blue",icon:void 0,show:!0,dismissble:{action:"",onClose:function(){}},animate:{unmount:{},mount:{}},className:""},valid:{variants:n.propTypesVariant,colors:n.propTypesColor},styles:{base:{position:"relative",display:"block",width:"w-full",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-regular",px:"px-4",py:"py-4",borderRadius:"rounded-lg"},variants:{filled:r.default,gradient:i.default}}},s=o})(IZ);var RZ={},wk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){for(var c in l)Object.defineProperty(s,c,{enumerable:!0,get:l[c]})}t(e,{propTypesVariant:function(){return n},propTypesSize:function(){return a},propTypesClassName:function(){return o}});var r=i(wi);function i(s){return s&&s.__esModule?s:{default:s}}var n=["rounded","circular"],a=["xs","sm","md","lg","xl","xxl"],o=r.default.string})(wk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,o){for(var s in o)Object.defineProperty(a,s,{enumerable:!0,get:o[s]})}t(e,{avatar:function(){return i},default:function(){return n}});var r=wk,i={defaultProps:{variant:"rounded",size:"md",className:""},valid:{variants:r.propTypesVariant,sizes:r.propTypesSize},styles:{base:{display:"inline-block",position:"relative",objectFit:"object-cover",objectPosition:"object-center"},sizes:{xs:{width:"w-6",height:"h-6",borderRadius:"rounded-md"},sm:{width:"w-9",height:"h-9",borderRadius:"rounded-md"},md:{width:"w-12",height:"h-12",borderRadius:"rounded-lg"},lg:{width:"w-[58px]",height:"h-[58px]",borderRadius:"rounded-lg"},xl:{width:"w-[74px]",height:"h-[74px]",borderRadius:"rounded-xl"},xxl:{width:"w-[110px]",height:"h-[110px]",borderRadius:"rounded-2xl"}},variants:{rounded:{},circular:{borderRadius:"!rounded-full"}}}},n=i})(RZ);var UZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{breadcrumbs:function(){return r},default:function(){return i}});var r={defaultProps:{className:"",fullWidth:!1,separator:"/"},styles:{base:{root:{initial:{width:"w-max"},fullWidth:{display:"block",width:"w-full"}},list:{display:"flex",flexWrap:"flex-wrap",alignItems:"items-center",width:"w-full",bg:"bg-blue-gray-50",bgOpacity:"bg-opacity-60",py:"py-2",px:"px-4",borderRadius:"rounded-md"},item:{initial:{display:"flex",alignItems:"items-center",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",lineHeight:"leading-normal",cursor:"cursor-pointer",transition:"transition-colors duration-300",hover:"hover:text-light-blue-500"},disabled:{pointerEvents:"pointer-events-none"}},separator:{color:"text-blue-gray-500",fontSize:"text-sm",fontSmoothing:"antialiased",fontFamily:"font-sans",fontWeight:"font-normal",lineHeight:"leading-normal",px:"mx-2",pointerEvents:"pointer-events-none",userSelcet:"select-none"}}}},i=r})(UZ);var NZ={},xk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={white:{backgroud:"bg-white",color:"text-blue-gray-900",shadow:"shadow-md shadow-blue-gray-500/10",hover:"hover:shadow-lg hover:shadow-blue-gray-500/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white",shadow:"shadow-md shadow-blue-gray-500/20",hover:"hover:shadow-lg hover:shadow-blue-gray-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},gray:{backgroud:"bg-gray-500",color:"text-white",shadow:"shadow-md shadow-gray-500/20",hover:"hover:shadow-lg hover:shadow-gray-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},brown:{backgroud:"bg-brown-500",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},orange:{backgroud:"bg-orange-500",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},amber:{backgroud:"bg-amber-500",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},yellow:{backgroud:"bg-yellow-500",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},lime:{backgroud:"bg-lime-500",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-green":{backgroud:"bg-light-green-500",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},green:{backgroud:"bg-green-500",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},teal:{backgroud:"bg-teal-500",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},cyan:{backgroud:"bg-cyan-500",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},blue:{backgroud:"bg-blue-500",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},indigo:{backgroud:"bg-indigo-500",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},purple:{backgroud:"bg-purple-500",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},pink:{backgroud:"bg-pink-500",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},red:{backgroud:"bg-red-500",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"}},r=t})(xk);var Ck={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={white:{backgroud:"bg-white",color:"text-blue-gray-900",shadow:"shadow-md shadow-blue-gray-500/10",hover:"hover:shadow-lg hover:shadow-blue-gray-500/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white",shadow:"shadow-md shadow-blue-gray-500/20",hover:"hover:shadow-lg hover:shadow-blue-gray-500/40",active:"active:opacity-[0.85]"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white",shadow:"shadow-md shadow-gray-500/20",hover:"hover:shadow-lg hover:shadow-gray-500/40",active:"active:opacity-[0.85]"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",active:"active:opacity-[0.85]"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",active:"active:opacity-[0.85]"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",active:"active:opacity-[0.85]"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",active:"active:opacity-[0.85]"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",active:"active:opacity-[0.85]"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",active:"active:opacity-[0.85]"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",active:"active:opacity-[0.85]"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",active:"active:opacity-[0.85]"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",active:"active:opacity-[0.85]"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",active:"active:opacity-[0.85]"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",active:"active:opacity-[0.85]"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",active:"active:opacity-[0.85]"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",active:"active:opacity-[0.85]"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",active:"active:opacity-[0.85]"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",active:"active:opacity-[0.85]"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",active:"active:opacity-[0.85]"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",active:"active:opacity-[0.85]"}},r=t})(Ck);var _k={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={white:{border:"border border-white",color:"text-white",hover:"hover:opacity-75",focus:"focus:ring focus:ring-white/50",active:"active:opacity-[0.85]"},"blue-gray":{border:"border border-blue-gray-500",color:"text-blue-gray-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-gray-200",active:"active:opacity-[0.85]"},gray:{border:"border border-gray-500",color:"text-gray-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-gray-200",active:"active:opacity-[0.85]"},brown:{border:"border border-brown-500",color:"text-brown-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-brown-200",active:"active:opacity-[0.85]"},"deep-orange":{border:"border border-deep-orange-500",color:"text-deep-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-orange-200",active:"active:opacity-[0.85]"},orange:{border:"border border-orange-500",color:"text-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-orange-200",active:"active:opacity-[0.85]"},amber:{border:"border border-amber-500",color:"text-amber-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-amber-200",active:"active:opacity-[0.85]"},yellow:{border:"border border-yellow-500",color:"text-yellow-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-yellow-200",active:"active:opacity-[0.85]"},lime:{border:"border border-lime-500",color:"text-lime-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-lime-200",active:"active:opacity-[0.85]"},"light-green":{border:"border border-light-green-500",color:"text-light-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-green-200",active:"active:opacity-[0.85]"},green:{border:"border border-green-500",color:"text-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-green-200",active:"active:opacity-[0.85]"},teal:{border:"border border-teal-500",color:"text-teal-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-teal-200",active:"active:opacity-[0.85]"},cyan:{border:"border border-cyan-500",color:"text-cyan-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-cyan-200",active:"active:opacity-[0.85]"},"light-blue":{border:"border border-light-blue-500",color:"text-light-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-blue-200",active:"active:opacity-[0.85]"},blue:{border:"border border-blue-500",color:"text-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-200",active:"active:opacity-[0.85]"},indigo:{border:"border border-indigo-500",color:"text-indigo-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-indigo-200",active:"active:opacity-[0.85]"},"deep-purple":{border:"border border-deep-purple-500",color:"text-deep-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-purple-200",active:"active:opacity-[0.85]"},purple:{border:"border border-purple-500",color:"text-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-purple-200",active:"active:opacity-[0.85]"},pink:{border:"border border-pink-500",color:"text-pink-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-pink-200",active:"active:opacity-[0.85]"},red:{border:"border border-red-500",color:"text-red-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-red-200",active:"active:opacity-[0.85]"}},r=t})(_k);var Sk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={white:{color:"text-white",hover:"hover:bg-white/10",active:"active:bg-white/30"},"blue-gray":{color:"text-blue-gray-500",hover:"hover:bg-blue-gray-500/10",active:"active:bg-blue-gray-500/30"},gray:{color:"text-gray-500",hover:"hover:bg-gray-500/10",active:"active:bg-gray-500/30"},brown:{color:"text-brown-500",hover:"hover:bg-brown-500/10",active:"active:bg-brown-500/30"},"deep-orange":{color:"text-deep-orange-500",hover:"hover:bg-deep-orange-500/10",active:"active:bg-deep-orange-500/30"},orange:{color:"text-orange-500",hover:"hover:bg-orange-500/10",active:"active:bg-orange-500/30"},amber:{color:"text-amber-500",hover:"hover:bg-amber-500/10",active:"active:bg-amber-500/30"},yellow:{color:"text-yellow-500",hover:"hover:bg-yellow-500/10",active:"active:bg-yellow-500/30"},lime:{color:"text-lime-500",hover:"hover:bg-lime-500/10",active:"active:bg-lime-500/30"},"light-green":{color:"text-light-green-500",hover:"hover:bg-light-green-500/10",active:"active:bg-light-green-500/30"},green:{color:"text-green-500",hover:"hover:bg-green-500/10",active:"active:bg-green-500/30"},teal:{color:"text-teal-500",hover:"hover:bg-teal-500/10",active:"active:bg-teal-500/30"},cyan:{color:"text-cyan-500",hover:"hover:bg-cyan-500/10",active:"active:bg-cyan-500/30"},"light-blue":{color:"text-light-blue-500",hover:"hover:bg-light-blue-500/10",active:"active:bg-light-blue-500/30"},blue:{color:"text-blue-500",hover:"hover:bg-blue-500/10",active:"active:bg-blue-500/30"},indigo:{color:"text-indigo-500",hover:"hover:bg-indigo-500/10",active:"active:bg-indigo-500/30"},"deep-purple":{color:"text-deep-purple-500",hover:"hover:bg-deep-purple-500/10",active:"active:bg-deep-purple-500/30"},purple:{color:"text-purple-500",hover:"hover:bg-purple-500/10",active:"active:bg-purple-500/30"},pink:{color:"text-pink-500",hover:"hover:bg-pink-500/10",active:"active:bg-pink-500/30"},red:{color:"text-red-500",hover:"hover:bg-red-500/10",active:"active:bg-red-500/30"}},r=t})(Sk);var QC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{propTypesVariant:function(){return d},propTypesSize:function(){return h},propTypesColor:function(){return f},propTypesFullWidth:function(){return m},propTypesRipple:function(){return A},propTypesClassName:function(){return g},propTypesChildren:function(){return p}});var r=o(wi),i=Ls;function n(v,y){(y==null||y>v.length)&&(y=v.length);for(var b=0,x=new Array(y);b<y;b++)x[b]=v[b];return x}function a(v){if(Array.isArray(v))return n(v)}function o(v){return v&&v.__esModule?v:{default:v}}function s(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(v){return a(v)||s(v)||u(v)||l()}function u(v,y){if(v){if(typeof v=="string")return n(v,y);var b=Object.prototype.toString.call(v).slice(8,-1);if(b==="Object"&&v.constructor&&(b=v.constructor.name),b==="Map"||b==="Set")return Array.from(b);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return n(v,y)}}var d=["filled","outlined","gradient","text"],h=["sm","md","lg"],f=["white"].concat(c(i.propTypesColors)),m=r.default.bool,A=r.default.bool,g=r.default.string,p=r.default.node.isRequired})(QC);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(u,d){for(var h in d)Object.defineProperty(u,h,{enumerable:!0,get:d[h]})}t(e,{button:function(){return l},default:function(){return c}});var r=s(xk),i=s(Ck),n=s(_k),a=s(Sk),o=QC;function s(u){return u&&u.__esModule?u:{default:u}}var l={defaultProps:{variant:"filled",size:"md",color:"blue",fullWidth:!1,ripple:!0,className:""},valid:{variants:o.propTypesVariant,sizes:o.propTypesSize,colors:o.propTypesColor},styles:{base:{initial:{verticalAlign:"middle",userSelect:"none",fontFamily:"font-sans",fontWeight:"font-bold",textAlign:"center",textTransform:"uppercase",transition:"transition-all",disabled:"disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none"},fullWidth:{display:"block",width:"w-full"}},sizes:{sm:{fontSize:"text-xs",py:"py-2",px:"px-4",borderRadius:"rounded-lg"},md:{fontSize:"text-xs",py:"py-3",px:"px-6",borderRadius:"rounded-lg"},lg:{fontSize:"text-sm",py:"py-3.5",px:"px-7",borderRadius:"rounded-lg"}},variants:{filled:r.default,gradient:i.default,outlined:n.default,text:a.default}}},c=l})(NZ);var kZ={},Ek={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={transparent:{backgroud:"bg-transparent",color:"text-gray-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-gray-700"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white",shadow:"shadow-blue-gray-500/40"},gray:{backgroud:"bg-gray-500",color:"text-white",shadow:"shadow-gray-500/40"},brown:{backgroud:"bg-brown-500",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-orange-500",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-amber-500",color:"text-gray-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-yellow-500",color:"text-gray-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-lime-500",color:"text-gray-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-light-green-500",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-green-500",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-teal-500",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-cyan-500",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-blue-500",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-indigo-500",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-purple-500",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-pink-500",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-red-500",color:"text-white",shadow:"shadow-red-500/40"}},r=t})(Ek);var Bk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={transparent:{backgroud:"bg-transparent",color:"text-gray-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-gray-700"},"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white",shadow:"shadow-blue-gray-500/40"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white",shadow:"shadow-gray-500/40"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-gray-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-gray-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-gray-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-red-500/40"}},r=t})(Bk);var g0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{propTypesVariant:function(){return d},propTypesColor:function(){return h},propTypesShadow:function(){return f},propTypesFloated:function(){return m},propTypesDivider:function(){return A},propTypesClassName:function(){return g},propTypesChildren:function(){return p}});var r=o(wi),i=Ls;function n(v,y){(y==null||y>v.length)&&(y=v.length);for(var b=0,x=new Array(y);b<y;b++)x[b]=v[b];return x}function a(v){if(Array.isArray(v))return n(v)}function o(v){return v&&v.__esModule?v:{default:v}}function s(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(v){return a(v)||s(v)||u(v)||l()}function u(v,y){if(v){if(typeof v=="string")return n(v,y);var b=Object.prototype.toString.call(v).slice(8,-1);if(b==="Object"&&v.constructor&&(b=v.constructor.name),b==="Map"||b==="Set")return Array.from(b);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return n(v,y)}}var d=["filled","gradient"],h=["transparent","white"].concat(c(i.propTypesColors)),f=r.default.bool,m=r.default.bool,A=r.default.bool,g=r.default.string,p=r.default.node.isRequired})(g0);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Ek),r=n(Bk),i=g0;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{variant:"filled",color:"white",shadow:!0,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{base:{initial:{position:"relative",display:"flex",flexDirection:"flex-col",backgroundClip:"bg-clip-border",borderRadius:"rounded-xl"},shadow:{boxShadow:"shadow-md"}},variants:{filled:t.default,gradient:r.default}}},o=a})(kZ);var jZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{cardBody:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{p:"p-6"}}},i=r})(jZ);var zZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{cardFooter:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{initial:{p:"p-6"},divider:{borderWidth:"border-t",borderColor:"border-blue-gray-50"}}}},i=r})(zZ);var HZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Ek),r=n(Bk),i=g0;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{variant:"filled",color:"white",shadow:!0,floated:!0,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{base:{initial:{position:"relative",backgroundClip:"bg-clip-border",mt:"mt-4",mx:"mx-4",borderRadius:"rounded-xl",overflow:"overflow-hidden"},shadow:{boxShadow:"shadow-lg"},floated:{mt:"-mt-6"}},variants:{filled:t.default,gradient:r.default}}},o=a})(HZ);var VZ={},QZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{background:"checked:bg-blue-gray-500",border:"checked:border-blue-gray-500",before:"checked:before:bg-blue-gray-500"},gray:{background:"checked:bg-gray-500",border:"checked:border-gray-500",before:"checked:before:bg-gray-500"},brown:{background:"checked:bg-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{background:"checked:bg-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{background:"checked:bg-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{background:"checked:bg-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{background:"checked:bg-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{background:"checked:bg-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{background:"checked:bg-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{background:"checked:bg-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{background:"checked:bg-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{background:"checked:bg-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{background:"checked:bg-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{background:"checked:bg-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{background:"checked:bg-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{background:"checked:bg-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{background:"checked:bg-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{background:"checked:bg-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{background:"checked:bg-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}},r=t})(QZ);var m0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{propTypesColor:function(){return a},propTypesLabel:function(){return o},propTypesIcon:function(){return s},propTypesRipple:function(){return l},propTypesClassName:function(){return c},propTypesContainerProps:function(){return u},propTypesLabelProps:function(){return d},propTypesCircleProps:function(){return h}});var r=n(wi),i=Ls;function n(f){return f&&f.__esModule?f:{default:f}}var a=i.propTypesColors,o=r.default.string,s=r.default.node,l=r.default.bool,c=r.default.string,u=r.default.instanceOf(Object),d=r.default.instanceOf(Object),h=r.default.instanceOf(Object)})(m0);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){for(var c in l)Object.defineProperty(s,c,{enumerable:!0,get:l[c]})}t(e,{checkbox:function(){return a},default:function(){return o}});var r=n(QZ),i=m0;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{color:"blue",label:"",icon:void 0,ripple:!0,className:"",containerProps:{},labelProps:{}},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-md",borderColor:"border-blue-gray-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"}},colors:r.default}},o=a})(VZ);var WZ={},GZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},r=t})(GZ);var qZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},r=t})(qZ);var KZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{default:"bg-blue-gray-800",hover:"hover:bg-blue-gray-900"},gray:{default:"bg-gray-800",hover:"hover:bg-gray-900"},brown:{default:"bg-brown-800",hover:"hover:bg-brown-900"},"deep-orange":{default:"bg-deep-orange-800",hover:"hover:bg-deep-orange-900"},orange:{default:"bg-orange-800",hover:"hover:bg-orange-900"},amber:{default:"bg-amber-800",hover:"hover:bg-amber-900"},yellow:{default:"bg-yellow-800",hover:"hover:bg-yellow-900"},lime:{default:"bg-lime-800",hover:"hover:bg-lime-900"},"light-green":{default:"bg-light-green-800",hover:"hover:bg-light-green-900"},green:{default:"bg-green-800",hover:"hover:bg-green-900"},teal:{default:"bg-teal-800",hover:"hover:bg-teal-900"},cyan:{default:"bg-cyan-800",hover:"hover:bg-cyan-900"},"light-blue":{default:"bg-light-blue-800",hover:"hover:bg-light-blue-900"},blue:{default:"bg-blue-800",hover:"hover:bg-blue-900"},indigo:{default:"bg-indigo-800",hover:"hover:bg-indigo-900"},"deep-purple":{default:"bg-deep-purple-800",hover:"hover:bg-deep-purple-900"},purple:{default:"bg-purple-800",hover:"hover:bg-purple-900"},pink:{default:"bg-pink-800",hover:"hover:bg-pink-900"},red:{default:"bg-red-800",hover:"hover:bg-red-900"}},r=t})(KZ);var Mk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{propTypesVariant:function(){return a},propTypesColor:function(){return o},propTypesIcon:function(){return s},propTypesShow:function(){return l},propTypesDismissible:function(){return c},propTypesAnimate:function(){return u},propTypesClassName:function(){return d},propTypesValue:function(){return h}});var r=n(wi),i=Ls;function n(f){return f&&f.__esModule?f:{default:f}}var a=["filled","gradient"],o=i.propTypesColors,s=r.default.node,l=r.default.bool,c=r.default.shape({action:r.default.node,onClose:r.default.func.isRequired}),u=i.propTypesAnimation,d=r.default.string,h=r.default.oneOfType([r.default.string,r.default.number]).isRequired})(Mk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}t(e,{chip:function(){return s},default:function(){return l}});var r=o(GZ),i=o(qZ),n=o(KZ),a=Mk;function o(c){return c&&c.__esModule?c:{default:c}}var s={defaultProps:{variant:"filled",color:"blue",icon:void 0,show:!0,dismissble:{action:"",onClose:function(){}},animate:{unmount:{},mount:{}},className:""},valid:{variants:a.propTypesVariant,colors:a.propTypesColor},styles:{base:{position:"relative",display:"inline-block",align:"align-baseline",fontFamily:"font-sans",fontSize:"text-xs",fontWeight:"font-bold",textTransform:"uppercase",textAlign:"center",lineHeight:"leading-none",whiteSpace:"whitespace-nowrap",py:"py-2",px:"px-3.5",borderRadius:"rounded-lg",userSelect:"select-none"},variants:{filled:r.default,gradient:i.default},closeButtonColor:n.default}},l=s})(WZ);var XZ={},Jb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{propTypesOpen:function(){return a},propTypesHandler:function(){return o},propTypesSize:function(){return s},propTypesDismiss:function(){return l},propTypesAnimate:function(){return c},propTypesDivider:function(){return u},propTypesClassName:function(){return d},propTypesChildren:function(){return h}});var r=n(wi),i=Ls;function n(f){return f&&f.__esModule?f:{default:f}}var a=r.default.bool.isRequired,o=r.default.func,s=["xs","sm","md","lg","xl","xxl"],l=i.propTypesDismissType,c=i.propTypesAnimation,u=r.default.bool,d=r.default.string,h=r.default.node.isRequired})(Jb);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,o){for(var s in o)Object.defineProperty(a,s,{enumerable:!0,get:o[s]})}t(e,{dialog:function(){return i},default:function(){return n}});var r=Jb,i={defaultProps:{size:"md",dismiss:{},animate:{unmount:{},mount:{}},className:""},valid:{sizes:r.propTypesSize},styles:{base:{backdrop:{display:"grid",placeItems:"place-items-center",position:"fixed",top:0,left:0,width:"w-screen",height:"h-screen",backgroundColor:"bg-black",backgroundOpacity:"bg-opacity-60",backdropFilter:"backdrop-blur-sm"},container:{position:"relative",bg:"bg-white",m:"m-4",borderRadius:"rounded-lg",boxShadow:"shadow-2xl",color:"text-blue-gray-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed",overflow:"overflow-hidden"}},sizes:{xs:{width:"w-1/4",minWidth:"min-w-[25%]",maxWidth:"max-w-[25%]"},sm:{width:"w-1/3",minWidth:"min-w-[33.333333%]",maxWidth:"max-w-[33.333333%]"},md:{width:"w-2/5",minWidth:"min-w-[40%]",maxWidth:"max-w-[40%]"},lg:{width:"w-3/5",minWidth:"min-w-[60%]",maxWidth:"max-w-[60%]"},xl:{width:"w-3/4",minWidth:"min-w-[75%]",maxWidth:"max-w-[75%]"},xxl:{display:"flex",flexDirection:"flex-col",width:"w-screen",minWidth:"min-w-[100vw]",maxWidth:"max-w-[100vw]",height:"h-screen",minHeight:"min-h-[100vh]",maxHeight:"max-h-[100vh]",m:"m-0",borderRadius:"rounded-none"}}}},n=i})(XZ);var YZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{dialogBody:function(){return r},default:function(){return i}});var r={defaultProps:{className:"",divider:!1},styles:{base:{initial:{position:"relative",display:"flex",flex:"flex-auto",p:"p-4",color:"text-blue-gray-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},divider:{borderTop:"border-t",borderTopColor:"border-t-blue-gray-100",borderBottom:"border-b",borderBottomColor:"border-b-blue-gray-100"}}}},i=r})(YZ);var $Z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{dialogFooter:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",justifyContent:"justify-end",flexShrink:"shrink-0",flexWrap:"flex-wrap",p:"p-4",color:"text-blue-gray-500"}}},i=r})($Z);var JZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{dialogHeader:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",flexShrink:"shrink-0",p:"p-4",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"}}},i=r})(JZ);var ZZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(u,d){for(var h in d)Object.defineProperty(u,h,{enumerable:!0,get:d[h]})}t(e,{iconButton:function(){return l},default:function(){return c}});var r=s(xk),i=s(Ck),n=s(_k),a=s(Sk),o=QC;function s(u){return u&&u.__esModule?u:{default:u}}var l={defaultProps:{variant:"filled",size:"md",color:"blue",fullWidth:!1,ripple:!0,className:""},valid:{variants:o.propTypesVariant,sizes:o.propTypesSize,colors:o.propTypesColor},styles:{base:{position:"relative",verticalAlign:"middle",userSelect:"none",fontFamily:"font-sans",fontWeight:"font-medium",textAlign:"text-center",textTransform:"uppercase",transition:"transition-all",disabled:"disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none"},sizes:{sm:{width:"w-8",maxWidth:"max-w-[32px]",height:"h-8",maxHeight:"max-h-[32px]",borderRadius:"rounded-lg",fontSize:"text-xs"},md:{width:"w-10",maxWidth:"max-w-[40px]",height:"h-10",maxHeight:"max-h-[40px]",borderRadius:"rounded-lg",fontSize:"text-xs"},lg:{width:"w-12",maxWidth:"max-w-[48px]",height:"h-12",maxHeight:"max-h-[48px]",borderRadius:"rounded-lg",fontSize:"text-sm"}},variants:{filled:r.default,gradient:i.default,outlined:n.default,text:a.default}}},c=l})(ZZ);var eee={},tee={},ree={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},r=t})(ree);var iee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(iee);var nee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-400 peer-focus:text-blue-gray-500",before:"before:border-blue-gray-200 peer-focus:before:border-blue-gray-500",after:"after:border-blue-gray-200 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-400 peer-focus:text-gray-500",before:"before:border-blue-gray-200 peer-focus:before:border-gray-500",after:"after:border-blue-gray-200 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-400 peer-focus:text-brown-500",before:"before:border-blue-gray-200 peer-focus:before:border-brown-500",after:"after:border-blue-gray-200 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-400 peer-focus:text-deep-orange-500",before:"before:border-blue-gray-200 peer-focus:before:border-deep-orange-500",after:"after:border-blue-gray-200 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-400 peer-focus:text-orange-500",before:"before:border-blue-gray-200 peer-focus:before:border-orange-500",after:"after:border-blue-gray-200 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-400 peer-focus:text-amber-500",before:"before:border-blue-gray-200 peer-focus:before:border-amber-500",after:"after:border-blue-gray-200 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-400 peer-focus:text-yellow-500",before:"before:border-blue-gray-200 peer-focus:before:border-yellow-500",after:"after:border-blue-gray-200 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-400 peer-focus:text-lime-500",before:"before:border-blue-gray-200 peer-focus:before:border-lime-500",after:"after:border-blue-gray-200 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-400 peer-focus:text-light-green-500",before:"before:border-blue-gray-200 peer-focus:before:border-light-green-500",after:"after:border-blue-gray-200 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-400 peer-focus:text-green-500",before:"before:border-blue-gray-200 peer-focus:before:border-green-500",after:"after:border-blue-gray-200 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-400 peer-focus:text-teal-500",before:"before:border-blue-gray-200 peer-focus:before:border-teal-500",after:"after:border-blue-gray-200 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-400 peer-focus:text-cyan-500",before:"before:border-blue-gray-200 peer-focus:before:border-cyan-500",after:"after:border-blue-gray-200 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-400 peer-focus:text-light-blue-500",before:"before:border-blue-gray-200 peer-focus:before:border-light-blue-500",after:"after:border-blue-gray-200 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-400 peer-focus:text-blue-500",before:"before:border-blue-gray-200 peer-focus:before:border-blue-500",after:"after:border-blue-gray-200 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-400 peer-focus:text-indigo-500",before:"before:border-blue-gray-200 peer-focus:before:border-indigo-500",after:"after:border-blue-gray-200 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-400 peer-focus:text-deep-purple-500",before:"before:border-blue-gray-200 peer-focus:before:border-deep-purple-500",after:"after:border-blue-gray-200 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-400 peer-focus:text-purple-500",before:"before:border-blue-gray-200 peer-focus:before:border-purple-500",after:"after:border-blue-gray-200 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-400 peer-focus:text-pink-500",before:"before:border-blue-gray-200 peer-focus:before:border-pink-500",after:"after:border-blue-gray-200 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-400 peer-focus:text-red-500",before:"before:border-blue-gray-200 peer-focus:before:border-red-500",after:"after:border-blue-gray-200 peer-focus:after:border-red-500"}},r=t})(nee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(ree),r=n(iee),i=n(nee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{input:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"}},inputWithIcon:{pr:"!pr-9"},icon:{top:"top-2/4",right:"right-3",transform:"-translate-y-2/4"},label:t.default},sizes:{md:{container:{height:"h-10"},input:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-11"},input:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:r.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(tee);var aee={},oee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},r=t})(oee);var see={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(see);var lee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-500 peer-focus:text-gray-500",after:"after:border-gray-500 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},r=t})(lee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(oee),r=n(see),i=n(lee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:t.default},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:r.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(aee);var cee={},uee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},r=t})(uee);var dee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(dee);var hee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-500 peer-focus:text-gray-500",after:"after:border-gray-500 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},r=t})(hee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(uee),r=n(dee),i=n(hee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:t.default},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-6",height:"h-6"}}},colors:{input:r.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(cee);var WC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{propTypesVariant:function(){return a},propTypesSize:function(){return o},propTypesColor:function(){return s},propTypesLabel:function(){return l},propTypesError:function(){return c},propTypesSuccess:function(){return u},propTypesIcon:function(){return d},propTypesResize:function(){return h},propTypesLabelProps:function(){return f},propTypesContainerProps:function(){return m},propTypesClassName:function(){return A}});var r=n(wi),i=Ls;function n(g){return g&&g.__esModule?g:{default:g}}var a=["standard","outlined","static"],o=["md","lg"],s=i.propTypesColors,l=r.default.string,c=r.default.bool,u=r.default.bool,d=r.default.node,h=r.default.bool,f=r.default.instanceOf(Object),m=r.default.instanceOf(Object),A=r.default.string})(WC);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}t(e,{input:function(){return s},default:function(){return l}});var r=o(tee),i=o(aee),n=o(cee),a=WC;function o(c){return c&&c.__esModule?c:{default:c}}var s={defaultProps:{variant:"outlined",size:"md",color:"blue",label:"",error:!1,success:!1,icon:void 0,labelProps:{},className:""},valid:{variants:a.propTypesVariant,sizes:a.propTypesSize,colors:a.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},input:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline outline-0 focus:outline-0",disabled:"disabled:bg-blue-gray-50 disabled:border-0",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",color:"peer-placeholder-shown:text-blue-gray-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500",transition:"transition-all"},icon:{display:"grid",placeItems:"place-items-center",position:"absolute",color:"text-blue-gray-500"}},variants:{outlined:r.default,standard:i.default,static:n.default}}},l=s})(eee);var fee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{menu:function(){return r},default:function(){return i}});var r={defaultProps:{placement:"bottom",offset:5,dismiss:{},animate:{unmount:{},mount:{}},lockScroll:!1},styles:{base:{menu:{bg:"bg-white",minWidth:"min-w-[180px]",p:"p-3",border:"border border-blue-gray-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",overflow:"overflow-auto",outline:"focus:outline-none",zIndex:"z-[999]"},item:{initial:{display:"block",width:"w-full",pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",textAlign:"text-start",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",transition:"transition-all",bg:"hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80",color:"hover:text-blue-gray-900 focus:text-blue-gray-900 active:text-blue-gray-900"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none",bg:"hover:bg-transparent focus:bg-transparent active:bg-transparent",color:"hover:text-blue-gray-500 focus:text-blue-gray-500 active:text-blue-gray-500"}}}}},i=r})(fee);var pee={},Aee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={transparent:{backgroud:"bg-transparent",color:"text-white",boxShadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-white"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},r=t})(Aee);var gee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={transparent:{backgroud:"bg-transparent",color:"text-blue-gray-900",boxShadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-blue-gray-900"},"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},r=t})(gee);var yT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(b,x){for(var w in x)Object.defineProperty(b,w,{enumerable:!0,get:x[w]})}t(e,{propTypesVariant:function(){return d},propTypesColor:function(){return h},propTypesShadow:function(){return f},propTypesBlurred:function(){return m},propTypesFullWidth:function(){return A},propTypesClassName:function(){return g},propTypesChildren:function(){return p},propTypesOpen:function(){return v},propTypesAnimate:function(){return y}});var r=o(wi),i=Ls;function n(b,x){(x==null||x>b.length)&&(x=b.length);for(var w=0,C=new Array(x);w<x;w++)C[w]=b[w];return C}function a(b){if(Array.isArray(b))return n(b)}function o(b){return b&&b.__esModule?b:{default:b}}function s(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(b){return a(b)||s(b)||u(b)||l()}function u(b,x){if(b){if(typeof b=="string")return n(b,x);var w=Object.prototype.toString.call(b).slice(8,-1);if(w==="Object"&&b.constructor&&(w=b.constructor.name),w==="Map"||w==="Set")return Array.from(w);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return n(b,x)}}var d=["filled","gradient"],h=["transparent","white"].concat(c(i.propTypesColors)),f=r.default.bool,m=r.default.bool,A=r.default.bool,g=r.default.string,p=r.default.node.isRequired,v=r.default.bool.isRequired,y=i.propTypesAnimation})(yT);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{navbar:function(){return o},default:function(){return s}});var r=a(Aee),i=a(gee),n=yT;function a(l){return l&&l.__esModule?l:{default:l}}var o={defaultProps:{variant:"filled",color:"white",shadow:!0,blurred:!0,fullWidth:!1,className:""},valid:{variants:n.propTypesVariant,colors:n.propTypesColor},styles:{base:{navbar:{initial:{display:"block",width:"w-full",maxWidth:"max-w-screen-2xl",borderRadius:"rounded-xl",py:"py-4",px:"px-8"},shadow:{boxShadow:"shadow-md"},blurred:{backdropFilter:"backdrop-saturate-200 backdrop-blur-2xl",bgOpacity:"bg-opacity-80",borderWidth:"border",borderColor:"border-white/80"},fullWidth:{width:"w-full",maxWidth:"max-w-full",rounded:"rounded-none",px:"px-4"}},mobileNav:{display:"block",width:"w-full",basis:"basis-full",overflow:"overflow-hidden"}},variants:{filled:r.default,gradient:i.default}}},s=o})(pee);var mee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{popover:function(){return r},default:function(){return i}});var r={defaultProps:{placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-white",p:"p-4",border:"border border-blue-gray-50",borderRadius:"rounded-lg",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",outline:"focus:outline-none",overflowWrap:"break-words",whiteSpace:"whitespace-normal"}}},i=r})(mee);var vee={},yee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},r=t})(yee);var bee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},r=t})(bee);var Pk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(d,h){for(var f in h)Object.defineProperty(d,f,{enumerable:!0,get:h[f]})}t(e,{propTypesVariant:function(){return a},propTypesColor:function(){return o},propTypesValue:function(){return s},propTypesLabel:function(){return l},propTypesBarProps:function(){return c},propTypesClassName:function(){return u}});var r=n(wi),i=Ls;function n(d){return d&&d.__esModule?d:{default:d}}var a=["filled","gradient"],o=i.propTypesColors,s=r.default.number,l=r.default.oneOfType([r.default.string,r.default.bool]),c=r.default.instanceOf(Object),u=r.default.string})(Pk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{progress:function(){return o},default:function(){return s}});var r=a(yee),i=a(bee),n=Pk;function a(l){return l&&l.__esModule?l:{default:l}}var o={defaultProps:{variant:"filled",color:"blue",value:0,label:!1,className:"",barProps:{}},valid:{variants:n.propTypesVariant,colors:n.propTypesColor},styles:{base:{container:{initial:{display:"flex",justifyContent:"flex-start",bg:"bg-blue-gray-50",overflow:"overflow-hidden",width:"w-full",height:"h-1.5",borderRadius:"rounded-sm",fontFamily:"font-sans",fontSize:"text-xs",fontWeight:"font-medium"},withLabel:{height:"h-4",borderRadius:"rounded"}},bar:{display:"flex",justifyContent:"justify-center",alignItems:"items-center",height:"h-full"}},variants:{filled:r.default,gradient:i.default}}},s=o})(vee);var wee={},xee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-500",border:"checked:border-blue-gray-500",before:"checked:before:bg-blue-gray-500"},gray:{color:"text-gray-500",border:"checked:border-gray-500",before:"checked:before:bg-gray-500"},brown:{color:"text-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{color:"text-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{color:"text-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{color:"text-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{color:"text-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{color:"text-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{color:"text-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{color:"text-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{color:"text-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{color:"text-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{color:"text-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{color:"text-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{color:"text-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{color:"text-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{color:"text-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{color:"text-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{color:"text-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}},r=t})(xee);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){for(var c in l)Object.defineProperty(s,c,{enumerable:!0,get:l[c]})}t(e,{radio:function(){return a},default:function(){return o}});var r=n(xee),i=m0;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{color:"blue",label:"",icon:void 0,ripple:!0,className:"",containerProps:{},labelProps:{}},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-full",borderColor:"border-blue-gray-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"}},colors:r.default}},o=a})(wee);var Cee={},_ee={},See={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderRadius:"before:rounded-tl-md",pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderRadius:"after:rounded-tr-md",pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},r=t})(See);var Eee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}}},r=t})(Eee);var Bee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-gray-500",before:"before:border-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},gray:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-gray-500",before:"before:border-gray-500",after:"after:border-gray-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},brown:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-brown-500",before:"before:border-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"deep-orange":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-orange-500",before:"before:border-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},orange:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-orange-500",before:"before:border-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},amber:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-amber-500",before:"before:border-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},yellow:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-yellow-500",before:"before:border-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},lime:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-lime-500",before:"before:border-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"light-green":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-green-500",before:"before:border-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},green:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},teal:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-teal-500",before:"before:border-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},cyan:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-cyan-500",before:"before:border-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"light-blue":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-blue-500",before:"before:border-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},blue:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-500",before:"before:border-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},indigo:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-indigo-500",before:"before:border-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"deep-purple":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-purple-500",before:"before:border-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},purple:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-purple-500",before:"before:border-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},pink:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-pink-500",before:"before:border-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},red:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}}},r=t})(Bee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(See),r=n(Eee),i=n(Bee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{select:{},label:t.default},sizes:{md:{container:{height:"h-10"},select:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[3.75]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-11"},select:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[4.1]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:r.default,label:i.default},states:{close:{select:{borderWidth:"border"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",before:{bt:"before:border-t-transparent",bl:"before:border-l-transparent"},after:{bt:"after:border-t-transparent",br:"after:border-r-transparent"}}},open:{select:{borderWidth:"border-2",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t-2",bl:"before:border-l-2"},after:{bt:"after:border-t-2",br:"after:border-r-2"}}},withValue:{select:{borderWidth:"border",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t",bl:"before:border-l"},after:{bt:"after:border-t",br:"after:border-r"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"}}}}},o=a})(_ee);var Mee={},Pee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}},r=t})(Pee);var Tee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-gray-200"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-gray-200"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-gray-200"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-gray-200"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-gray-200"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-gray-200"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-gray-200"}}},r=t})(Tee);var Oee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},open:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-gray-50"}},gray:{close:{color:"text-blue-gray-500",after:"after:border-gray-500"},open:{color:"text-gray-500",after:"after:border-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-gray-500"}},brown:{close:{color:"text-blue-gray-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-gray-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-gray-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-gray-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-gray-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-gray-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-gray-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-gray-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-gray-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-gray-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-gray-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-gray-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-gray-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-gray-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-gray-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-500",after:"after:border-red-500"}}},r=t})(Oee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Pee),r=n(Tee),i=n(Oee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{select:{},label:t.default},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-[4.25]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-[4.875]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:r.default,label:i.default},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},o=a})(Mee);var Dee={},Iee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-2.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}},r=t})(Iee);var Fee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-gray-200"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-gray-200"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-gray-200"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-gray-200"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-gray-200"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-gray-200"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-gray-200"}}},r=t})(Fee);var Lee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{close:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},open:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-gray-50"}},gray:{close:{color:"text-blue-gray-500",after:"after:border-gray-500"},open:{color:"text-gray-500",after:"after:border-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-gray-500"}},brown:{close:{color:"text-blue-gray-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-gray-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-gray-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-gray-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-gray-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-gray-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-gray-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-gray-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-gray-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-gray-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-gray-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-gray-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-gray-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-gray-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-gray-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-500",after:"after:border-red-500"}}},r=t})(Lee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Iee),r=n(Fee),i=n(Lee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{select:{},label:t.default},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:r.default,label:i.default},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},o=a})(Dee);var GC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(M,O){for(var I in O)Object.defineProperty(M,I,{enumerable:!0,get:O[I]})}t(e,{propTypesVariant:function(){return a},propTypesSize:function(){return o},propTypesColor:function(){return s},propTypesLabel:function(){return l},propTypesError:function(){return c},propTypesSuccess:function(){return u},propTypesArrow:function(){return d},propTypesValue:function(){return h},propTypesOnChange:function(){return f},propTypesSelected:function(){return m},propTypesOffset:function(){return A},propTypesDismiss:function(){return g},propTypesAnimate:function(){return p},propTypesAutoHeight:function(){return v},propTypesLockScroll:function(){return y},propTypesLabelProps:function(){return b},propTypesMenuProps:function(){return x},propTypesIndex:function(){return w},propTypesDisabled:function(){return C},propTypesClassName:function(){return _},propTypesChildren:function(){return B},propTypesContextValue:function(){return P}});var r=n(wi),i=Ls;function n(M){return M&&M.__esModule?M:{default:M}}var a=["standard","outlined","static"],o=["md","lg"],s=i.propTypesColors,l=r.default.string,c=r.default.bool,u=r.default.bool,d=r.default.node,h=r.default.string,f=r.default.func,m=r.default.func,A=i.propTypesOffsetType,g=i.propTypesDismissType,p=i.propTypesAnimation,v=r.default.bool,y=r.default.bool,b=r.default.instanceOf(Object),x=r.default.instanceOf(Object),w=r.default.number,C=r.default.bool,_=r.default.string,B=r.default.node.isRequired,P=r.default.shape({selectedIndex:r.default.number.isRequired,setSelectedIndex:r.default.func.isRequired,activeIndex:r.default.oneOfType([r.default.number,r.default.instanceOf(null)]),setActiveIndex:r.default.func.isRequired,listRef:r.default.instanceOf(Object).isRequired,setOpen:r.default.func.isRequired,onChange:r.default.func.isRequired,getItemProps:r.default.func.isRequired,dataRef:r.default.instanceOf(Object).isRequired}).isRequired})(GC);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}t(e,{select:function(){return s},default:function(){return l}});var r=o(_ee),i=o(Mee),n=o(Dee),a=GC;function o(c){return c&&c.__esModule?c:{default:c}}var s={defaultProps:{variant:"outlined",color:"blue",size:"md",label:"",error:!1,success:!1,arrow:void 0,value:"select",onChange:void 0,selected:void 0,offset:5,dismiss:{},animate:{unmount:{},mount:{}},autoHeight:!1,lockScroll:!1,labelProps:{},menuProps:{},className:"",disabled:!1},valid:{variants:a.propTypesVariant,sizes:a.propTypesSize,colors:a.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},select:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",textAlign:"text-left",outline:"outline outline-0 focus:outline-0",disabled:"disabled:bg-blue-gray-50 disabled:border-0",transition:"transition-all"},arrow:{initial:{display:"grid",placeItems:"place-items-center",position:"absolute",top:"top-2/4",right:"right-2",pt:"pt-px",width:"w-5",height:"h-5",color:"text-blue-gray-400",transform:"rotate-0 -translate-y-2/4",transition:"transition-all"},active:{transform:"rotate-180",mt:"mt-px"}},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",transition:"transition-all"},menu:{width:"w-full",maxHeight:"max-h-96",bg:"bg-white",p:"p-3",border:"border border-blue-gray-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",overflow:"overflow-auto",outline:"focus:outline-none"},option:{initial:{pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",background:"hover:bg-blue-gray-50 focus:bg-blue-gray-50",opacity:"hover:bg-opacity-80 focus:bg-opacity-80",color:"hover:text-blue-gray-900 focus:text-blue-gray-900",outline:"outline outline-0",transition:"transition-all"},active:{bg:"bg-blue-gray-50 bg-opacity-80",color:"text-blue-gray-900"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",userSelect:"select-none",pointerEvents:"pointer-events-none"}}},variants:{outlined:r.default,standard:i.default,static:n.default}}},l=s})(Cee);var Ree={},Uee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{input:"checked:bg-blue-gray-500",circle:"peer-checked:border-blue-gray-500",before:"peer-checked:before:bg-blue-gray-500"},gray:{input:"checked:bg-gray-500",circle:"peer-checked:border-gray-500",before:"peer-checked:before:bg-gray-500"},brown:{input:"checked:bg-brown-500",circle:"peer-checked:border-brown-500",before:"peer-checked:before:bg-brown-500"},"deep-orange":{input:"checked:bg-deep-orange-500",circle:"peer-checked:border-deep-orange-500",before:"peer-checked:before:bg-deep-orange-500"},orange:{input:"checked:bg-orange-500",circle:"peer-checked:border-orange-500",before:"peer-checked:before:bg-orange-500"},amber:{input:"checked:bg-amber-500",circle:"peer-checked:border-amber-500",before:"peer-checked:before:bg-amber-500"},yellow:{input:"checked:bg-yellow-500",circle:"peer-checked:border-yellow-500",before:"peer-checked:before:bg-yellow-500"},lime:{input:"checked:bg-lime-500",circle:"peer-checked:border-lime-500",before:"peer-checked:before:bg-lime-500"},"light-green":{input:"checked:bg-light-green-500",circle:"peer-checked:border-light-green-500",before:"peer-checked:before:bg-light-green-500"},green:{input:"checked:bg-green-500",circle:"peer-checked:border-green-500",before:"peer-checked:before:bg-green-500"},teal:{input:"checked:bg-teal-500",circle:"peer-checked:border-teal-500",before:"peer-checked:before:bg-teal-500"},cyan:{input:"checked:bg-cyan-500",circle:"peer-checked:border-cyan-500",before:"peer-checked:before:bg-cyan-500"},"light-blue":{input:"checked:bg-light-blue-500",circle:"peer-checked:border-light-blue-500",before:"peer-checked:before:bg-light-blue-500"},blue:{input:"checked:bg-blue-500",circle:"peer-checked:border-blue-500",before:"peer-checked:before:bg-blue-500"},indigo:{input:"checked:bg-indigo-500",circle:"peer-checked:border-indigo-500",before:"peer-checked:before:bg-indigo-500"},"deep-purple":{input:"checked:bg-deep-purple-500",circle:"peer-checked:border-deep-purple-500",before:"peer-checked:before:bg-deep-purple-500"},purple:{input:"checked:bg-purple-500",circle:"peer-checked:border-purple-500",before:"peer-checked:before:bg-purple-500"},pink:{input:"checked:bg-pink-500",circle:"peer-checked:border-pink-500",before:"peer-checked:before:bg-pink-500"},red:{input:"checked:bg-red-500",circle:"peer-checked:border-red-500",before:"peer-checked:before:bg-red-500"}},r=t})(Uee);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){for(var c in l)Object.defineProperty(s,c,{enumerable:!0,get:l[c]})}t(e,{switchButton:function(){return a},default:function(){return o}});var r=n(Uee),i=m0;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{color:"blue",label:"",ripple:!0,className:"",containerProps:{},labelProps:{},circleProps:{}},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"inline-block",width:"w-8",height:"h-4",cursor:"cursor-pointer",borderRadius:"rounded-full"},input:{peer:"peer",appearance:"appearance-none",width:"w-8",height:"h-4",position:"absolute",background:"bg-blue-gray-100",borderRadius:"rounded-full",cursor:"cursor-pointer",transition:"transition-colors duration-300"},circle:{bg:"bg-white",width:"w-5",height:"h-5",borderWidth:"border",borderColor:"border-blue-gray-100",borderRadius:"rounded-full",boxShadow:"shadow-md",position:"absolute",top:"top-2/4",left:"-left-1",transform:"-translate-y-2/4 peer-checked:translate-x-full",transition:"transition-all duration-300",cursor:"cursor-pointer",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-10",height:"before:h-10",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",transition:"before:transition-opacity",opacity:"before:opacity-0 hover:before:opacity-10"}},ripple:{display:"inline-block",top:"top-2/4",left:"left-2/4",transform:"-translate-x-2/4 -translate-y-2/4",p:"p-5",borderRadius:"rounded-full"},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px",ml:"ml-3",mb:"mb-0"}},colors:r.default}},o=a})(Ree);var Nee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tab:function(){return r},default:function(){return i}});var r={defaultProps:{className:"",disabled:!1},styles:{base:{tab:{initial:{display:"grid",placeItems:"place-items-center",textAlign:"text-center",width:"w-full",height:"h-full",position:"relative",bg:"bg-transparent",p:"p-1",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-normal",lineHeight:"leading-relaxed",userSelect:"select-none",cursor:"cursor-pointer"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none"}},indicator:{position:"absolute",top:"top-0",left:"left-0",right:"right-0",zIndex:"z-10",height:"h-full",bg:"bg-white",borderRadius:"rounded-md",boxShadow:"shadow"}}}},i=r})(Nee);var kee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tabs:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{display:"block",overflow:"overflow-hidden"}}},i=r})(kee);var jee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tabsBody:function(){return r},default:function(){return i}});var r={defaultProps:{animate:{unmount:{},mount:{}},className:""},styles:{base:{display:"block",width:"w-full",position:"relative",bg:"bg-transparent",overflow:"overflow-hidden"}}},i=r})(jee);var zee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tabsHeader:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{display:"flex",position:"relative",bg:"bg-blue-gray-50",bgOpacity:"bg-opacity-60",borderRadius:"rounded-lg",p:"p-1"}}},i=r})(zee);var Hee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tabPanel:function(){return r},default:function(){return i}});var r={defaultProps:{className:""},styles:{base:{width:"w-full",height:"h-max",color:"text-gray-700",p:"p-4",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"}}},i=r})(Hee);var Vee={},Qee={},Wee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},r=t})(Wee);var Gee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(Gee);var qee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-400 peer-focus:text-blue-gray-500",before:"before:border-blue-gray-200 peer-focus:before:border-blue-gray-500",after:"after:border-blue-gray-200 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-400 peer-focus:text-gray-500",before:"before:border-blue-gray-200 peer-focus:before:border-gray-500",after:"after:border-blue-gray-200 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-400 peer-focus:text-brown-500",before:"before:border-blue-gray-200 peer-focus:before:border-brown-500",after:"after:border-blue-gray-200 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-400 peer-focus:text-deep-orange-500",before:"before:border-blue-gray-200 peer-focus:before:border-deep-orange-500",after:"after:border-blue-gray-200 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-400 peer-focus:text-orange-500",before:"before:border-blue-gray-200 peer-focus:before:border-orange-500",after:"after:border-blue-gray-200 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-400 peer-focus:text-amber-500",before:"before:border-blue-gray-200 peer-focus:before:border-amber-500",after:"after:border-blue-gray-200 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-400 peer-focus:text-yellow-500",before:"before:border-blue-gray-200 peer-focus:before:border-yellow-500",after:"after:border-blue-gray-200 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-400 peer-focus:text-lime-500",before:"before:border-blue-gray-200 peer-focus:before:border-lime-500",after:"after:border-blue-gray-200 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-400 peer-focus:text-light-green-500",before:"before:border-blue-gray-200 peer-focus:before:border-light-green-500",after:"after:border-blue-gray-200 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-400 peer-focus:text-green-500",before:"before:border-blue-gray-200 peer-focus:before:border-green-500",after:"after:border-blue-gray-200 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-400 peer-focus:text-teal-500",before:"before:border-blue-gray-200 peer-focus:before:border-teal-500",after:"after:border-blue-gray-200 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-400 peer-focus:text-cyan-500",before:"before:border-blue-gray-200 peer-focus:before:border-cyan-500",after:"after:border-blue-gray-200 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-400 peer-focus:text-light-blue-500",before:"before:border-blue-gray-200 peer-focus:before:border-light-blue-500",after:"after:border-blue-gray-200 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-400 peer-focus:text-blue-500",before:"before:border-blue-gray-200 peer-focus:before:border-blue-500",after:"after:border-blue-gray-200 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-400 peer-focus:text-indigo-500",before:"before:border-blue-gray-200 peer-focus:before:border-indigo-500",after:"after:border-blue-gray-200 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-400 peer-focus:text-deep-purple-500",before:"before:border-blue-gray-200 peer-focus:before:border-deep-purple-500",after:"after:border-blue-gray-200 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-400 peer-focus:text-purple-500",before:"before:border-blue-gray-200 peer-focus:before:border-purple-500",after:"after:border-blue-gray-200 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-400 peer-focus:text-pink-500",before:"before:border-blue-gray-200 peer-focus:before:border-pink-500",after:"after:border-blue-gray-200 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-400 peer-focus:text-red-500",before:"before:border-blue-gray-200 peer-focus:before:border-red-500",after:"after:border-blue-gray-200 peer-focus:after:border-red-500"}},r=t})(qee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Wee),r=n(Gee),i=n(qee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{textarea:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"}},label:t.default},sizes:{md:{container:{height:"h-10"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"}},lg:{container:{height:"h-11"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"}}},colors:{textarea:r.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(Qee);var Kee={},Xee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-0",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},r=t})(Xee);var Yee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(Yee);var $ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-500 peer-focus:text-gray-500",after:"after:border-gray-500 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},r=t})($ee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Xee),r=n(Yee),i=n($ee);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},label:t.default},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"}}},colors:{textarea:r.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(Kee);var Jee={},Zee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},r=t})(Zee);var ete={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},r=t})(ete);var tte={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-blue-gray-500 peer-focus:text-gray-500",after:"after:border-gray-500 peer-focus:after:border-gray-500"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},r=t})(tte);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=n(Zee),r=n(ete),i=n(tte);function n(s){return s&&s.__esModule?s:{default:s}}var a={base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},label:t.default},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}}},colors:{textarea:r.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},o=a})(Jee);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,u){for(var d in u)Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}t(e,{textarea:function(){return s},default:function(){return l}});var r=o(Qee),i=o(Kee),n=o(Jee),a=WC;function o(c){return c&&c.__esModule?c:{default:c}}var s={defaultProps:{variant:"outlined",size:"md",color:"blue",label:"",error:!1,success:!1,resize:!0,labelProps:{},className:""},valid:{variants:a.propTypesVariant,sizes:a.propTypesSize,colors:a.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},textarea:{peer:"peer",width:"w-full",height:"h-full",minHeight:"min-h-[100px]",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline outline-0 focus:outline-0",resize:"resize-y",disabled:"disabled:bg-blue-gray-50 disabled:border-0 disabled:resize-none",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",color:"peer-placeholder-shown:text-blue-gray-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500",transition:"transition-all"}},variants:{outlined:r.default,standard:i.default,static:n.default}}},l=s})(Vee);var rte={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(n,a){for(var o in a)Object.defineProperty(n,o,{enumerable:!0,get:a[o]})}t(e,{tooltip:function(){return r},default:function(){return i}});var r={defaultProps:{interactive:!1,placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-black",py:"py-1.5",px:"px-3",borderRadius:"rounded-lg",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-white",outline:"focus:outline-none",overflowWrap:"break-words",zIndex:"z-[999]",whiteSpace:"whitespace-normal"}}},i=r})(rte);var ite={},nte={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t={inherit:{color:"text-inherit"},current:{color:"text-current"},black:{color:"text-black"},white:{color:"text-white"},"blue-gray":{color:"text-blue-gray-900",gradient:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400"},gray:{color:"text-gray-700",gradient:"bg-gradient-to-tr from-gray-600 to-gray-400"},brown:{color:"text-brown-500",gradient:"bg-gradient-to-tr from-brown-600 to-brown-400"},"deep-orange":{color:"text-deep-orange-500",gradient:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400"},orange:{color:"text-orange-500",gradient:"bg-gradient-to-tr from-orange-600 to-orange-400"},amber:{color:"text-amber-500",gradient:"bg-gradient-to-tr from-amber-600 to-amber-400"},yellow:{color:"text-yellow-500",gradient:"bg-gradient-to-tr from-yellow-600 to-yellow-400"},lime:{color:"text-lime-500",gradient:"bg-gradient-to-tr from-lime-600 to-lime-400"},"light-green":{color:"text-light-green-500",gradient:"bg-gradient-to-tr from-light-green-600 to-light-green-400"},green:{color:"text-green-500",gradient:"bg-gradient-to-tr from-green-600 to-green-400"},teal:{color:"text-teal-500",gradient:"bg-gradient-to-tr from-teal-600 to-teal-400"},cyan:{color:"text-cyan-500",gradient:"bg-gradient-to-tr from-cyan-600 to-cyan-400"},"light-blue":{color:"text-light-blue-500",gradient:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400"},blue:{color:"text-blue-500",gradient:"bg-gradient-to-tr from-blue-600 to-blue-400"},indigo:{color:"text-indigo-500",gradient:"bg-gradient-to-tr from-indigo-600 to-indigo-400"},"deep-purple":{color:"text-deep-purple-500",gradient:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400"},purple:{color:"text-purple-500",gradient:"bg-gradient-to-tr from-purple-600 to-purple-400"},pink:{color:"text-pink-500",gradient:"bg-gradient-to-tr from-pink-600 to-pink-400"},red:{color:"text-red-500",gradient:"bg-gradient-to-tr from-red-600 to-red-400"}},r=t})(nte);var Tk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{propTypesVariant:function(){return d},propTypesColor:function(){return h},propTypesAs:function(){return f},propTypesTextGradient:function(){return m},propTypesClassName:function(){return A},propTypesChildren:function(){return g}});var r=o(wi),i=Ls;function n(p,v){(v==null||v>p.length)&&(v=p.length);for(var y=0,b=new Array(v);y<v;y++)b[y]=p[y];return b}function a(p){if(Array.isArray(p))return n(p)}function o(p){return p&&p.__esModule?p:{default:p}}function s(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(p){return a(p)||s(p)||u(p)||l()}function u(p,v){if(p){if(typeof p=="string")return n(p,v);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(y);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return n(p,v)}}var d=["h1","h2","h3","h4","h5","h6","lead","paragraph","small"],h=["inherit","current","black","white"].concat(c(i.propTypesColors)),f=r.default.elementType,m=r.default.bool,A=r.default.string,g=r.default.node.isRequired})(Tk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,l){for(var c in l)Object.defineProperty(s,c,{enumerable:!0,get:l[c]})}t(e,{typography:function(){return a},default:function(){return o}});var r=n(nte),i=Tk;function n(s){return s&&s.__esModule?s:{default:s}}var a={defaultProps:{variant:"paragraph",color:"inherit",textGradient:!1,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{variants:{h1:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-5xl",fontWeight:"font-semibold",lineHeight:"leading-tight"},h2:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-4xl",fontWeight:"font-semibold",lineHeight:"leading-[1.3]"},h3:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-3xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h4:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h5:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h6:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-semibold",lineHeight:"leading-relaxed"},lead:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-normal",lineHeight:"leading-relaxed"},paragraph:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},small:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"}},textGradient:{bgClip:"bg-clip-text",color:"text-transparent"},colors:r.default}},o=a})(ite);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return G}});var t=R(j(DZ,e)),r=R(j(IZ,e)),i=R(j(RZ,e)),n=R(j(UZ,e)),a=R(j(NZ,e)),o=R(j(kZ,e)),s=R(j(jZ,e)),l=R(j(zZ,e)),c=R(j(HZ,e)),u=R(j(VZ,e)),d=R(j(WZ,e)),h=R(j(XZ,e)),f=R(j(YZ,e)),m=R(j($Z,e)),A=R(j(JZ,e)),g=R(j(ZZ,e)),p=R(j(eee,e)),v=R(j(fee,e)),y=R(j(pee,e)),b=R(j(mee,e)),x=R(j(vee,e)),w=R(j(wee,e)),C=R(j(Cee,e)),_=R(j(Ree,e)),B=R(j(Nee,e)),P=R(j(kee,e)),M=R(j(jee,e)),O=R(j(zee,e)),I=R(j(Hee,e)),F=R(j(Vee,e)),V=R(j(rte,e)),Y=R(j(ite,e));function j($,L){return Object.keys($).forEach(function(K){K!=="default"&&!Object.prototype.hasOwnProperty.call(L,K)&&Object.defineProperty(L,K,{enumerable:!0,get:function(){return $[K]}})}),$}function R($){return $&&$.__esModule?$:{default:$}}var H={accordion:t.default,alert:r.default,avatar:i.default,breadcrumbs:n.default,button:a.default,card:o.default,cardBody:s.default,cardFooter:l.default,cardHeader:c.default,checkbox:u.default,chip:d.default,dialog:h.default,dialogBody:f.default,dialogFooter:m.default,dialogHeader:A.default,iconButton:g.default,input:p.default,menu:v.default,navbar:y.default,popover:b.default,progress:x.default,radio:w.default,select:C.default,switch:_.default,tab:B.default,tabs:P.default,tabsBody:M.default,tabsHeader:O.default,tabPanel:I.default,textarea:F.default,tooltip:V.default,typography:Y.default},G=H})(yk);var ate={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});var t=r(uu);function r(n){return n&&n.__esModule?n:{default:n}}function i(n,a,o){var s=n.slice();return a.forEach(function(l,c){typeof s[c]>"u"?s[c]=o.cloneUnlessOtherwiseSpecified(l,o):o.isMergeableObject(l)?s[c]=(0,t.default)(n[c],l,o):n.indexOf(l)===-1&&s.push(l)}),s}})(ate);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{MaterialTailwindTheme:function(){return u},ThemeProvider:function(){return d},useTheme:function(){return h}});var r=c(Oe),i=s(wi),n=s(uu),a=s(yk),o=s(ate);function s(f){return f&&f.__esModule?f:{default:f}}function l(f){if(typeof WeakMap!="function")return null;var m=new WeakMap,A=new WeakMap;return(l=function(g){return g?A:m})(f)}function c(f,m){if(!m&&f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var A=l(m);if(A&&A.has(f))return A.get(f);var g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)){var y=p?Object.getOwnPropertyDescriptor(f,v):null;y&&(y.get||y.set)?Object.defineProperty(g,v,y):g[v]=f[v]}return g.default=f,A&&A.set(f,g),g}var u=(0,r.createContext)(a.default);u.displayName="MaterialTailwindThemeProvider";function d(f){var m=f.value,A=f.children,g=(0,n.default)(a.default,m,{arrayMerge:o.default});return r.default.createElement(u.Provider,{value:g},A)}var h=function(){return(0,r.useContext)(u)};d.defaultProps={value:a.default},d.propTypes={value:i.default.instanceOf(Object),children:i.default.node.isRequired}})(yi);var bT={},qC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(h,f){for(var m in f)Object.defineProperty(h,m,{enumerable:!0,get:f[m]})}t(e,{propTypesOpen:function(){return a},propTypesIcon:function(){return o},propTypesAnimate:function(){return s},propTypesDisabled:function(){return l},propTypesClassName:function(){return c},propTypesValue:function(){return u},propTypesChildren:function(){return d}});var r=n(wi),i=Ls;function n(h){return h&&h.__esModule?h:{default:h}}var a=r.default.bool.isRequired,o=r.default.node,s=i.propTypesAnimation,l=r.default.bool,c=r.default.string,u=r.default.instanceOf(Object).isRequired,d=r.default.node.isRequired})(qC);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{AccordionContext:function(){return a},useAccordion:function(){return o},AccordionContextProvider:function(){return s}});var r=n(Oe),i=qC;function n(l){return l&&l.__esModule?l:{default:l}}var a=r.default.createContext(null);a.displayName="MaterialTailwind.AccordionContext";function o(){var l=r.default.useContext(a);if(!l)throw new Error("useAccordion() must be used within an Accordion. It happens when you use AccordionHeader or AccordionBody components outside the Accordion component.");return l}var s=function(l){var c=l.value,u=l.children;return r.default.createElement(a.Provider,{value:c},u)};s.propTypes={value:i.propTypesValue,children:i.propTypesChildren},s.displayName="MaterialTailwind.AccordionContextProvider"})(bT);var ote={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{AccordionHeader:function(){return m},default:function(){return A}});var r=d(Oe),i=d(Bi),n=Ri,a=d(Si),o=bT,s=yi,l=qC;function c(g,p,v){return p in g?Object.defineProperty(g,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[p]=v,g}function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.className,y=g.children,b=h(g,["className","children"]),x=(0,o.useAccordion)(),w=x.open,C=x.icon,_=x.disabled,B=(0,s.useTheme)().accordion,P=B.styles.base;v=v??"";var M=(0,n.twMerge)((0,i.default)((0,a.default)(P.header.initial),c({},(0,a.default)(P.header.active),w)),v),O=(0,i.default)((0,a.default)(P.header.icon));return r.default.createElement("button",u({},b,{ref:p,type:"button",disabled:_,className:M}),y,r.default.createElement("span",{className:O},C??(w?r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.default.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})):r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.default.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})))))});m.propTypes={className:l.propTypesClassName,children:l.propTypesChildren},m.displayName="MaterialTailwind.AccordionHeader";var A=m})(ote);var ste={},wc={},lte={exports:{}};(function(e){var t,r,i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v,y,b,x,w,C,_,B,P,M,O,I;(function(F){var V=typeof hb=="object"?hb:typeof self=="object"?self:typeof this=="object"?this:{};F(Y(V,Y(e.exports)));function Y(j,R){return j!==V&&(typeof Object.create=="function"?Object.defineProperty(j,"__esModule",{value:!0}):j.__esModule=!0),function(H,G){return j[H]=R?R(H,G):G}}})(function(F){var V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,R){j.__proto__=R}||function(j,R){for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(j[H]=R[H])};t=function(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");V(j,R);function H(){this.constructor=j}j.prototype=R===null?Object.create(R):(H.prototype=R.prototype,new H)},r=Object.assign||function(j){for(var R,H=1,G=arguments.length;H<G;H++){R=arguments[H];for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&(j[$]=R[$])}return j},i=function(j,R){var H={};for(var G in j)Object.prototype.hasOwnProperty.call(j,G)&&R.indexOf(G)<0&&(H[G]=j[G]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,G=Object.getOwnPropertySymbols(j);$<G.length;$++)R.indexOf(G[$])<0&&Object.prototype.propertyIsEnumerable.call(j,G[$])&&(H[G[$]]=j[G[$]]);return H},n=function(j,R,H,G){var $=arguments.length,L=$<3?R:G===null?G=Object.getOwnPropertyDescriptor(R,H):G,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(j,R,H,G);else for(var X=j.length-1;X>=0;X--)(K=j[X])&&(L=($<3?K(L):$>3?K(R,H,L):K(R,H))||L);return $>3&&L&&Object.defineProperty(R,H,L),L},a=function(j,R){return function(H,G){R(H,G,j)}},o=function(j,R,H,G,$,L){function K(Be){if(Be!==void 0&&typeof Be!="function")throw new TypeError("Function expected");return Be}for(var X=G.kind,ee=X==="getter"?"get":X==="setter"?"set":"value",W=!R&&j?G.static?j:j.prototype:null,te=R||(W?Object.getOwnPropertyDescriptor(W,G.name):{}),oe,le=!1,be=H.length-1;be>=0;be--){var ve={};for(var se in G)ve[se]=se==="access"?{}:G[se];for(var se in G.access)ve.access[se]=G.access[se];ve.addInitializer=function(Be){if(le)throw new TypeError("Cannot add initializers after decoration has completed");L.push(K(Be||null))};var ye=(0,H[be])(X==="accessor"?{get:te.get,set:te.set}:te[ee],ve);if(X==="accessor"){if(ye===void 0)continue;if(ye===null||typeof ye!="object")throw new TypeError("Object expected");(oe=K(ye.get))&&(te.get=oe),(oe=K(ye.set))&&(te.set=oe),(oe=K(ye.init))&&$.unshift(oe)}else(oe=K(ye))&&(X==="field"?$.unshift(oe):te[ee]=oe)}W&&Object.defineProperty(W,G.name,te),le=!0},s=function(j,R,H){for(var G=arguments.length>2,$=0;$<R.length;$++)H=G?R[$].call(j,H):R[$].call(j);return G?H:void 0},l=function(j){return typeof j=="symbol"?j:"".concat(j)},c=function(j,R,H){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(j,"name",{configurable:!0,value:H?"".concat(H," ",R):R})},u=function(j,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(j,R)},d=function(j,R,H,G){function $(L){return L instanceof H?L:new H(function(K){K(L)})}return new(H||(H=Promise))(function(L,K){function X(te){try{W(G.next(te))}catch(oe){K(oe)}}function ee(te){try{W(G.throw(te))}catch(oe){K(oe)}}function W(te){te.done?L(te.value):$(te.value).then(X,ee)}W((G=G.apply(j,R||[])).next())})},h=function(j,R){var H={label:0,sent:function(){if(L[0]&1)throw L[1];return L[1]},trys:[],ops:[]},G,$,L,K;return K={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function X(W){return function(te){return ee([W,te])}}function ee(W){if(G)throw new TypeError("Generator is already executing.");for(;K&&(K=0,W[0]&&(H=0)),H;)try{if(G=1,$&&(L=W[0]&2?$.return:W[0]?$.throw||((L=$.return)&&L.call($),0):$.next)&&!(L=L.call($,W[1])).done)return L;switch($=0,L&&(W=[W[0]&2,L.value]),W[0]){case 0:case 1:L=W;break;case 4:return H.label++,{value:W[1],done:!1};case 5:H.label++,$=W[1],W=[0];continue;case 7:W=H.ops.pop(),H.trys.pop();continue;default:if(L=H.trys,!(L=L.length>0&&L[L.length-1])&&(W[0]===6||W[0]===2)){H=0;continue}if(W[0]===3&&(!L||W[1]>L[0]&&W[1]<L[3])){H.label=W[1];break}if(W[0]===6&&H.label<L[1]){H.label=L[1],L=W;break}if(L&&H.label<L[2]){H.label=L[2],H.ops.push(W);break}L[2]&&H.ops.pop(),H.trys.pop();continue}W=R.call(j,H)}catch(te){W=[6,te],$=0}finally{G=L=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}},f=function(j,R){for(var H in j)H!=="default"&&!Object.prototype.hasOwnProperty.call(R,H)&&I(R,j,H)},I=Object.create?function(j,R,H,G){G===void 0&&(G=H);var $=Object.getOwnPropertyDescriptor(R,H);(!$||("get"in $?!R.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return R[H]}}),Object.defineProperty(j,G,$)}:function(j,R,H,G){G===void 0&&(G=H),j[G]=R[H]},m=function(j){var R=typeof Symbol=="function"&&Symbol.iterator,H=R&&j[R],G=0;if(H)return H.call(j);if(j&&typeof j.length=="number")return{next:function(){return j&&G>=j.length&&(j=void 0),{value:j&&j[G++],done:!j}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(j,R){var H=typeof Symbol=="function"&&j[Symbol.iterator];if(!H)return j;var G=H.call(j),$,L=[],K;try{for(;(R===void 0||R-- >0)&&!($=G.next()).done;)L.push($.value)}catch(X){K={error:X}}finally{try{$&&!$.done&&(H=G.return)&&H.call(G)}finally{if(K)throw K.error}}return L},g=function(){for(var j=[],R=0;R<arguments.length;R++)j=j.concat(A(arguments[R]));return j},p=function(){for(var j=0,R=0,H=arguments.length;R<H;R++)j+=arguments[R].length;for(var G=Array(j),$=0,R=0;R<H;R++)for(var L=arguments[R],K=0,X=L.length;K<X;K++,$++)G[$]=L[K];return G},v=function(j,R,H){if(H||arguments.length===2)for(var G=0,$=R.length,L;G<$;G++)(L||!(G in R))&&(L||(L=Array.prototype.slice.call(R,0,G)),L[G]=R[G]);return j.concat(L||Array.prototype.slice.call(R))},y=function(j){return this instanceof y?(this.v=j,this):new y(j)},b=function(j,R,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=H.apply(j,R||[]),$,L=[];return $={},K("next"),K("throw"),K("return"),$[Symbol.asyncIterator]=function(){return this},$;function K(le){G[le]&&($[le]=function(be){return new Promise(function(ve,se){L.push([le,be,ve,se])>1||X(le,be)})})}function X(le,be){try{ee(G[le](be))}catch(ve){oe(L[0][3],ve)}}function ee(le){le.value instanceof y?Promise.resolve(le.value.v).then(W,te):oe(L[0][2],le)}function W(le){X("next",le)}function te(le){X("throw",le)}function oe(le,be){le(be),L.shift(),L.length&&X(L[0][0],L[0][1])}},x=function(j){var R,H;return R={},G("next"),G("throw",function($){throw $}),G("return"),R[Symbol.iterator]=function(){return this},R;function G($,L){R[$]=j[$]?function(K){return(H=!H)?{value:y(j[$](K)),done:!1}:L?L(K):K}:L}},w=function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=j[Symbol.asyncIterator],H;return R?R.call(j):(j=typeof m=="function"?m(j):j[Symbol.iterator](),H={},G("next"),G("throw"),G("return"),H[Symbol.asyncIterator]=function(){return this},H);function G(L){H[L]=j[L]&&function(K){return new Promise(function(X,ee){K=j[L](K),$(X,ee,K.done,K.value)})}}function $(L,K,X,ee){Promise.resolve(ee).then(function(W){L({value:W,done:X})},K)}},C=function(j,R){return Object.defineProperty?Object.defineProperty(j,"raw",{value:R}):j.raw=R,j};var Y=Object.create?function(j,R){Object.defineProperty(j,"default",{enumerable:!0,value:R})}:function(j,R){j.default=R};_=function(j){if(j&&j.__esModule)return j;var R={};if(j!=null)for(var H in j)H!=="default"&&Object.prototype.hasOwnProperty.call(j,H)&&I(R,j,H);return Y(R,j),R},B=function(j){return j&&j.__esModule?j:{default:j}},P=function(j,R,H,G){if(H==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?j!==R||!G:!R.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return H==="m"?G:H==="a"?G.call(j):G?G.value:R.get(j)},M=function(j,R,H,G,$){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!$)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?j!==R||!$:!R.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?$.call(j,H):$?$.value=H:R.set(j,H),H},O=function(j,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof j=="function"?R===j:j.has(R)},F("__extends",t),F("__assign",r),F("__rest",i),F("__decorate",n),F("__param",a),F("__esDecorate",o),F("__runInitializers",s),F("__propKey",l),F("__setFunctionName",c),F("__metadata",u),F("__awaiter",d),F("__generator",h),F("__exportStar",f),F("__createBinding",I),F("__values",m),F("__read",A),F("__spread",g),F("__spreadArrays",p),F("__spreadArray",v),F("__await",y),F("__asyncGenerator",b),F("__asyncDelegator",x),F("__asyncValues",w),F("__makeTemplateObject",C),F("__importStar",_),F("__importDefault",B),F("__classPrivateFieldGet",P),F("__classPrivateFieldSet",M),F("__classPrivateFieldIn",O)})})(lte);var Zb=lte.exports,oge=function(){},cte=function(){};const sge=Object.freeze(Object.defineProperty({__proto__:null,invariant:cte,warning:oge},Symbol.toStringTag,{value:"Module"})),ute=Gb(sge);var mo={};Object.defineProperty(mo,"__esModule",{value:!0});const dte=(e,t)=>r=>Math.max(Math.min(r,t),e),Jx=e=>e%1?Number(e.toFixed(5)):e,q2=/(-)?([\d]*\.?[\d])+/g,YF=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,lge=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function KC(e){return typeof e=="string"}const XC={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ok=Object.assign(Object.assign({},XC),{transform:dte(0,1)}),cge=Object.assign(Object.assign({},XC),{default:1}),YC=e=>({test:t=>KC(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uge=YC("deg"),Hy=YC("%"),dge=YC("px"),hge=YC("vh"),fge=YC("vw"),pge=Object.assign(Object.assign({},Hy),{parse:e=>Hy.parse(e)/100,transform:e=>Hy.transform(e*100)}),Dk=(e,t)=>r=>!!(KC(r)&&lge.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),hte=(e,t,r)=>i=>{if(!KC(i))return i;const[n,a,o,s]=i.match(q2);return{[e]:parseFloat(n),[t]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},vx={test:Dk("hsl","hue"),parse:hte("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+Hy.transform(Jx(t))+", "+Hy.transform(Jx(r))+", "+Jx(Ok.transform(i))+")"},Age=dte(0,255),e5=Object.assign(Object.assign({},XC),{transform:e=>Math.round(Age(e))}),Sy={test:Dk("rgb","red"),parse:hte("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+e5.transform(e)+", "+e5.transform(t)+", "+e5.transform(r)+", "+Jx(Ok.transform(i))+")"};function gge(e){let t="",r="",i="",n="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),i=e.substr(5,2),n=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),i=e.substr(3,1),n=e.substr(4,1),t+=t,r+=r,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}const $F={test:Dk("#"),parse:gge,transform:Sy.transform},Ik={test:e=>Sy.test(e)||$F.test(e)||vx.test(e),parse:e=>Sy.test(e)?Sy.parse(e):vx.test(e)?vx.parse(e):$F.parse(e),transform:e=>KC(e)?e:e.hasOwnProperty("red")?Sy.transform(e):vx.transform(e)},fte="${c}",pte="${n}";function mge(e){var t,r,i,n;return isNaN(e)&&KC(e)&&((r=(t=e.match(q2))===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)+((n=(i=e.match(YF))===null||i===void 0?void 0:i.length)!==null&&n!==void 0?n:0)>0}function Ate(e){typeof e=="number"&&(e=`${e}`);const t=[];let r=0;const i=e.match(YF);i&&(r=i.length,e=e.replace(YF,fte),t.push(...i.map(Ik.parse)));const n=e.match(q2);return n&&(e=e.replace(q2,pte),t.push(...n.map(XC.parse))),{values:t,numColors:r,tokenised:e}}function gte(e){return Ate(e).values}function mte(e){const{values:t,numColors:r,tokenised:i}=Ate(e),n=t.length;return a=>{let o=i;for(let s=0;s<n;s++)o=o.replace(s<r?fte:pte,s<r?Ik.transform(a[s]):Jx(a[s]));return o}}const vge=e=>typeof e=="number"?0:e;function yge(e){const t=gte(e);return mte(e)(t.map(vge))}const vte={test:mge,parse:gte,createTransformer:mte,getAnimatableNone:yge},bge=new Set(["brightness","contrast","saturate","opacity"]);function wge(e){let[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=r.match(q2)||[];if(!i)return e;const n=r.replace(i,"");let a=bge.has(t)?1:0;return i!==r&&(a*=100),t+"("+a+n+")"}const xge=/([a-z-]*)\(.*?\)/g,Cge=Object.assign(Object.assign({},vte),{getAnimatableNone:e=>{const t=e.match(xge);return t?t.map(wge).join(" "):e}});mo.alpha=Ok;mo.color=Ik;mo.complex=vte;mo.degrees=uge;mo.filter=Cge;mo.hex=$F;mo.hsla=vx;mo.number=XC;mo.percent=Hy;mo.progressPercentage=pge;mo.px=dge;mo.rgbUnit=e5;mo.rgba=Sy;mo.scale=cge;mo.vh=hge;mo.vw=fge;var zr={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});const yte=1/60*1e3,_ge=typeof performance<"u"?()=>performance.now():()=>Date.now(),bte=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(_ge()),yte);function Sge(e){let t=[],r=[],i=0,n=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,u=!1)=>{const d=u&&n,h=d?t:r;return c&&o.add(l),h.indexOf(l)===-1&&(h.push(l),d&&n&&(i=t.length)),l},cancel:l=>{const c=r.indexOf(l);c!==-1&&r.splice(c,1),o.delete(l)},process:l=>{if(n){a=!0;return}if(n=!0,[t,r]=[r,t],r.length=0,i=t.length,i)for(let c=0;c<i;c++){const u=t[c];u(l),o.has(u)&&(s.schedule(u),e())}n=!1,a&&(a=!1,s.process(l))}};return s}const Ege=40;let JF=!0,K2=!1,ZF=!1;const Vy={delta:0,timestamp:0},$C=["read","update","preRender","render","postRender"],wT=$C.reduce((e,t)=>(e[t]=Sge(()=>K2=!0),e),{}),Bge=$C.reduce((e,t)=>{const r=wT[t];return e[t]=(i,n=!1,a=!1)=>(K2||Oge(),r.schedule(i,n,a)),e},{}),Mge=$C.reduce((e,t)=>(e[t]=wT[t].cancel,e),{}),Pge=$C.reduce((e,t)=>(e[t]=()=>wT[t].process(Vy),e),{}),Tge=e=>wT[e].process(Vy),wte=e=>{K2=!1,Vy.delta=JF?yte:Math.max(Math.min(e-Vy.timestamp,Ege),1),Vy.timestamp=e,ZF=!0,$C.forEach(Tge),ZF=!1,K2&&(JF=!1,bte(wte))},Oge=()=>{K2=!0,JF=!0,ZF||bte(wte)},Dge=()=>Vy;v0.cancelSync=Mge;v0.default=Bge;v0.flushSync=Pge;v0.getFrameData=Dge;Object.defineProperty(zr,"__esModule",{value:!0});var xte=Zb,wb=ute,Hu=mo,xT=v0;function Ige(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Fge=Ige(xT);const X2=(e,t,r)=>Math.min(Math.max(r,e),t),jO=.001,Lge=.01,_V=10,Rge=.05,Uge=1;function Nge({duration:e=800,bounce:t=.25,velocity:r=0,mass:i=1}){let n,a;wb.warning(e<=_V*1e3,"Spring duration must be 10 seconds or less");let o=1-t;o=X2(Rge,Uge,o),e=X2(Lge,_V,e/1e3),o<1?(n=c=>{const u=c*o,d=u*e,h=u-r,f=eL(c,o),m=Math.exp(-d);return jO-h/f*m},a=c=>{const d=c*o*e,h=d*r+r,f=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),A=eL(Math.pow(c,2),o);return(-n(c)+jO>0?-1:1)*((h-f)*m)/A}):(n=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-jO+u*d},a=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const s=5/e,l=jge(n,a,s);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:e}}}const kge=12;function jge(e,t,r){let i=r;for(let n=1;n<kge;n++)i=i-e(i)/t(i);return i}function eL(e,t){return e*Math.sqrt(1-t*t)}const zge=["duration","bounce"],Hge=["stiffness","damping","mass"];function SV(e,t){return t.some(r=>e[r]!==void 0)}function Vge(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!SV(e,Hge)&&SV(e,zge)){const r=Nge(e);t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function CT(e){var{from:t=0,to:r=1,restSpeed:i=2,restDelta:n}=e,a=xte.__rest(e,["from","to","restSpeed","restDelta"]);const o={done:!1,value:t};let{stiffness:s,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=Vge(a),f=EV,m=EV;function A(){const g=u?-(u/1e3):0,p=r-t,v=l/(2*Math.sqrt(s*c)),y=Math.sqrt(s/c)/1e3;if(n===void 0&&(n=Math.min(Math.abs(r-t)/100,.4)),v<1){const b=eL(y,v);f=x=>{const w=Math.exp(-v*y*x);return r-w*((g+v*y*p)/b*Math.sin(b*x)+p*Math.cos(b*x))},m=x=>{const w=Math.exp(-v*y*x);return v*y*w*(Math.sin(b*x)*(g+v*y*p)/b+p*Math.cos(b*x))-w*(Math.cos(b*x)*(g+v*y*p)-b*p*Math.sin(b*x))}}else if(v===1)f=b=>r-Math.exp(-y*b)*(p+(g+y*p)*b);else{const b=y*Math.sqrt(v*v-1);f=x=>{const w=Math.exp(-v*y*x),C=Math.min(b*x,300);return r-w*((g+v*y*p)*Math.sinh(C)+b*p*Math.cosh(C))/b}}}return A(),{next:g=>{const p=f(g);if(h)o.done=g>=d;else{const v=m(g)*1e3,y=Math.abs(v)<=i,b=Math.abs(r-p)<=n;o.done=y&&b}return o.value=o.done?r:p,o},flipTarget:()=>{u=-u,[t,r]=[r,t],A()}}}CT.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const EV=e=>0,Fk=(e,t,r)=>{const i=t-e;return i===0?1:(r-e)/i},_T=(e,t,r)=>-r*e+r*t+e;function zO(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function BV({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let n=0,a=0,o=0;if(!t)n=a=o=r;else{const s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=zO(l,s,e+1/3),a=zO(l,s,e),o=zO(l,s,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}const Qge=(e,t,r)=>{const i=e*e,n=t*t;return Math.sqrt(Math.max(0,r*(n-i)+i))},Wge=[Hu.hex,Hu.rgba,Hu.hsla],MV=e=>Wge.find(t=>t.test(e)),PV=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Lk=(e,t)=>{let r=MV(e),i=MV(t);wb.invariant(!!r,PV(e)),wb.invariant(!!i,PV(t));let n=r.parse(e),a=i.parse(t);r===Hu.hsla&&(n=BV(n),r=Hu.rgba),i===Hu.hsla&&(a=BV(a),i=Hu.rgba);const o=Object.assign({},n);return s=>{for(const l in o)l!=="alpha"&&(o[l]=Qge(n[l],a[l],s));return o.alpha=_T(n.alpha,a.alpha,s),r.transform(o)}},Gge={x:0,y:0,z:0},tL=e=>typeof e=="number",qge=(e,t)=>r=>t(e(r)),Rk=(...e)=>e.reduce(qge);function Cte(e,t){return tL(e)?r=>_T(e,t,r):Hu.color.test(e)?Lk(e,t):Uk(e,t)}const _te=(e,t)=>{const r=[...e],i=r.length,n=e.map((a,o)=>Cte(a,t[o]));return a=>{for(let o=0;o<i;o++)r[o]=n[o](a);return r}},Kge=(e,t)=>{const r=Object.assign(Object.assign({},e),t),i={};for(const n in r)e[n]!==void 0&&t[n]!==void 0&&(i[n]=Cte(e[n],t[n]));return n=>{for(const a in i)r[a]=i[a](n);return r}};function TV(e){const t=Hu.complex.parse(e),r=t.length;let i=0,n=0,a=0;for(let o=0;o<r;o++)i||typeof t[o]=="number"?i++:t[o].hue!==void 0?a++:n++;return{parsed:t,numNumbers:i,numRGB:n,numHSL:a}}const Uk=(e,t)=>{const r=Hu.complex.createTransformer(t),i=TV(e),n=TV(t);return i.numHSL===n.numHSL&&i.numRGB===n.numRGB&&i.numNumbers>=n.numNumbers?Rk(_te(i.parsed,n.parsed),r):(wb.warning(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),o=>`${o>0?t:e}`)},Xge=(e,t)=>r=>_T(e,t,r);function Yge(e){if(typeof e=="number")return Xge;if(typeof e=="string")return Hu.color.test(e)?Lk:Uk;if(Array.isArray(e))return _te;if(typeof e=="object")return Kge}function $ge(e,t,r){const i=[],n=r||Yge(e[0]),a=e.length-1;for(let o=0;o<a;o++){let s=n(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]:t;s=Rk(l,s)}i.push(s)}return i}function Jge([e,t],[r]){return i=>r(Fk(e,t,i))}function Zge(e,t){const r=e.length,i=r-1;return n=>{let a=0,o=!1;if(n<=e[0]?o=!0:n>=e[i]&&(a=i-1,o=!0),!o){let l=1;for(;l<r&&!(e[l]>n||l===i);l++);a=l-1}const s=Fk(e[a],e[a+1],n);return t[a](s)}}function Nk(e,t,{clamp:r=!0,ease:i,mixer:n}={}){const a=e.length;wb.invariant(a===t.length,"Both input and output ranges must be the same length"),wb.invariant(!i||!Array.isArray(i)||i.length===a-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const o=$ge(t,i,n),s=a===2?Jge(e,o):Zge(e,o);return r?l=>s(X2(e[0],e[a-1],l)):s}const JC=e=>t=>1-e(1-t),ST=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ste=e=>t=>Math.pow(t,e),kk=e=>t=>t*t*((e+1)*t-e),Ete=e=>{const t=kk(e);return r=>(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))},Bte=1.525,eme=4/11,tme=8/11,rme=9/10,Mte=e=>e,jk=Ste(2),ime=JC(jk),Pte=ST(jk),Tte=e=>1-Math.sin(Math.acos(e)),Ote=JC(Tte),nme=ST(Ote),zk=kk(Bte),ame=JC(zk),ome=ST(zk),sme=Ete(Bte),lme=4356/361,cme=35442/1805,ume=16061/1805,xM=e=>{if(e===1||e===0)return e;const t=e*e;return e<eme?7.5625*t:e<tme?9.075*t-9.9*e+3.4:e<rme?lme*t-cme*e+ume:10.8*e*e-20.52*e+10.72},dme=JC(xM),hme=e=>e<.5?.5*(1-xM(1-e*2)):.5*xM(e*2-1)+.5;function fme(e,t){return e.map(()=>t||Pte).splice(0,e.length-1)}function pme(e){const t=e.length;return e.map((r,i)=>i!==0?i/(t-1):0)}function Ame(e,t){return e.map(r=>r*t)}function Zx({from:e=0,to:t=1,ease:r,offset:i,duration:n=300}){const a={done:!1,value:e},o=Array.isArray(t)?t:[e,t],s=Ame(i&&i.length===o.length?i:pme(o),n);function l(){return Nk(s,o,{ease:Array.isArray(r)?r:fme(o,r)})}let c=l();return{next:u=>(a.value=c(u),a.done=u>=n,a),flipTarget:()=>{o.reverse(),c=l()}}}function Dte({velocity:e=0,from:t=0,power:r=.8,timeConstant:i=350,restDelta:n=.5,modifyTarget:a}){const o={done:!1,value:t};let s=r*e;const l=t+s,c=a===void 0?l:a(l);return c!==l&&(s=c-t),{next:u=>{const d=-s*Math.exp(-u/i);return o.done=!(d>n||d<-n),o.value=o.done?c:c+d,o},flipTarget:()=>{}}}const OV={keyframes:Zx,spring:CT,decay:Dte};function gme(e){if(Array.isArray(e.to))return Zx;if(OV[e.type])return OV[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Zx:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?CT:Zx}function Ite(e,t,r=0){return e-t-r}function mme(e,t,r=0,i=!0){return i?Ite(t+-e,t,r):t-(e-t)+r}function vme(e,t,r,i){return i?e>=t+r:e<=-r}const yme=e=>{const t=({delta:r})=>e(r);return{start:()=>Fge.default.update(t,!0),stop:()=>xT.cancelSync.update(t)}};function Fte(e){var t,r,{from:i,autoplay:n=!0,driver:a=yme,elapsed:o=0,repeat:s=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:h,onRepeat:f,onUpdate:m}=e,A=xte.__rest(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=A,p,v=0,y=A.duration,b,x=!1,w=!0,C;const _=gme(A);!((r=(t=_).needsInterpolation)===null||r===void 0)&&r.call(t,i,g)&&(C=Nk([0,100],[i,g],{clamp:!1}),i=0,g=100);const B=_(Object.assign(Object.assign({},A),{from:i,to:g}));function P(){v++,l==="reverse"?(w=v%2===0,o=mme(o,y,c,w)):(o=Ite(o,y,c),l==="mirror"&&B.flipTarget()),x=!1,f&&f()}function M(){p.stop(),h&&h()}function O(F){if(w||(F=-F),o+=F,!x){const V=B.next(Math.max(0,o));b=V.value,C&&(b=C(b)),x=w?V.done:o<=0}m==null||m(b),x&&(v===0&&(y??(y=o)),v<s?vme(o,y,c,w)&&P():M())}function I(){u==null||u(),p=a(O),p.start()}return n&&I(),{stop:()=>{d==null||d(),p.stop()}}}function Lte(e,t){return t?e*(1e3/t):0}function bme({from:e=0,velocity:t=0,min:r,max:i,power:n=.8,timeConstant:a=750,bounceStiffness:o=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:h,onStop:f}){let m;function A(y){return r!==void 0&&y<r||i!==void 0&&y>i}function g(y){return r===void 0?i:i===void 0||Math.abs(r-y)<Math.abs(i-y)?r:i}function p(y){m==null||m.stop(),m=Fte(Object.assign(Object.assign({},y),{driver:u,onUpdate:b=>{var x;d==null||d(b),(x=y.onUpdate)===null||x===void 0||x.call(y,b)},onComplete:h,onStop:f}))}function v(y){p(Object.assign({type:"spring",stiffness:o,damping:s,restDelta:l},y))}if(A(e))v({from:e,velocity:t,to:g(e)});else{let y=n*t+e;typeof c<"u"&&(y=c(y));const b=g(y),x=b===r?-1:1;let w,C;const _=B=>{w=C,C=B,t=Lte(B-w,xT.getFrameData().delta),(x===1&&B>b||x===-1&&B<b)&&v({from:B,to:b,velocity:t})};p({type:"decay",from:e,velocity:t,timeConstant:a,power:n,restDelta:l,modifyTarget:c,onUpdate:A(y)?_:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const Rte=e=>e*180/Math.PI,wme=(e,t=Gge)=>Rte(Math.atan2(t.y-e.y,t.x-e.x)),xme=(e,t)=>{let r=!0;return t===void 0&&(t=e,r=!1),i=>r?i-e+t:(e=i,r=!0,t)},Cme=e=>e,Hk=(e=Cme)=>(t,r,i)=>{const n=r-i,a=-(0-t+1)*(0-e(Math.abs(n)));return n<=0?r+a:r-a},_me=Hk(),Sme=Hk(Math.sqrt),Ute=e=>e*Math.PI/180,CM=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),rL=e=>CM(e)&&e.hasOwnProperty("z"),bS=(e,t)=>Math.abs(e-t);function Eme(e,t){if(tL(e)&&tL(t))return bS(e,t);if(CM(e)&&CM(t)){const r=bS(e.x,t.x),i=bS(e.y,t.y),n=rL(e)&&rL(t)?bS(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2)+Math.pow(n,2))}}const Bme=(e,t,r)=>(t=Ute(t),{x:r*Math.cos(t)+e.x,y:r*Math.sin(t)+e.y}),Nte=(e,t=2)=>(t=Math.pow(10,t),Math.round(e*t)/t),kte=(e,t,r,i=0)=>Nte(e+r*(t-e)/Math.max(i,r)),Mme=(e=50)=>{let t=0,r=0;return i=>{const n=xT.getFrameData().timestamp,a=n!==r?n-r:0,o=a?kte(t,i,a,e):t;return r=n,t=o,o}},Pme=e=>{if(typeof e=="number")return t=>Math.round(t/e)*e;{let t=0;const r=e.length;return i=>{let n=Math.abs(e[0]-i);for(t=1;t<r;t++){const a=e[t],o=Math.abs(a-i);if(o===0)return a;if(o>n)return e[t-1];if(t===r-1)return a;n=o}}}};function Tme(e,t){return e/(1e3/t)}const Ome=(e,t,r)=>{const i=t-e;return((r-e)%i+i)%i+e},jte=(e,t)=>1-3*t+3*e,zte=(e,t)=>3*t-6*e,Hte=e=>3*e,_M=(e,t,r)=>((jte(t,r)*e+zte(t,r))*e+Hte(t))*e,Vte=(e,t,r)=>3*jte(t,r)*e*e+2*zte(t,r)*e+Hte(t),Dme=1e-7,Ime=10;function Fme(e,t,r,i,n){let a,o,s=0;do o=t+(r-t)/2,a=_M(o,i,n)-e,a>0?r=o:t=o;while(Math.abs(a)>Dme&&++s<Ime);return o}const Lme=8,Rme=.001;function Ume(e,t,r,i){for(let n=0;n<Lme;++n){const a=Vte(t,r,i);if(a===0)return t;const o=_M(t,r,i)-e;t-=o/a}return t}const t5=11,wS=1/(t5-1);function Nme(e,t,r,i){if(e===t&&r===i)return Mte;const n=new Float32Array(t5);for(let o=0;o<t5;++o)n[o]=_M(o*wS,e,r);function a(o){let s=0,l=1;const c=t5-1;for(;l!==c&&n[l]<=o;++l)s+=wS;--l;const u=(o-n[l])/(n[l+1]-n[l]),d=s+u*wS,h=Vte(d,e,r);return h>=Rme?Ume(o,d,e,r):h===0?d:Fme(o,s,s+wS,e,r)}return o=>o===0||o===1?o:_M(a(o),t,i)}const kme=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const i=r*e,n=t==="end"?Math.floor(i):Math.ceil(i);return X2(0,1,n/e)};zr.angle=wme;zr.animate=Fte;zr.anticipate=sme;zr.applyOffset=xme;zr.attract=_me;zr.attractExpo=Sme;zr.backIn=zk;zr.backInOut=ome;zr.backOut=ame;zr.bounceIn=dme;zr.bounceInOut=hme;zr.bounceOut=xM;zr.circIn=Tte;zr.circInOut=nme;zr.circOut=Ote;zr.clamp=X2;zr.createAnticipate=Ete;zr.createAttractor=Hk;zr.createBackIn=kk;zr.createExpoIn=Ste;zr.cubicBezier=Nme;zr.decay=Dte;zr.degreesToRadians=Ute;zr.distance=Eme;zr.easeIn=jk;zr.easeInOut=Pte;zr.easeOut=ime;zr.inertia=bme;zr.interpolate=Nk;zr.isPoint=CM;zr.isPoint3D=rL;zr.keyframes=Zx;zr.linear=Mte;zr.mirrorEasing=ST;zr.mix=_T;zr.mixColor=Lk;zr.mixComplex=Uk;zr.pipe=Rk;zr.pointFromVector=Bme;zr.progress=Fk;zr.radiansToDegrees=Rte;zr.reverseEasing=JC;zr.smooth=Mme;zr.smoothFrame=kte;zr.snap=Pme;zr.spring=CT;zr.steps=kme;zr.toDecimal=Nte;zr.velocityPerFrame=Tme;zr.velocityPerSecond=Lte;zr.wrap=Ome;class jme{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const HO=new WeakMap;function Vk(e){return HO.has(e)||HO.set(e,{transforms:[],values:new Map}),HO.get(e)}function zme(e,t){return e.has(t)||e.set(t,new jme),e.get(t)}function Qte(e,t){e.indexOf(t)===-1&&e.push(t)}function Wte(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Gte=(e,t,r)=>Math.min(Math.max(r,e),t),Pl={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Rf=e=>typeof e=="number",Y2=e=>Array.isArray(e)&&!Rf(e[0]),Hme=(e,t,r)=>{const i=t-e;return((r-e)%i+i)%i+e};function qte(e,t){return Y2(e)?e[Hme(0,e.length,t)]:e}const Qk=(e,t,r)=>-r*e+r*t+e,Wk=()=>{},Ef=e=>e,ET=(e,t,r)=>t-e===0?1:(r-e)/(t-e);function Gk(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const n=ET(0,t,i);e.push(Qk(r,1,n))}}function qk(e){const t=[0];return Gk(t,e-1),t}function Kte(e,t=qk(e.length),r=Ef){const i=e.length,n=i-t.length;return n>0&&Gk(t,n),a=>{let o=0;for(;o<i-2&&!(a<t[o+1]);o++);let s=Gte(0,1,ET(t[o],t[o+1],a));return s=qte(r,o)(s),Qk(e[o],e[o+1],s)}}const Xte=e=>Array.isArray(e)&&Rf(e[0]),SM=e=>typeof e=="object"&&!!e.createAnimation,Vme=e=>typeof e=="function",Kk=e=>typeof e=="string",Nm={ms:e=>e*1e3,s:e=>e/1e3};function Yte(e,t){return t?e*(1e3/t):0}const Qme=["","X","Y","Z"],Wme=["translate","scale","rotate","skew"],xb={x:"translateX",y:"translateY",z:"translateZ"},DV={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},Gme={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:DV,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Ef},skew:DV},Cb=new Map,BT=e=>`--motion-${e}`,EM=["x","y","z"];Wme.forEach(e=>{Qme.forEach(t=>{EM.push(e+t),Cb.set(BT(e+t),Gme[e])})});const qme=(e,t)=>EM.indexOf(e)-EM.indexOf(t),Kme=new Set(EM),MT=e=>Kme.has(e),Xme=(e,t)=>{xb[t]&&(t=xb[t]);const{transforms:r}=Vk(e);Qte(r,t),e.style.transform=$te(r)},$te=e=>e.sort(qme).reduce(Yme,"").trim(),Yme=(e,t)=>`${e} ${t}(var(${BT(t)}))`,iL=e=>e.startsWith("--"),IV=new Set;function $me(e){if(!IV.has(e)){IV.add(e);try{const{syntax:t,initialValue:r}=Cb.has(e)?Cb.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}const Jte=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Jme=1e-7,Zme=12;function e0e(e,t,r,i,n){let a,o,s=0;do o=t+(r-t)/2,a=Jte(o,i,n)-e,a>0?r=o:t=o;while(Math.abs(a)>Jme&&++s<Zme);return o}function yx(e,t,r,i){if(e===t&&r===i)return Ef;const n=a=>e0e(a,0,1,e,r);return a=>a===0||a===1?a:Jte(n(a),t,i)}const t0e=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const i=r*e,n=t==="end"?Math.floor(i):Math.ceil(i);return Gte(0,1,n/e)},FV={ease:yx(.25,.1,.25,1),"ease-in":yx(.42,0,1,1),"ease-in-out":yx(.42,0,.58,1),"ease-out":yx(0,0,.58,1)},r0e=/\((.*?)\)/;function nL(e){if(Vme(e))return e;if(Xte(e))return yx(...e);if(FV[e])return FV[e];if(e.startsWith("steps")){const t=r0e.exec(e);if(t){const r=t[1].split(",");return t0e(parseFloat(r[0]),r[1].trim())}}return Ef}let i0e=class{constructor(t,r=[0,1],{easing:i,duration:n=Pl.duration,delay:a=Pl.delay,endDelay:o=Pl.endDelay,repeat:s=Pl.repeat,offset:l,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Ef,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((d,h)=>{this.resolve=d,this.reject=h}),i=i||Pl.easing,SM(i)){const d=i.createAnimation(r);i=d.easing,r=d.keyframes||r,n=d.duration||n}this.repeat=s,this.easing=Y2(i)?Ef:nL(i),this.updateDuration(n);const u=Kte(r,l,Y2(i)?i.map(nL):Ef);this.tick=d=>{var h;a=a;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(d-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-a,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const m=f/this.duration;let A=Math.floor(m),g=m%1;!g&&m>=1&&(g=1),g===1&&A--;const p=A%2;(c==="reverse"||c==="alternate"&&p||c==="alternate-reverse"&&!p)&&(g=1-g);const v=f>=this.totalDuration?1:Math.min(g,1),y=u(this.easing(v));t(y),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+o)?(this.playState="finished",(h=this.resolve)===null||h===void 0||h.call(this,y)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}};const LV=e=>Xte(e)?n0e(e):e,n0e=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,RV=e=>document.createElement("div").animate(e,{duration:.001}),UV={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{RV({opacity:[1]})}catch{return!1}return!0},finished:()=>!!RV({opacity:[0,1]}).finished},VO={},r5={};for(const e in UV)r5[e]=()=>(VO[e]===void 0&&(VO[e]=UV[e]()),VO[e]);function a0e(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}const Zte=e=>Array.isArray(e)?e:[e];function BM(e){return xb[e]&&(e=xb[e]),MT(e)?BT(e):e}const Ey={get:(e,t)=>{t=BM(t);let r=iL(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){const i=Cb.get(t);i&&(r=i.initialValue)}return r},set:(e,t,r)=>{t=BM(t),iL(t)?e.style.setProperty(t,r):e.style[t]=r}};function ere(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function o0e(){return window.__MOTION_DEV_TOOLS_RECORD}function PT(e,t,r,i={}){const n=o0e(),a=i.record!==!1&&n;let o,{duration:s=Pl.duration,delay:l=Pl.delay,endDelay:c=Pl.endDelay,repeat:u=Pl.repeat,easing:d=Pl.easing,direction:h,offset:f,allowWebkitAcceleration:m=!1}=i;const A=Vk(e);let g=r5.waapi();const p=MT(t);p&&Xme(e,t);const v=BM(t),y=zme(A.values,v),b=Cb.get(v);return ere(y.animation,!(SM(d)&&y.generator)&&i.record!==!1),()=>{const x=()=>{var C,_;return(_=(C=Ey.get(e,v))!==null&&C!==void 0?C:b==null?void 0:b.initialValue)!==null&&_!==void 0?_:0};let w=a0e(Zte(r),x);if(SM(d)){const C=d.createAnimation(w,x,p,v,y);d=C.easing,C.keyframes!==void 0&&(w=C.keyframes),C.duration!==void 0&&(s=C.duration)}if(iL(v)&&(r5.cssRegisterProperty()?$me(v):g=!1),g){b&&(w=w.map(B=>Rf(B)?b.toDefaultUnit(B):B)),w.length===1&&(!r5.partialKeyframes()||a)&&w.unshift(x());const C={delay:Nm.ms(l),duration:Nm.ms(s),endDelay:Nm.ms(c),easing:Y2(d)?void 0:LV(d),direction:h,iterations:u+1,fill:"both"};o=e.animate({[v]:w,offset:f,easing:Y2(d)?d.map(LV):void 0},C),o.finished||(o.finished=new Promise((B,P)=>{o.onfinish=B,o.oncancel=P}));const _=w[w.length-1];o.finished.then(()=>{Ey.set(e,v,_),o.cancel()}).catch(Wk),m||(o.playbackRate=1.000001)}else if(p){w=w.map(_=>typeof _=="string"?parseFloat(_):_),w.length===1&&w.unshift(parseFloat(x()));const C=_=>{b&&(_=b.toDefaultUnit(_)),Ey.set(e,v,_)};o=new i0e(C,w,Object.assign(Object.assign({},i),{duration:s,easing:d}))}else{const C=w[w.length-1];Ey.set(e,v,b&&Rf(C)?b.toDefaultUnit(C):C)}return a&&n(e,t,w,{duration:s,delay:l,easing:d,repeat:u,offset:f},"motion-one"),y.setAnimation(o),o}}const Xk=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function TT(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const s0e=e=>e(),Yk=(e,t,r=Pl.duration)=>new Proxy({animations:e.map(s0e).filter(Boolean),duration:r,options:t},c0e),l0e=e=>e.animations[0],c0e={get:(e,t)=>{const r=l0e(e);switch(t){case"duration":return e.duration;case"currentTime":return Nm.s((r==null?void 0:r[t])||0);case"playbackRate":case"playState":return r==null?void 0:r[t];case"finished":return e.finished||(e.finished=Promise.all(e.animations.map(u0e)).catch(Wk)),e.finished;case"stop":return()=>{e.animations.forEach(i=>ere(i))};case"forEachNative":return i=>{e.animations.forEach(n=>i(n,e))};default:return typeof(r==null?void 0:r[t])>"u"?void 0:()=>e.animations.forEach(i=>i[t]())}},set:(e,t,r)=>{switch(t){case"currentTime":r=Nm.ms(r);case"currentTime":case"playbackRate":for(let i=0;i<e.animations.length;i++)e.animations[i][t]=r;return!0}return!1}},u0e=e=>e.finished;function d0e(e=.1,{start:t=0,from:r=0,easing:i}={}){return(n,a)=>{const o=Rf(r)?r:h0e(r,a),s=Math.abs(o-n);let l=e*s;if(i){const c=a*e;l=nL(i)(l/c)*c}return t+l}}function h0e(e,t){if(e==="first")return 0;{const r=t-1;return e==="last"?r:r/2}}function tre(e,t,r){return typeof e=="function"?e(t,r):e}function f0e(e,t,r={}){e=TT(e);const i=e.length,n=[];for(let a=0;a<i;a++){const o=e[a];for(const s in t){const l=Xk(r,s);l.delay=tre(l.delay,a,i);const c=PT(o,s,t[s],l);n.push(c)}}return Yk(n,r,r.duration)}function NV(e,t,r,i){var n;return Rf(t)?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:(n=i.get(t))!==null&&n!==void 0?n:e}function p0e(e,t,r){for(let i=0;i<e.length;i++){const n=e[i];n.at>t&&n.at<r&&(Wte(e,n),i--)}}function A0e(e,t,r,i,n,a){p0e(e,n,a);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Qk(n,a,i[o]),easing:qte(r,o)})}function g0e(e,t){return e.at===t.at?e.value===null?1:-1:e.at-t.at}function m0e(e,t={}){var r;const i=v0e(e,t),n=i.map(a=>PT(...a)).filter(Boolean);return Yk(n,t,(r=i[0])===null||r===void 0?void 0:r[3].duration)}function v0e(e,t={}){var{defaultOptions:r={}}=t,i=Zb.__rest(t,["defaultOptions"]);const n=[],a=new Map,o={},s=new Map;let l=0,c=0,u=0;for(let d=0;d<e.length;d++){const h=e[d];if(Kk(h)){s.set(h,c);continue}else if(!Array.isArray(h)){s.set(h.name,NV(c,h.at,l,s));continue}const[f,m,A={}]=h;A.at!==void 0&&(c=NV(c,A.at,l,s));let g=0;const p=TT(f,o),v=p.length;for(let y=0;y<v;y++){const b=p[y],x=y0e(b,a);for(const w in m){const C=b0e(w,x);let _=Zte(m[w]);const B=Xk(A,w);let{duration:P=r.duration||Pl.duration,easing:M=r.easing||Pl.easing}=B;if(SM(M)){const j=MT(w);cte(_.length===2||!j);const R=M.createAnimation(_,()=>"0",j);M=R.easing,R.keyframes!==void 0&&(_=R.keyframes),R.duration!==void 0&&(P=R.duration)}const O=tre(A.delay,y,v)||0,I=c+O,F=I+P;let{offset:V=qk(_.length)}=B;V.length===1&&V[0]===0&&(V[1]=1);const Y=length-_.length;Y>0&&Gk(V,Y),_.length===1&&_.unshift(null),A0e(C,_,M,V,I,F),g=Math.max(O+P,g),u=Math.max(F,u)}}l=c,c+=g}return a.forEach((d,h)=>{for(const f in d){const m=d[f];m.sort(g0e);const A=[],g=[],p=[];for(let v=0;v<m.length;v++){const{at:y,value:b,easing:x}=m[v];A.push(b),g.push(ET(0,u,y)),p.push(x||Pl.easing)}g[0]!==0&&(g.unshift(0),A.unshift(A[0]),p.unshift("linear")),g[g.length-1]!==1&&(g.push(1),A.push(null)),n.push([h,f,A,Object.assign(Object.assign(Object.assign({},r),{duration:u,easing:p,offset:g}),i)])}}),n}function y0e(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function b0e(e,t){return t[e]||(t[e]=[]),t[e]}const w0e=5;function $k(e,t,r){const i=Math.max(t-w0e,0);return Yte(r-e(i),t-i)}const Qy={stiffness:100,damping:10,mass:1},x0e=(e=Qy.stiffness,t=Qy.damping,r=Qy.mass)=>t/(2*Math.sqrt(e*r));function C0e(e,t,r){return e<t&&r>=t||e>t&&r<=t}const rre=({stiffness:e=Qy.stiffness,damping:t=Qy.damping,mass:r=Qy.mass,from:i=0,to:n=1,velocity:a=0,restSpeed:o=2,restDistance:s=.5}={})=>{a=a?Nm.s(a):0;const l={done:!1,hasReachedTarget:!1,current:i,target:n},c=n-i,u=Math.sqrt(e/r)/1e3,d=x0e(e,t,r);let h;if(d<1){const f=u*Math.sqrt(1-d*d);h=m=>n-Math.exp(-d*u*m)*((-a+d*u*c)/f*Math.sin(f*m)+c*Math.cos(f*m))}else h=f=>n-Math.exp(-u*f)*(c+(-a+u*c)*f);return f=>{l.current=h(f);const m=f===0?a:$k(h,f,l.current),A=Math.abs(m)<=o,g=Math.abs(n-l.current)<=s;return l.done=A&&g,l.hasReachedTarget=C0e(i,n,l.current),l}},_0e=({from:e=0,velocity:t=0,power:r=.8,decay:i=.325,bounceDamping:n,bounceStiffness:a,changeTarget:o,min:s,max:l,restDistance:c=.5,restSpeed:u})=>{i=Nm.ms(i);const d={hasReachedTarget:!1,done:!1,current:e,target:e},h=C=>s!==void 0&&C<s||l!==void 0&&C>l,f=C=>s===void 0?l:l===void 0||Math.abs(s-C)<Math.abs(l-C)?s:l;let m=r*t;const A=e+m,g=o===void 0?A:o(A);d.target=g,g!==A&&(m=g-e);const p=C=>-m*Math.exp(-C/i),v=C=>g+p(C),y=C=>{const _=p(C),B=v(C);d.done=Math.abs(_)<=c,d.current=d.done?g:B};let b,x;const w=C=>{h(d.current)&&(b=C,x=rre({from:d.current,to:f(d.current),velocity:$k(v,C,d.current),damping:n,stiffness:a,restDistance:c,restSpeed:u}))};return w(0),C=>{let _=!1;return!x&&b===void 0&&(_=!0,y(C),w(C)),b!==void 0&&C>b?(d.hasReachedTarget=!0,x(C-b)):(d.hasReachedTarget=!1,!_&&y(C),d)}},QO=10,S0e=1e4;function E0e(e,t=Ef){let r,i=QO,n=e(0);const a=[t(n.current)];for(;!n.done&&i<S0e;)n=e(i),a.push(t(n.done?n.target:n.current)),r===void 0&&n.hasReachedTarget&&(r=i),i+=QO;const o=i-QO;return a.length===1&&a.push(n.current),{keyframes:a,duration:o/1e3,overshootDuration:(r??o)/1e3}}function ire(e){const t=new WeakMap;return(r={})=>{const i=new Map,n=(o=0,s=100,l=0,c=!1)=>{const u=`${o}-${s}-${l}-${c}`;return i.has(u)||i.set(u,e(Object.assign({from:o,to:s,velocity:l,restSpeed:c?.05:2,restDistance:c?.01:.5},r))),i.get(u)},a=o=>(t.has(o)||t.set(o,E0e(o)),t.get(o));return{createAnimation:(o,s,l,c,u)=>{var d,h;let f;const m=o.length;if(l&&m<=2&&o.every(B0e)){const g=o[m-1],p=m===1?null:o[0];let v=0,y=0;const b=u==null?void 0:u.generator;if(b){const{animation:C,generatorStartTime:_}=u,B=(C==null?void 0:C.startTime)||_||0,P=(C==null?void 0:C.currentTime)||performance.now()-B,M=b(P).current;y=(d=p)!==null&&d!==void 0?d:M,(m===1||m===2&&o[0]===null)&&(v=$k(O=>b(O).current,P,M))}else y=(h=p)!==null&&h!==void 0?h:parseFloat(s());const x=n(y,g,v,c==null?void 0:c.includes("scale")),w=a(x);f=Object.assign(Object.assign({},w),{easing:"linear"}),u&&(u.generator=x,u.generatorStartTime=performance.now())}else f={easing:"ease",duration:a(n(0,100)).overshootDuration};return f}}}}const B0e=e=>typeof e!="string",M0e=ire(rre),P0e=ire(_0e),T0e={any:0,all:1};function nre(e,t,{root:r,margin:i,amount:n="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const a=TT(e),o=new WeakMap,s=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const h=t(u);typeof h=="function"?o.set(u.target,h):l.unobserve(u.target)}else d&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(s,{root:r,rootMargin:i,threshold:typeof n=="number"?n:T0e[n]});return a.forEach(c=>l.observe(c)),()=>l.disconnect()}const i5=new WeakMap;let Xp;function O0e(e,t){if(t){const{inlineSize:r,blockSize:i}=t[0];return{width:r,height:i}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function D0e({target:e,contentRect:t,borderBoxSize:r}){var i;(i=i5.get(e))===null||i===void 0||i.forEach(n=>{n({target:e,contentSize:t,get size(){return O0e(e,r)}})})}function I0e(e){e.forEach(D0e)}function F0e(){typeof ResizeObserver>"u"||(Xp=new ResizeObserver(I0e))}function L0e(e,t){Xp||F0e();const r=TT(e);return r.forEach(i=>{let n=i5.get(i);n||(n=new Set,i5.set(i,n)),n.add(t),Xp==null||Xp.observe(i)}),()=>{r.forEach(i=>{const n=i5.get(i);n==null||n.delete(t),n!=null&&n.size||Xp==null||Xp.unobserve(i)})}}const n5=new Set;let e2;function R0e(){e2=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};n5.forEach(r=>r(t))},window.addEventListener("resize",e2)}function U0e(e){return n5.add(e),e2||R0e(),()=>{n5.delete(e),!n5.size&&e2&&(e2=void 0)}}function are(e,t){return typeof e=="function"?U0e(e):L0e(e,t)}const N0e=50,kV=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),k0e=()=>({time:0,x:kV(),y:kV()}),j0e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function jV(e,t,r,i){const n=r[t],{length:a,position:o}=j0e[t],s=n.current,l=r.time;n.current=e["scroll"+o],n.scrollLength=e["scroll"+a]-e["client"+a],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=ET(0,n.scrollLength,n.current);const c=i-l;n.velocity=c>N0e?0:Yte(n.current-s,c)}function z0e(e,t,r){jV(e,"x",t,r),jV(e,"y",t,r),t.time=r}function H0e(e,t){let r={x:0,y:0},i=e;for(;i&&i!==t;)if(i instanceof HTMLElement)r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;else if(i instanceof SVGGraphicsElement&&"getBBox"in i){const{top:n,left:a}=i.getBBox();for(r.x+=a,r.y+=n;i&&i.tagName!=="svg";)i=i.parentNode}return r}const ore={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},aL={start:0,center:.5,end:1};function zV(e,t,r=0){let i=0;if(aL[e]!==void 0&&(e=aL[e]),Kk(e)){const n=parseFloat(e);e.endsWith("px")?i=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?i=n/100*document.documentElement.clientWidth:e.endsWith("vh")?i=n/100*document.documentElement.clientHeight:e=n}return Rf(e)&&(i=t*e),r+i}const V0e=[0,0];function Q0e(e,t,r,i){let n=Array.isArray(e)?e:V0e,a=0,o=0;return Rf(e)?n=[e,e]:Kk(e)&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,aL[e]?e:"0"]),a=zV(n[0],r,i),o=zV(n[1],t),a-o}const W0e={x:0,y:0};function G0e(e,t,r){let{offset:i=ore.All}=r;const{target:n=e,axis:a="y"}=r,o=a==="y"?"height":"width",s=n!==e?H0e(n,e):W0e,l=n===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:n.clientWidth,height:n.clientHeight},c={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const d=i.length;for(let h=0;h<d;h++){const f=Q0e(i[h],c[o],l[o],s[a]);!u&&f!==t[a].interpolatorOffsets[h]&&(u=!0),t[a].offset[h]=f}u&&(t[a].interpolate=Kte(qk(d),t[a].offset),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}function q0e(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let i=t;for(;i&&i!=e;)r.x.targetOffset+=i.offsetLeft,r.y.targetOffset+=i.offsetTop,i=i.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function K0e(e,t,r,i={}){const n=i.axis||"y";return{measure:()=>q0e(e,i.target,r),update:a=>{z0e(e,r,a),(i.offset||i.target)&&G0e(e,r,i)},notify:typeof t=="function"?()=>t(r):X0e(t,r[n])}}function X0e(e,t){return e.pause(),e.forEachNative((r,{easing:i})=>{var n,a;if(r.updateDuration)i||(r.easing=Ef),r.updateDuration(1);else{const o={duration:1e3};i||(o.easing="linear"),(a=(n=r.effect)===null||n===void 0?void 0:n.updateTiming)===null||a===void 0||a.call(n,o)}}),()=>{e.currentTime=t.progress}}const ww=new WeakMap,HV=new WeakMap,WO=new WeakMap,VV=e=>e===document.documentElement?window:e;function Y0e(e,t={}){var{container:r=document.documentElement}=t,i=Zb.__rest(t,["container"]);let n=WO.get(r);n||(n=new Set,WO.set(r,n));const a=k0e(),o=K0e(r,e,a,i);if(n.add(o),!ww.has(r)){const c=()=>{const d=performance.now();for(const h of n)h.measure();for(const h of n)h.update(d);for(const h of n)h.notify()};ww.set(r,c);const u=VV(r);window.addEventListener("resize",c,{passive:!0}),r!==document.documentElement&&HV.set(r,are(r,c)),u.addEventListener("scroll",c,{passive:!0})}const s=ww.get(r),l=requestAnimationFrame(s);return()=>{var c;typeof e!="function"&&e.stop(),cancelAnimationFrame(l);const u=WO.get(r);if(!u||(u.delete(o),u.size))return;const d=ww.get(r);ww.delete(r),d&&(VV(r).removeEventListener("scroll",d),(c=HV.get(r))===null||c===void 0||c(),window.removeEventListener("resize",d))}}function $0e(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!J0e(e,t):e!==t}function J0e(e,t){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function Z0e(e){return typeof e=="object"}function QV(e,t){if(Z0e(e))return e;if(e&&t)return t[e]}let kA;function eve(){if(!kA)return;const e=kA.sort(rve).map(ive);e.forEach(WV),e.forEach(WV),kA=void 0}function GO(e){kA?Qte(kA,e):(kA=[e],requestAnimationFrame(eve))}function tve(e){kA&&Wte(kA,e)}const rve=(e,t)=>e.getDepth()-t.getDepth(),ive=e=>e.animateUpdates(),WV=e=>e.next(),GV=(e,t)=>new CustomEvent(e,{detail:{target:t}});function oL(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:r}}))}function qV(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:r}}))}const nve={isActive:e=>!!e.inView,subscribe:(e,{enable:t,disable:r},{inViewOptions:i={}})=>{const{once:n}=i,a=Zb.__rest(i,["once"]);return nre(e,o=>{if(t(),qV(e,"viewenter",o),!n)return s=>{r(),qV(e,"viewleave",s)}},a)}},KV=(e,t,r)=>i=>{i.pointerType&&i.pointerType!=="mouse"||(r(),oL(e,t,i))},ave={isActive:e=>!!e.hover,subscribe:(e,{enable:t,disable:r})=>{const i=KV(e,"hoverstart",t),n=KV(e,"hoverend",r);return e.addEventListener("pointerenter",i),e.addEventListener("pointerleave",n),()=>{e.removeEventListener("pointerenter",i),e.removeEventListener("pointerleave",n)}}},ove={isActive:e=>!!e.press,subscribe:(e,{enable:t,disable:r})=>{const i=a=>{r(),oL(e,"pressend",a),window.removeEventListener("pointerup",i)},n=a=>{t(),oL(e,"pressstart",a),window.addEventListener("pointerup",i)};return e.addEventListener("pointerdown",n),()=>{e.removeEventListener("pointerdown",n),window.removeEventListener("pointerup",i)}}},a5={inView:nve,hover:ave,press:ove},XV=["initial","animate",...Object.keys(a5),"exit"],sL=new WeakMap;function sve(e={},t){let r,i=t?t.getDepth()+1:0;const n={initial:!0,animate:!0},a={},o={};for(const A of XV)o[A]=typeof e[A]=="string"?e[A]:t==null?void 0:t.getContext()[A];const s=e.initial===!1?"animate":"initial";let l=QV(e[s]||o[s],e.variants)||{},c=Zb.__rest(l,["transition"]);const u=Object.assign({},c);function*d(){var A,g;const p=c;c={};const v={};for(const C of XV){if(!n[C])continue;const _=QV(e[C]);if(_)for(const B in _)B!=="transition"&&(c[B]=_[B],v[B]=Xk((g=(A=_.transition)!==null&&A!==void 0?A:e.transition)!==null&&g!==void 0?g:{},B))}const y=new Set([...Object.keys(c),...Object.keys(p)]),b=[];y.forEach(C=>{var _;c[C]===void 0&&(c[C]=u[C]),$0e(p[C],c[C])&&((_=u[C])!==null&&_!==void 0||(u[C]=Ey.get(r,C)),b.push(PT(r,C,c[C],v[C])))}),yield;const x=b.map(C=>C()).filter(Boolean);if(!x.length)return;const w=c;r.dispatchEvent(GV("motionstart",w)),Promise.all(x.map(C=>C.finished)).then(()=>{r.dispatchEvent(GV("motioncomplete",w))}).catch(Wk)}const h=(A,g)=>()=>{n[A]=g,GO(m)},f=()=>{for(const A in a5){const g=a5[A].isActive(e),p=a[A];g&&!p?a[A]=a5[A].subscribe(r,{enable:h(A,!0),disable:h(A,!1)},e):!g&&p&&(p(),delete a[A])}},m={update:A=>{r&&(e=A,f(),GO(m))},setActive:(A,g)=>{r&&(n[A]=g,GO(m))},animateUpdates:d,getDepth:()=>i,getTarget:()=>c,getOptions:()=>e,getContext:()=>o,mount:A=>(r=A,sL.set(r,m),f(),()=>{sL.delete(r),tve(m);for(const g in a)a[g]()}),isMounted:()=>!!r};return m}function sre(e){const t={},r=[];for(let i in e){const n=e[i];MT(i)&&(xb[i]&&(i=xb[i]),r.push(i),i=BT(i));let a=Array.isArray(n)?n[0]:n;const o=Cb.get(i);o&&(a=Rf(n)?o.toDefaultUnit(n):n),t[i]=a}return r.length&&(t.transform=$te(r)),t}const lve=e=>`-${e.toLowerCase()}`,cve=e=>e.replace(/[A-Z]/g,lve);function uve(e={}){const t=sre(e);let r="";for(const i in t)r+=i.startsWith("--")?i:cve(i),r+=`: ${t[i]}; `;return r}const dve=Object.freeze(Object.defineProperty({__proto__:null,ScrollOffset:ore,animate:f0e,animateStyle:PT,createMotionState:sve,createStyleString:uve,createStyles:sre,getAnimationData:Vk,getStyleName:BM,glide:P0e,inView:nre,mountedStates:sL,resize:are,scroll:Y0e,spring:M0e,stagger:d0e,style:Ey,timeline:m0e,withControls:Yk},Symbol.toStringTag,{value:"Module"})),hve=Gb(dve);function fve(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var pve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ave=fve(function(e){return pve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});const gve=Object.freeze(Object.defineProperty({__proto__:null,default:Ave},Symbol.toStringTag,{value:"Module"})),mve=Gb(gve);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Zb,r=Oe,i=ute,n=mo,a=zr,o=v0,s=hve;function l(S){return S&&typeof S=="object"&&"default"in S?S:{default:S}}function c(S){if(S&&S.__esModule)return S;var T=Object.create(null);return S&&Object.keys(S).forEach(function(k){if(k!=="default"){var Q=Object.getOwnPropertyDescriptor(S,k);Object.defineProperty(T,k,Q.get?Q:{enumerable:!0,get:function(){return S[k]}})}}),T.default=S,Object.freeze(T)}var u=c(r),d=l(r),h=l(o),f="production",m=typeof process>"u"||process.env===void 0?f:"production",A=function(S){return{isEnabled:function(T){return S.some(function(k){return!!T[k]})}}},g={measureLayout:A(["layout","layoutId","drag"]),animation:A(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:A(["exit"]),drag:A(["drag","dragControls"]),focus:A(["whileFocus"]),hover:A(["whileHover","onHoverStart","onHoverEnd"]),tap:A(["whileTap","onTap","onTapStart","onTapCancel"]),pan:A(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:A(["whileInView","onViewportEnter","onViewportLeave"])};function p(S){for(var T in S)S[T]!==null&&(T==="projectionNodeConstructor"?g.projectionNodeConstructor=S[T]:g[T].Component=S[T])}var v=r.createContext({strict:!1}),y=Object.keys(g),b=y.length;function x(S,T,k){var Q=[],Z=r.useContext(v);if(!T)return null;m!=="production"&&k&&Z.strict&&i.invariant(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var xe=0;xe<b;xe++){var _e=y[xe],fe=g[_e],Me=fe.isEnabled,Te=fe.Component;Me(S)&&Te&&Q.push(u.createElement(Te,t.__assign({key:_e},S,{visualElement:T})))}return Q}var w=r.createContext({transformPagePoint:function(S){return S},isStatic:!1,reducedMotion:"never"}),C=r.createContext({});function _(){return r.useContext(C).visualElement}var B=r.createContext(null),P=typeof document<"u",M=P?r.useLayoutEffect:r.useEffect,O={current:null},I=!1;function F(){if(I=!0,!!P)if(window.matchMedia){var S=window.matchMedia("(prefers-reduced-motion)"),T=function(){return O.current=S.matches};S.addListener(T),T()}else O.current=!1}function V(){!I&&F();var S=t.__read(r.useState(O.current),1),T=S[0];return T}function Y(){var S=V(),T=r.useContext(w).reducedMotion;return T==="never"?!1:T==="always"?!0:S}function j(S,T,k,Q){var Z=r.useContext(v),xe=_(),_e=r.useContext(B),fe=Y(),Me=r.useRef(void 0);Q||(Q=Z.renderer),!Me.current&&Q&&(Me.current=Q(S,{visualState:T,parent:xe,props:k,presenceId:_e==null?void 0:_e.id,blockInitialAnimation:(_e==null?void 0:_e.initial)===!1,shouldReduceMotion:fe}));var Te=Me.current;return M(function(){Te==null||Te.syncRender()}),r.useEffect(function(){var He;(He=Te==null?void 0:Te.animationState)===null||He===void 0||He.animateChanges()}),M(function(){return function(){return Te==null?void 0:Te.notifyUnmount()}},[]),Te}function R(S){return typeof S=="object"&&Object.prototype.hasOwnProperty.call(S,"current")}function H(S,T,k){return r.useCallback(function(Q){var Z;Q&&((Z=S.mount)===null||Z===void 0||Z.call(S,Q)),T&&(Q?T.mount(Q):T.unmount()),k&&(typeof k=="function"?k(Q):R(k)&&(k.current=Q))},[T])}function G(S){return Array.isArray(S)}function $(S){return typeof S=="string"||G(S)}function L(S){var T={};return S.forEachValue(function(k,Q){return T[Q]=k.get()}),T}function K(S){var T={};return S.forEachValue(function(k,Q){return T[Q]=k.getVelocity()}),T}function X(S,T,k,Q,Z){var xe;return Q===void 0&&(Q={}),Z===void 0&&(Z={}),typeof T=="function"&&(T=T(k??S.custom,Q,Z)),typeof T=="string"&&(T=(xe=S.variants)===null||xe===void 0?void 0:xe[T]),typeof T=="function"&&(T=T(k??S.custom,Q,Z)),T}function ee(S,T,k){var Q=S.getProps();return X(Q,T,k??Q.custom,L(S),K(S))}function W(S){var T;return typeof((T=S.animate)===null||T===void 0?void 0:T.start)=="function"||$(S.initial)||$(S.animate)||$(S.whileHover)||$(S.whileDrag)||$(S.whileTap)||$(S.whileFocus)||$(S.exit)}function te(S){return!!(W(S)||S.variants)}function oe(S,T){if(W(S)){var k=S.initial,Q=S.animate;return{initial:k===!1||$(k)?k:void 0,animate:$(Q)?Q:void 0}}return S.inherit!==!1?T:{}}function le(S){var T=oe(S,r.useContext(C)),k=T.initial,Q=T.animate;return r.useMemo(function(){return{initial:k,animate:Q}},[be(k),be(Q)])}function be(S){return Array.isArray(S)?S.join(" "):S}function ve(S){var T=r.useRef(null);return T.current===null&&(T.current=S()),T.current}var se={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ye=1;function Be(){return ve(function(){if(se.hasEverUpdated)return ye++})}var ge=r.createContext({}),ae=r.createContext({});function Ne(S,T,k,Q){var Z,xe=T.layoutId,_e=T.layout,fe=T.drag,Me=T.dragConstraints,Te=T.layoutScroll,He=r.useContext(ae);!Q||!k||k!=null&&k.projection||(k.projection=new Q(S,k.getLatestValues(),(Z=k.parent)===null||Z===void 0?void 0:Z.projection),k.projection.setOptions({layoutId:xe,layout:_e,alwaysMeasureLayout:!!fe||Me&&R(Me),visualElement:k,scheduleRender:function(){return k.scheduleRender()},animationType:typeof _e=="string"?_e:"both",initialPromotionConfig:He,layoutScroll:Te}))}var Ie=function(S){t.__extends(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},T.prototype.componentDidUpdate=function(){},T.prototype.updateProps=function(){var k=this.props,Q=k.visualElement,Z=k.props;Q&&Q.setProps(Z)},T.prototype.render=function(){return this.props.children},T}(d.default.Component);function Ee(S){var T=S.preloadedFeatures,k=S.createVisualElement,Q=S.projectionNodeConstructor,Z=S.useRender,xe=S.useVisualState,_e=S.Component;T&&p(T);function fe(Me,Te){var He=Qe(Me);Me=t.__assign(t.__assign({},Me),{layoutId:He});var et=r.useContext(w),tt=null,nt=le(Me),at=et.isStatic?void 0:Be(),_t=xe(Me,et.isStatic);return!et.isStatic&&P&&(nt.visualElement=j(_e,_t,t.__assign(t.__assign({},et),Me),k),Ne(at,Me,nt.visualElement,Q||g.projectionNodeConstructor),tt=x(Me,nt.visualElement,T)),u.createElement(Ie,{visualElement:nt.visualElement,props:t.__assign(t.__assign({},et),Me)},tt,u.createElement(C.Provider,{value:nt},Z(_e,Me,at,H(_t,nt.visualElement,Te),_t,et.isStatic,nt.visualElement)))}return r.forwardRef(fe)}function Qe(S){var T,k=S.layoutId,Q=(T=r.useContext(ge))===null||T===void 0?void 0:T.id;return Q&&k!==void 0?Q+"-"+k:k}function We(S){function T(Q,Z){return Z===void 0&&(Z={}),Ee(S(Q,Z))}if(typeof Proxy>"u")return T;var k=new Map;return new Proxy(T,{get:function(Q,Z){return k.has(Z)||k.set(Z,T(Z)),k.get(Z)}})}var de=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function re(S){return typeof S!="string"||S.includes("-")?!1:!!(de.indexOf(S)>-1||/[A-Z]/.test(S))}var Re={};function Ke(S){Object.assign(Re,S)}var ie=["","X","Y","Z"],st=["translate","scale","rotate","skew"],wt=["transformPerspective","x","y","z"];st.forEach(function(S){return ie.forEach(function(T){return wt.push(S+T)})});function ut(S,T){return wt.indexOf(S)-wt.indexOf(T)}var Ze=new Set(wt);function ht(S){return Ze.has(S)}var Mt=new Set(["originX","originY","originZ"]);function Pt(S){return Mt.has(S)}function Yt(S,T){var k=T.layout,Q=T.layoutId;return ht(S)||Pt(S)||(k||Q!==void 0)&&(!!Re[S]||S==="opacity")}var Tt=function(S){return!!(S!==null&&typeof S=="object"&&S.getVelocity)},Vt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Or(S,T,k,Q){var Z=S.transform,xe=S.transformKeys,_e=T.enableHardwareAcceleration,fe=_e===void 0?!0:_e,Me=T.allowTransformNone,Te=Me===void 0?!0:Me,He="";xe.sort(ut);for(var et=!1,tt=xe.length,nt=0;nt<tt;nt++){var at=xe[nt];He+="".concat(Vt[at]||at,"(").concat(Z[at],") "),at==="z"&&(et=!0)}return!et&&fe?He+="translateZ(0)":He=He.trim(),Q?He=Q(Z,k?"":He):Te&&k&&(He="none"),He}function lr(S){var T=S.originX,k=T===void 0?"50%":T,Q=S.originY,Z=Q===void 0?"50%":Q,xe=S.originZ,_e=xe===void 0?0:xe;return"".concat(k," ").concat(Z," ").concat(_e)}function Ge(S){return S.startsWith("--")}var At=function(S,T){return T&&typeof S=="number"?T.transform(S):S},yt=t.__assign(t.__assign({},n.number),{transform:Math.round}),Wt={borderWidth:n.px,borderTopWidth:n.px,borderRightWidth:n.px,borderBottomWidth:n.px,borderLeftWidth:n.px,borderRadius:n.px,radius:n.px,borderTopLeftRadius:n.px,borderTopRightRadius:n.px,borderBottomRightRadius:n.px,borderBottomLeftRadius:n.px,width:n.px,maxWidth:n.px,height:n.px,maxHeight:n.px,size:n.px,top:n.px,right:n.px,bottom:n.px,left:n.px,padding:n.px,paddingTop:n.px,paddingRight:n.px,paddingBottom:n.px,paddingLeft:n.px,margin:n.px,marginTop:n.px,marginRight:n.px,marginBottom:n.px,marginLeft:n.px,rotate:n.degrees,rotateX:n.degrees,rotateY:n.degrees,rotateZ:n.degrees,scale:n.scale,scaleX:n.scale,scaleY:n.scale,scaleZ:n.scale,skew:n.degrees,skewX:n.degrees,skewY:n.degrees,distance:n.px,translateX:n.px,translateY:n.px,translateZ:n.px,x:n.px,y:n.px,z:n.px,perspective:n.px,transformPerspective:n.px,opacity:n.alpha,originX:n.progressPercentage,originY:n.progressPercentage,originZ:n.px,zIndex:yt,fillOpacity:n.alpha,strokeOpacity:n.alpha,numOctaves:yt};function rr(S,T,k,Q){var Z,xe=S.style,_e=S.vars,fe=S.transform,Me=S.transformKeys,Te=S.transformOrigin;Me.length=0;var He=!1,et=!1,tt=!0;for(var nt in T){var at=T[nt];if(Ge(nt)){_e[nt]=at;continue}var _t=Wt[nt],$t=At(at,_t);if(ht(nt)){if(He=!0,fe[nt]=$t,Me.push(nt),!tt)continue;at!==((Z=_t.default)!==null&&Z!==void 0?Z:0)&&(tt=!1)}else Pt(nt)?(Te[nt]=$t,et=!0):xe[nt]=$t}He?xe.transform=Or(S,k,tt,Q):Q?xe.transform=Q({},""):!T.transform&&xe.transform&&(xe.transform="none"),et&&(xe.transformOrigin=lr(Te))}var qt=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Cr(S,T,k){for(var Q in T)!Tt(T[Q])&&!Yt(Q,k)&&(S[Q]=T[Q])}function Ui(S,T,k){var Q=S.transformTemplate;return r.useMemo(function(){var Z=qt();rr(Z,T,{enableHardwareAcceleration:!k},Q);var xe=Z.vars,_e=Z.style;return t.__assign(t.__assign({},xe),_e)},[T])}function ci(S,T,k){var Q=S.style||{},Z={};return Cr(Z,Q,S),Object.assign(Z,Ui(S,T,k)),S.transformValues&&(Z=S.transformValues(Z)),Z}function ii(S,T,k){var Q={},Z=ci(S,T,k);return S.drag&&S.dragListener!==!1&&(Q.draggable=!1,Z.userSelect=Z.WebkitUserSelect=Z.WebkitTouchCallout="none",Z.touchAction=S.drag===!0?"none":"pan-".concat(S.drag==="x"?"y":"x")),Q.style=Z,Q}var en=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function dr(S){return en.has(S)}var Xe=function(S){return!dr(S)};function ot(S){S&&(Xe=function(T){return T.startsWith("on")?!dr(T):S(T)})}try{ot(mve.default)}catch{}function je(S,T,k){var Q={};for(var Z in S)(Xe(Z)||k===!0&&dr(Z)||!T&&!dr(Z)||S.draggable&&Z.startsWith("onDrag"))&&(Q[Z]=S[Z]);return Q}function vt(S,T,k){return typeof S=="string"?S:n.px.transform(T+k*S)}function he(S,T,k){var Q=vt(T,S.x,S.width),Z=vt(k,S.y,S.height);return"".concat(Q," ").concat(Z)}var De={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ve={offset:"strokeDashoffset",array:"strokeDasharray"};function Fe(S,T,k,Q,Z){k===void 0&&(k=1),Q===void 0&&(Q=0),Z===void 0&&(Z=!0),S.pathLength=1;var xe=Z?De:Ve;S[xe.offset]=n.px.transform(-Q);var _e=n.px.transform(T),fe=n.px.transform(k);S[xe.array]="".concat(_e," ").concat(fe)}function Ye(S,T,k,Q){var Z=T.attrX,xe=T.attrY,_e=T.originX,fe=T.originY,Me=T.pathLength,Te=T.pathSpacing,He=Te===void 0?1:Te,et=T.pathOffset,tt=et===void 0?0:et,nt=t.__rest(T,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);rr(S,nt,k,Q),S.attrs=S.style,S.style={};var at=S.attrs,_t=S.style,$t=S.dimensions;at.transform&&($t&&(_t.transform=at.transform),delete at.transform),$t&&(_e!==void 0||fe!==void 0||_t.transform)&&(_t.transformOrigin=he($t,_e!==void 0?_e:.5,fe!==void 0?fe:.5)),Z!==void 0&&(at.x=Z),xe!==void 0&&(at.y=xe),Me!==void 0&&Fe(at,Me,He,tt,!1)}var gt=function(){return t.__assign(t.__assign({},qt()),{attrs:{}})};function Ot(S,T){var k=r.useMemo(function(){var Z=gt();return Ye(Z,T,{enableHardwareAcceleration:!1},S.transformTemplate),t.__assign(t.__assign({},Z.attrs),{style:t.__assign({},Z.style)})},[T]);if(S.style){var Q={};Cr(Q,S.style,S),k.style=t.__assign(t.__assign({},Q),k.style)}return k}function xt(S){S===void 0&&(S=!1);var T=function(k,Q,Z,xe,_e,fe){var Me=_e.latestValues,Te=re(k)?Ot:ii,He=Te(Q,Me,fe),et=je(Q,typeof k=="string",S),tt=t.__assign(t.__assign(t.__assign({},et),He),{ref:xe});return Z&&(tt["data-projection-id"]=Z),r.createElement(k,tt)};return T}var mt=/([a-z])([A-Z])/g,St="$1-$2",Dt=function(S){return S.replace(mt,St).toLowerCase()};function Jt(S,T,k,Q){var Z=T.style,xe=T.vars;Object.assign(S.style,Z,Q&&Q.getProjectionStyles(k));for(var _e in xe)S.style.setProperty(_e,xe[_e])}var Gt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Sr(S,T,k,Q){Jt(S,T,void 0,Q);for(var Z in T.attrs)S.setAttribute(Gt.has(Z)?Z:Dt(Z),T.attrs[Z])}function ur(S){var T=S.style,k={};for(var Q in T)(Tt(T[Q])||Yt(Q,S))&&(k[Q]=T[Q]);return k}function Pr(S){var T=ur(S);for(var k in S)if(Tt(S[k])){var Q=k==="x"||k==="y"?"attr"+k.toUpperCase():k;T[Q]=S[k]}return T}function Zt(S){return typeof S=="object"&&typeof S.start=="function"}var zt=function(S){return Array.isArray(S)},Tr=function(S){return!!(S&&typeof S=="object"&&S.mix&&S.toValue)},Kt=function(S){return zt(S)?S[S.length-1]||0:S};function er(S){var T=Tt(S)?S.get():S;return Tr(T)?T.toValue():T}function Qt(S,T,k,Q){var Z=S.scrapeMotionValuesFromProps,xe=S.createRenderState,_e=S.onMount,fe={latestValues:oi(T,k,Q,Z),renderState:xe()};return _e&&(fe.mount=function(Me){return _e(T,Me,fe)}),fe}var Yr=function(S){return function(T,k){var Q=r.useContext(C),Z=r.useContext(B);return k?Qt(S,T,Q,Z):ve(function(){return Qt(S,T,Q,Z)})}};function oi(S,T,k,Q){var Z={},xe=(k==null?void 0:k.initial)===!1,_e=Q(S);for(var fe in _e)Z[fe]=er(_e[fe]);var Me=S.initial,Te=S.animate,He=W(S),et=te(S);T&&et&&!He&&S.inherit!==!1&&(Me??(Me=T.initial),Te??(Te=T.animate));var tt=xe||Me===!1,nt=tt?Te:Me;if(nt&&typeof nt!="boolean"&&!Zt(nt)){var at=Array.isArray(nt)?nt:[nt];at.forEach(function(_t){var $t=X(S,_t);if($t){var vr=$t.transitionEnd;$t.transition;var Dr=t.__rest($t,["transitionEnd","transition"]);for(var ni in Dr){var pi=Dr[ni];if(Array.isArray(pi)){var vi=tt?pi.length-1:0;pi=pi[vi]}pi!==null&&(Z[ni]=pi)}for(var ni in vr)Z[ni]=vr[ni]}})}return Z}var ne={useVisualState:Yr({scrapeMotionValuesFromProps:Pr,createRenderState:gt,onMount:function(S,T,k){var Q=k.renderState,Z=k.latestValues;try{Q.dimensions=typeof T.getBBox=="function"?T.getBBox():T.getBoundingClientRect()}catch{Q.dimensions={x:0,y:0,width:0,height:0}}Ye(Q,Z,{enableHardwareAcceleration:!1},S.transformTemplate),Sr(T,Q)}})},pe={useVisualState:Yr({scrapeMotionValuesFromProps:ur,createRenderState:qt})};function Ue(S,T,k,Q,Z){var xe=T.forwardMotionProps,_e=xe===void 0?!1:xe,fe=re(S)?ne:pe;return t.__assign(t.__assign({},fe),{preloadedFeatures:k,useRender:xt(_e),createVisualElement:Q,projectionNodeConstructor:Z,Component:S})}e.AnimationType=void 0,function(S){S.Animate="animate",S.Hover="whileHover",S.Tap="whileTap",S.Drag="whileDrag",S.Focus="whileFocus",S.InView="whileInView",S.Exit="exit"}(e.AnimationType||(e.AnimationType={}));function we(S,T,k,Q){return Q===void 0&&(Q={passive:!0}),S.addEventListener(T,k,Q),function(){return S.removeEventListener(T,k)}}function ze(S,T,k,Q){r.useEffect(function(){var Z=S.current;if(k&&Z)return we(Z,T,k,Q)},[S,T,k,Q])}function dt(S){var T=S.whileFocus,k=S.visualElement,Q=function(){var xe;(xe=k.animationState)===null||xe===void 0||xe.setActive(e.AnimationType.Focus,!0)},Z=function(){var xe;(xe=k.animationState)===null||xe===void 0||xe.setActive(e.AnimationType.Focus,!1)};ze(k,"focus",T?Q:void 0),ze(k,"blur",T?Z:void 0)}function Er(S){return typeof PointerEvent<"u"&&S instanceof PointerEvent?S.pointerType==="mouse":S instanceof MouseEvent}function tr(S){var T=!!S.touches;return T}function ti(S){return function(T){var k=T instanceof MouseEvent,Q=!k||k&&T.button===0;Q&&S(T)}}var Wr={pageX:0,pageY:0};function mi(S,T){T===void 0&&(T="page");var k=S.touches[0]||S.changedTouches[0],Q=k||Wr;return{x:Q[T+"X"],y:Q[T+"Y"]}}function Wn(S,T){return T===void 0&&(T="page"),{x:S[T+"X"],y:S[T+"Y"]}}function xc(S,T){return T===void 0&&(T="page"),{point:tr(S)?mi(S,T):Wn(S,T)}}var Jf=function(S,T){T===void 0&&(T=!1);var k=function(Q){return S(Q,xc(Q))};return T?ti(k):k},P1=function(){return P&&window.onpointerdown===null},O0=function(){return P&&window.ontouchstart===null},T1=function(){return P&&window.onmousedown===null},D0={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},O1={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Zf(S){return P1()?S:O0()?O1[S]:T1()?D0[S]:S}function du(S,T,k,Q){return we(S,Zf(T),Jf(k,T==="pointerdown"),Q)}function ep(S,T,k,Q){return ze(S,Zf(T),k&&Jf(k,T==="pointerdown"),Q)}function I0(S){var T=null;return function(){var k=function(){T=null};return T===null?(T=S,k):!1}}var Cc=I0("dragHorizontal"),_h=I0("dragVertical");function Sh(S){var T=!1;if(S==="y")T=_h();else if(S==="x")T=Cc();else{var k=Cc(),Q=_h();k&&Q?T=function(){k(),Q()}:(k&&k(),Q&&Q())}return T}function tp(){var S=Sh(!0);return S?(S(),!1):!0}function Ja(S,T,k){return function(Q,Z){var xe;!Er(Q)||tp()||((xe=S.animationState)===null||xe===void 0||xe.setActive(e.AnimationType.Hover,T),k==null||k(Q,Z))}}function D1(S){var T=S.onHoverStart,k=S.onHoverEnd,Q=S.whileHover,Z=S.visualElement;ep(Z,"pointerenter",T||Q?Ja(Z,!0,T):void 0,{passive:!T}),ep(Z,"pointerleave",k||Q?Ja(Z,!1,k):void 0,{passive:!k})}var pg=function(S,T){return T?S===T?!0:pg(S,T.parentElement):!1};function Gr(S){return r.useEffect(function(){return function(){return S()}},[])}function I1(S){var T=S.onTap,k=S.onTapStart,Q=S.onTapCancel,Z=S.whileTap,xe=S.visualElement,_e=T||k||Q||Z,fe=r.useRef(!1),Me=r.useRef(null),Te={passive:!(k||T||Q||at)};function He(){var _t;(_t=Me.current)===null||_t===void 0||_t.call(Me),Me.current=null}function et(){var _t;return He(),fe.current=!1,(_t=xe.animationState)===null||_t===void 0||_t.setActive(e.AnimationType.Tap,!1),!tp()}function tt(_t,$t){et()&&(pg(xe.getInstance(),_t.target)?T==null||T(_t,$t):Q==null||Q(_t,$t))}function nt(_t,$t){et()&&(Q==null||Q(_t,$t))}function at(_t,$t){var vr;He(),!fe.current&&(fe.current=!0,Me.current=a.pipe(du(window,"pointerup",tt,Te),du(window,"pointercancel",nt,Te)),(vr=xe.animationState)===null||vr===void 0||vr.setActive(e.AnimationType.Tap,!0),k==null||k(_t,$t))}ep(xe,"pointerdown",_e?at:void 0,Te),Gr(He)}var F0=new Set;function fl(S,T,k){S||F0.has(T)||(console.warn(T),k&&console.warn(k),F0.add(T))}var rp=new WeakMap,ip=new WeakMap,np=function(S){var T;(T=rp.get(S.target))===null||T===void 0||T(S)},Ag=function(S){S.forEach(np)};function F1(S){var T=S.root,k=t.__rest(S,["root"]),Q=T||document;ip.has(Q)||ip.set(Q,{});var Z=ip.get(Q),xe=JSON.stringify(k);return Z[xe]||(Z[xe]=new IntersectionObserver(Ag,t.__assign({root:T},k))),Z[xe]}function L1(S,T,k){var Q=F1(T);return rp.set(S,k),Q.observe(S),function(){rp.delete(S),Q.unobserve(S)}}function R1(S){var T=S.visualElement,k=S.whileInView,Q=S.onViewportEnter,Z=S.onViewportLeave,xe=S.viewport,_e=xe===void 0?{}:xe,fe=r.useRef({hasEnteredView:!1,isInView:!1}),Me=!!(k||Q||Z);_e.once&&fe.current.hasEnteredView&&(Me=!1);var Te=typeof IntersectionObserver>"u"?cd:Eh;Te(Me,fe.current,T,_e)}var gg={some:0,all:1};function Eh(S,T,k,Q){var Z=Q.root,xe=Q.margin,_e=Q.amount,fe=_e===void 0?"some":_e,Me=Q.once;r.useEffect(function(){if(S){var Te={root:Z==null?void 0:Z.current,rootMargin:xe,threshold:typeof fe=="number"?fe:gg[fe]},He=function(et){var tt,nt=et.isIntersecting;if(T.isInView!==nt&&(T.isInView=nt,!(Me&&!nt&&T.hasEnteredView))){nt&&(T.hasEnteredView=!0),(tt=k.animationState)===null||tt===void 0||tt.setActive(e.AnimationType.InView,nt);var at=k.getProps(),_t=nt?at.onViewportEnter:at.onViewportLeave;_t==null||_t(et)}};return L1(k.getInstance(),Te,He)}},[S,Z,xe,fe])}function cd(S,T,k,Q){var Z=Q.fallback,xe=Z===void 0?!0:Z;r.useEffect(function(){!S||!xe||(m!=="production"&&fl(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var _e;T.hasEnteredView=!0;var fe=k.getProps().onViewportEnter;fe==null||fe(null),(_e=k.animationState)===null||_e===void 0||_e.setActive(e.AnimationType.InView,!0)}))},[S])}var _c=function(S){return function(T){return S(T),null}},ud={inView:_c(R1),tap:_c(I1),focus:_c(dt),hover:_c(D1)},mg=0,ap=function(){return mg++},vg=function(){return ve(ap)};function op(){var S=r.useContext(B);if(S===null)return[!0,null];var T=S.isPresent,k=S.onExitComplete,Q=S.register,Z=vg();r.useEffect(function(){return Q(Z)},[]);var xe=function(){return k==null?void 0:k(Z)};return!T&&k?[!1,xe]:[!0]}function L0(){return R0(r.useContext(B))}function R0(S){return S===null?!0:S.isPresent}function Sc(S,T){if(!Array.isArray(T))return!1;var k=T.length;if(k!==S.length)return!1;for(var Q=0;Q<k;Q++)if(T[Q]!==S[Q])return!1;return!0}var Ql=function(S){return S*1e3},U0={linear:a.linear,easeIn:a.easeIn,easeInOut:a.easeInOut,easeOut:a.easeOut,circIn:a.circIn,circInOut:a.circInOut,circOut:a.circOut,backIn:a.backIn,backInOut:a.backInOut,backOut:a.backOut,anticipate:a.anticipate,bounceIn:a.bounceIn,bounceInOut:a.bounceInOut,bounceOut:a.bounceOut},hu=function(S){if(Array.isArray(S)){i.invariant(S.length===4,"Cubic bezier arrays must contain four numerical values.");var T=t.__read(S,4),k=T[0],Q=T[1],Z=T[2],xe=T[3];return a.cubicBezier(k,Q,Z,xe)}else if(typeof S=="string")return i.invariant(U0[S]!==void 0,"Invalid easing type '".concat(S,"'")),U0[S];return S},Wl=function(S){return Array.isArray(S)&&typeof S[0]!="number"},sp=function(S,T){return S==="zIndex"?!1:!!(typeof T=="number"||Array.isArray(T)||typeof T=="string"&&n.complex.test(T)&&!T.startsWith("url("))},Rs=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},lp=function(S){return{type:"spring",stiffness:550,damping:S===0?2*Math.sqrt(550):30,restSpeed:10}},dd=function(){return{type:"keyframes",ease:"linear",duration:.3}},U1=function(S){return{type:"keyframes",duration:.8,values:S}},cp={x:Rs,y:Rs,z:Rs,rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scaleX:lp,scaleY:lp,scale:lp,opacity:dd,backgroundColor:dd,color:dd,default:lp},yg=function(S,T){var k;return zt(T)?k=U1:k=cp[S]||cp.default,t.__assign({to:T},k(T))},N0=t.__assign(t.__assign({},Wt),{color:n.color,backgroundColor:n.color,outlineColor:n.color,fill:n.color,stroke:n.color,borderColor:n.color,borderTopColor:n.color,borderRightColor:n.color,borderBottomColor:n.color,borderLeftColor:n.color,filter:n.filter,WebkitFilter:n.filter}),hd=function(S){return N0[S]};function Bh(S,T){var k,Q=hd(S);return Q!==n.filter&&(Q=n.complex),(k=Q.getAnimatableNone)===null||k===void 0?void 0:k.call(Q,T)}var Mh={current:!1};function k0(S){S.when,S.delay,S.delayChildren,S.staggerChildren,S.staggerDirection,S.repeat,S.repeatType,S.repeatDelay,S.from;var T=t.__rest(S,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(T).length}var j0=!1;function up(S){var T=S.ease,k=S.times,Q=S.yoyo,Z=S.flip,xe=S.loop,_e=t.__rest(S,["ease","times","yoyo","flip","loop"]),fe=t.__assign({},_e);return k&&(fe.offset=k),_e.duration&&(fe.duration=Ql(_e.duration)),_e.repeatDelay&&(fe.repeatDelay=Ql(_e.repeatDelay)),T&&(fe.ease=Wl(T)?T.map(hu):hu(T)),_e.type==="tween"&&(fe.type="keyframes"),(Q||xe||Z)&&(i.warning(!j0,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),j0=!0,Q?fe.repeatType="reverse":xe?fe.repeatType="loop":Z&&(fe.repeatType="mirror"),fe.repeat=xe||Q||Z||_e.repeat),_e.type!=="spring"&&(fe.type="keyframes"),fe}function Ph(S,T){var k,Q,Z=Le(S,T)||{};return(Q=(k=Z.delay)!==null&&k!==void 0?k:S.delay)!==null&&Q!==void 0?Q:0}function bg(S){return Array.isArray(S.to)&&S.to[0]===null&&(S.to=t.__spreadArray([],t.__read(S.to),!1),S.to[0]=S.from),S}function fd(S,T,k){var Q;return Array.isArray(T.to)&&((Q=S.duration)!==null&&Q!==void 0||(S.duration=.8)),bg(T),k0(S)||(S=t.__assign(t.__assign({},S),yg(k,T.to))),t.__assign(t.__assign({},T),up(S))}function wg(S,T,k,Q,Z){var xe,_e=Le(Q,S),fe=(xe=_e.from)!==null&&xe!==void 0?xe:T.get(),Me=sp(S,k);fe==="none"&&Me&&typeof k=="string"?fe=Bh(S,k):U(fe)&&typeof k=="string"?fe=ue(k):!Array.isArray(k)&&U(k)&&typeof fe=="string"&&(k=ue(fe));var Te=sp(S,fe);i.warning(Te===Me,"You are trying to animate ".concat(S,' from "').concat(fe,'" to "').concat(k,'". ').concat(fe," is not an animatable value - to enable this animation set ").concat(fe," to a value animatable to ").concat(k," via the `style` property."));function He(){var tt={from:fe,to:k,velocity:T.getVelocity(),onComplete:Z,onUpdate:function(nt){return T.set(nt)}};return _e.type==="inertia"||_e.type==="decay"?a.inertia(t.__assign(t.__assign({},tt),_e)):a.animate(t.__assign(t.__assign({},fd(_e,tt,S)),{onUpdate:function(nt){var at;tt.onUpdate(nt),(at=_e.onUpdate)===null||at===void 0||at.call(_e,nt)},onComplete:function(){var nt;tt.onComplete(),(nt=_e.onComplete)===null||nt===void 0||nt.call(_e)}}))}function et(){var tt,nt,at=Kt(k);return T.set(at),Z(),(tt=_e==null?void 0:_e.onUpdate)===null||tt===void 0||tt.call(_e,at),(nt=_e==null?void 0:_e.onComplete)===null||nt===void 0||nt.call(_e),{stop:function(){}}}return!Te||!Me||_e.type===!1?et:He}function U(S){return S===0||typeof S=="string"&&parseFloat(S)===0&&S.indexOf(" ")===-1}function ue(S){return typeof S=="number"?0:Bh("",S)}function Le(S,T){return S[T]||S.default||S}function qe(S,T,k,Q){return Q===void 0&&(Q={}),Mh.current&&(Q={type:!1}),T.start(function(Z){var xe,_e,fe=wg(S,T,k,Q,Z),Me=Ph(Q,S),Te=function(){return _e=fe()};return Me?xe=window.setTimeout(Te,Ql(Me)):Te(),function(){clearTimeout(xe),_e==null||_e.stop()}})}var lt=function(S){return/^\-?\d*\.?\d+$/.test(S)},Bt=function(S){return/^0[^.\s]+$/.test(S)};function Ht(S,T){S.indexOf(T)===-1&&S.push(T)}function hr(S,T){var k=S.indexOf(T);k>-1&&S.splice(k,1)}function Ir(S,T,k){var Q=t.__read(S),Z=Q.slice(0),xe=T<0?Z.length+T:T;if(xe>=0&&xe<Z.length){var _e=k<0?Z.length+k:k,fe=t.__read(Z.splice(T,1),1),Me=fe[0];Z.splice(_e,0,Me)}return Z}var $r=function(){function S(){this.subscriptions=[]}return S.prototype.add=function(T){var k=this;return Ht(this.subscriptions,T),function(){return hr(k.subscriptions,T)}},S.prototype.notify=function(T,k,Q){var Z=this.subscriptions.length;if(Z)if(Z===1)this.subscriptions[0](T,k,Q);else for(var xe=0;xe<Z;xe++){var _e=this.subscriptions[xe];_e&&_e(T,k,Q)}},S.prototype.getSize=function(){return this.subscriptions.length},S.prototype.clear=function(){this.subscriptions.length=0},S}(),Ai=function(S){return!isNaN(parseFloat(S))},Ei=function(){function S(T){var k=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new $r,this.velocityUpdateSubscribers=new $r,this.renderSubscribers=new $r,this.canTrackVelocity=!1,this.updateAndNotify=function(Q,Z){Z===void 0&&(Z=!0),k.prev=k.current,k.current=Q;var xe=o.getFrameData(),_e=xe.delta,fe=xe.timestamp;k.lastUpdated!==fe&&(k.timeDelta=_e,k.lastUpdated=fe,h.default.postRender(k.scheduleVelocityCheck)),k.prev!==k.current&&k.updateSubscribers.notify(k.current),k.velocityUpdateSubscribers.getSize()&&k.velocityUpdateSubscribers.notify(k.getVelocity()),Z&&k.renderSubscribers.notify(k.current)},this.scheduleVelocityCheck=function(){return h.default.postRender(k.velocityCheck)},this.velocityCheck=function(Q){var Z=Q.timestamp;Z!==k.lastUpdated&&(k.prev=k.current,k.velocityUpdateSubscribers.notify(k.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=T,this.canTrackVelocity=Ai(this.current)}return S.prototype.onChange=function(T){return this.updateSubscribers.add(T)},S.prototype.clearListeners=function(){this.updateSubscribers.clear()},S.prototype.onRenderRequest=function(T){return T(this.get()),this.renderSubscribers.add(T)},S.prototype.attach=function(T){this.passiveEffect=T},S.prototype.set=function(T,k){k===void 0&&(k=!0),!k||!this.passiveEffect?this.updateAndNotify(T,k):this.passiveEffect(T,this.updateAndNotify)},S.prototype.get=function(){return this.current},S.prototype.getPrevious=function(){return this.prev},S.prototype.getVelocity=function(){return this.canTrackVelocity?a.velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},S.prototype.start=function(T){var k=this;return this.stop(),new Promise(function(Q){k.hasAnimated=!0,k.stopAnimation=T(Q)}).then(function(){return k.clearAnimation()})},S.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},S.prototype.isAnimating=function(){return!!this.stopAnimation},S.prototype.clearAnimation=function(){this.stopAnimation=null},S.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},S}();function Mi(S){return new Ei(S)}var Rn=function(S){return function(T){return T.test(S)}},aa={test:function(S){return S==="auto"},parse:function(S){return S}},Za=[n.number,n.px,n.percent,n.degrees,n.vw,n.vh,aa],Gn=function(S){return Za.find(Rn(S))},Gl=t.__spreadArray(t.__spreadArray([],t.__read(Za),!1),[n.color,n.complex],!1),Us=function(S){return Gl.find(Rn(S))};function fu(S,T,k){S.hasValue(T)?S.getValue(T).set(k):S.addValue(T,Mi(k))}function dp(S,T){var k=ee(S,T),Q=k?S.makeTargetAnimatable(k,!1):{},Z=Q.transitionEnd,xe=Z===void 0?{}:Z;Q.transition;var _e=t.__rest(Q,["transitionEnd","transition"]);_e=t.__assign(t.__assign({},_e),xe);for(var fe in _e){var Me=Kt(_e[fe]);fu(S,fe,Me)}}function Th(S,T){var k=t.__spreadArray([],t.__read(T),!1).reverse();k.forEach(function(Q){var Z,xe=S.getVariant(Q);xe&&dp(S,xe),(Z=S.variantChildren)===null||Z===void 0||Z.forEach(function(_e){Th(_e,T)})})}function xg(S,T){if(Array.isArray(T))return Th(S,T);if(typeof T=="string")return Th(S,[T]);dp(S,T)}function pd(S,T,k){var Q,Z,xe,_e,fe=Object.keys(T).filter(function(nt){return!S.hasValue(nt)}),Me=fe.length;if(Me)for(var Te=0;Te<Me;Te++){var He=fe[Te],et=T[He],tt=null;Array.isArray(et)&&(tt=et[0]),tt===null&&(tt=(Z=(Q=k[He])!==null&&Q!==void 0?Q:S.readValue(He))!==null&&Z!==void 0?Z:T[He]),tt!=null&&(typeof tt=="string"&&(lt(tt)||Bt(tt))?tt=parseFloat(tt):!Us(tt)&&n.complex.test(et)&&(tt=Bh(He,et)),S.addValue(He,Mi(tt)),(xe=(_e=k)[He])!==null&&xe!==void 0||(_e[He]=tt),S.setBaseTarget(He,tt))}}function Cg(S,T){if(T){var k=T[S]||T.default||T;return k.from}}function hp(S,T,k){var Q,Z,xe={};for(var _e in S)xe[_e]=(Q=Cg(_e,T))!==null&&Q!==void 0?Q:(Z=k.getValue(_e))===null||Z===void 0?void 0:Z.get();return xe}function pu(S,T,k){k===void 0&&(k={}),S.notifyAnimationStart(T);var Q;if(Array.isArray(T)){var Z=T.map(function(_e){return vo(S,_e,k)});Q=Promise.all(Z)}else if(typeof T=="string")Q=vo(S,T,k);else{var xe=typeof T=="function"?ee(S,T,k.custom):T;Q=Oh(S,xe,k)}return Q.then(function(){return S.notifyAnimationComplete(T)})}function vo(S,T,k){var Q;k===void 0&&(k={});var Z=ee(S,T,k.custom),xe=(Z||{}).transition,_e=xe===void 0?S.getDefaultTransition()||{}:xe;k.transitionOverride&&(_e=k.transitionOverride);var fe=Z?function(){return Oh(S,Z,k)}:function(){return Promise.resolve()},Me=!((Q=S.variantChildren)===null||Q===void 0)&&Q.size?function(nt){nt===void 0&&(nt=0);var at=_e.delayChildren,_t=at===void 0?0:at,$t=_e.staggerChildren,vr=_e.staggerDirection;return fp(S,T,_t+nt,$t,vr,k)}:function(){return Promise.resolve()},Te=_e.when;if(Te){var He=t.__read(Te==="beforeChildren"?[fe,Me]:[Me,fe],2),et=He[0],tt=He[1];return et().then(tt)}else return Promise.all([fe(),Me(k.delay)])}function Oh(S,T,k){var Q,Z=k===void 0?{}:k,xe=Z.delay,_e=xe===void 0?0:xe,fe=Z.transitionOverride,Me=Z.type,Te=S.makeTargetAnimatable(T),He=Te.transition,et=He===void 0?S.getDefaultTransition():He,tt=Te.transitionEnd,nt=t.__rest(Te,["transition","transitionEnd"]);fe&&(et=fe);var at=[],_t=Me&&((Q=S.animationState)===null||Q===void 0?void 0:Q.getState()[Me]);for(var $t in nt){var vr=S.getValue($t),Dr=nt[$t];if(!(!vr||Dr===void 0||_t&&os(_t,$t))){var ni=t.__assign({delay:_e},et);S.shouldReduceMotion&&ht($t)&&(ni=t.__assign(t.__assign({},ni),{type:!1,delay:0}));var pi=qe($t,vr,Dr,ni);at.push(pi)}}return Promise.all(at).then(function(){tt&&dp(S,tt)})}function fp(S,T,k,Q,Z,xe){k===void 0&&(k=0),Q===void 0&&(Q=0),Z===void 0&&(Z=1);var _e=[],fe=(S.variantChildren.size-1)*Q,Me=Z===1?function(Te){return Te===void 0&&(Te=0),Te*Q}:function(Te){return Te===void 0&&(Te=0),fe-Te*Q};return Array.from(S.variantChildren).sort(_g).forEach(function(Te,He){_e.push(vo(Te,T,t.__assign(t.__assign({},xe),{delay:k+Me(He)})).then(function(){return Te.notifyAnimationComplete(T)}))}),Promise.all(_e)}function pp(S){S.forEachValue(function(T){return T.stop()})}function _g(S,T){return S.sortNodePosition(T)}function os(S,T){var k=S.protectedKeys,Q=S.needsAnimating,Z=k.hasOwnProperty(T)&&Q[T]!==!0;return Q[T]=!1,Z}var Sg=[e.AnimationType.Animate,e.AnimationType.InView,e.AnimationType.Focus,e.AnimationType.Hover,e.AnimationType.Tap,e.AnimationType.Drag,e.AnimationType.Exit],Eg=t.__spreadArray([],t.__read(Sg),!1).reverse(),z0=Sg.length;function ql(S){return function(T){return Promise.all(T.map(function(k){var Q=k.animation,Z=k.options;return pu(S,Q,Z)}))}}function Bg(S){var T=ql(S),k=Ad(),Q={},Z=!0,xe=function(He,et){var tt=ee(S,et);if(tt){tt.transition;var nt=tt.transitionEnd,at=t.__rest(tt,["transition","transitionEnd"]);He=t.__assign(t.__assign(t.__assign({},He),at),nt)}return He};function _e(He){return Q[He]!==void 0}function fe(He){T=He(S)}function Me(He,et){for(var tt,nt=S.getProps(),at=S.getVariantContext(!0)||{},_t=[],$t=new Set,vr={},Dr=1/0,ni=function(_n){var Ci=Eg[_n],zi=k[Ci],qn=(tt=nt[Ci])!==null&&tt!==void 0?tt:at[Ci],Tc=$(qn),Qs=Ci===et?zi.isActive:null;Qs===!1&&(Dr=_n);var rc=qn===at[Ci]&&qn!==nt[Ci]&&Tc;if(rc&&Z&&S.manuallyAnimateOnMount&&(rc=!1),zi.protectedKeys=t.__assign({},vr),!zi.isActive&&Qs===null||!qn&&!zi.prevProp||Zt(qn)||typeof qn=="boolean")return"continue";var Bp=N1(zi.prevProp,qn),Mp=Bp||Ci===et&&zi.isActive&&!rc&&Tc||_n>Dr&&Tc,Pp=Array.isArray(qn)?qn:[qn],Oc=Pp.reduce(xe,{});Qs===!1&&(Oc={});var dw=zi.prevResolvedValues,iv=dw===void 0?{}:dw,tS=t.__assign(t.__assign({},iv),Oc),nv=function(Jr){Mp=!0,$t.delete(Jr),zi.needsAnimating[Jr]=!0};for(var wl in tS){var rn=Oc[wl],xr=iv[wl];vr.hasOwnProperty(wl)||(rn!==xr?zt(rn)&&zt(xr)?!Sc(rn,xr)||Bp?nv(wl):zi.protectedKeys[wl]=!0:rn!==void 0?nv(wl):$t.add(wl):rn!==void 0&&$t.has(wl)?nv(wl):zi.protectedKeys[wl]=!0)}zi.prevProp=qn,zi.prevResolvedValues=Oc,zi.isActive&&(vr=t.__assign(t.__assign({},vr),Oc)),Z&&S.blockInitialAnimation&&(Mp=!1),Mp&&!rc&&_t.push.apply(_t,t.__spreadArray([],t.__read(Pp.map(function(Jr){return{animation:Jr,options:t.__assign({type:Ci},He)}})),!1))},pi=0;pi<z0;pi++)ni(pi);if(Q=t.__assign({},vr),$t.size){var vi={};$t.forEach(function(_n){var Ci=S.getBaseTarget(_n);Ci!==void 0&&(vi[_n]=Ci)}),_t.push({animation:vi})}var yn=!!_t.length;return Z&&nt.initial===!1&&!S.manuallyAnimateOnMount&&(yn=!1),Z=!1,yn?T(_t):Promise.resolve()}function Te(He,et,tt){var nt;if(k[He].isActive===et)return Promise.resolve();(nt=S.variantChildren)===null||nt===void 0||nt.forEach(function($t){var vr;return(vr=$t.animationState)===null||vr===void 0?void 0:vr.setActive(He,et)}),k[He].isActive=et;var at=Me(tt,He);for(var _t in k)k[_t].protectedKeys={};return at}return{isAnimated:_e,animateChanges:Me,setActive:Te,setAnimateFunction:fe,getState:function(){return k}}}function N1(S,T){return typeof T=="string"?T!==S:G(T)?!Sc(T,S):!1}function Au(S){return S===void 0&&(S=!1),{isActive:S,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ad(){var S;return S={},S[e.AnimationType.Animate]=Au(!0),S[e.AnimationType.InView]=Au(),S[e.AnimationType.Hover]=Au(),S[e.AnimationType.Tap]=Au(),S[e.AnimationType.Drag]=Au(),S[e.AnimationType.Focus]=Au(),S[e.AnimationType.Exit]=Au(),S}var ss={animation:_c(function(S){var T=S.visualElement,k=S.animate;T.animationState||(T.animationState=Bg(T)),Zt(k)&&r.useEffect(function(){return k.subscribe(T)},[k])}),exit:_c(function(S){var T=S.custom,k=S.visualElement,Q=t.__read(op(),2),Z=Q[0],xe=Q[1],_e=r.useContext(B);r.useEffect(function(){var fe,Me;k.isPresent=Z;var Te=(fe=k.animationState)===null||fe===void 0?void 0:fe.setActive(e.AnimationType.Exit,!Z,{custom:(Me=_e==null?void 0:_e.custom)!==null&&Me!==void 0?Me:T});!Z&&(Te==null||Te.then(xe))},[Z])})},pl=function(){function S(T,k,Q){var Z=this,xe=Q===void 0?{}:Q,_e=xe.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(Z.lastMoveEvent&&Z.lastMoveEventInfo){var tt=Xl(Z.lastMoveEventInfo,Z.history),nt=Z.startEvent!==null,at=a.distance(tt.offset,{x:0,y:0})>=3;if(!(!nt&&!at)){var _t=tt.point,$t=o.getFrameData().timestamp;Z.history.push(t.__assign(t.__assign({},_t),{timestamp:$t}));var vr=Z.handlers,Dr=vr.onStart,ni=vr.onMove;nt||(Dr&&Dr(Z.lastMoveEvent,tt),Z.startEvent=Z.lastMoveEvent),ni&&ni(Z.lastMoveEvent,tt)}}},this.handlePointerMove=function(tt,nt){if(Z.lastMoveEvent=tt,Z.lastMoveEventInfo=Ec(nt,Z.transformPagePoint),Er(tt)&&tt.buttons===0){Z.handlePointerUp(tt,nt);return}h.default.update(Z.updatePoint,!0)},this.handlePointerUp=function(tt,nt){Z.end();var at=Z.handlers,_t=at.onEnd,$t=at.onSessionEnd,vr=Xl(Ec(nt,Z.transformPagePoint),Z.history);Z.startEvent&&_t&&_t(tt,vr),$t&&$t(tt,vr)},!(tr(T)&&T.touches.length>1)){this.handlers=k,this.transformPagePoint=_e;var fe=xc(T),Me=Ec(fe,this.transformPagePoint),Te=Me.point,He=o.getFrameData().timestamp;this.history=[t.__assign(t.__assign({},Te),{timestamp:He})];var et=k.onSessionStart;et&&et(T,Xl(Me,this.history)),this.removeListeners=a.pipe(du(window,"pointermove",this.handlePointerMove),du(window,"pointerup",this.handlePointerUp),du(window,"pointercancel",this.handlePointerUp))}}return S.prototype.updateHandlers=function(T){this.handlers=T},S.prototype.end=function(){this.removeListeners&&this.removeListeners(),o.cancelSync.update(this.updatePoint)},S}();function Ec(S,T){return T?{point:T(S.point)}:S}function Kl(S,T){return{x:S.x-T.x,y:S.y-T.y}}function Xl(S,T){var k=S.point;return{point:k,delta:Kl(k,Al(T)),offset:Kl(k,Ap(T)),velocity:gp(T,.1)}}function Ap(S){return S[0]}function Al(S){return S[S.length-1]}function gp(S,T){if(S.length<2)return{x:0,y:0};for(var k=S.length-1,Q=null,Z=Al(S);k>=0&&(Q=S[k],!(Z.timestamp-Q.timestamp>Ql(T)));)k--;if(!Q)return{x:0,y:0};var xe=(Z.timestamp-Q.timestamp)/1e3;if(xe===0)return{x:0,y:0};var _e={x:(Z.x-Q.x)/xe,y:(Z.y-Q.y)/xe};return _e.x===1/0&&(_e.x=0),_e.y===1/0&&(_e.y=0),_e}function ls(S){return S.max-S.min}function gu(S,T,k){return T===void 0&&(T=0),k===void 0&&(k=.01),a.distance(S,T)<k}function gl(S,T,k,Q){Q===void 0&&(Q=.5),S.origin=Q,S.originPoint=a.mix(T.min,T.max,S.origin),S.scale=ls(k)/ls(T),(gu(S.scale,1,1e-4)||isNaN(S.scale))&&(S.scale=1),S.translate=a.mix(k.min,k.max,S.origin)-S.originPoint,(gu(S.translate)||isNaN(S.translate))&&(S.translate=0)}function Ns(S,T,k,Q){gl(S.x,T.x,k.x,Q==null?void 0:Q.originX),gl(S.y,T.y,k.y,Q==null?void 0:Q.originY)}function gd(S,T,k){S.min=k.min+T.min,S.max=S.min+ls(T)}function mp(S,T,k){gd(S.x,T.x,k.x),gd(S.y,T.y,k.y)}function md(S,T,k){S.min=T.min-k.min,S.max=S.min+ls(T)}function ml(S,T,k){md(S.x,T.x,k.x),md(S.y,T.y,k.y)}function Mg(S,T,k){var Q=T.min,Z=T.max;return Q!==void 0&&S<Q?S=k?a.mix(Q,S,k.min):Math.max(S,Q):Z!==void 0&&S>Z&&(S=k?a.mix(Z,S,k.max):Math.min(S,Z)),S}function ks(S,T,k){return{min:T!==void 0?S.min+T:void 0,max:k!==void 0?S.max+k-(S.max-S.min):void 0}}function mu(S,T){var k=T.top,Q=T.left,Z=T.bottom,xe=T.right;return{x:ks(S.x,Q,xe),y:ks(S.y,k,Z)}}function ln(S,T){var k,Q=T.min-S.min,Z=T.max-S.max;return T.max-T.min<S.max-S.min&&(k=t.__read([Z,Q],2),Q=k[0],Z=k[1]),{min:Q,max:Z}}function vn(S,T){return{x:ln(S.x,T.x),y:ln(S.y,T.y)}}function $n(S,T){var k=.5,Q=ls(S),Z=ls(T);return Z>Q?k=a.progress(T.min,T.max-Q,S.min):Q>Z&&(k=a.progress(S.min,S.max-Z,T.min)),a.clamp(0,1,k)}function ya(S,T){var k={};return T.min!==void 0&&(k.min=T.min-S.min),T.max!==void 0&&(k.max=T.max-S.min),k}var Yl=.35;function vd(S){return S===void 0&&(S=Yl),S===!1?S=0:S===!0&&(S=Yl),{x:Dh(S,"left","right"),y:Dh(S,"top","bottom")}}function Dh(S,T,k){return{min:Pg(S,T),max:Pg(S,k)}}function Pg(S,T){var k;return typeof S=="number"?S:(k=S[T])!==null&&k!==void 0?k:0}var k1=function(){return{translate:0,scale:1,origin:0,originPoint:0}},vp=function(){return{x:k1(),y:k1()}},j1=function(){return{min:0,max:0}},ba=function(){return{x:j1(),y:j1()}};function $l(S){return[S("x"),S("y")]}function z1(S){var T=S.top,k=S.left,Q=S.right,Z=S.bottom;return{x:{min:k,max:Q},y:{min:T,max:Z}}}function H1(S){var T=S.x,k=S.y;return{top:k.min,right:T.max,bottom:k.max,left:T.min}}function H0(S,T){if(!T)return S;var k=T({x:S.left,y:S.top}),Q=T({x:S.right,y:S.bottom});return{top:k.y,left:k.x,bottom:Q.y,right:Q.x}}function jo(S){return S===void 0||S===1}function js(S){var T=S.scale,k=S.scaleX,Q=S.scaleY;return!jo(T)||!jo(k)||!jo(Q)}function Jl(S){return js(S)||Tg(S.x)||Tg(S.y)||S.z||S.rotate||S.rotateX||S.rotateY}function Tg(S){return S&&S!=="0%"}function Og(S,T,k){var Q=S-k,Z=T*Q;return k+Z}function Dg(S,T,k,Q,Z){return Z!==void 0&&(S=Og(S,Z,Q)),Og(S,k,Q)+T}function yp(S,T,k,Q,Z){T===void 0&&(T=0),k===void 0&&(k=1),S.min=Dg(S.min,T,k,Q,Z),S.max=Dg(S.max,T,k,Q,Z)}function V0(S,T){var k=T.x,Q=T.y;yp(S.x,k.translate,k.scale,k.originPoint),yp(S.y,Q.translate,Q.scale,Q.originPoint)}function T_(S,T,k,Q){var Z,xe;Q===void 0&&(Q=!1);var _e=k.length;if(_e){T.x=T.y=1;for(var fe,Me,Te=0;Te<_e;Te++)fe=k[Te],Me=fe.projectionDelta,((xe=(Z=fe.instance)===null||Z===void 0?void 0:Z.style)===null||xe===void 0?void 0:xe.display)!=="contents"&&(Q&&fe.options.layoutScroll&&fe.scroll&&fe!==fe.root&&bp(S,{x:-fe.scroll.x,y:-fe.scroll.y}),Me&&(T.x*=Me.x.scale,T.y*=Me.y.scale,V0(S,Me)),Q&&Jl(fe.latestValues)&&bp(S,fe.latestValues))}}function Bc(S,T){S.min=S.min+T,S.max=S.max+T}function Q0(S,T,k){var Q=t.__read(k,3),Z=Q[0],xe=Q[1],_e=Q[2],fe=T[_e]!==void 0?T[_e]:.5,Me=a.mix(S.min,S.max,fe);yp(S,T[Z],T[xe],Me,T.scale)}var W0=["x","scaleX","originX"],V1=["y","scaleY","originY"];function bp(S,T){Q0(S.x,T,W0),Q0(S.y,T,V1)}function O_(S,T){return z1(H0(S.getBoundingClientRect(),T))}function D_(S,T,k){var Q=O_(S,k),Z=T.scroll;return Z&&(Bc(Q.x,Z.x),Bc(Q.y,Z.y)),Q}var Q3=new WeakMap,W3=function(){function S(T){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ba(),this.visualElement=T}return S.prototype.start=function(T,k){var Q=this,Z=k===void 0?{}:k,xe=Z.snapToCursor,_e=xe===void 0?!1:xe;if(this.visualElement.isPresent!==!1){var fe=function(et){Q.stopAnimation(),_e&&Q.snapToCursor(xc(et,"page").point)},Me=function(et,tt){var nt,at=Q.getProps(),_t=at.drag,$t=at.dragPropagation,vr=at.onDragStart;_t&&!$t&&(Q.openGlobalLock&&Q.openGlobalLock(),Q.openGlobalLock=Sh(_t),!Q.openGlobalLock)||(Q.isDragging=!0,Q.currentDirection=null,Q.resolveConstraints(),Q.visualElement.projection&&(Q.visualElement.projection.isAnimationBlocked=!0,Q.visualElement.projection.target=void 0),$l(function(Dr){var ni,pi,vi=Q.getAxisMotionValue(Dr).get()||0;if(n.percent.test(vi)){var yn=(pi=(ni=Q.visualElement.projection)===null||ni===void 0?void 0:ni.layout)===null||pi===void 0?void 0:pi.actual[Dr];if(yn){var _n=ls(yn);vi=_n*(parseFloat(vi)/100)}}Q.originPoint[Dr]=vi}),vr==null||vr(et,tt),(nt=Q.visualElement.animationState)===null||nt===void 0||nt.setActive(e.AnimationType.Drag,!0))},Te=function(et,tt){var nt=Q.getProps(),at=nt.dragPropagation,_t=nt.dragDirectionLock,$t=nt.onDirectionLock,vr=nt.onDrag;if(!(!at&&!Q.openGlobalLock)){var Dr=tt.offset;if(_t&&Q.currentDirection===null){Q.currentDirection=G3(Dr),Q.currentDirection!==null&&($t==null||$t(Q.currentDirection));return}Q.updateAxis("x",tt.point,Dr),Q.updateAxis("y",tt.point,Dr),Q.visualElement.syncRender(),vr==null||vr(et,tt)}},He=function(et,tt){return Q.stop(et,tt)};this.panSession=new pl(T,{onSessionStart:fe,onStart:Me,onMove:Te,onSessionEnd:He},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},S.prototype.stop=function(T,k){var Q=this.isDragging;if(this.cancel(),!!Q){var Z=k.velocity;this.startAnimation(Z);var xe=this.getProps().onDragEnd;xe==null||xe(T,k)}},S.prototype.cancel=function(){var T,k;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(T=this.panSession)===null||T===void 0||T.end(),this.panSession=void 0;var Q=this.getProps().dragPropagation;!Q&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(k=this.visualElement.animationState)===null||k===void 0||k.setActive(e.AnimationType.Drag,!1)},S.prototype.updateAxis=function(T,k,Q){var Z=this.getProps().drag;if(!(!Q||!G0(T,Z,this.currentDirection))){var xe=this.getAxisMotionValue(T),_e=this.originPoint[T]+Q[T];this.constraints&&this.constraints[T]&&(_e=Mg(_e,this.constraints[T],this.elastic[T])),xe.set(_e)}},S.prototype.resolveConstraints=function(){var T=this,k=this.getProps(),Q=k.dragConstraints,Z=k.dragElastic,xe=(this.visualElement.projection||{}).layout,_e=this.constraints;Q&&R(Q)?this.constraints||(this.constraints=this.resolveRefConstraints()):Q&&xe?this.constraints=mu(xe.actual,Q):this.constraints=!1,this.elastic=vd(Z),_e!==this.constraints&&xe&&this.constraints&&!this.hasMutatedConstraints&&$l(function(fe){T.getAxisMotionValue(fe)&&(T.constraints[fe]=ya(xe.actual[fe],T.constraints[fe]))})},S.prototype.resolveRefConstraints=function(){var T=this.getProps(),k=T.dragConstraints,Q=T.onMeasureDragConstraints;if(!k||!R(k))return!1;var Z=k.current;i.invariant(Z!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var xe=this.visualElement.projection;if(!xe||!xe.layout)return!1;var _e=D_(Z,xe.root,this.visualElement.getTransformPagePoint()),fe=vn(xe.layout.actual,_e);if(Q){var Me=Q(H1(fe));this.hasMutatedConstraints=!!Me,Me&&(fe=z1(Me))}return fe},S.prototype.startAnimation=function(T){var k=this,Q=this.getProps(),Z=Q.drag,xe=Q.dragMomentum,_e=Q.dragElastic,fe=Q.dragTransition,Me=Q.dragSnapToOrigin,Te=Q.onDragTransitionEnd,He=this.constraints||{},et=$l(function(tt){var nt;if(G0(tt,Z,k.currentDirection)){var at=(nt=He==null?void 0:He[tt])!==null&&nt!==void 0?nt:{};Me&&(at={min:0,max:0});var _t=_e?200:1e6,$t=_e?40:1e7,vr=t.__assign(t.__assign({type:"inertia",velocity:xe?T[tt]:0,bounceStiffness:_t,bounceDamping:$t,timeConstant:750,restDelta:1,restSpeed:10},fe),at);return k.startAxisValueAnimation(tt,vr)}});return Promise.all(et).then(Te)},S.prototype.startAxisValueAnimation=function(T,k){var Q=this.getAxisMotionValue(T);return qe(T,Q,0,k)},S.prototype.stopAnimation=function(){var T=this;$l(function(k){return T.getAxisMotionValue(k).stop()})},S.prototype.getAxisMotionValue=function(T){var k,Q,Z="_drag"+T.toUpperCase(),xe=this.visualElement.getProps()[Z];return xe||this.visualElement.getValue(T,(Q=(k=this.visualElement.getProps().initial)===null||k===void 0?void 0:k[T])!==null&&Q!==void 0?Q:0)},S.prototype.snapToCursor=function(T){var k=this;$l(function(Q){var Z=k.getProps().drag;if(G0(Q,Z,k.currentDirection)){var xe=k.visualElement.projection,_e=k.getAxisMotionValue(Q);if(xe&&xe.layout){var fe=xe.layout.actual[Q],Me=fe.min,Te=fe.max;_e.set(T[Q]-a.mix(Me,Te,.5))}}})},S.prototype.scalePositionWithinConstraints=function(){var T=this,k,Q=this.getProps(),Z=Q.drag,xe=Q.dragConstraints,_e=this.visualElement.projection;if(!(!R(xe)||!_e||!this.constraints)){this.stopAnimation();var fe={x:0,y:0};$l(function(Te){var He=T.getAxisMotionValue(Te);if(He){var et=He.get();fe[Te]=$n({min:et,max:et},T.constraints[Te])}});var Me=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=Me?Me({},""):"none",(k=_e.root)===null||k===void 0||k.updateScroll(),_e.updateLayout(),this.resolveConstraints(),$l(function(Te){if(G0(Te,Z,null)){var He=T.getAxisMotionValue(Te),et=T.constraints[Te],tt=et.min,nt=et.max;He.set(a.mix(tt,nt,fe[Te]))}})}},S.prototype.addListeners=function(){var T=this,k;Q3.set(this.visualElement,this);var Q=this.visualElement.getInstance(),Z=du(Q,"pointerdown",function(Te){var He=T.getProps(),et=He.drag,tt=He.dragListener,nt=tt===void 0?!0:tt;et&&nt&&T.start(Te)}),xe=function(){var Te=T.getProps().dragConstraints;R(Te)&&(T.constraints=T.resolveRefConstraints())},_e=this.visualElement.projection,fe=_e.addEventListener("measure",xe);_e&&!_e.layout&&((k=_e.root)===null||k===void 0||k.updateScroll(),_e.updateLayout()),xe();var Me=we(window,"resize",function(){return T.scalePositionWithinConstraints()});return _e.addEventListener("didUpdate",function(Te){var He=Te.delta,et=Te.hasLayoutChanged;T.isDragging&&et&&($l(function(tt){var nt=T.getAxisMotionValue(tt);nt&&(T.originPoint[tt]+=He[tt].translate,nt.set(nt.get()+He[tt].translate))}),T.visualElement.syncRender())}),function(){Me(),Z(),fe()}},S.prototype.getProps=function(){var T=this.visualElement.getProps(),k=T.drag,Q=k===void 0?!1:k,Z=T.dragDirectionLock,xe=Z===void 0?!1:Z,_e=T.dragPropagation,fe=_e===void 0?!1:_e,Me=T.dragConstraints,Te=Me===void 0?!1:Me,He=T.dragElastic,et=He===void 0?Yl:He,tt=T.dragMomentum,nt=tt===void 0?!0:tt;return t.__assign(t.__assign({},T),{drag:Q,dragDirectionLock:xe,dragPropagation:fe,dragConstraints:Te,dragElastic:et,dragMomentum:nt})},S}();function G0(S,T,k){return(T===!0||T===S)&&(k===null||k===S)}function G3(S,T){T===void 0&&(T=10);var k=null;return Math.abs(S.y)>T?k="y":Math.abs(S.x)>T&&(k="x"),k}function q3(S){var T=S.dragControls,k=S.visualElement,Q=ve(function(){return new W3(k)});r.useEffect(function(){return T&&T.subscribe(Q)},[Q,T]),r.useEffect(function(){return Q.addListeners()},[Q])}function Q1(S){var T=S.onPan,k=S.onPanStart,Q=S.onPanEnd,Z=S.onPanSessionStart,xe=S.visualElement,_e=T||k||Q||Z,fe=r.useRef(null),Me=r.useContext(w).transformPagePoint,Te={onSessionStart:Z,onStart:k,onMove:T,onEnd:function(et,tt){fe.current=null,Q&&Q(et,tt)}};r.useEffect(function(){fe.current!==null&&fe.current.updateHandlers(Te)});function He(et){fe.current=new pl(et,Te,{transformPagePoint:Me})}ep(xe,"pointerdown",_e&&He),Gr(function(){return fe.current&&fe.current.end()})}var q0={pan:_c(Q1),drag:_c(q3)},yd=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function K3(){var S=yd.map(function(){return new $r}),T={},k={clearAllListeners:function(){return S.forEach(function(Q){return Q.clear()})},updatePropListeners:function(Q){yd.forEach(function(Z){var xe,_e="on"+Z,fe=Q[_e];(xe=T[Z])===null||xe===void 0||xe.call(T),fe&&(T[Z]=k[_e](fe))})}};return S.forEach(function(Q,Z){k["on"+yd[Z]]=function(xe){return Q.add(xe)},k["notify"+yd[Z]]=function(){for(var xe=[],_e=0;_e<arguments.length;_e++)xe[_e]=arguments[_e];return Q.notify.apply(Q,t.__spreadArray([],t.__read(xe),!1))}}),k}function X3(S,T,k){var Q;for(var Z in T){var xe=T[Z],_e=k[Z];if(Tt(xe))S.addValue(Z,xe);else if(Tt(_e))S.addValue(Z,Mi(xe));else if(_e!==xe)if(S.hasValue(Z)){var fe=S.getValue(Z);!fe.hasAnimated&&fe.set(xe)}else S.addValue(Z,Mi((Q=S.getStaticValue(Z))!==null&&Q!==void 0?Q:xe))}for(var Z in k)T[Z]===void 0&&S.removeValue(Z);return T}var Ig=function(S){var T=S.treeType,k=T===void 0?"":T,Q=S.build,Z=S.getBaseTarget,xe=S.makeTargetAnimatable,_e=S.measureViewportBox,fe=S.render,Me=S.readValueFromInstance,Te=S.removeValueFromRenderState,He=S.sortNodePosition,et=S.scrapeMotionValuesFromProps;return function(tt,nt){var at=tt.parent,_t=tt.props,$t=tt.presenceId,vr=tt.blockInitialAnimation,Dr=tt.visualState,ni=tt.shouldReduceMotion;nt===void 0&&(nt={});var pi=!1,vi=Dr.latestValues,yn=Dr.renderState,_n,Ci=K3(),zi=new Map,qn=new Map,Tc={},Qs=t.__assign({},vi),rc;function Bp(){!_n||!pi||(Mp(),fe(_n,yn,_t.style,rn.projection))}function Mp(){Q(rn,yn,vi,nt,_t)}function Pp(){Ci.notifyUpdate(vi)}function Oc(xr,Jr){var Ws=Jr.onChange(function(rS){vi[xr]=rS,_t.onUpdate&&h.default.update(Pp,!1,!0)}),hw=Jr.onRenderRequest(rn.scheduleRender);qn.set(xr,function(){Ws(),hw()})}var dw=et(_t);for(var iv in dw){var tS=dw[iv];vi[iv]!==void 0&&Tt(tS)&&tS.set(vi[iv],!1)}var nv=W(_t),wl=te(_t),rn=t.__assign(t.__assign({treeType:k,current:null,depth:at?at.depth+1:0,parent:at,children:new Set,presenceId:$t,shouldReduceMotion:ni,variantChildren:wl?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(at!=null&&at.isMounted()),blockInitialAnimation:vr,isMounted:function(){return!!_n},mount:function(xr){pi=!0,_n=rn.current=xr,rn.projection&&rn.projection.mount(xr),wl&&at&&!nv&&(rc=at==null?void 0:at.addVariantChild(rn)),zi.forEach(function(Jr,Ws){return Oc(Ws,Jr)}),at==null||at.children.add(rn),rn.setProps(_t)},unmount:function(){var xr;(xr=rn.projection)===null||xr===void 0||xr.unmount(),o.cancelSync.update(Pp),o.cancelSync.render(Bp),qn.forEach(function(Jr){return Jr()}),rc==null||rc(),at==null||at.children.delete(rn),Ci.clearAllListeners(),_n=void 0,pi=!1},addVariantChild:function(xr){var Jr,Ws=rn.getClosestVariantNode();if(Ws)return(Jr=Ws.variantChildren)===null||Jr===void 0||Jr.add(xr),function(){return Ws.variantChildren.delete(xr)}},sortNodePosition:function(xr){return!He||k!==xr.treeType?0:He(rn.getInstance(),xr.getInstance())},getClosestVariantNode:function(){return wl?rn:at==null?void 0:at.getClosestVariantNode()},getLayoutId:function(){return _t.layoutId},getInstance:function(){return _n},getStaticValue:function(xr){return vi[xr]},setStaticValue:function(xr,Jr){return vi[xr]=Jr},getLatestValues:function(){return vi},setVisibility:function(xr){rn.isVisible!==xr&&(rn.isVisible=xr,rn.scheduleRender())},makeTargetAnimatable:function(xr,Jr){return Jr===void 0&&(Jr=!0),xe(rn,xr,_t,Jr)},measureViewportBox:function(){return _e(_n,_t)},addValue:function(xr,Jr){rn.hasValue(xr)&&rn.removeValue(xr),zi.set(xr,Jr),vi[xr]=Jr.get(),Oc(xr,Jr)},removeValue:function(xr){var Jr;zi.delete(xr),(Jr=qn.get(xr))===null||Jr===void 0||Jr(),qn.delete(xr),delete vi[xr],Te(xr,yn)},hasValue:function(xr){return zi.has(xr)},getValue:function(xr,Jr){var Ws=zi.get(xr);return Ws===void 0&&Jr!==void 0&&(Ws=Mi(Jr),rn.addValue(xr,Ws)),Ws},forEachValue:function(xr){return zi.forEach(xr)},readValue:function(xr){var Jr;return(Jr=vi[xr])!==null&&Jr!==void 0?Jr:Me(_n,xr,nt)},setBaseTarget:function(xr,Jr){Qs[xr]=Jr},getBaseTarget:function(xr){if(Z){var Jr=Z(_t,xr);if(Jr!==void 0&&!Tt(Jr))return Jr}return Qs[xr]}},Ci),{build:function(){return Mp(),yn},scheduleRender:function(){h.default.render(Bp,!1,!0)},syncRender:Bp,setProps:function(xr){(xr.transformTemplate||_t.transformTemplate)&&rn.scheduleRender(),_t=xr,Ci.updatePropListeners(xr),Tc=X3(rn,et(_t),Tc)},getProps:function(){return _t},getVariant:function(xr){var Jr;return(Jr=_t.variants)===null||Jr===void 0?void 0:Jr[xr]},getDefaultTransition:function(){return _t.transition},getTransformPagePoint:function(){return _t.transformPagePoint},getVariantContext:function(xr){if(xr===void 0&&(xr=!1),xr)return at==null?void 0:at.getVariantContext();if(!nv){var Jr=(at==null?void 0:at.getVariantContext())||{};return _t.initial!==void 0&&(Jr.initial=_t.initial),Jr}for(var Ws={},hw=0;hw<Y3;hw++){var rS=I_[hw],hO=_t[rS];($(hO)||hO===!1)&&(Ws[rS]=hO)}return Ws}});return rn}},I_=t.__spreadArray(["initial"],t.__read(Sg),!1),Y3=I_.length;function W1(S){return typeof S=="string"&&S.startsWith("var(--")}var F_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bd(S){var T=F_.exec(S);if(!T)return[,];var k=t.__read(T,3),Q=k[1],Z=k[2];return[Q,Z]}var Zl=4;function ec(S,T,k){k===void 0&&(k=1),i.invariant(k<=Zl,'Max CSS variable fallback depth detected in property "'.concat(S,'". This may indicate a circular fallback dependency.'));var Q=t.__read(bd(S),2),Z=Q[0],xe=Q[1];if(Z){var _e=window.getComputedStyle(T).getPropertyValue(Z);return _e?_e.trim():W1(xe)?ec(xe,T,k+1):xe}}function $3(S,T,k){var Q,Z=t.__rest(T,[]),xe=S.getInstance();if(!(xe instanceof Element))return{target:Z,transitionEnd:k};k&&(k=t.__assign({},k)),S.forEachValue(function(Te){var He=Te.get();if(W1(He)){var et=ec(He,xe);et&&Te.set(et)}});for(var _e in Z){var fe=Z[_e];if(W1(fe)){var Me=ec(fe,xe);Me&&(Z[_e]=Me,k&&((Q=k[_e])!==null&&Q!==void 0||(k[_e]=fe)))}}return{target:Z,transitionEnd:k}}var L_=new Set(["width","height","top","left","right","bottom","x","y"]),vu=function(S){return L_.has(S)},vl=function(S){return Object.keys(S).some(vu)},R_=function(S,T){S.set(T,!1),S.set(T)},K0=function(S){return S===n.number||S===n.px},G1;(function(S){S.width="width",S.height="height",S.left="left",S.right="right",S.top="top",S.bottom="bottom"})(G1||(G1={}));var q1=function(S,T){return parseFloat(S.split(", ")[T])},K1=function(S,T){return function(k,Q){var Z=Q.transform;if(Z==="none"||!Z)return 0;var xe=Z.match(/^matrix3d\((.+)\)$/);if(xe)return q1(xe[1],T);var _e=Z.match(/^matrix\((.+)\)$/);return _e?q1(_e[1],S):0}},U_=new Set(["x","y","z"]),J3=wt.filter(function(S){return!U_.has(S)});function X0(S){var T=[];return J3.forEach(function(k){var Q=S.getValue(k);Q!==void 0&&(T.push([k,Q.get()]),Q.set(k.startsWith("scale")?1:0))}),T.length&&S.syncRender(),T}var Fg={width:function(S,T){var k=S.x,Q=T.paddingLeft,Z=Q===void 0?"0":Q,xe=T.paddingRight,_e=xe===void 0?"0":xe;return k.max-k.min-parseFloat(Z)-parseFloat(_e)},height:function(S,T){var k=S.y,Q=T.paddingTop,Z=Q===void 0?"0":Q,xe=T.paddingBottom,_e=xe===void 0?"0":xe;return k.max-k.min-parseFloat(Z)-parseFloat(_e)},top:function(S,T){var k=T.top;return parseFloat(k)},left:function(S,T){var k=T.left;return parseFloat(k)},bottom:function(S,T){var k=S.y,Q=T.top;return parseFloat(Q)+(k.max-k.min)},right:function(S,T){var k=S.x,Q=T.left;return parseFloat(Q)+(k.max-k.min)},x:K1(4,13),y:K1(5,14)},Lg=function(S,T,k){var Q=T.measureViewportBox(),Z=T.getInstance(),xe=getComputedStyle(Z),_e=xe.display,fe={};_e==="none"&&T.setStaticValue("display",S.display||"block"),k.forEach(function(Te){fe[Te]=Fg[Te](Q,xe)}),T.syncRender();var Me=T.measureViewportBox();return k.forEach(function(Te){var He=T.getValue(Te);R_(He,fe[Te]),S[Te]=Fg[Te](Me,xe)}),S},X1=function(S,T,k,Q){k===void 0&&(k={}),Q===void 0&&(Q={}),T=t.__assign({},T),Q=t.__assign({},Q);var Z=Object.keys(T).filter(vu),xe=[],_e=!1,fe=[];if(Z.forEach(function(He){var et=S.getValue(He);if(S.hasValue(He)){var tt=k[He],nt=Gn(tt),at=T[He],_t;if(zt(at)){var $t=at.length,vr=at[0]===null?1:0;tt=at[vr],nt=Gn(tt);for(var Dr=vr;Dr<$t;Dr++)_t?i.invariant(Gn(at[Dr])===_t,"All keyframes must be of the same type"):(_t=Gn(at[Dr]),i.invariant(_t===nt||K0(nt)&&K0(_t),"Keyframes must be of the same dimension as the current value"))}else _t=Gn(at);if(nt!==_t)if(K0(nt)&&K0(_t)){var ni=et.get();typeof ni=="string"&&et.set(parseFloat(ni)),typeof at=="string"?T[He]=parseFloat(at):Array.isArray(at)&&_t===n.px&&(T[He]=at.map(parseFloat))}else nt!=null&&nt.transform&&(_t!=null&&_t.transform)&&(tt===0||at===0)?tt===0?et.set(_t.transform(tt)):T[He]=nt.transform(at):(_e||(xe=X0(S),_e=!0),fe.push(He),Q[He]=Q[He]!==void 0?Q[He]:T[He],R_(et,at))}}),fe.length){var Me=fe.indexOf("height")>=0?window.pageYOffset:null,Te=Lg(T,S,fe);return xe.length&&xe.forEach(function(He){var et=t.__read(He,2),tt=et[0],nt=et[1];S.getValue(tt).set(nt)}),S.syncRender(),Me!==null&&window.scrollTo({top:Me}),{target:Te,transitionEnd:Q}}else return{target:T,transitionEnd:Q}};function N_(S,T,k,Q){return vl(T)?X1(S,T,k,Q):{target:T,transitionEnd:Q}}var Z3=function(S,T,k,Q){var Z=$3(S,T,Q);return T=Z.target,Q=Z.transitionEnd,N_(S,T,k,Q)};function k_(S){return window.getComputedStyle(S)}var j_={treeType:"dom",readValueFromInstance:function(S,T){if(ht(T)){var k=hd(T);return k&&k.default||0}else{var Q=k_(S);return(Ge(T)?Q.getPropertyValue(T):Q[T])||0}},sortNodePosition:function(S,T){return S.compareDocumentPosition(T)&2?1:-1},getBaseTarget:function(S,T){var k;return(k=S.style)===null||k===void 0?void 0:k[T]},measureViewportBox:function(S,T){var k=T.transformPagePoint;return O_(S,k)},resetTransform:function(S,T,k){var Q=k.transformTemplate;T.style.transform=Q?Q({},""):"none",S.scheduleRender()},restoreTransform:function(S,T){S.style.transform=T.style.transform},removeValueFromRenderState:function(S,T){var k=T.vars,Q=T.style;delete k[S],delete Q[S]},makeTargetAnimatable:function(S,T,k,Q){var Z=k.transformValues;Q===void 0&&(Q=!0);var xe=T.transition,_e=T.transitionEnd,fe=t.__rest(T,["transition","transitionEnd"]),Me=hp(fe,xe||{},S);if(Z&&(_e&&(_e=Z(_e)),fe&&(fe=Z(fe)),Me&&(Me=Z(Me))),Q){pd(S,fe,Me);var Te=Z3(S,fe,Me,_e);_e=Te.transitionEnd,fe=Te.target}return t.__assign({transition:xe,transitionEnd:_e},fe)},scrapeMotionValuesFromProps:ur,build:function(S,T,k,Q,Z){S.isVisible!==void 0&&(T.style.visibility=S.isVisible?"visible":"hidden"),rr(T,k,Q,Z.transformTemplate)},render:Jt},eO=Ig(j_),tO=Ig(t.__assign(t.__assign({},j_),{getBaseTarget:function(S,T){return S[T]},readValueFromInstance:function(S,T){var k;return ht(T)?((k=hd(T))===null||k===void 0?void 0:k.default)||0:(T=Gt.has(T)?T:Dt(T),S.getAttribute(T))},scrapeMotionValuesFromProps:Pr,build:function(S,T,k,Q,Z){Ye(T,k,Q,Z.transformTemplate)},render:Sr})),Y1=function(S,T){return re(S)?tO(T,{enableHardwareAcceleration:!1}):eO(T,{enableHardwareAcceleration:!0})};function z_(S,T){return T.max===T.min?0:S/(T.max-T.min)*100}var Rg={correct:function(S,T){if(!T.target)return S;if(typeof S=="string")if(n.px.test(S))S=parseFloat(S);else return S;var k=z_(S,T.target.x),Q=z_(S,T.target.y);return"".concat(k,"% ").concat(Q,"%")}},$1="_$css",Y0={correct:function(S,T){var k=T.treeScale,Q=T.projectionDelta,Z=S,xe=S.includes("var("),_e=[];xe&&(S=S.replace(F_,function(_t){return _e.push(_t),$1}));var fe=n.complex.parse(S);if(fe.length>5)return Z;var Me=n.complex.createTransformer(S),Te=typeof fe[0]!="number"?1:0,He=Q.x.scale*k.x,et=Q.y.scale*k.y;fe[0+Te]/=He,fe[1+Te]/=et;var tt=a.mix(He,et,.5);typeof fe[2+Te]=="number"&&(fe[2+Te]/=tt),typeof fe[3+Te]=="number"&&(fe[3+Te]/=tt);var nt=Me(fe);if(xe){var at=0;nt=nt.replace($1,function(){var _t=_e[at];return at++,_t})}return nt}},rO=function(S){t.__extends(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.componentDidMount=function(){var k=this,Q=this.props,Z=Q.visualElement,xe=Q.layoutGroup,_e=Q.switchLayoutGroup,fe=Q.layoutId,Me=Z.projection;Ke(H_),Me&&(xe!=null&&xe.group&&xe.group.add(Me),_e!=null&&_e.register&&fe&&_e.register(Me),Me.root.didUpdate(),Me.addEventListener("animationComplete",function(){k.safeToRemove()}),Me.setOptions(t.__assign(t.__assign({},Me.options),{onExitComplete:function(){return k.safeToRemove()}}))),se.hasEverUpdated=!0},T.prototype.getSnapshotBeforeUpdate=function(k){var Q=this,Z=this.props,xe=Z.layoutDependency,_e=Z.visualElement,fe=Z.drag,Me=Z.isPresent,Te=_e.projection;return Te&&(Te.isPresent=Me,fe||k.layoutDependency!==xe||xe===void 0?Te.willUpdate():this.safeToRemove(),k.isPresent!==Me&&(Me?Te.promote():Te.relegate()||h.default.postRender(function(){var He;!((He=Te.getStack())===null||He===void 0)&&He.members.length||Q.safeToRemove()}))),null},T.prototype.componentDidUpdate=function(){var k=this.props.visualElement.projection;k&&(k.root.didUpdate(),!k.currentAnimation&&k.isLead()&&this.safeToRemove())},T.prototype.componentWillUnmount=function(){var k=this.props,Q=k.visualElement,Z=k.layoutGroup,xe=k.switchLayoutGroup,_e=Q.projection;_e&&(_e.scheduleCheckAfterUnmount(),Z!=null&&Z.group&&Z.group.remove(_e),xe!=null&&xe.deregister&&xe.deregister(_e))},T.prototype.safeToRemove=function(){var k=this.props.safeToRemove;k==null||k()},T.prototype.render=function(){return null},T}(d.default.Component);function iO(S){var T=t.__read(op(),2),k=T[0],Q=T[1],Z=r.useContext(ge);return d.default.createElement(rO,t.__assign({},S,{layoutGroup:Z,switchLayoutGroup:r.useContext(ae),isPresent:k,safeToRemove:Q}))}var H_={borderRadius:t.__assign(t.__assign({},Rg),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Rg,borderTopRightRadius:Rg,borderBottomLeftRadius:Rg,borderBottomRightRadius:Rg,boxShadow:Y0},E={measureLayout:iO};function D(S,T,k){k===void 0&&(k={});var Q=Tt(S)?S:Mi(S);return qe("",Q,T,k),{stop:function(){return Q.stop()},isAnimating:function(){return Q.isAnimating()}}}var z=["TopLeft","TopRight","BottomLeft","BottomRight"],J=z.length,ce=function(S){return typeof S=="string"?parseFloat(S):S},Ae=function(S){return typeof S=="number"||n.px.test(S)};function me(S,T,k,Q,Z,xe){var _e,fe,Me,Te;Z?(S.opacity=a.mix(0,(_e=k.opacity)!==null&&_e!==void 0?_e:1,Se(Q)),S.opacityExit=a.mix((fe=T.opacity)!==null&&fe!==void 0?fe:1,0,Pe(Q))):xe&&(S.opacity=a.mix((Me=T.opacity)!==null&&Me!==void 0?Me:1,(Te=k.opacity)!==null&&Te!==void 0?Te:1,Q));for(var He=0;He<J;He++){var et="border".concat(z[He],"Radius"),tt=Ce(T,et),nt=Ce(k,et);if(!(tt===void 0&&nt===void 0)){tt||(tt=0),nt||(nt=0);var at=tt===0||nt===0||Ae(tt)===Ae(nt);at?(S[et]=Math.max(a.mix(ce(tt),ce(nt),Q),0),(n.percent.test(nt)||n.percent.test(tt))&&(S[et]+="%")):S[et]=nt}}(T.rotate||k.rotate)&&(S.rotate=a.mix(T.rotate||0,k.rotate||0,Q))}function Ce(S,T){var k;return(k=S[T])!==null&&k!==void 0?k:S.borderRadius}var Se=$e(0,.5,a.circOut),Pe=$e(.5,.95,a.linear);function $e(S,T,k){return function(Q){return Q<S?0:Q>T?1:k(a.progress(S,T,Q))}}function pt(S,T){S.min=T.min,S.max=T.max}function ct(S,T){pt(S.x,T.x),pt(S.y,T.y)}function it(S,T,k,Q,Z){return S-=T,S=Og(S,1/k,Q),Z!==void 0&&(S=Og(S,1/Z,Q)),S}function Nt(S,T,k,Q,Z,xe,_e){if(T===void 0&&(T=0),k===void 0&&(k=1),Q===void 0&&(Q=.5),xe===void 0&&(xe=S),_e===void 0&&(_e=S),n.percent.test(T)){T=parseFloat(T);var fe=a.mix(_e.min,_e.max,T/100);T=fe-_e.min}if(typeof T=="number"){var Me=a.mix(xe.min,xe.max,Q);S===xe&&(Me-=T),S.min=it(S.min,T,k,Me,Z),S.max=it(S.max,T,k,Me,Z)}}function Ct(S,T,k,Q,Z){var xe=t.__read(k,3),_e=xe[0],fe=xe[1],Me=xe[2];Nt(S,T[_e],T[fe],T[Me],T.scale,Q,Z)}var Je=["x","scaleX","originX"],rt=["y","scaleY","originY"];function Ft(S,T,k,Q){Ct(S.x,T,Je,k==null?void 0:k.x,Q==null?void 0:Q.x),Ct(S.y,T,rt,k==null?void 0:k.y,Q==null?void 0:Q.y)}function jt(S){return S.translate===0&&S.scale===1}function Rt(S){return jt(S.x)&&jt(S.y)}function pr(S,T){return S.x.min===T.x.min&&S.x.max===T.x.max&&S.y.min===T.y.min&&S.y.max===T.y.max}var ar=function(){function S(){this.members=[]}return S.prototype.add=function(T){Ht(this.members,T),T.scheduleRender()},S.prototype.remove=function(T){if(hr(this.members,T),T===this.prevLead&&(this.prevLead=void 0),T===this.lead){var k=this.members[this.members.length-1];k&&this.promote(k)}},S.prototype.relegate=function(T){var k=this.members.findIndex(function(_e){return T===_e});if(k===0)return!1;for(var Q,Z=k;Z>=0;Z--){var xe=this.members[Z];if(xe.isPresent!==!1){Q=xe;break}}return Q?(this.promote(Q),!0):!1},S.prototype.promote=function(T,k){var Q,Z=this.lead;if(T!==Z&&(this.prevLead=Z,this.lead=T,T.show(),Z)){Z.instance&&Z.scheduleRender(),T.scheduleRender(),T.resumeFrom=Z,k&&(T.resumeFrom.preserveOpacity=!0),Z.snapshot&&(T.snapshot=Z.snapshot,T.snapshot.latestValues=Z.animationValues||Z.latestValues,T.snapshot.isShared=!0),!((Q=T.root)===null||Q===void 0)&&Q.isUpdating&&(T.isLayoutDirty=!0);var xe=T.options.crossfade;xe===!1&&Z.hide()}},S.prototype.exitAnimationComplete=function(){this.members.forEach(function(T){var k,Q,Z,xe,_e;(Q=(k=T.options).onExitComplete)===null||Q===void 0||Q.call(k),(_e=(Z=T.resumingFrom)===null||Z===void 0?void 0:(xe=Z.options).onExitComplete)===null||_e===void 0||_e.call(xe)})},S.prototype.scheduleRender=function(){this.members.forEach(function(T){T.instance&&T.scheduleRender(!1)})},S.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},S}(),Ur="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function cr(S,T,k){var Q=S.x.translate/T.x,Z=S.y.translate/T.y,xe="translate3d(".concat(Q,"px, ").concat(Z,"px, 0) ");if(xe+="scale(".concat(1/T.x,", ").concat(1/T.y,") "),k){var _e=k.rotate,fe=k.rotateX,Me=k.rotateY;_e&&(xe+="rotate(".concat(_e,"deg) ")),fe&&(xe+="rotateX(".concat(fe,"deg) ")),Me&&(xe+="rotateY(".concat(Me,"deg) "))}var Te=S.x.scale*T.x,He=S.y.scale*T.y;return xe+="scale(".concat(Te,", ").concat(He,")"),xe===Ur?"none":xe}var ji=function(S,T){return S.depth-T.depth},Gi=function(){function S(){this.children=[],this.isDirty=!1}return S.prototype.add=function(T){Ht(this.children,T),this.isDirty=!0},S.prototype.remove=function(T){hr(this.children,T),this.isDirty=!0},S.prototype.forEach=function(T){this.isDirty&&this.children.sort(ji),this.isDirty=!1,this.children.forEach(T)},S}(),Pi=1e3;function xi(S){var T=S.attachResizeListener,k=S.defaultParent,Q=S.measureScroll,Z=S.checkIsScrollRoot,xe=S.resetTransform;return function(){function _e(fe,Me,Te){var He=this;Me===void 0&&(Me={}),Te===void 0&&(Te=k==null?void 0:k()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){He.isUpdating&&(He.isUpdating=!1,He.clearAllSnapshots())},this.updateProjection=function(){He.nodes.forEach(us),He.nodes.forEach(Xi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=fe,this.latestValues=Me,this.root=Te?Te.root||Te:this,this.path=Te?t.__spreadArray(t.__spreadArray([],t.__read(Te.path),!1),[Te],!1):[],this.parent=Te,this.depth=Te?Te.depth+1:0,fe&&this.root.registerPotentialNode(fe,this);for(var et=0;et<this.path.length;et++)this.path[et].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gi)}return _e.prototype.addEventListener=function(fe,Me){return this.eventHandlers.has(fe)||this.eventHandlers.set(fe,new $r),this.eventHandlers.get(fe).add(Me)},_e.prototype.notifyListeners=function(fe){for(var Me=[],Te=1;Te<arguments.length;Te++)Me[Te-1]=arguments[Te];var He=this.eventHandlers.get(fe);He==null||He.notify.apply(He,t.__spreadArray([],t.__read(Me),!1))},_e.prototype.hasListeners=function(fe){return this.eventHandlers.has(fe)},_e.prototype.registerPotentialNode=function(fe,Me){this.potentialNodes.set(fe,Me)},_e.prototype.mount=function(fe,Me){var Te=this,He;if(Me===void 0&&(Me=!1),!this.instance){this.isSVG=fe instanceof SVGElement&&fe.tagName!=="svg",this.instance=fe;var et=this.options,tt=et.layoutId,nt=et.layout,at=et.visualElement;if(at&&!at.getInstance()&&at.mount(fe),this.root.nodes.add(this),(He=this.parent)===null||He===void 0||He.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),Me&&(nt||tt)&&(this.isLayoutDirty=!0),T){var _t,$t=function(){return Te.root.updateBlockedByResize=!1};T(fe,function(){Te.root.updateBlockedByResize=!0,clearTimeout(_t),_t=window.setTimeout($t,250),se.hasAnimatedSinceResize&&(se.hasAnimatedSinceResize=!1,Te.nodes.forEach(oa))})}tt&&this.root.registerSharedNode(tt,this),this.options.animate!==!1&&at&&(tt||nt)&&this.addEventListener("didUpdate",function(vr){var Dr,ni,pi,vi,yn,_n=vr.delta,Ci=vr.hasLayoutChanged,zi=vr.hasRelativeTargetChanged,qn=vr.layout;if(Te.isTreeAnimationBlocked()){Te.target=void 0,Te.relativeTarget=void 0;return}var Tc=(ni=(Dr=Te.options.transition)!==null&&Dr!==void 0?Dr:at.getDefaultTransition())!==null&&ni!==void 0?ni:Mc,Qs=at.getProps(),rc=Qs.onLayoutAnimationStart,Bp=Qs.onLayoutAnimationComplete,Mp=!Te.targetLayout||!pr(Te.targetLayout,qn)||zi,Pp=!Ci&&zi;if(!((pi=Te.resumeFrom)===null||pi===void 0)&&pi.instance||Pp||Ci&&(Mp||!Te.currentAnimation)){Te.resumeFrom&&(Te.resumingFrom=Te.resumeFrom,Te.resumingFrom.resumingFrom=void 0),Te.setAnimationOrigin(_n,Pp);var Oc=t.__assign(t.__assign({},Le(Tc,"layout")),{onPlay:rc,onComplete:Bp});at.shouldReduceMotion&&(Oc.delay=0,Oc.type=!1),Te.startAnimation(Oc)}else!Ci&&Te.animationProgress===0&&Te.finishAnimation(),Te.isLead()&&((yn=(vi=Te.options).onExitComplete)===null||yn===void 0||yn.call(vi));Te.targetLayout=qn})}},_e.prototype.unmount=function(){var fe,Me;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(fe=this.getStack())===null||fe===void 0||fe.remove(this),(Me=this.parent)===null||Me===void 0||Me.children.delete(this),this.instance=void 0,o.cancelSync.preRender(this.updateProjection)},_e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},_e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},_e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},_e.prototype.isTreeAnimationBlocked=function(){var fe;return this.isAnimationBlocked||((fe=this.parent)===null||fe===void 0?void 0:fe.isTreeAnimationBlocked())||!1},_e.prototype.startUpdate=function(){var fe;this.isUpdateBlocked()||(this.isUpdating=!0,(fe=this.nodes)===null||fe===void 0||fe.forEach(zs))},_e.prototype.willUpdate=function(fe){var Me,Te,He;if(fe===void 0&&(fe=!0),this.root.isUpdateBlocked()){(Te=(Me=this.options).onExitComplete)===null||Te===void 0||Te.call(Me);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var et=0;et<this.path.length;et++){var tt=this.path[et];tt.shouldResetTransform=!0,tt.updateScroll()}var nt=this.options,at=nt.layoutId,_t=nt.layout;if(!(at===void 0&&!_t)){var $t=(He=this.options.visualElement)===null||He===void 0?void 0:He.getProps().transformTemplate;this.prevTransformTemplateValue=$t==null?void 0:$t(this.latestValues,""),this.updateSnapshot(),fe&&this.notifyListeners("willUpdate")}}},_e.prototype.didUpdate=function(){var fe=this.isUpdateBlocked();if(fe){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jn);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ka),this.potentialNodes.clear()),this.nodes.forEach(cs),this.nodes.forEach(cn),this.nodes.forEach(tn),this.clearAllSnapshots(),o.flushSync.update(),o.flushSync.preRender(),o.flushSync.render())},_e.prototype.clearAllSnapshots=function(){this.nodes.forEach(ui),this.sharedNodes.forEach(Hs)},_e.prototype.scheduleUpdateProjection=function(){h.default.preRender(this.updateProjection,!1,!0)},_e.prototype.scheduleCheckAfterUnmount=function(){var fe=this;h.default.postRender(function(){fe.isLayoutDirty?fe.root.didUpdate():fe.root.checkUpdateFailed()})},_e.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var fe=this.measure(),Me=this.removeTransform(this.removeElementScroll(fe));wd(Me),this.snapshot={measured:fe,layout:Me,latestValues:{}}}},_e.prototype.updateLayout=function(){var fe;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var Me=0;Me<this.path.length;Me++){var Te=this.path[Me];Te.updateScroll()}var He=this.measure();wd(He);var et=this.layout;this.layout={measured:He,actual:this.removeElementScroll(He)},this.layoutCorrected=ba(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(fe=this.options.visualElement)===null||fe===void 0||fe.notifyLayoutMeasure(this.layout.actual,et==null?void 0:et.actual)}},_e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=Z(this.instance),this.scroll=Q(this.instance))},_e.prototype.resetTransform=function(){var fe;if(xe){var Me=this.isLayoutDirty||this.shouldResetTransform,Te=this.projectionDelta&&!Rt(this.projectionDelta),He=(fe=this.options.visualElement)===null||fe===void 0?void 0:fe.getProps().transformTemplate,et=He==null?void 0:He(this.latestValues,""),tt=et!==this.prevTransformTemplateValue;Me&&(Te||Jl(this.latestValues)||tt)&&(xe(this.instance,et),this.shouldResetTransform=!1,this.scheduleRender())}},_e.prototype.measure=function(){var fe=this.options.visualElement;if(!fe)return ba();var Me=fe.measureViewportBox(),Te=this.root.scroll;return Te&&(Bc(Me.x,Te.x),Bc(Me.y,Te.y)),Me},_e.prototype.removeElementScroll=function(fe){var Me=ba();ct(Me,fe);for(var Te=0;Te<this.path.length;Te++){var He=this.path[Te],et=He.scroll,tt=He.options,nt=He.isScrollRoot;if(He!==this.root&&et&&tt.layoutScroll){if(nt){ct(Me,fe);var at=this.root.scroll;at&&(Bc(Me.x,-at.x),Bc(Me.y,-at.y))}Bc(Me.x,et.x),Bc(Me.y,et.y)}}return Me},_e.prototype.applyTransform=function(fe,Me){Me===void 0&&(Me=!1);var Te=ba();ct(Te,fe);for(var He=0;He<this.path.length;He++){var et=this.path[He];!Me&&et.options.layoutScroll&&et.scroll&&et!==et.root&&bp(Te,{x:-et.scroll.x,y:-et.scroll.y}),Jl(et.latestValues)&&bp(Te,et.latestValues)}return Jl(this.latestValues)&&bp(Te,this.latestValues),Te},_e.prototype.removeTransform=function(fe){var Me,Te=ba();ct(Te,fe);for(var He=0;He<this.path.length;He++){var et=this.path[He];if(et.instance&&Jl(et.latestValues)){js(et.latestValues)&&et.updateSnapshot();var tt=ba(),nt=et.measure();ct(tt,nt),Ft(Te,et.latestValues,(Me=et.snapshot)===null||Me===void 0?void 0:Me.layout,tt)}}return Jl(this.latestValues)&&Ft(Te,this.latestValues),Te},_e.prototype.setTargetDelta=function(fe){this.targetDelta=fe,this.root.scheduleUpdateProjection()},_e.prototype.setOptions=function(fe){var Me;this.options=t.__assign(t.__assign(t.__assign({},this.options),fe),{crossfade:(Me=fe.crossfade)!==null&&Me!==void 0?Me:!0})},_e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},_e.prototype.resolveTargetDelta=function(){var fe,Me=this.options,Te=Me.layout,He=Me.layoutId;!this.layout||!(Te||He)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=ba(),this.relativeTargetOrigin=ba(),ml(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ct(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ba(),this.targetWithTransforms=ba()),this.relativeTarget&&this.relativeTargetOrigin&&(!((fe=this.relativeParent)===null||fe===void 0)&&fe.target)?mp(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):ct(this.target,this.layout.actual),V0(this.target,this.targetDelta)):ct(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=ba(),this.relativeTargetOrigin=ba(),ml(this.relativeTargetOrigin,this.target,this.relativeParent.target),ct(this.relativeTarget,this.relativeTargetOrigin)))))},_e.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Jl(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},_e.prototype.calcProjection=function(){var fe,Me=this.options,Te=Me.layout,He=Me.layoutId;if(this.isTreeAnimating=!!(!((fe=this.parent)===null||fe===void 0)&&fe.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(Te||He))){var et=this.getLead();ct(this.layoutCorrected,this.layout.actual),T_(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==et);var tt=et.target;if(tt){this.projectionDelta||(this.projectionDelta=vp(),this.projectionDeltaWithTransform=vp());var nt=this.treeScale.x,at=this.treeScale.y,_t=this.projectionTransform;Ns(this.projectionDelta,this.layoutCorrected,tt,this.latestValues),this.projectionTransform=cr(this.projectionDelta,this.treeScale),(this.projectionTransform!==_t||this.treeScale.x!==nt||this.treeScale.y!==at)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",tt))}}},_e.prototype.hide=function(){this.isVisible=!1},_e.prototype.show=function(){this.isVisible=!0},_e.prototype.scheduleRender=function(fe){var Me,Te,He;fe===void 0&&(fe=!0),(Te=(Me=this.options).scheduleRender)===null||Te===void 0||Te.call(Me),fe&&((He=this.getStack())===null||He===void 0||He.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},_e.prototype.setAnimationOrigin=function(fe,Me){var Te=this,He;Me===void 0&&(Me=!1);var et=this.snapshot,tt=(et==null?void 0:et.latestValues)||{},nt=t.__assign({},this.latestValues),at=vp();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!Me;var _t=ba(),$t=et==null?void 0:et.isShared,vr=(((He=this.getStack())===null||He===void 0?void 0:He.members.length)||0)<=1,Dr=!!($t&&!vr&&this.options.crossfade===!0&&!this.path.some(yl));this.animationProgress=0,this.mixTargetDelta=function(ni){var pi,vi=ni/1e3;wa(at.x,fe.x,vi),wa(at.y,fe.y,vi),Te.setTargetDelta(at),Te.relativeTarget&&Te.relativeTargetOrigin&&Te.layout&&(!((pi=Te.relativeParent)===null||pi===void 0)&&pi.layout)&&(ml(_t,Te.layout.actual,Te.relativeParent.layout.actual),zo(Te.relativeTarget,Te.relativeTargetOrigin,_t,vi)),$t&&(Te.animationValues=nt,me(nt,tt,Te.latestValues,vi,Dr,vr)),Te.root.scheduleUpdateProjection(),Te.scheduleRender(),Te.animationProgress=vi},this.mixTargetDelta(0)},_e.prototype.startAnimation=function(fe){var Me=this,Te,He;this.notifyListeners("animationStart"),(Te=this.currentAnimation)===null||Te===void 0||Te.stop(),this.resumingFrom&&((He=this.resumingFrom.currentAnimation)===null||He===void 0||He.stop()),this.pendingAnimation&&(o.cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=h.default.update(function(){se.hasAnimatedSinceResize=!0,Me.currentAnimation=D(0,Pi,t.__assign(t.__assign({},fe),{onUpdate:function(et){var tt;Me.mixTargetDelta(et),(tt=fe.onUpdate)===null||tt===void 0||tt.call(fe,et)},onComplete:function(){var et;(et=fe.onComplete)===null||et===void 0||et.call(fe),Me.completeAnimation()}})),Me.resumingFrom&&(Me.resumingFrom.currentAnimation=Me.currentAnimation),Me.pendingAnimation=void 0})},_e.prototype.completeAnimation=function(){var fe;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(fe=this.getStack())===null||fe===void 0||fe.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},_e.prototype.finishAnimation=function(){var fe;this.currentAnimation&&((fe=this.mixTargetDelta)===null||fe===void 0||fe.call(this,Pi),this.currentAnimation.stop()),this.completeAnimation()},_e.prototype.applyTransformsToTarget=function(){var fe=this.getLead(),Me=fe.targetWithTransforms,Te=fe.target,He=fe.layout,et=fe.latestValues;!Me||!Te||!He||(ct(Me,Te),bp(Me,et),Ns(this.projectionDeltaWithTransform,this.layoutCorrected,Me,et))},_e.prototype.registerSharedNode=function(fe,Me){var Te,He,et;this.sharedNodes.has(fe)||this.sharedNodes.set(fe,new ar);var tt=this.sharedNodes.get(fe);tt.add(Me),Me.promote({transition:(Te=Me.options.initialPromotionConfig)===null||Te===void 0?void 0:Te.transition,preserveFollowOpacity:(et=(He=Me.options.initialPromotionConfig)===null||He===void 0?void 0:He.shouldPreserveFollowOpacity)===null||et===void 0?void 0:et.call(He,Me)})},_e.prototype.isLead=function(){var fe=this.getStack();return fe?fe.lead===this:!0},_e.prototype.getLead=function(){var fe,Me=this.options.layoutId;return Me?((fe=this.getStack())===null||fe===void 0?void 0:fe.lead)||this:this},_e.prototype.getPrevLead=function(){var fe,Me=this.options.layoutId;return Me?(fe=this.getStack())===null||fe===void 0?void 0:fe.prevLead:void 0},_e.prototype.getStack=function(){var fe=this.options.layoutId;if(fe)return this.root.sharedNodes.get(fe)},_e.prototype.promote=function(fe){var Me=fe===void 0?{}:fe,Te=Me.needsReset,He=Me.transition,et=Me.preserveFollowOpacity,tt=this.getStack();tt&&tt.promote(this,et),Te&&(this.projectionDelta=void 0,this.needsReset=!0),He&&this.setOptions({transition:He})},_e.prototype.relegate=function(){var fe=this.getStack();return fe?fe.relegate(this):!1},_e.prototype.resetRotation=function(){var fe=this.options.visualElement;if(fe){for(var Me=!1,Te={},He=0;He<ie.length;He++){var et=ie[He],tt="rotate"+et;fe.getStaticValue(tt)&&(Me=!0,Te[tt]=fe.getStaticValue(tt),fe.setStaticValue(tt,0))}if(Me){fe==null||fe.syncRender();for(var tt in Te)fe.setStaticValue(tt,Te[tt]);fe.scheduleRender()}}},_e.prototype.getProjectionStyles=function(fe){var Me,Te,He,et,tt,nt;fe===void 0&&(fe={});var at={};if(!this.instance||this.isSVG)return at;if(this.isVisible)at.visibility="";else return{visibility:"hidden"};var _t=(Me=this.options.visualElement)===null||Me===void 0?void 0:Me.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,at.opacity="",at.pointerEvents=er(fe.pointerEvents)||"",at.transform=_t?_t(this.latestValues,""):"none",at;var $t=this.getLead();if(!this.projectionDelta||!this.layout||!$t.target){var vr={};return this.options.layoutId&&(vr.opacity=(Te=this.latestValues.opacity)!==null&&Te!==void 0?Te:1,vr.pointerEvents=er(fe.pointerEvents)||""),this.hasProjected&&!Jl(this.latestValues)&&(vr.transform=_t?_t({},""):"none",this.hasProjected=!1),vr}var Dr=$t.animationValues||$t.latestValues;this.applyTransformsToTarget(),at.transform=cr(this.projectionDeltaWithTransform,this.treeScale,Dr),_t&&(at.transform=_t(Dr,at.transform));var ni=this.projectionDelta,pi=ni.x,vi=ni.y;at.transformOrigin="".concat(pi.origin*100,"% ").concat(vi.origin*100,"% 0"),$t.animationValues?at.opacity=$t===this?(et=(He=Dr.opacity)!==null&&He!==void 0?He:this.latestValues.opacity)!==null&&et!==void 0?et:1:this.preserveOpacity?this.latestValues.opacity:Dr.opacityExit:at.opacity=$t===this?(tt=Dr.opacity)!==null&&tt!==void 0?tt:"":(nt=Dr.opacityExit)!==null&&nt!==void 0?nt:0;for(var yn in Re)if(Dr[yn]!==void 0){var _n=Re[yn],Ci=_n.correct,zi=_n.applyTo,qn=Ci(Dr[yn],$t);if(zi)for(var Tc=zi.length,Qs=0;Qs<Tc;Qs++)at[zi[Qs]]=qn;else at[yn]=qn}return this.options.layoutId&&(at.pointerEvents=$t===this?er(fe.pointerEvents)||"":"none"),at},_e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},_e.prototype.resetTree=function(){this.root.nodes.forEach(function(fe){var Me;return(Me=fe.currentAnimation)===null||Me===void 0?void 0:Me.stop()}),this.root.nodes.forEach(Jn),this.root.sharedNodes.clear()},_e}()}function cn(S){S.updateLayout()}function tn(S){var T,k,Q,Z,xe=(k=(T=S.resumeFrom)===null||T===void 0?void 0:T.snapshot)!==null&&k!==void 0?k:S.snapshot;if(S.isLead()&&S.layout&&xe&&S.hasListeners("didUpdate")){var _e=S.layout,fe=_e.actual,Me=_e.measured;S.options.animationType==="size"?$l(function(Dr){var ni=xe.isShared?xe.measured[Dr]:xe.layout[Dr],pi=ls(ni);ni.min=fe[Dr].min,ni.max=ni.min+pi}):S.options.animationType==="position"&&$l(function(Dr){var ni=xe.isShared?xe.measured[Dr]:xe.layout[Dr],pi=ls(fe[Dr]);ni.max=ni.min+pi});var Te=vp();Ns(Te,fe,xe.layout);var He=vp();xe.isShared?Ns(He,S.applyTransform(Me,!0),xe.measured):Ns(He,fe,xe.layout);var et=!Rt(Te),tt=!1;if(!S.resumeFrom&&(S.relativeParent=S.getClosestProjectingParent(),S.relativeParent&&!S.relativeParent.resumeFrom)){var nt=S.relativeParent,at=nt.snapshot,_t=nt.layout;if(at&&_t){var $t=ba();ml($t,xe.layout,at.layout);var vr=ba();ml(vr,fe,_t.actual),pr($t,vr)||(tt=!0)}}S.notifyListeners("didUpdate",{layout:fe,snapshot:xe,delta:He,layoutDelta:Te,hasLayoutChanged:et,hasRelativeTargetChanged:tt})}else S.isLead()&&((Z=(Q=S.options).onExitComplete)===null||Z===void 0||Z.call(Q));S.options.transition=void 0}function ui(S){S.clearSnapshot()}function Jn(S){S.clearMeasurements()}function cs(S){var T=S.options.visualElement;T!=null&&T.getProps().onBeforeLayoutMeasure&&T.notifyBeforeLayoutMeasure(),S.resetTransform()}function oa(S){S.finishAnimation(),S.targetDelta=S.relativeTarget=S.target=void 0}function us(S){S.resolveTargetDelta()}function Xi(S){S.calcProjection()}function zs(S){S.resetRotation()}function Hs(S){S.removeLeadSnapshot()}function wa(S,T,k){S.translate=a.mix(T.translate,0,k),S.scale=a.mix(T.scale,1,k),S.origin=T.origin,S.originPoint=T.originPoint}function Na(S,T,k,Q){S.min=a.mix(T.min,k.min,Q),S.max=a.mix(T.max,k.max,Q)}function zo(S,T,k,Q){Na(S.x,T.x,k.x,Q),Na(S.y,T.y,k.y,Q)}function yl(S){return S.animationValues&&S.animationValues.opacityExit!==void 0}var Mc={duration:.45,ease:[.4,0,.1,1]};function ka(S,T){for(var k=S.root,Q=S.path.length-1;Q>=0;Q--)if(S.path[Q].instance){k=S.path[Q];break}var Z=k&&k!==S.root?k.instance:document,xe=Z.querySelector('[data-projection-id="'.concat(T,'"]'));xe&&S.mount(xe,!0)}function Pc(S){S.min=Math.round(S.min),S.max=Math.round(S.max)}function wd(S){Pc(S.x),Pc(S.y)}var wp=xi({attachResizeListener:function(S,T){return we(S,"resize",T)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),ds={current:void 0},Bn=xi({measureScroll:function(S){return{x:S.scrollLeft,y:S.scrollTop}},defaultParent:function(){if(!ds.current){var S=new wp(0,{});S.mount(window),S.setOptions({layoutScroll:!0}),ds.current=S}return ds.current},resetTransform:function(S,T){S.style.transform=T??"none"},checkIsScrollRoot:function(S){return window.getComputedStyle(S).position==="fixed"}}),$0=t.__assign(t.__assign(t.__assign(t.__assign({},ss),ud),q0),E),J0=We(function(S,T){return Ue(S,T,$0,Y1,Bn)});function V_(S){return Ee(Ue(S,{forwardMotionProps:!1},$0,Y1,Bn))}var Z0=We(Ue);function xp(){var S=r.useRef(!1);return M(function(){return S.current=!0,function(){S.current=!1}},[]),S}function Ih(){var S=xp(),T=t.__read(r.useState(0),2),k=T[0],Q=T[1],Z=r.useCallback(function(){S.current&&Q(k+1)},[k]),xe=r.useCallback(function(){return h.default.postRender(Z)},[Z]);return[xe,k]}var Vs=function(S){var T=S.children,k=S.initial,Q=S.isPresent,Z=S.onExitComplete,xe=S.custom,_e=S.presenceAffectsLayout,fe=ve(Cp),Me=vg(),Te=r.useMemo(function(){return{id:Me,initial:k,isPresent:Q,custom:xe,onExitComplete:function(He){var et,tt;fe.set(He,!0);try{for(var nt=t.__values(fe.values()),at=nt.next();!at.done;at=nt.next()){var _t=at.value;if(!_t)return}}catch($t){et={error:$t}}finally{try{at&&!at.done&&(tt=nt.return)&&tt.call(nt)}finally{if(et)throw et.error}}Z==null||Z()},register:function(He){return fe.set(He,!1),function(){return fe.delete(He)}}}},_e?void 0:[Q]);return r.useMemo(function(){fe.forEach(function(He,et){return fe.set(et,!1)})},[Q]),u.useEffect(function(){!Q&&!fe.size&&(Z==null||Z())},[Q]),u.createElement(B.Provider,{value:Te},T)};function Cp(){return new Map}var tc=function(S){return S.key||""};function Q_(S,T){S.forEach(function(k){var Q=tc(k);T.set(Q,k)})}function ev(S){var T=[];return r.Children.forEach(S,function(k){r.isValidElement(k)&&T.push(k)}),T}var W_=function(S){var T=S.children,k=S.custom,Q=S.initial,Z=Q===void 0?!0:Q,xe=S.onExitComplete,_e=S.exitBeforeEnter,fe=S.presenceAffectsLayout,Me=fe===void 0?!0:fe,Te=t.__read(Ih(),1),He=Te[0],et=r.useContext(ge).forceRender;et&&(He=et);var tt=xp(),nt=ev(T),at=nt,_t=new Set,$t=r.useRef(at),vr=r.useRef(new Map).current,Dr=r.useRef(!0);if(M(function(){Dr.current=!1,Q_(nt,vr),$t.current=at}),Gr(function(){Dr.current=!0,vr.clear(),_t.clear()}),Dr.current)return u.createElement(u.Fragment,null,at.map(function(Ci){return u.createElement(Vs,{key:tc(Ci),isPresent:!0,initial:Z?void 0:!1,presenceAffectsLayout:Me},Ci)}));at=t.__spreadArray([],t.__read(at),!1);for(var ni=$t.current.map(tc),pi=nt.map(tc),vi=ni.length,yn=0;yn<vi;yn++){var _n=ni[yn];pi.indexOf(_n)===-1&&_t.add(_n)}return _e&&_t.size&&(at=[]),_t.forEach(function(Ci){if(pi.indexOf(Ci)===-1){var zi=vr.get(Ci);if(zi){var qn=ni.indexOf(Ci),Tc=function(){vr.delete(Ci),_t.delete(Ci);var Qs=$t.current.findIndex(function(rc){return rc.key===Ci});if($t.current.splice(Qs,1),!_t.size){if($t.current=nt,tt.current===!1)return;He(),xe&&xe()}};at.splice(qn,0,u.createElement(Vs,{key:tc(zi),isPresent:!1,onExitComplete:Tc,custom:k,presenceAffectsLayout:Me},zi))}}}),at=at.map(function(Ci){var zi=Ci.key;return _t.has(zi)?Ci:u.createElement(Vs,{key:tc(Ci),isPresent:!0,presenceAffectsLayout:Me},Ci)}),m!=="production"&&_e&&at.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),u.createElement(u.Fragment,null,_t.size?at:at.map(function(Ci){return r.cloneElement(Ci)}))},Ug=r.createContext(null),J1=function(S){return!S.isLayoutDirty&&S.willUpdate(!1)};function Ng(){var S=new Set,T=new WeakMap,k=function(){return S.forEach(J1)};return{add:function(Q){S.add(Q),T.set(Q,Q.addEventListener("willUpdate",k))},remove:function(Q){var Z;S.delete(Q),(Z=T.get(Q))===null||Z===void 0||Z(),T.delete(Q),k()},dirty:k}}var _p=function(S){return S===!0},nO=function(S){return _p(S===!0)||S==="id"},G_=function(S){var T,k,Q=S.children,Z=S.id,xe=S.inheritId,_e=S.inherit,fe=_e===void 0?!0:_e;xe!==void 0&&(fe=xe);var Me=r.useContext(ge),Te=r.useContext(Ug),He=t.__read(Ih(),2),et=He[0],tt=He[1],nt=r.useRef(null),at=(T=Me.id)!==null&&T!==void 0?T:Te;nt.current===null&&(nO(fe)&&at&&(Z=Z?at+"-"+Z:at),nt.current={id:Z,group:_p(fe)&&(k=Me==null?void 0:Me.group)!==null&&k!==void 0?k:Ng()});var _t=r.useMemo(function(){return t.__assign(t.__assign({},nt.current),{forceRender:et})},[tt]);return u.createElement(ge.Provider,{value:_t},Q)},Z1=0,xd=function(S){var T=S.children;return u.useEffect(function(){i.warning(!1,"AnimateSharedLayout is deprecated: https://www.framer.com/docs/guide-upgrade/##shared-layout-animations")},[]),u.createElement(G_,{id:ve(function(){return"asl-".concat(Z1++)})},T)};function aO(S){var T=S.children,k=S.isValidProp,Q=t.__rest(S,["children","isValidProp"]);k&&ot(k),Q=t.__assign(t.__assign({},r.useContext(w)),Q),Q.isStatic=ve(function(){return Q.isStatic});var Z=r.useMemo(function(){return Q},[JSON.stringify(Q.transition),Q.transformPagePoint,Q.reducedMotion]);return u.createElement(w.Provider,{value:Z},T)}function oO(S){var T=S.children,k=S.features,Q=S.strict,Z=Q===void 0?!1:Q,xe=t.__read(r.useState(!ew(k)),2),_e=xe[1],fe=r.useRef(void 0);if(!ew(k)){var Me=k.renderer,Te=t.__rest(k,["renderer"]);fe.current=Me,p(Te)}return r.useEffect(function(){ew(k)&&k().then(function(He){var et=He.renderer,tt=t.__rest(He,["renderer"]);p(tt),fe.current=et,_e(!0)})},[]),u.createElement(v.Provider,{value:{renderer:fe.current,strict:Z}},T)}function ew(S){return typeof S=="function"}var tw=r.createContext(null);function tv(S,T,k,Q){if(!Q)return S;var Z=S.findIndex(function(He){return He.value===T});if(Z===-1)return S;var xe=Q>0?1:-1,_e=S[Z+xe];if(!_e)return S;var fe=S[Z],Me=_e.layout,Te=a.mix(Me.min,Me.max,.5);return xe===1&&fe.layout.max+k>Te||xe===-1&&fe.layout.min+k<Te?Ir(S,Z,Z+xe):S}function q_(S,T){var k=S.children,Q=S.as,Z=Q===void 0?"ul":Q,xe=S.axis,_e=xe===void 0?"y":xe,fe=S.onReorder,Me=S.values,Te=t.__rest(S,["children","as","axis","onReorder","values"]),He=ve(function(){return J0(Z)}),et=[],tt=r.useRef(!1);i.invariant(!!Me,"Reorder.Group must be provided a values prop");var nt={axis:_e,registerItem:function(at,_t){_t&&et.findIndex(function($t){return at===$t.value})===-1&&(et.push({value:at,layout:_t[_e]}),et.sort(rw))},updateOrder:function(at,_t,$t){if(!tt.current){var vr=tv(et,at,_t,$t);et!==vr&&(tt.current=!0,fe(vr.map(rv).filter(function(Dr){return Me.indexOf(Dr)!==-1})))}}};return r.useEffect(function(){tt.current=!1}),u.createElement(He,t.__assign({},Te,{ref:T}),u.createElement(tw.Provider,{value:nt},k))}var K_=r.forwardRef(q_);function rv(S){return S.value}function rw(S,T){return S.layout.min-T.layout.min}function bl(S){var T=ve(function(){return Mi(S)}),k=r.useContext(w).isStatic;if(k){var Q=t.__read(r.useState(S),2),Z=Q[1];r.useEffect(function(){return T.onChange(Z)},[])}return T}var X_=function(S){return typeof S=="object"&&S.mix},sO=function(S){return X_(S)?S.mix:void 0};function kg(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var k=!Array.isArray(S[0]),Q=k?0:-1,Z=S[0+Q],xe=S[1+Q],_e=S[2+Q],fe=S[3+Q],Me=a.interpolate(xe,_e,t.__assign({mixer:sO(_e[0])},fe));return k?Me(Z):Me}function Y_(S,T){M(function(){if(Tt(S))return S.onChange(T)},[T])}function iw(S,T){M(function(){var k=S.map(function(Q){return Q.onChange(T)});return function(){return k.forEach(function(Q){return Q()})}})}function yu(S,T){var k=bl(T()),Q=function(){return k.set(T())};return Q(),iw(S,function(){return h.default.update(Q,!1,!0)}),k}function jg(S,T,k,Q){var Z=typeof T=="function"?T:kg(T,k,Q);return Array.isArray(S)?nw(S,Z):nw([S],function(xe){var _e=t.__read(xe,1),fe=_e[0];return Z(fe)})}function nw(S,T){var k=ve(function(){return[]});return yu(S,function(){k.length=0;for(var Q=S.length,Z=0;Z<Q;Z++)k[Z]=S[Z].get();return T(k)})}function $_(S,T){return T===void 0&&(T=0),Tt(S)?S:bl(T)}function J_(S,T){var k=S.children,Q=S.style,Z=S.value,xe=S.as,_e=xe===void 0?"li":xe,fe=S.onDrag,Me=S.layout,Te=Me===void 0?!0:Me,He=t.__rest(S,["children","style","value","as","onDrag","layout"]),et=ve(function(){return J0(_e)}),tt=r.useContext(tw),nt={x:$_(Q==null?void 0:Q.x),y:$_(Q==null?void 0:Q.y)},at=jg([nt.x,nt.y],function(pi){var vi=t.__read(pi,2),yn=vi[0],_n=vi[1];return yn||_n?1:"unset"}),_t=r.useRef(null);i.invariant(!!tt,"Reorder.Item must be a child of Reorder.Group");var $t=tt,vr=$t.axis,Dr=$t.registerItem,ni=$t.updateOrder;return r.useEffect(function(){Dr(Z,_t.current)},[tt]),u.createElement(et,t.__assign({drag:vr},He,{dragSnapToOrigin:!0,style:t.__assign(t.__assign({},Q),{x:nt.x,y:nt.y,zIndex:at}),layout:Te,onDrag:function(pi,vi){var yn=vi.velocity;yn[vr]&&ni(Z,nt[vr].get(),yn[vr]),fe==null||fe(pi,vi)},onLayoutMeasure:function(pi){_t.current=pi},ref:T}),k)}var Sp=r.forwardRef(J_),lO={Group:K_,Item:Sp},aw=t.__assign(t.__assign({renderer:Y1},ss),ud),cO=t.__assign(t.__assign(t.__assign(t.__assign({},aw),q0),E),{projectionNodeConstructor:Bn});function Z_(S){for(var T=[],k=1;k<arguments.length;k++)T[k-1]=arguments[k];var Q=S.length;function Z(){for(var xe="",_e=0;_e<Q;_e++){xe+=S[_e];var fe=T[_e];fe&&(xe+=T[_e].get())}return xe}return yu(T,Z)}function uO(S,T){T===void 0&&(T={});var k=r.useContext(w).isStatic,Q=r.useRef(null),Z=bl(Tt(S)?S.get():S);return r.useMemo(function(){return Z.attach(function(xe,_e){return k?_e(xe):(Q.current&&Q.current.stop(),Q.current=a.animate(t.__assign(t.__assign({from:Z.get(),to:xe,velocity:Z.getVelocity()},T),{onUpdate:_e})),Z.get())})},[JSON.stringify(T)]),Y_(S,function(xe){return Z.set(parseFloat(xe))}),Z}function zg(S){var T=bl(S.getVelocity());return r.useEffect(function(){return S.velocityUpdateSubscribers.add(function(k){T.set(k)})},[S]),T}var ow=function(){return{scrollX:Mi(0),scrollY:Mi(0),scrollXProgress:Mi(0),scrollYProgress:Mi(0)}};function Ep(S){S===void 0&&(S={});var T=S.container,k=S.target,Q=t.__rest(S,["container","target"]),Z=ve(ow);return M(function(){return s.scroll(function(xe){var _e=xe.x,fe=xe.y;Z.scrollX.set(_e.current),Z.scrollXProgress.set(_e.progress),Z.scrollY.set(fe.current),Z.scrollYProgress.set(fe.progress)},t.__assign(t.__assign({},Q),{container:(T==null?void 0:T.current)||void 0,target:(k==null?void 0:k.current)||void 0}))},[]),Z}function bu(S){return fl(!1,"useElementScroll is deprecated. Convert to useScroll({ container: ref })."),Ep({container:S})}function Cd(){return fl(!1,"useViewportScroll is deprecated. Convert to useScroll()."),Ep()}var _d=typeof performance<"u"?function(){return performance.now()}:function(){return Date.now()};function Hg(S){var T=ve(_d),k=r.useContext(w).isStatic;r.useEffect(function(){if(!k){var Q=function(Z){var xe=Z.timestamp;S(xe-T)};return h.default.update(Q,!0),function(){return o.cancelSync.update(Q)}}},[S])}function sw(){var S=bl(0);return Hg(function(T){return S.set(T)}),S}function lw(){var S=!1,T=[],k=new Set,Q={subscribe:function(Z){return k.add(Z),function(){return void k.delete(Z)}},start:function(Z,xe){if(S){var _e=[];return k.forEach(function(fe){_e.push(pu(fe,Z,{transitionOverride:xe}))}),Promise.all(_e)}else return new Promise(function(fe){T.push({animation:[Z,xe],resolve:fe})})},set:function(Z){return i.invariant(S,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),k.forEach(function(xe){xg(xe,Z)})},stop:function(){k.forEach(function(Z){pp(Z)})},mount:function(){return S=!0,T.forEach(function(Z){var xe=Z.animation,_e=Z.resolve;Q.start.apply(Q,t.__spreadArray([],t.__read(xe),!1)).then(_e)}),function(){S=!1,Q.stop()}}};return Q}function eS(){var S=ve(lw);return r.useEffect(S.mount,[]),S}var cw=eS;function uw(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var k=r.useRef(0),Q=t.__read(r.useState(S[k.current]),2),Z=Q[0],xe=Q[1],_e=r.useCallback(function(fe){k.current=typeof fe!="number"?a.wrap(0,S.length,k.current+1):fe,xe(S[k.current])},t.__spreadArray([S.length],t.__read(S),!1));return[Z,_e]}function Hde(S,T){var k=T===void 0?{}:T,Q=k.root,Z=k.margin,xe=k.amount,_e=k.once,fe=_e===void 0?!1:_e,Me=t.__read(r.useState(!1),2),Te=Me[0],He=Me[1];return r.useEffect(function(){var et;if(!(!S.current||fe&&Te)){var tt=function(){return He(!0),fe?void 0:function(){return He(!1)}},nt={root:(et=Q==null?void 0:Q.current)!==null&&et!==void 0?et:void 0,margin:Z,amount:xe==="some"?"any":xe};return s.inView(S.current,tt,nt)}},[Q,S,Z,fe]),Te}var Z6=function(){function S(){this.componentControls=new Set}return S.prototype.subscribe=function(T){var k=this;return this.componentControls.add(T),function(){return k.componentControls.delete(T)}},S.prototype.start=function(T,k){this.componentControls.forEach(function(Q){Q.start(T.nativeEvent||T,k)})},S}(),Vde=function(){return new Z6};function Qde(){return ve(Vde)}function eH(){return Wde}function Wde(S){ds.current&&(ds.current.isUpdating=!1,ds.current.blockUpdate(),S==null||S())}function Gde(){var S=t.__read(Ih(),2),T=S[0],k=S[1],Q=eH();return r.useEffect(function(){h.default.postRender(function(){return h.default.postRender(function(){return Mh.current=!1})})},[k]),function(Z){Q(function(){Mh.current=!0,T(),Z()})}}function qde(){var S=u.useCallback(function(){var T=ds.current;T&&T.resetTree()},[]);return S}var dO=function(){return{}},Kde=Ig({build:function(){},measureViewportBox:ba,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:dO,readValueFromInstance:function(S,T,k){return k.initialState[T]||0},makeTargetAnimatable:function(S,T){var k=T.transition,Q=T.transitionEnd,Z=t.__rest(T,["transition","transitionEnd"]),xe=hp(Z,k||{},S);return pd(S,Z,xe),t.__assign({transition:k,transitionEnd:Q},Z)}}),Xde=Yr({scrapeMotionValuesFromProps:dO,createRenderState:dO});function Yde(S){var T=t.__read(r.useState(S),2),k=T[0],Q=T[1],Z=Xde({},!1),xe=ve(function(){return Kde({props:{},visualState:Z},{initialState:S})});r.useEffect(function(){return xe.mount({}),xe.unmount},[xe]),r.useEffect(function(){xe.setProps({onUpdate:function(fe){Q(t.__assign({},fe))}})},[Q,xe]);var _e=ve(function(){return function(fe){return pu(xe,fe)}});return[k,_e]}var $de=1e5,tH=function(S){return S>.001?1/S:$de},rH=!1;function Jde(S){var T=bl(1),k=bl(1),Q=_();i.invariant(!!(S||Q),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),i.warning(rH,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),rH=!0,S?(T=S.scaleX||T,k=S.scaleY||k):Q&&(T=Q.getValue("scaleX",1),k=Q.getValue("scaleY",1));var Z=jg(T,tH),xe=jg(k,tH);return{scaleX:Z,scaleY:xe}}e.AnimatePresence=W_,e.AnimateSharedLayout=xd,e.DeprecatedLayoutGroupContext=Ug,e.DragControls=Z6,e.FlatTree=Gi,e.LayoutGroup=G_,e.LayoutGroupContext=ge,e.LazyMotion=oO,e.MotionConfig=aO,e.MotionConfigContext=w,e.MotionContext=C,e.MotionValue=Ei,e.PresenceContext=B,e.Reorder=lO,e.SwitchLayoutGroupContext=ae,e.addPointerEvent=du,e.addScaleCorrector=Ke,e.animate=D,e.animateVisualElement=pu,e.animationControls=lw,e.animations=ss,e.calcLength=ls,e.checkTargetForNewValues=pd,e.createBox=ba,e.createDomMotionComponent=V_,e.createMotionComponent=Ee,e.domAnimation=aw,e.domMax=cO,e.filterProps=je,e.isBrowser=P,e.isDragActive=tp,e.isMotionValue=Tt,e.isValidMotionProp=dr,e.m=Z0,e.makeUseVisualState=Yr,e.motion=J0,e.motionValue=Mi,e.resolveMotionValue=er,e.transform=kg,e.useAnimation=cw,e.useAnimationControls=eS,e.useAnimationFrame=Hg,e.useCycle=uw,e.useDeprecatedAnimatedState=Yde,e.useDeprecatedInvertedScale=Jde,e.useDomEvent=ze,e.useDragControls=Qde,e.useElementScroll=bu,e.useForceUpdate=Ih,e.useInView=Hde,e.useInstantLayoutTransition=eH,e.useInstantTransition=Gde,e.useIsPresent=L0,e.useIsomorphicLayoutEffect=M,e.useMotionTemplate=Z_,e.useMotionValue=bl,e.usePresence=op,e.useReducedMotion=V,e.useReducedMotionConfig=Y,e.useResetProjection=qde,e.useScroll=Ep,e.useSpring=uO,e.useTime=sw,e.useTransform=jg,e.useUnmountEffect=Gr,e.useVelocity=zg,e.useViewportScroll=Cd,e.useVisualElementContext=_,e.visualElement=Ig,e.wrapHandler=Jf})(wc);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(C,_){for(var B in _)Object.defineProperty(C,B,{enumerable:!0,get:_[B]})}t(e,{AccordionBody:function(){return x},default:function(){return w}});var r=m(Oe),i=wc,n=m(Bi),a=m(uu),o=m(Si),s=Ri,l=bT,c=yi,u=qC;function d(C,_){(_==null||_>C.length)&&(_=C.length);for(var B=0,P=new Array(_);B<_;B++)P[B]=C[B];return P}function h(C){if(Array.isArray(C))return C}function f(){return f=Object.assign||function(C){for(var _=1;_<arguments.length;_++){var B=arguments[_];for(var P in B)Object.prototype.hasOwnProperty.call(B,P)&&(C[P]=B[P])}return C},f.apply(this,arguments)}function m(C){return C&&C.__esModule?C:{default:C}}function A(C,_){var B=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(B!=null){var P=[],M=!0,O=!1,I,F;try{for(B=B.call(C);!(M=(I=B.next()).done)&&(P.push(I.value),!(_&&P.length===_));M=!0);}catch(V){O=!0,F=V}finally{try{!M&&B.return!=null&&B.return()}finally{if(O)throw F}}return P}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(C,_){if(C==null)return{};var B=v(C,_),P,M;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(C);for(M=0;M<O.length;M++)P=O[M],!(_.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(C,P)&&(B[P]=C[P])}return B}function v(C,_){if(C==null)return{};var B={},P=Object.keys(C),M,O;for(O=0;O<P.length;O++)M=P[O],!(_.indexOf(M)>=0)&&(B[M]=C[M]);return B}function y(C,_){return h(C)||A(C,_)||b(C,_)||g()}function b(C,_){if(C){if(typeof C=="string")return d(C,_);var B=Object.prototype.toString.call(C).slice(8,-1);if(B==="Object"&&C.constructor&&(B=C.constructor.name),B==="Map"||B==="Set")return Array.from(B);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return d(C,_)}}var x=r.default.forwardRef(function(C,_){var B=C.className,P=C.children,M=p(C,["className","children"]),O=(0,l.useAccordion)(),I=O.open,F=O.animate,V=(0,c.useTheme)().accordion,Y=V.styles.base,j=r.default.useRef(null),R=y(r.default.useState(0),2),H=R[0],G=R[1];r.default.useEffect(function(){var ee;G((ee=j.current)===null||ee===void 0?void 0:ee.scrollHeight)},[]),B=B??"";var $=(0,s.twMerge)((0,n.default)((0,o.default)(Y.body)),B),L={unmount:{height:"0px",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{height:"".concat(H+10,"px"),transition:{duration:.2,times:[.4,0,.2,1]}}},K={unmount:{opacity:0,transition:{duration:.3,ease:"linear"}},mount:{opacity:1,transition:{duration:.3,ease:"linear"}}},X=(0,a.default)(K,F);return r.default.createElement(i.motion.div,{className:"overflow-hidden",ref:j,initial:"unmount",exit:"unmount",animate:I?"mount":"unmount",variants:L},r.default.createElement(i.motion.div,f({},M,{ref:_,className:$,initial:"unmount",exit:"unmount",animate:I?"mount":"unmount",variants:X}),P))});x.propTypes={className:u.propTypesClassName,children:u.propTypesChildren},x.displayName="MaterialTailwind.AccordionBody";var w=x})(ste);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{Accordion:function(){return g},AccordionHeader:function(){return c.AccordionHeader},AccordionBody:function(){return u.AccordionBody},useAccordion:function(){return s.useAccordion},default:function(){return p}});var r=f(Oe),i=f(Bi),n=Ri,a=f(Si),o=yi,s=bT,l=qC,c=ote,u=ste;function d(v,y,b){return y in v?Object.defineProperty(v,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[y]=b,v}function h(){return h=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x])}return v},h.apply(this,arguments)}function f(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(v==null)return{};var b=A(v,y),x,w;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(v);for(w=0;w<C.length;w++)x=C[w],!(y.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(v,x)&&(b[x]=v[x])}return b}function A(v,y){if(v==null)return{};var b={},x=Object.keys(v),w,C;for(C=0;C<x.length;C++)w=x[C],!(y.indexOf(w)>=0)&&(b[w]=v[w]);return b}var g=r.default.forwardRef(function(v,y){var b=v.open,x=v.icon,w=v.animate,C=v.className,_=v.disabled,B=v.children,P=m(v,["open","icon","animate","className","disabled","children"]),M=(0,o.useTheme)().accordion,O=M.defaultProps,I=M.styles.base;x=x??O.icon,w=w??O.animate,C=C??O.className,_=_??O.disabled;var F=(0,n.twMerge)((0,i.default)((0,a.default)(I.container),d({},(0,a.default)(I.disabled),_)),C),V=r.default.useMemo(function(){return{open:b,icon:x,animate:w,disabled:_}},[b,x,w,_]);return r.default.createElement(s.AccordionContextProvider,{value:V},r.default.createElement("div",h({},P,{ref:y,className:F}),B))});g.propTypes={open:l.propTypesOpen,icon:l.propTypesIcon,animate:l.propTypesAnimate,disabled:l.propTypesDisabled,className:l.propTypesClassName,children:l.propTypesChildren},g.displayName="MaterialTailwind.Accordion";var p=Object.assign(g,{Header:c.AccordionHeader,Body:u.AccordionBody})})(pZ);var lre={},y0=class{constructor(){this.x=0,this.y=0,this.z=0}findFurthestPoint(t,r,i,n,a,o){return this.x=t-i>r/2?0:r,this.y=n-o>a/2?0:a,this.z=Math.hypot(this.x-(t-i),this.y-(n-o)),this.z}appyStyles(t,r,i,n,a){t.classList.add("ripple"),t.style.backgroundColor=r==="dark"?"rgba(0,0,0, 0.2)":"rgba(255,255,255, 0.3)",t.style.borderRadius="50%",t.style.pointerEvents="none",t.style.position="absolute",t.style.left=a.clientX-i.left-n+"px",t.style.top=a.clientY-i.top-n+"px",t.style.width=t.style.height=n*2+"px"}applyAnimation(t){t.animate([{transform:"scale(0)",opacity:1},{transform:"scale(1.5)",opacity:0}],{duration:500,easing:"linear"})}create(t,r){const i=t.currentTarget;i.style.position="relative",i.style.overflow="hidden";const n=i.getBoundingClientRect(),a=this.findFurthestPoint(t.clientX,i.offsetWidth,n.left,t.clientY,i.offsetHeight,n.top),o=document.createElement("span");this.appyStyles(o,r,n,a,t),this.applyAnimation(o),i.appendChild(o),setTimeout(()=>o.remove(),500)}},ko={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});function t(i,n,a){var o=i.findIndex(function(s){return s===n});return o>=0?n:a}var r=t})(ko);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(y,b){for(var x in b)Object.defineProperty(y,x,{enumerable:!0,get:b[x]})}t(e,{Alert:function(){return p},default:function(){return v}});var r=m(Oe),i=m(wi),n=wc,a=m(y0),o=m(Bi),s=m(uu),l=Ri,c=m(ko),u=m(Si),d=yi,h=bk;function f(){return f=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])}return y},f.apply(this,arguments)}function m(y){return y&&y.__esModule?y:{default:y}}function A(y,b){if(y==null)return{};var x=g(y,b),w,C;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);for(C=0;C<_.length;C++)w=_[C],!(b.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(y,w)&&(x[w]=y[w])}return x}function g(y,b){if(y==null)return{};var x={},w=Object.keys(y),C,_;for(_=0;_<w.length;_++)C=w[_],!(b.indexOf(C)>=0)&&(x[C]=y[C]);return x}var p=r.default.forwardRef(function(y,b){var x=y.variant,w=y.color,C=y.icon,_=y.show,B=y.dismissible,P=y.animate,M=y.className,O=y.children,I=A(y,["variant","color","icon","show","dismissible","animate","className","children"]),F=(0,d.useTheme)().alert,V=F.defaultProps,Y=F.valid,j=F.styles,R=j.base,H=j.variants,G=new a.default;x=x??V.variant,w=w??V.color,M=M??V.className,P=P??V.animate,_=_??V.show;var $=(0,u.default)(R),L=(0,u.default)(H[(0,c.default)(Y.variants,x,"filled")][(0,c.default)(Y.colors,w,"blue")]),K=(0,l.twMerge)((0,o.default)($,L),M),X={unmount:{opacity:0},mount:{opacity:1}},ee=(0,s.default)(X,P),W=r.default.createElement("div",{className:"absolute top-4 left-4"},C),te=n.AnimatePresence;return r.default.createElement(te,null,_&&r.default.createElement(n.motion.div,f({},I,{ref:b,role:"alert",className:K,initial:"unmount",exit:"unmount",animate:_?"mount":"unmount",variants:ee}),C&&W,r.default.createElement("div",{className:"".concat(C?"ml-8":""," mr-12")},O),B&&r.default.createElement("div",{className:"absolute top-3 right-3 w-max rounded-lg hover:bg-white hover:bg-opacity-20 transition-all"},r.default.createElement("div",{role:"button",onClick:B.onClose,onMouseDown:function(oe){return!B.action&&G.create(oe,"light")},className:"w-max ".concat(B.action?"":"p-1 rounded-lg")},B.action||r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))))});p.propTypes={variant:i.default.oneOf(h.propTypesVariant),color:i.default.oneOf(h.propTypesColor),icon:h.propTypesIcon,show:h.propTypesShow,dismissible:h.propTypesDismissible,animate:h.propTypesAnimate,className:h.propTypesClassName,children:h.propTypesChildren},p.displayName="MaterialTailwind.Alert";var v=p})(lre);var cre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{Avatar:function(){return m},default:function(){return A}});var r=d(Oe),i=d(wi),n=d(Bi),a=Ri,o=d(ko),s=d(Si),l=yi,c=wk;function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.variant,y=g.size,b=g.className,x=h(g,["variant","size","className"]),w=(0,l.useTheme)().avatar,C=w.valid,_=w.defaultProps,B=w.styles,P=B.base,M=B.variants,O=B.sizes;v=v??_.variant,y=y??_.size,b=b??_.className;var I=(0,s.default)(M[(0,o.default)(C.variants,v,"rounded")]),F=(0,s.default)(O[(0,o.default)(C.sizes,y,"md")]),V=(0,a.twMerge)((0,n.default)((0,s.default)(P),I,F),b);return r.default.createElement("img",u({},x,{ref:p,className:V}))});m.propTypes={variant:i.default.oneOf(c.propTypesVariant),size:i.default.oneOf(c.propTypesSize),className:c.propTypesClassName},m.displayName="MaterialTailwind.Avatar";var A=m})(cre);var ure={},dre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{propTypesSeparator:function(){return n},propTypesFullWidth:function(){return a},propTypesClassName:function(){return o},propTypesChildren:function(){return s}});var r=i(wi);function i(l){return l&&l.__esModule?l:{default:l}}var n=r.default.node,a=r.default.bool,o=r.default.string,s=r.default.node.isRequired})(dre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Breadcrumbs:function(){return A},default:function(){return g}});var r=h(Oe),i=u(Bi),n=Ri,a=u(Si),o=yi,s=dre;function l(p,v,y){return v in p?Object.defineProperty(p,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[v]=y,p}function c(){return c=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},c.apply(this,arguments)}function u(p){return p&&p.__esModule?p:{default:p}}function d(p){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(d=function(b){return b?y:v})(p)}function h(p,v){if(!v&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var y=d(v);if(y&&y.has(p))return y.get(p);var b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in p)if(w!=="default"&&Object.prototype.hasOwnProperty.call(p,w)){var C=x?Object.getOwnPropertyDescriptor(p,w):null;C&&(C.get||C.set)?Object.defineProperty(b,w,C):b[w]=p[w]}return b.default=p,y&&y.set(p,b),b}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=(0,r.forwardRef)(function(p,v){var y=p.separator,b=p.fullWidth,x=p.className,w=p.children,C=f(p,["separator","fullWidth","className","children"]),_=(0,o.useTheme)().breadcrumbs,B=_.defaultProps,P=_.styles.base;y=y??B.separator,b=b??B.fullWidth,x=x??B.className;var M=(0,i.default)((0,a.default)(P.root.initial),l({},(0,a.default)(P.root.fullWidth),b)),O=(0,n.twMerge)((0,i.default)((0,a.default)(P.list)),x),I=(0,i.default)((0,a.default)(P.item.initial)),F=(0,i.default)((0,a.default)(P.separator));return r.default.createElement("nav",{"aria-label":"breadcrumb",className:M},r.default.createElement("ol",c({},C,{ref:v,className:O}),r.Children.map(w,function(V,Y){if((0,r.isValidElement)(V)){var j;return r.default.createElement("li",{className:(0,i.default)(I,l({},(0,a.default)(P.item.disabled),V==null||(j=V.props)===null||j===void 0?void 0:j.disabled))},V,Y!==r.Children.count(w)-1&&r.default.createElement("span",{className:F},y))}return null})))});A.propTypes={separator:s.propTypesSeparator,fullWidth:s.propTypesFullWidth,className:s.propTypesClassName,children:s.propTypesChildren},A.displayName="MaterialTailwind.Breacrumbs";var g=A})(ure);var hre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{Button:function(){return g},default:function(){return p}});var r=f(Oe),i=f(wi),n=f(y0),a=f(Bi),o=Ri,s=f(ko),l=f(Si),c=yi,u=QC;function d(v,y,b){return y in v?Object.defineProperty(v,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[y]=b,v}function h(){return h=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x])}return v},h.apply(this,arguments)}function f(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(v==null)return{};var b=A(v,y),x,w;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(v);for(w=0;w<C.length;w++)x=C[w],!(y.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(v,x)&&(b[x]=v[x])}return b}function A(v,y){if(v==null)return{};var b={},x=Object.keys(v),w,C;for(C=0;C<x.length;C++)w=x[C],!(y.indexOf(w)>=0)&&(b[w]=v[w]);return b}var g=r.default.forwardRef(function(v,y){var b=v.variant,x=v.size,w=v.color,C=v.fullWidth,_=v.ripple,B=v.className,P=v.children,M=m(v,["variant","size","color","fullWidth","ripple","className","children"]),O=(0,c.useTheme)().button,I=O.valid,F=O.defaultProps,V=O.styles,Y=V.base,j=V.variants,R=V.sizes;b=b??F.variant,x=x??F.size,w=w??F.color,C=C??F.fullWidth,_=_??F.ripple,B=B??F.className;var H=_!==void 0&&new n.default,G=(0,l.default)(Y.initial),$=(0,l.default)(j[(0,s.default)(I.variants,b,"filled")][(0,s.default)(I.colors,w,"blue")]),L=(0,l.default)(R[(0,s.default)(I.sizes,x,"md")]),K=(0,o.twMerge)((0,a.default)(G,L,$,d({},(0,l.default)(Y.fullWidth),C)),B);return r.default.createElement("button",h({},M,{ref:y,className:K,type:M.type||"button",onMouseDown:function(X){var ee=M==null?void 0:M.onMouseDown;return _&&H.create(X,b==="filled"||b==="gradient"?"light":"dark"),typeof ee=="function"&&ee(X)}}),P)});g.propTypes={variant:i.default.oneOf(u.propTypesVariant),size:i.default.oneOf(u.propTypesSize),color:i.default.oneOf(u.propTypesColor),fullWidth:u.propTypesFullWidth,ripple:u.propTypesRipple,className:u.propTypesClassName,children:u.propTypesChildren},g.displayName="MaterialTailwind.Button";var p=g})(hre);var fre={},pre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{CardHeader:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(Bi),a=Ri,o=h(ko),s=h(Si),l=yi,c=g0;function u(p,v,y){return v in p?Object.defineProperty(p,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[v]=y,p}function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.variant,b=p.color,x=p.shadow,w=p.floated,C=p.className,_=p.children,B=f(p,["variant","color","shadow","floated","className","children"]),P=(0,l.useTheme)().cardHeader,M=P.defaultProps,O=P.styles,I=P.valid,F=O.base,V=O.variants;y=y??M.variant,b=b??M.color,x=x??M.shadow,w=w??M.floated,C=C??M.className;var Y=(0,s.default)(F.initial),j=(0,s.default)(V[(0,o.default)(I.variants,y,"filled")][(0,o.default)(I.colors,b,"white")]),R=(0,a.twMerge)((0,n.default)(Y,j,u({},(0,s.default)(F.shadow),x),u({},(0,s.default)(F.floated),w)),C);return r.default.createElement("div",d({},B,{ref:v,className:R}),_)});A.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),shadow:c.propTypesShadow,floated:c.propTypesFloated,className:c.propTypesClassName,children:c.propTypesChildren},A.displayName="MaterialTailwind.CardHeader";var g=A})(pre);var Are={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(m,A){for(var g in A)Object.defineProperty(m,g,{enumerable:!0,get:A[g]})}t(e,{CardBody:function(){return h},default:function(){return f}});var r=c(Oe),i=c(Bi),n=Ri,a=c(Si),o=yi,s=g0;function l(){return l=Object.assign||function(m){for(var A=1;A<arguments.length;A++){var g=arguments[A];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])}return m},l.apply(this,arguments)}function c(m){return m&&m.__esModule?m:{default:m}}function u(m,A){if(m==null)return{};var g=d(m,A),p,v;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);for(v=0;v<y.length;v++)p=y[v],!(A.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(m,p)&&(g[p]=m[p])}return g}function d(m,A){if(m==null)return{};var g={},p=Object.keys(m),v,y;for(y=0;y<p.length;y++)v=p[y],!(A.indexOf(v)>=0)&&(g[v]=m[v]);return g}var h=r.default.forwardRef(function(m,A){var g=m.className,p=m.children,v=u(m,["className","children"]),y=(0,o.useTheme)().cardBody,b=y.defaultProps,x=y.styles.base;g=g??b.className;var w=(0,n.twMerge)((0,i.default)((0,a.default)(x)),g);return r.default.createElement("div",l({},v,{ref:A,className:w}),p)});h.propTypes={className:s.propTypesClassName,children:s.propTypesChildren},h.displayName="MaterialTailwind.CardBody";var f=h})(Are);var gre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{CardFooter:function(){return f},default:function(){return m}});var r=u(Oe),i=u(Bi),n=Ri,a=u(Si),o=yi,s=g0;function l(A,g,p){return g in A?Object.defineProperty(A,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):A[g]=p,A}function c(){return c=Object.assign||function(A){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(A[v]=p[v])}return A},c.apply(this,arguments)}function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.divider,v=A.className,y=A.children,b=d(A,["divider","className","children"]),x=(0,o.useTheme)().cardFooter,w=x.defaultProps,C=x.styles.base;v=v??w.className,p=p??w.divider;var _=(0,n.twMerge)((0,i.default)((0,a.default)(C.initial),l({},(0,a.default)(C.divider),p)),v);return r.default.createElement("div",c({},b,{ref:g,className:_}),y)});f.propTypes={divider:s.propTypesDivider,className:s.propTypesClassName,children:s.propTypesChildren},f.displayName="MaterialTailwind.CardFooter";var m=f})(gre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(b,x){for(var w in x)Object.defineProperty(b,w,{enumerable:!0,get:x[w]})}t(e,{Card:function(){return v},CardHeader:function(){return c.CardHeader},CardBody:function(){return u.CardBody},CardFooter:function(){return d.CardFooter},default:function(){return y}});var r=A(Oe),i=A(wi),n=A(Bi),a=Ri,o=A(ko),s=A(Si),l=yi,c=pre,u=Are,d=gre,h=g0;function f(b,x,w){return x in b?Object.defineProperty(b,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[x]=w,b}function m(){return m=Object.assign||function(b){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(b[C]=w[C])}return b},m.apply(this,arguments)}function A(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(b==null)return{};var w=p(b,x),C,_;if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);for(_=0;_<B.length;_++)C=B[_],!(x.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(b,C)&&(w[C]=b[C])}return w}function p(b,x){if(b==null)return{};var w={},C=Object.keys(b),_,B;for(B=0;B<C.length;B++)_=C[B],!(x.indexOf(_)>=0)&&(w[_]=b[_]);return w}var v=r.default.forwardRef(function(b,x){var w=b.variant,C=b.color,_=b.shadow,B=b.className,P=b.children,M=g(b,["variant","color","shadow","className","children"]),O=(0,l.useTheme)().card,I=O.defaultProps,F=O.styles,V=O.valid,Y=F.base,j=F.variants;w=w??I.variant,C=C??I.color,_=_??I.shadow,B=B??I.className;var R=(0,s.default)(Y.initial),H=(0,s.default)(j[(0,o.default)(V.variants,w,"filled")][(0,o.default)(V.colors,C,"white")]),G=(0,a.twMerge)((0,n.default)(R,H,f({},(0,s.default)(Y.shadow),_)),B);return r.default.createElement("div",m({},M,{ref:x,className:G}),P)});v.propTypes={variant:i.default.oneOf(h.propTypesVariant),color:i.default.oneOf(h.propTypesColor),shadow:h.propTypesShadow,className:h.propTypesClassName,children:h.propTypesChildren},v.displayName="MaterialTailwind.Card";var y=Object.assign(v,{Header:c.CardHeader,Body:u.CardBody,Footer:d.CardFooter})})(fre);var mre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Checkbox:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(y0),a=h(Bi),o=Ri,s=h(ko),l=h(Si),c=yi,u=m0;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.color,b=p.label,x=p.icon,w=p.ripple,C=p.className,_=p.containerProps,B=p.labelProps,P=f(p,["color","label","icon","ripple","className","containerProps","labelProps"]),M=(0,c.useTheme)().checkbox,O=M.defaultProps,I=M.valid,F=M.styles,V=F.base,Y=F.colors;y=y??O.color,w=w??O.ripple,C=C??O.className;var j=w!==void 0&&new n.default,R=(0,a.default)((0,l.default)(V.root)),H=(0,o.twMerge)((0,a.default)((0,l.default)(V.container)),_==null?void 0:_.className),G=(0,o.twMerge)((0,a.default)((0,l.default)(V.input),(0,l.default)(Y[(0,s.default)(I.colors,y,"blue")])),C),$=(0,o.twMerge)((0,a.default)((0,l.default)(V.label)),B==null?void 0:B.className);return r.default.createElement("div",{ref:v,className:R},r.default.createElement("label",d({},_,{className:H,htmlFor:P.id||"checkbox",onMouseDown:function(L){var K=_==null?void 0:_.onMouseDown;return w&&j.create(L,"dark"),typeof K=="function"&&K(L)}}),r.default.createElement("input",d({},P,{type:"checkbox",className:G,id:P.id||"checkbox"})),r.default.createElement("div",{className:"text-white absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity"},x||r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",strokeWidth:1},r.default.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})))),b&&r.default.createElement("label",d({},B,{className:$,htmlFor:P.id||"checkbox"}),b))});A.propTypes={color:i.default.oneOf(u.propTypesColor),label:u.propTypesLabel,icon:u.propTypesIcon,ripple:u.propTypesRipple,className:u.propTypesClassName,containerProps:u.propTypesContainerProps,labelProps:u.propTypesLabelProps},A.displayName="MaterialTailwind.Checkbox";var g=A})(mre);var vre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(y,b){for(var x in b)Object.defineProperty(y,x,{enumerable:!0,get:b[x]})}t(e,{Chip:function(){return p},default:function(){return v}});var r=m(Oe),i=m(wi),n=wc,a=m(y0),o=m(Bi),s=m(uu),l=Ri,c=m(ko),u=m(Si),d=yi,h=Mk;function f(){return f=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])}return y},f.apply(this,arguments)}function m(y){return y&&y.__esModule?y:{default:y}}function A(y,b){if(y==null)return{};var x=g(y,b),w,C;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);for(C=0;C<_.length;C++)w=_[C],!(b.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(y,w)&&(x[w]=y[w])}return x}function g(y,b){if(y==null)return{};var x={},w=Object.keys(y),C,_;for(_=0;_<w.length;_++)C=w[_],!(b.indexOf(C)>=0)&&(x[C]=y[C]);return x}var p=r.default.forwardRef(function(y,b){var x=y.variant,w=y.color,C=y.icon,_=y.show,B=y.dismissible,P=y.animate,M=y.className,O=y.value,I=A(y,["variant","color","icon","show","dismissible","animate","className","value"]),F=(0,d.useTheme)().chip,V=F.defaultProps,Y=F.valid,j=F.styles,R=j.base,H=j.variants,G=j.closeButtonColor,$=new a.default;x=x??V.variant,w=w??V.color,M=M??V.className,P=P??V.animate,_=_??V.show;var L=(0,u.default)(H[(0,c.default)(Y.variants,x,"filled")][(0,c.default)(Y.colors,w,"blue")]),K=(0,u.default)(G[(0,c.default)(Y.colors,w,"blue")]),X=(0,l.twMerge)((0,o.default)((0,u.default)(R),L),M),ee=(0,o.default)("absolute top-1 right-1 mt-[0.5px] mx-px w-max rounded-md",K,"transition-colors"),W={unmount:{opacity:0},mount:{opacity:1}},te=(0,s.default)(W,P),oe=r.default.createElement("div",{className:"w-5 h-5 absolute top-2/4 left-1 -translate-y-2/4"},C),le=n.AnimatePresence;return r.default.createElement(le,null,_&&r.default.createElement(n.motion.div,f({},I,{ref:b,className:X,initial:"unmount",exit:"unmount",animate:_?"mount":"unmount",variants:te}),C&&oe,r.default.createElement("div",{className:"".concat(C?"ml-4":""," ").concat(B?"mr-5":""," mt-px")},O),B&&r.default.createElement("div",{className:ee},r.default.createElement("div",{role:"button",onClick:B.onClose,onMouseDown:function(be){return!B.action&&$.create(be,"light")},className:"w-5 h-5 ".concat(B.action?"":"p-1")},B.action||r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))))});p.propTypes={variant:i.default.oneOf(h.propTypesVariant),color:i.default.oneOf(h.propTypesColor),icon:h.propTypesIcon,show:h.propTypesShow,dismissible:h.propTypesDismissible,animate:h.propTypesAnimate,className:h.propTypesClassName,value:h.propTypesValue},p.displayName="MaterialTailwind.Chip";var v=p})(vre);var yre={},lL={exports:{}},xS={exports:{}},CS={exports:{}},_S={exports:{}},YV;function vve(){return YV||(YV=1,function(e,t){(function(r,i){i(t)})(hb,function(r){function i(W){return W.split("-")[1]}function n(W){return W==="y"?"height":"width"}function a(W){return W.split("-")[0]}function o(W){return["top","bottom"].includes(a(W))?"x":"y"}function s(W,te,oe){let{reference:le,floating:be}=W;const ve=le.x+le.width/2-be.width/2,se=le.y+le.height/2-be.height/2,ye=o(te),Be=n(ye),ge=le[Be]/2-be[Be]/2,ae=a(te),Ne=ye==="x";let Ie;switch(ae){case"top":Ie={x:ve,y:le.y-be.height};break;case"bottom":Ie={x:ve,y:le.y+le.height};break;case"right":Ie={x:le.x+le.width,y:se};break;case"left":Ie={x:le.x-be.width,y:se};break;default:Ie={x:le.x,y:le.y}}switch(i(te)){case"start":Ie[ye]-=ge*(oe&&Ne?-1:1);break;case"end":Ie[ye]+=ge*(oe&&Ne?-1:1);break}return Ie}const l=async(W,te,oe)=>{const{placement:le="bottom",strategy:be="absolute",middleware:ve=[],platform:se}=oe,ye=ve.filter(Boolean),Be=await(se.isRTL==null?void 0:se.isRTL(te));let ge=await se.getElementRects({reference:W,floating:te,strategy:be}),{x:ae,y:Ne}=s(ge,le,Be),Ie=le,Ee={},Qe=0;for(let We=0;We<ye.length;We++){const{name:de,fn:re}=ye[We],{x:Re,y:Ke,data:ie,reset:st}=await re({x:ae,y:Ne,initialPlacement:le,placement:Ie,strategy:be,middlewareData:Ee,rects:ge,platform:se,elements:{reference:W,floating:te}});if(ae=Re??ae,Ne=Ke??Ne,Ee={...Ee,[de]:{...Ee[de],...ie}},st&&Qe<=50){Qe++,typeof st=="object"&&(st.placement&&(Ie=st.placement),st.rects&&(ge=st.rects===!0?await se.getElementRects({reference:W,floating:te,strategy:be}):st.rects),{x:ae,y:Ne}=s(ge,Ie,Be)),We=-1;continue}}return{x:ae,y:Ne,placement:Ie,strategy:be,middlewareData:Ee}};function c(W){return{top:0,right:0,bottom:0,left:0,...W}}function u(W){return typeof W!="number"?c(W):{top:W,right:W,bottom:W,left:W}}function d(W){return{...W,top:W.y,left:W.x,right:W.x+W.width,bottom:W.y+W.height}}async function h(W,te){var oe;te===void 0&&(te={});const{x:le,y:be,platform:ve,rects:se,elements:ye,strategy:Be}=W,{boundary:ge="clippingAncestors",rootBoundary:ae="viewport",elementContext:Ne="floating",altBoundary:Ie=!1,padding:Ee=0}=te,Qe=u(Ee),de=ye[Ie?Ne==="floating"?"reference":"floating":Ne],re=d(await ve.getClippingRect({element:(oe=await(ve.isElement==null?void 0:ve.isElement(de)))==null||oe?de:de.contextElement||await(ve.getDocumentElement==null?void 0:ve.getDocumentElement(ye.floating)),boundary:ge,rootBoundary:ae,strategy:Be})),Re=Ne==="floating"?{...se.floating,x:le,y:be}:se.reference,Ke=await(ve.getOffsetParent==null?void 0:ve.getOffsetParent(ye.floating)),ie=await(ve.isElement==null?void 0:ve.isElement(Ke))?await(ve.getScale==null?void 0:ve.getScale(Ke))||{x:1,y:1}:{x:1,y:1},st=d(ve.convertOffsetParentRelativeRectToViewportRelativeRect?await ve.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Re,offsetParent:Ke,strategy:Be}):Re);return{top:(re.top-st.top+Qe.top)/ie.y,bottom:(st.bottom-re.bottom+Qe.bottom)/ie.y,left:(re.left-st.left+Qe.left)/ie.x,right:(st.right-re.right+Qe.right)/ie.x}}const f=Math.min,m=Math.max;function A(W,te,oe){return m(W,f(te,oe))}const g=W=>({name:"arrow",options:W,async fn(te){const{element:oe,padding:le=0}=W||{},{x:be,y:ve,placement:se,rects:ye,platform:Be,elements:ge}=te;if(oe==null)return{};const ae=u(le),Ne={x:be,y:ve},Ie=o(se),Ee=n(Ie),Qe=await Be.getDimensions(oe),We=Ie==="y",de=We?"top":"left",re=We?"bottom":"right",Re=We?"clientHeight":"clientWidth",Ke=ye.reference[Ee]+ye.reference[Ie]-Ne[Ie]-ye.floating[Ee],ie=Ne[Ie]-ye.reference[Ie],st=await(Be.getOffsetParent==null?void 0:Be.getOffsetParent(oe));let wt=st?st[Re]:0;(!wt||!await(Be.isElement==null?void 0:Be.isElement(st)))&&(wt=ge.floating[Re]||ye.floating[Ee]);const ut=Ke/2-ie/2,Ze=ae[de],ht=wt-Qe[Ee]-ae[re],Mt=wt/2-Qe[Ee]/2+ut,Pt=A(Ze,Mt,ht),Tt=i(se)!=null&&Mt!=Pt&&ye.reference[Ee]/2-(Mt<Ze?ae[de]:ae[re])-Qe[Ee]/2<0?Mt<Ze?Ze-Mt:ht-Mt:0;return{[Ie]:Ne[Ie]-Tt,data:{[Ie]:Pt,centerOffset:Mt-Pt}}}}),p=["top","right","bottom","left"],v=p.reduce((W,te)=>W.concat(te,te+"-start",te+"-end"),[]),y={left:"right",right:"left",bottom:"top",top:"bottom"};function b(W){return W.replace(/left|right|bottom|top/g,te=>y[te])}function x(W,te,oe){oe===void 0&&(oe=!1);const le=i(W),be=o(W),ve=n(be);let se=be==="x"?le===(oe?"end":"start")?"right":"left":le==="start"?"bottom":"top";return te.reference[ve]>te.floating[ve]&&(se=b(se)),{main:se,cross:b(se)}}const w={start:"end",end:"start"};function C(W){return W.replace(/start|end/g,te=>w[te])}function _(W,te,oe){return(W?[...oe.filter(be=>i(be)===W),...oe.filter(be=>i(be)!==W)]:oe.filter(be=>a(be)===be)).filter(be=>W?i(be)===W||(te?C(be)!==be:!1):!0)}const B=function(W){return W===void 0&&(W={}),{name:"autoPlacement",options:W,async fn(te){var oe,le,be;const{rects:ve,middlewareData:se,placement:ye,platform:Be,elements:ge}=te,{crossAxis:ae=!1,alignment:Ne,allowedPlacements:Ie=v,autoAlignment:Ee=!0,...Qe}=W,We=Ne!==void 0||Ie===v?_(Ne||null,Ee,Ie):Ie,de=await h(te,Qe),re=((oe=se.autoPlacement)==null?void 0:oe.index)||0,Re=We[re];if(Re==null)return{};const{main:Ke,cross:ie}=x(Re,ve,await(Be.isRTL==null?void 0:Be.isRTL(ge.floating)));if(ye!==Re)return{reset:{placement:We[0]}};const st=[de[a(Re)],de[Ke],de[ie]],wt=[...((le=se.autoPlacement)==null?void 0:le.overflows)||[],{placement:Re,overflows:st}],ut=We[re+1];if(ut)return{data:{index:re+1,overflows:wt},reset:{placement:ut}};const Ze=wt.map(Pt=>{const Yt=i(Pt.placement);return[Pt.placement,Yt&&ae?Pt.overflows.slice(0,2).reduce((Tt,Vt)=>Tt+Vt,0):Pt.overflows[0],Pt.overflows]}).sort((Pt,Yt)=>Pt[1]-Yt[1]),Mt=((be=Ze.filter(Pt=>Pt[2].slice(0,i(Pt[0])?2:3).every(Yt=>Yt<=0))[0])==null?void 0:be[0])||Ze[0][0];return Mt!==ye?{data:{index:re+1,overflows:wt},reset:{placement:Mt}}:{}}}};function P(W){const te=b(W);return[C(W),te,C(te)]}function M(W,te,oe){const le=["left","right"],be=["right","left"],ve=["top","bottom"],se=["bottom","top"];switch(W){case"top":case"bottom":return oe?te?be:le:te?le:be;case"left":case"right":return te?ve:se;default:return[]}}function O(W,te,oe,le){const be=i(W);let ve=M(a(W),oe==="start",le);return be&&(ve=ve.map(se=>se+"-"+be),te&&(ve=ve.concat(ve.map(C)))),ve}const I=function(W){return W===void 0&&(W={}),{name:"flip",options:W,async fn(te){var oe;const{placement:le,middlewareData:be,rects:ve,initialPlacement:se,platform:ye,elements:Be}=te,{mainAxis:ge=!0,crossAxis:ae=!0,fallbackPlacements:Ne,fallbackStrategy:Ie="bestFit",fallbackAxisSideDirection:Ee="none",flipAlignment:Qe=!0,...We}=W,de=a(le),re=a(se)===se,Re=await(ye.isRTL==null?void 0:ye.isRTL(Be.floating)),Ke=Ne||(re||!Qe?[b(se)]:P(se));!Ne&&Ee!=="none"&&Ke.push(...O(se,Qe,Ee,Re));const ie=[se,...Ke],st=await h(te,We),wt=[];let ut=((oe=be.flip)==null?void 0:oe.overflows)||[];if(ge&&wt.push(st[de]),ae){const{main:Pt,cross:Yt}=x(le,ve,Re);wt.push(st[Pt],st[Yt])}if(ut=[...ut,{placement:le,overflows:wt}],!wt.every(Pt=>Pt<=0)){var Ze,ht;const Pt=(((Ze=be.flip)==null?void 0:Ze.index)||0)+1,Yt=ie[Pt];if(Yt)return{data:{index:Pt,overflows:ut},reset:{placement:Yt}};let Tt=(ht=ut.filter(Vt=>Vt.overflows[0]<=0).sort((Vt,Or)=>Vt.overflows[1]-Or.overflows[1])[0])==null?void 0:ht.placement;if(!Tt)switch(Ie){case"bestFit":{var Mt;const Vt=(Mt=ut.map(Or=>[Or.placement,Or.overflows.filter(lr=>lr>0).reduce((lr,Ge)=>lr+Ge,0)]).sort((Or,lr)=>Or[1]-lr[1])[0])==null?void 0:Mt[0];Vt&&(Tt=Vt);break}case"initialPlacement":Tt=se;break}if(le!==Tt)return{reset:{placement:Tt}}}return{}}}};function F(W,te){return{top:W.top-te.height,right:W.right-te.width,bottom:W.bottom-te.height,left:W.left-te.width}}function V(W){return p.some(te=>W[te]>=0)}const Y=function(W){return W===void 0&&(W={}),{name:"hide",options:W,async fn(te){const{strategy:oe="referenceHidden",...le}=W,{rects:be}=te;switch(oe){case"referenceHidden":{const ve=await h(te,{...le,elementContext:"reference"}),se=F(ve,be.reference);return{data:{referenceHiddenOffsets:se,referenceHidden:V(se)}}}case"escaped":{const ve=await h(te,{...le,altBoundary:!0}),se=F(ve,be.floating);return{data:{escapedOffsets:se,escaped:V(se)}}}default:return{}}}}};function j(W){const te=f(...W.map(ve=>ve.left)),oe=f(...W.map(ve=>ve.top)),le=m(...W.map(ve=>ve.right)),be=m(...W.map(ve=>ve.bottom));return{x:te,y:oe,width:le-te,height:be-oe}}function R(W){const te=W.slice().sort((be,ve)=>be.y-ve.y),oe=[];let le=null;for(let be=0;be<te.length;be++){const ve=te[be];!le||ve.y-le.y>le.height/2?oe.push([ve]):oe[oe.length-1].push(ve),le=ve}return oe.map(be=>d(j(be)))}const H=function(W){return W===void 0&&(W={}),{name:"inline",options:W,async fn(te){const{placement:oe,elements:le,rects:be,platform:ve,strategy:se}=te,{padding:ye=2,x:Be,y:ge}=W,ae=Array.from(await(ve.getClientRects==null?void 0:ve.getClientRects(le.reference))||[]),Ne=R(ae),Ie=d(j(ae)),Ee=u(ye);function Qe(){if(Ne.length===2&&Ne[0].left>Ne[1].right&&Be!=null&&ge!=null)return Ne.find(de=>Be>de.left-Ee.left&&Be<de.right+Ee.right&&ge>de.top-Ee.top&&ge<de.bottom+Ee.bottom)||Ie;if(Ne.length>=2){if(o(oe)==="x"){const Mt=Ne[0],Pt=Ne[Ne.length-1],Yt=a(oe)==="top",Tt=Mt.top,Vt=Pt.bottom,Or=Yt?Mt.left:Pt.left,lr=Yt?Mt.right:Pt.right,Ge=lr-Or,At=Vt-Tt;return{top:Tt,bottom:Vt,left:Or,right:lr,width:Ge,height:At,x:Or,y:Tt}}const de=a(oe)==="left",re=m(...Ne.map(Mt=>Mt.right)),Re=f(...Ne.map(Mt=>Mt.left)),Ke=Ne.filter(Mt=>de?Mt.left===Re:Mt.right===re),ie=Ke[0].top,st=Ke[Ke.length-1].bottom,wt=Re,ut=re,Ze=ut-wt,ht=st-ie;return{top:ie,bottom:st,left:wt,right:ut,width:Ze,height:ht,x:wt,y:ie}}return Ie}const We=await ve.getElementRects({reference:{getBoundingClientRect:Qe},floating:le.floating,strategy:se});return be.reference.x!==We.reference.x||be.reference.y!==We.reference.y||be.reference.width!==We.reference.width||be.reference.height!==We.reference.height?{reset:{rects:We}}:{}}}};async function G(W,te){const{placement:oe,platform:le,elements:be}=W,ve=await(le.isRTL==null?void 0:le.isRTL(be.floating)),se=a(oe),ye=i(oe),Be=o(oe)==="x",ge=["left","top"].includes(se)?-1:1,ae=ve&&Be?-1:1,Ne=typeof te=="function"?te(W):te;let{mainAxis:Ie,crossAxis:Ee,alignmentAxis:Qe}=typeof Ne=="number"?{mainAxis:Ne,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Ne};return ye&&typeof Qe=="number"&&(Ee=ye==="end"?Qe*-1:Qe),Be?{x:Ee*ae,y:Ie*ge}:{x:Ie*ge,y:Ee*ae}}const $=function(W){return W===void 0&&(W=0),{name:"offset",options:W,async fn(te){const{x:oe,y:le}=te,be=await G(te,W);return{x:oe+be.x,y:le+be.y,data:be}}}};function L(W){return W==="x"?"y":"x"}const K=function(W){return W===void 0&&(W={}),{name:"shift",options:W,async fn(te){const{x:oe,y:le,placement:be}=te,{mainAxis:ve=!0,crossAxis:se=!1,limiter:ye={fn:de=>{let{x:re,y:Re}=de;return{x:re,y:Re}}},...Be}=W,ge={x:oe,y:le},ae=await h(te,Be),Ne=o(a(be)),Ie=L(Ne);let Ee=ge[Ne],Qe=ge[Ie];if(ve){const de=Ne==="y"?"top":"left",re=Ne==="y"?"bottom":"right",Re=Ee+ae[de],Ke=Ee-ae[re];Ee=A(Re,Ee,Ke)}if(se){const de=Ie==="y"?"top":"left",re=Ie==="y"?"bottom":"right",Re=Qe+ae[de],Ke=Qe-ae[re];Qe=A(Re,Qe,Ke)}const We=ye.fn({...te,[Ne]:Ee,[Ie]:Qe});return{...We,data:{x:We.x-oe,y:We.y-le}}}}},X=function(W){return W===void 0&&(W={}),{options:W,fn(te){const{x:oe,y:le,placement:be,rects:ve,middlewareData:se}=te,{offset:ye=0,mainAxis:Be=!0,crossAxis:ge=!0}=W,ae={x:oe,y:le},Ne=o(be),Ie=L(Ne);let Ee=ae[Ne],Qe=ae[Ie];const We=typeof ye=="function"?ye(te):ye,de=typeof We=="number"?{mainAxis:We,crossAxis:0}:{mainAxis:0,crossAxis:0,...We};if(Be){const Ke=Ne==="y"?"height":"width",ie=ve.reference[Ne]-ve.floating[Ke]+de.mainAxis,st=ve.reference[Ne]+ve.reference[Ke]-de.mainAxis;Ee<ie?Ee=ie:Ee>st&&(Ee=st)}if(ge){var re,Re;const Ke=Ne==="y"?"width":"height",ie=["top","left"].includes(a(be)),st=ve.reference[Ie]-ve.floating[Ke]+(ie&&((re=se.offset)==null?void 0:re[Ie])||0)+(ie?0:de.crossAxis),wt=ve.reference[Ie]+ve.reference[Ke]+(ie?0:((Re=se.offset)==null?void 0:Re[Ie])||0)-(ie?de.crossAxis:0);Qe<st?Qe=st:Qe>wt&&(Qe=wt)}return{[Ne]:Ee,[Ie]:Qe}}}},ee=function(W){return W===void 0&&(W={}),{name:"size",options:W,async fn(te){const{placement:oe,rects:le,platform:be,elements:ve}=te,{apply:se=()=>{},...ye}=W,Be=await h(te,ye),ge=a(oe),ae=i(oe),Ie=o(oe)==="x",{width:Ee,height:Qe}=le.floating;let We,de;ge==="top"||ge==="bottom"?(We=ge,de=ae===(await(be.isRTL==null?void 0:be.isRTL(ve.floating))?"start":"end")?"left":"right"):(de=ge,We=ae==="end"?"top":"bottom");const re=Qe-Be[We],Re=Ee-Be[de],Ke=!te.middlewareData.shift;let ie=re,st=Re;if(Ie){const ut=Ee-Be.left-Be.right;st=ae||Ke?f(Re,ut):ut}else{const ut=Qe-Be.top-Be.bottom;ie=ae||Ke?f(re,ut):ut}if(Ke&&!ae){const ut=m(Be.left,0),Ze=m(Be.right,0),ht=m(Be.top,0),Mt=m(Be.bottom,0);Ie?st=Ee-2*(ut!==0||Ze!==0?ut+Ze:m(Be.left,Be.right)):ie=Qe-2*(ht!==0||Mt!==0?ht+Mt:m(Be.top,Be.bottom))}await se({...te,availableWidth:st,availableHeight:ie});const wt=await be.getDimensions(ve.floating);return Ee!==wt.width||Qe!==wt.height?{reset:{rects:!0}}:{}}}};r.arrow=g,r.autoPlacement=B,r.computePosition=l,r.detectOverflow=h,r.flip=I,r.hide=Y,r.inline=H,r.limitShift=X,r.offset=$,r.rectToClientRect=d,r.shift=K,r.size=ee,Object.defineProperty(r,"__esModule",{value:!0})})}(_S,_S.exports)),_S.exports}var $V;function yve(){return $V||($V=1,function(e,t){(function(r,i){i(t,vve())})(hb,function(r,i){function n(se){var ye;return((ye=se.ownerDocument)==null?void 0:ye.defaultView)||window}function a(se){return n(se).getComputedStyle(se)}function o(se){return se instanceof n(se).Node}function s(se){return o(se)?(se.nodeName||"").toLowerCase():""}let l;function c(){if(l)return l;const se=navigator.userAgentData;return se&&Array.isArray(se.brands)?(l=se.brands.map(ye=>ye.brand+"/"+ye.version).join(" "),l):navigator.userAgent}function u(se){return se instanceof n(se).HTMLElement}function d(se){return se instanceof n(se).Element}function h(se){if(typeof ShadowRoot>"u")return!1;const ye=n(se).ShadowRoot;return se instanceof ye||se instanceof ShadowRoot}function f(se){const{overflow:ye,overflowX:Be,overflowY:ge,display:ae}=a(se);return/auto|scroll|overlay|hidden|clip/.test(ye+ge+Be)&&!["inline","contents"].includes(ae)}function m(se){return["table","td","th"].includes(s(se))}function A(se){const ye=/firefox/i.test(c()),Be=a(se),ge=Be.backdropFilter||Be.WebkitBackdropFilter;return Be.transform!=="none"||Be.perspective!=="none"||(ge?ge!=="none":!1)||ye&&Be.willChange==="filter"||ye&&(Be.filter?Be.filter!=="none":!1)||["transform","perspective"].some(ae=>Be.willChange.includes(ae))||["paint","layout","strict","content"].some(ae=>{const Ne=Be.contain;return Ne!=null?Ne.includes(ae):!1})}function g(){return/^((?!chrome|android).)*safari/i.test(c())}function p(se){return["html","body","#document"].includes(s(se))}const v=Math.min,y=Math.max,b=Math.round;function x(se){const ye=a(se);let Be=parseFloat(ye.width)||0,ge=parseFloat(ye.height)||0;const ae=u(se),Ne=ae?se.offsetWidth:Be,Ie=ae?se.offsetHeight:ge,Ee=b(Be)!==Ne||b(ge)!==Ie;return Ee&&(Be=Ne,ge=Ie),{width:Be,height:ge,fallback:Ee}}function w(se){return d(se)?se:se.contextElement}const C={x:1,y:1};function _(se){const ye=w(se);if(!u(ye))return C;const Be=ye.getBoundingClientRect(),{width:ge,height:ae,fallback:Ne}=x(ye);let Ie=(Ne?b(Be.width):Be.width)/ge,Ee=(Ne?b(Be.height):Be.height)/ae;return(!Ie||!Number.isFinite(Ie))&&(Ie=1),(!Ee||!Number.isFinite(Ee))&&(Ee=1),{x:Ie,y:Ee}}function B(se,ye,Be,ge){var ae,Ne;ye===void 0&&(ye=!1),Be===void 0&&(Be=!1);const Ie=se.getBoundingClientRect(),Ee=w(se);let Qe=C;ye&&(ge?d(ge)&&(Qe=_(ge)):Qe=_(se));const We=Ee?n(Ee):window,de=g()&&Be;let re=(Ie.left+(de&&((ae=We.visualViewport)==null?void 0:ae.offsetLeft)||0))/Qe.x,Re=(Ie.top+(de&&((Ne=We.visualViewport)==null?void 0:Ne.offsetTop)||0))/Qe.y,Ke=Ie.width/Qe.x,ie=Ie.height/Qe.y;if(Ee){const st=n(Ee),wt=ge&&d(ge)?n(ge):ge;let ut=st.frameElement;for(;ut&&ge&&wt!==st;){const Ze=_(ut),ht=ut.getBoundingClientRect(),Mt=getComputedStyle(ut);ht.x+=(ut.clientLeft+parseFloat(Mt.paddingLeft))*Ze.x,ht.y+=(ut.clientTop+parseFloat(Mt.paddingTop))*Ze.y,re*=Ze.x,Re*=Ze.y,Ke*=Ze.x,ie*=Ze.y,re+=ht.x,Re+=ht.y,ut=n(ut).frameElement}}return i.rectToClientRect({width:Ke,height:ie,x:re,y:Re})}function P(se){return((o(se)?se.ownerDocument:se.document)||window.document).documentElement}function M(se){return d(se)?{scrollLeft:se.scrollLeft,scrollTop:se.scrollTop}:{scrollLeft:se.pageXOffset,scrollTop:se.pageYOffset}}function O(se){let{rect:ye,offsetParent:Be,strategy:ge}=se;const ae=u(Be),Ne=P(Be);if(Be===Ne)return ye;let Ie={scrollLeft:0,scrollTop:0},Ee={x:1,y:1};const Qe={x:0,y:0};if((ae||!ae&&ge!=="fixed")&&((s(Be)!=="body"||f(Ne))&&(Ie=M(Be)),u(Be))){const We=B(Be);Ee=_(Be),Qe.x=We.x+Be.clientLeft,Qe.y=We.y+Be.clientTop}return{width:ye.width*Ee.x,height:ye.height*Ee.y,x:ye.x*Ee.x-Ie.scrollLeft*Ee.x+Qe.x,y:ye.y*Ee.y-Ie.scrollTop*Ee.y+Qe.y}}function I(se){return B(P(se)).left+M(se).scrollLeft}function F(se){const ye=P(se),Be=M(se),ge=se.ownerDocument.body,ae=y(ye.scrollWidth,ye.clientWidth,ge.scrollWidth,ge.clientWidth),Ne=y(ye.scrollHeight,ye.clientHeight,ge.scrollHeight,ge.clientHeight);let Ie=-Be.scrollLeft+I(se);const Ee=-Be.scrollTop;return a(ge).direction==="rtl"&&(Ie+=y(ye.clientWidth,ge.clientWidth)-ae),{width:ae,height:Ne,x:Ie,y:Ee}}function V(se){if(s(se)==="html")return se;const ye=se.assignedSlot||se.parentNode||h(se)&&se.host||P(se);return h(ye)?ye.host:ye}function Y(se){const ye=V(se);return p(ye)?ye.ownerDocument.body:u(ye)&&f(ye)?ye:Y(ye)}function j(se,ye){var Be;ye===void 0&&(ye=[]);const ge=Y(se),ae=ge===((Be=se.ownerDocument)==null?void 0:Be.body),Ne=n(ge);return ae?ye.concat(Ne,Ne.visualViewport||[],f(ge)?ge:[]):ye.concat(ge,j(ge))}function R(se,ye){const Be=n(se),ge=P(se),ae=Be.visualViewport;let Ne=ge.clientWidth,Ie=ge.clientHeight,Ee=0,Qe=0;if(ae){Ne=ae.width,Ie=ae.height;const We=g();(!We||We&&ye==="fixed")&&(Ee=ae.offsetLeft,Qe=ae.offsetTop)}return{width:Ne,height:Ie,x:Ee,y:Qe}}function H(se,ye){const Be=B(se,!0,ye==="fixed"),ge=Be.top+se.clientTop,ae=Be.left+se.clientLeft,Ne=u(se)?_(se):{x:1,y:1},Ie=se.clientWidth*Ne.x,Ee=se.clientHeight*Ne.y,Qe=ae*Ne.x,We=ge*Ne.y;return{width:Ie,height:Ee,x:Qe,y:We}}function G(se,ye,Be){let ge;if(ye==="viewport")ge=R(se,Be);else if(ye==="document")ge=F(P(se));else if(d(ye))ge=H(ye,Be);else{const Ie={...ye};if(g()){var ae,Ne;const Ee=n(se);Ie.x-=((ae=Ee.visualViewport)==null?void 0:ae.offsetLeft)||0,Ie.y-=((Ne=Ee.visualViewport)==null?void 0:Ne.offsetTop)||0}ge=Ie}return i.rectToClientRect(ge)}function $(se,ye){const Be=V(se);return Be===ye||!d(Be)||p(Be)?!1:a(Be).position==="fixed"||$(Be,ye)}function L(se,ye){const Be=ye.get(se);if(Be)return Be;let ge=j(se).filter(Ee=>d(Ee)&&s(Ee)!=="body"),ae=null;const Ne=a(se).position==="fixed";let Ie=Ne?V(se):se;for(;d(Ie)&&!p(Ie);){const Ee=a(Ie),Qe=A(Ie);!Qe&&Ee.position==="fixed"&&(ae=null),(Ne?!Qe&&!ae:!Qe&&Ee.position==="static"&&!!ae&&["absolute","fixed"].includes(ae.position)||f(Ie)&&!Qe&&$(se,Ie))?ge=ge.filter(de=>de!==Ie):ae=Ee,Ie=V(Ie)}return ye.set(se,ge),ge}function K(se){let{element:ye,boundary:Be,rootBoundary:ge,strategy:ae}=se;const Ie=[...Be==="clippingAncestors"?L(ye,this._c):[].concat(Be),ge],Ee=Ie[0],Qe=Ie.reduce((We,de)=>{const re=G(ye,de,ae);return We.top=y(re.top,We.top),We.right=v(re.right,We.right),We.bottom=v(re.bottom,We.bottom),We.left=y(re.left,We.left),We},G(ye,Ee,ae));return{width:Qe.right-Qe.left,height:Qe.bottom-Qe.top,x:Qe.left,y:Qe.top}}function X(se){return x(se)}function ee(se,ye){return!u(se)||a(se).position==="fixed"?null:ye?ye(se):se.offsetParent}function W(se){let ye=V(se);for(;u(ye)&&!p(ye);){if(A(ye))return ye;ye=V(ye)}return null}function te(se,ye){const Be=n(se);if(!u(se))return Be;let ge=ee(se,ye);for(;ge&&m(ge)&&a(ge).position==="static";)ge=ee(ge,ye);return ge&&(s(ge)==="html"||s(ge)==="body"&&a(ge).position==="static"&&!A(ge))?Be:ge||W(se)||Be}function oe(se,ye,Be){const ge=u(ye),ae=P(ye),Ne=B(se,!0,Be==="fixed",ye);let Ie={scrollLeft:0,scrollTop:0};const Ee={x:0,y:0};if(ge||!ge&&Be!=="fixed")if((s(ye)!=="body"||f(ae))&&(Ie=M(ye)),u(ye)){const Qe=B(ye,!0);Ee.x=Qe.x+ye.clientLeft,Ee.y=Qe.y+ye.clientTop}else ae&&(Ee.x=I(ae));return{x:Ne.left+Ie.scrollLeft-Ee.x,y:Ne.top+Ie.scrollTop-Ee.y,width:Ne.width,height:Ne.height}}const le={getClippingRect:K,convertOffsetParentRelativeRectToViewportRelativeRect:O,isElement:d,getDimensions:X,getOffsetParent:te,getDocumentElement:P,getScale:_,async getElementRects(se){let{reference:ye,floating:Be,strategy:ge}=se;const ae=this.getOffsetParent||te,Ne=this.getDimensions;return{reference:oe(ye,await ae(Be),ge),floating:{x:0,y:0,...await Ne(Be)}}},getClientRects:se=>Array.from(se.getClientRects()),isRTL:se=>a(se).direction==="rtl"};function be(se,ye,Be,ge){ge===void 0&&(ge={});const{ancestorScroll:ae=!0,ancestorResize:Ne=!0,elementResize:Ie=!0,animationFrame:Ee=!1}=ge,Qe=ae||Ne?[...d(se)?j(se):se.contextElement?j(se.contextElement):[],...j(ye)]:[];Qe.forEach(Ke=>{const ie=!d(Ke)&&Ke.toString().includes("V");ae&&(!Ee||ie)&&Ke.addEventListener("scroll",Be,{passive:!0}),Ne&&Ke.addEventListener("resize",Be)});let We=null;Ie&&(We=new ResizeObserver(()=>{Be()}),d(se)&&!Ee&&We.observe(se),!d(se)&&se.contextElement&&!Ee&&We.observe(se.contextElement),We.observe(ye));let de,re=Ee?B(se):null;Ee&&Re();function Re(){const Ke=B(se);re&&(Ke.x!==re.x||Ke.y!==re.y||Ke.width!==re.width||Ke.height!==re.height)&&Be(),re=Ke,de=requestAnimationFrame(Re)}return Be(),()=>{var Ke;Qe.forEach(ie=>{ae&&ie.removeEventListener("scroll",Be),Ne&&ie.removeEventListener("resize",Be)}),(Ke=We)==null||Ke.disconnect(),We=null,Ee&&cancelAnimationFrame(de)}}const ve=(se,ye,Be)=>{const ge=new Map,ae={platform:le,...Be},Ne={...ae.platform,_c:ge};return i.computePosition(se,ye,{...ae,platform:Ne})};Object.defineProperty(r,"arrow",{enumerable:!0,get:function(){return i.arrow}}),Object.defineProperty(r,"autoPlacement",{enumerable:!0,get:function(){return i.autoPlacement}}),Object.defineProperty(r,"detectOverflow",{enumerable:!0,get:function(){return i.detectOverflow}}),Object.defineProperty(r,"flip",{enumerable:!0,get:function(){return i.flip}}),Object.defineProperty(r,"hide",{enumerable:!0,get:function(){return i.hide}}),Object.defineProperty(r,"inline",{enumerable:!0,get:function(){return i.inline}}),Object.defineProperty(r,"limitShift",{enumerable:!0,get:function(){return i.limitShift}}),Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return i.offset}}),Object.defineProperty(r,"shift",{enumerable:!0,get:function(){return i.shift}}),Object.defineProperty(r,"size",{enumerable:!0,get:function(){return i.size}}),r.autoUpdate=be,r.computePosition=ve,r.getOverflowAncestors=j,r.platform=le,Object.defineProperty(r,"__esModule",{value:!0})})}(CS,CS.exports)),CS.exports}var JV;function bve(){return JV||(JV=1,function(e,t){(function(r,i){i(t,yve(),Oe,hk)})(hb,function(r,i,n,a){function o(m){if(m&&m.__esModule)return m;var A=Object.create(null);return m&&Object.keys(m).forEach(function(g){if(g!=="default"){var p=Object.getOwnPropertyDescriptor(m,g);Object.defineProperty(A,g,p.get?p:{enumerable:!0,get:function(){return m[g]}})}}),A.default=m,Object.freeze(A)}var s=o(n),l=o(a);const c=m=>{const{element:A,padding:g}=m;function p(v){return Object.prototype.hasOwnProperty.call(v,"current")}return{name:"arrow",options:m,fn(v){return p(A)?A.current!=null?i.arrow({element:A.current,padding:g}).fn(v):{}:A?i.arrow({element:A,padding:g}).fn(v):{}}}};var u=typeof document<"u"?n.useLayoutEffect:n.useEffect;function d(m,A){if(m===A)return!0;if(typeof m!=typeof A)return!1;if(typeof m=="function"&&m.toString()===A.toString())return!0;let g,p,v;if(m&&A&&typeof m=="object"){if(Array.isArray(m)){if(g=m.length,g!=A.length)return!1;for(p=g;p--!==0;)if(!d(m[p],A[p]))return!1;return!0}if(v=Object.keys(m),g=v.length,g!==Object.keys(A).length)return!1;for(p=g;p--!==0;)if(!Object.prototype.hasOwnProperty.call(A,v[p]))return!1;for(p=g;p--!==0;){const y=v[p];if(!(y==="_owner"&&m.$$typeof)&&!d(m[y],A[y]))return!1}return!0}return m!==m&&A!==A}function h(m){const A=s.useRef(m);return u(()=>{A.current=m}),A}function f(m){m===void 0&&(m={});const{placement:A="bottom",strategy:g="absolute",middleware:p=[],platform:v,whileElementsMounted:y,open:b}=m,[x,w]=s.useState({x:null,y:null,strategy:g,placement:A,middlewareData:{},isPositioned:!1}),[C,_]=s.useState(p);d(C,p)||_(p);const B=s.useRef(null),P=s.useRef(null),M=s.useRef(x),O=h(y),I=h(v),[F,V]=s.useState(null),[Y,j]=s.useState(null),R=s.useCallback(X=>{B.current!==X&&(B.current=X,V(X))},[]),H=s.useCallback(X=>{P.current!==X&&(P.current=X,j(X))},[]),G=s.useCallback(()=>{if(!B.current||!P.current)return;const X={placement:A,strategy:g,middleware:C};I.current&&(X.platform=I.current),i.computePosition(B.current,P.current,X).then(ee=>{const W={...ee,isPositioned:!0};$.current&&!d(M.current,W)&&(M.current=W,l.flushSync(()=>{w(W)}))})},[C,A,g,I]);u(()=>{b===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,w(X=>({...X,isPositioned:!1})))},[b]);const $=s.useRef(!1);u(()=>($.current=!0,()=>{$.current=!1}),[]),u(()=>{if(F&&Y){if(O.current)return O.current(F,Y,G);G()}},[F,Y,G,O]);const L=s.useMemo(()=>({reference:B,floating:P,setReference:R,setFloating:H}),[R,H]),K=s.useMemo(()=>({reference:F,floating:Y}),[F,Y]);return s.useMemo(()=>({...x,update:G,refs:L,elements:K,reference:R,floating:H}),[x,G,L,K,R,H])}Object.defineProperty(r,"autoPlacement",{enumerable:!0,get:function(){return i.autoPlacement}}),Object.defineProperty(r,"autoUpdate",{enumerable:!0,get:function(){return i.autoUpdate}}),Object.defineProperty(r,"computePosition",{enumerable:!0,get:function(){return i.computePosition}}),Object.defineProperty(r,"detectOverflow",{enumerable:!0,get:function(){return i.detectOverflow}}),Object.defineProperty(r,"flip",{enumerable:!0,get:function(){return i.flip}}),Object.defineProperty(r,"getOverflowAncestors",{enumerable:!0,get:function(){return i.getOverflowAncestors}}),Object.defineProperty(r,"hide",{enumerable:!0,get:function(){return i.hide}}),Object.defineProperty(r,"inline",{enumerable:!0,get:function(){return i.inline}}),Object.defineProperty(r,"limitShift",{enumerable:!0,get:function(){return i.limitShift}}),Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return i.offset}}),Object.defineProperty(r,"platform",{enumerable:!0,get:function(){return i.platform}}),Object.defineProperty(r,"shift",{enumerable:!0,get:function(){return i.shift}}),Object.defineProperty(r,"size",{enumerable:!0,get:function(){return i.size}}),r.arrow=c,r.useFloating=f,Object.defineProperty(r,"__esModule",{value:!0})})}(xS,xS.exports)),xS.exports}(function(e,t){(function(r,i){i(t,bve(),Oe,hk)})(hb,function(r,i,n,a){function o(Xe){if(Xe&&Xe.__esModule)return Xe;var ot=Object.create(null);return Xe&&Object.keys(Xe).forEach(function(je){if(je!=="default"){var vt=Object.getOwnPropertyDescriptor(Xe,je);Object.defineProperty(ot,je,vt.get?vt:{enumerable:!0,get:function(){return Xe[je]}})}}),ot.default=Xe,Object.freeze(ot)}var s=o(n),l=typeof document<"u"?n.useLayoutEffect:n.useEffect;function c(){const Xe=new Map;return{emit(ot,je){var vt;(vt=Xe.get(ot))==null||vt.forEach(he=>he(je))},on(ot,je){Xe.set(ot,[...Xe.get(ot)||[],je])},off(ot,je){Xe.set(ot,(Xe.get(ot)||[]).filter(vt=>vt!==je))}}}let u=!1,d=0;const h=()=>"floating-ui-"+d++;function f(){const[Xe,ot]=s.useState(()=>u?h():void 0);return l(()=>{Xe==null&&ot(h())},[]),s.useEffect(()=>{u||(u=!0)},[]),Xe}const m=s["useId".toString()],A=m??f,g=s.createContext(null),p=s.createContext(null),v=()=>{var Xe,ot;return(Xe=(ot=s.useContext(g))==null?void 0:ot.id)!=null?Xe:null},y=()=>s.useContext(p),b=()=>{const Xe=A(),ot=y(),je=v();return l(()=>{const vt={id:Xe,parentId:je};return ot==null||ot.addNode(vt),()=>{ot==null||ot.removeNode(vt)}},[ot,Xe,je]),Xe},x=Xe=>{let{children:ot,id:je}=Xe;const vt=v();return s.createElement(g.Provider,{value:s.useMemo(()=>({id:je,parentId:vt}),[je,vt])},ot)},w=Xe=>{let{children:ot}=Xe;const je=s.useRef([]),vt=s.useCallback(Ve=>{je.current=[...je.current,Ve]},[]),he=s.useCallback(Ve=>{je.current=je.current.filter(Fe=>Fe!==Ve)},[]),De=s.useState(()=>c())[0];return s.createElement(p.Provider,{value:s.useMemo(()=>({nodesRef:je,addNode:vt,removeNode:he,events:De}),[je,vt,he,De])},ot)};function C(Xe){var ot;return(ot=Xe==null?void 0:Xe.ownerDocument)!=null?ot:document}function _(Xe){var ot;return(ot=C(Xe).defaultView)!=null?ot:window}function B(Xe){return Xe?Xe instanceof _(Xe).Element:!1}function P(Xe){return Xe?Xe instanceof _(Xe).HTMLElement:!1}function M(Xe){let{open:ot=!1,onOpenChange:je=()=>{},whileElementsMounted:vt,placement:he,middleware:De,strategy:Ve,nodeId:Fe}=Xe===void 0?{}:Xe;const Ye=y(),gt=s.useRef(null),Ot=s.useRef({}),xt=s.useState(()=>c())[0],mt=i.useFloating({placement:he,middleware:De,strategy:Ve,whileElementsMounted:vt}),St=s.useMemo(()=>({...mt.refs,domReference:gt}),[mt.refs]),Dt=s.useMemo(()=>({...mt,refs:St,dataRef:Ot,nodeId:Fe,events:xt,open:ot,onOpenChange:je}),[mt,Fe,xt,ot,je,St]);l(()=>{const Sr=Ye==null?void 0:Ye.nodesRef.current.find(ur=>ur.id===Fe);Sr&&(Sr.context=Dt)});const{reference:Jt}=mt,Gt=s.useCallback(Sr=>{(B(Sr)||Sr===null)&&(Dt.refs.domReference.current=Sr),Jt(Sr)},[Jt,Dt.refs]);return s.useMemo(()=>({...mt,context:Dt,refs:St,reference:Gt}),[mt,St,Dt,Gt])}function O(Xe,ot,je){const vt=new Map;return{...je==="floating"&&{tabIndex:-1},...Xe,...ot.map(he=>he?he[je]:null).concat(Xe).reduce((he,De)=>(De&&Object.entries(De).forEach(Ve=>{let[Fe,Ye]=Ve;if(Fe.indexOf("on")===0){if(vt.has(Fe)||vt.set(Fe,[]),typeof Ye=="function"){var gt;(gt=vt.get(Fe))==null||gt.push(Ye)}he[Fe]=function(){for(var Ot,xt=arguments.length,mt=new Array(xt),St=0;St<xt;St++)mt[St]=arguments[St];(Ot=vt.get(Fe))==null||Ot.forEach(Dt=>Dt(...mt))}}else he[Fe]=Ye}),he),{})}}const I=function(Xe){return Xe===void 0&&(Xe=[]),{getReferenceProps:ot=>O(ot,Xe,"reference"),getFloatingProps:ot=>O(ot,Xe,"floating"),getItemProps:ot=>O(ot,Xe,"item")}};function F(Xe,ot){var je;let vt=(je=Xe.filter(Ve=>{var Fe;return Ve.parentId===ot&&((Fe=Ve.context)==null?void 0:Fe.open)}))!=null?je:[],he=vt;for(;he.length;){var De;he=(De=Xe.filter(Ve=>{var Fe;return(Fe=he)==null?void 0:Fe.some(Ye=>{var gt;return Ve.parentId===Ye.id&&((gt=Ve.context)==null?void 0:gt.open)})}))!=null?De:[],vt=vt.concat(he)}return vt}function V(Xe,ot){const[je,vt]=Xe;let he=!1;const De=ot.length;for(let Ve=0,Fe=De-1;Ve<De;Fe=Ve++){const[Ye,gt]=ot[Ve]||[0,0],[Ot,xt]=ot[Fe]||[0,0];gt>=vt!=xt>=vt&&je<=(Ot-Ye)*(vt-gt)/(xt-gt)+Ye&&(he=!he)}return he}function Y(Xe){let{restMs:ot=0,buffer:je=.5,debug:vt=null}=Xe===void 0?{}:Xe,he,De=!1;return Ve=>{let{x:Fe,y:Ye,placement:gt,refs:Ot,onClose:xt,nodeId:mt,tree:St,leave:Dt=!1}=Ve;return function(Gt){var Sr,ur;clearTimeout(he);function Pr(){clearTimeout(he),xt()}if(Gt.pointerType&&Gt.pointerType!=="mouse")return;const{clientX:Zt,clientY:zt}=Gt,Kt="composedPath"in Gt?Gt.composedPath()[0]:Gt.target;if(Gt.type==="pointermove"&&(Sr=Ot.domReference.current)!=null&&Sr.contains(Kt)||St&&F(St.nodesRef.current,mt).some(we=>{let{context:ze}=we;return ze==null?void 0:ze.open}))return;if((ur=Ot.floating.current)!=null&&ur.contains(Kt)&&!Dt){De=!0;return}if(!Ot.domReference.current||!Ot.floating.current||gt==null||Fe==null||Ye==null)return;const er=Ot.domReference.current.getBoundingClientRect(),Qt=Ot.floating.current.getBoundingClientRect(),Yr=gt.split("-")[0],oi=Fe>Qt.right-Qt.width/2,ne=Ye>Qt.bottom-Qt.height/2;if(Yr==="top"&&Ye>=er.bottom-1||Yr==="bottom"&&Ye<=er.top+1||Yr==="left"&&Fe>=er.right-1||Yr==="right"&&Fe<=er.left+1)return Pr();switch(Yr){case"top":if(Zt>=Qt.left&&Zt<=Qt.right&&zt>=Qt.top&&zt<=er.top+1)return;break;case"bottom":if(Zt>=Qt.left&&Zt<=Qt.right&&zt>=er.bottom-1&&zt<=Qt.bottom)return;break;case"left":if(Zt>=Qt.left&&Zt<=er.left+1&&zt>=Qt.top&&zt<=Qt.bottom)return;break;case"right":if(Zt>=er.right-1&&Zt<=Qt.right&&zt>=Qt.top&&zt<=Qt.bottom)return;break}if(De)return Pr();function pe(we){let[ze,dt]=we;const Er=Qt.width>er.width,tr=Qt.height>er.height;switch(Yr){case"top":{const ti=[Er?ze+je/2:oi?ze+je*4:ze-je*4,dt+je+1],Wr=[Er?ze-je/2:oi?ze+je*4:ze-je*4,dt+je+1],mi=[[Qt.left,oi||Er?Qt.bottom-je:Qt.top],[Qt.right,oi?Er?Qt.bottom-je:Qt.top:Qt.bottom-je]];return[ti,Wr,...mi]}case"bottom":{const ti=[Er?ze+je/2:oi?ze+je*4:ze-je*4,dt-je],Wr=[Er?ze-je/2:oi?ze+je*4:ze-je*4,dt-je],mi=[[Qt.left,oi||Er?Qt.top+je:Qt.bottom],[Qt.right,oi?Er?Qt.top+je:Qt.bottom:Qt.top+je]];return[ti,Wr,...mi]}case"left":{const ti=[ze+je+1,tr?dt+je/2:ne?dt+je*4:dt-je*4],Wr=[ze+je+1,tr?dt-je/2:ne?dt+je*4:dt-je*4];return[...[[ne||tr?Qt.right-je:Qt.left,Qt.top],[ne?tr?Qt.right-je:Qt.left:Qt.right-je,Qt.bottom]],ti,Wr]}case"right":{const ti=[ze-je,tr?dt+je/2:ne?dt+je*4:dt-je*4],Wr=[ze-je,tr?dt-je/2:ne?dt+je*4:dt-je*4],mi=[[ne||tr?Qt.left+je:Qt.right,Qt.top],[ne?tr?Qt.left+je:Qt.right:Qt.left+je,Qt.bottom]];return[ti,Wr,...mi]}}}const Ue=pe([Fe,Ye]);V([Zt,zt],Ue)?ot&&(he=setTimeout(xt,ot)):Pr()}}}const j="floating-ui-root",R=function(Xe){let{id:ot=j,enabled:je=!0}=Xe===void 0?{}:Xe;const[vt,he]=s.useState(null);return l(()=>{if(!je)return;const De=document.getElementById(ot);if(De)he(De);else{const Ve=document.createElement("div");Ve.id=ot,he(Ve),document.body.contains(Ve)||document.body.appendChild(Ve)}},[ot,je]),vt},H=Xe=>{let{children:ot,id:je=j,root:vt=null}=Xe;const he=R({id:je,enabled:!vt});return vt?a.createPortal(ot,vt):he?a.createPortal(ot,he):null};function G(){return G=Object.assign||function(Xe){for(var ot=1;ot<arguments.length;ot++){var je=arguments[ot];for(var vt in je)Object.prototype.hasOwnProperty.call(je,vt)&&(Xe[vt]=je[vt])}return Xe},G.apply(this,arguments)}function $(){const Xe=navigator.userAgentData;return Xe!=null&&Xe.platform?Xe.platform:navigator.platform}function L(){const Xe=navigator.userAgentData;return Xe!=null&&Xe.brands?Xe.brands.map(ot=>{let{brand:je,version:vt}=ot;return je+"/"+vt}).join(" "):navigator.userAgent}const K="data-floating-ui-scroll-lock",X=s.forwardRef(function(ot,je){let{lockScroll:vt=!1,...he}=ot;return l(()=>{var De,Ve,Fe,Ye;if(!vt||document.body.hasAttribute(K))return;document.body.setAttribute(K,"");const xt=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",mt=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test($()))return Object.assign(document.body.style,{overflow:"hidden",[xt]:mt+"px"}),()=>{document.body.removeAttribute(K),Object.assign(document.body.style,{overflow:"",[xt]:""})};const St=(De=(Ve=window.visualViewport)==null?void 0:Ve.offsetLeft)!=null?De:0,Dt=(Fe=(Ye=window.visualViewport)==null?void 0:Ye.offsetTop)!=null?Fe:0,Jt=window.pageXOffset,Gt=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(Gt-Math.floor(Dt))+"px",left:-(Jt-Math.floor(St))+"px",right:"0",[xt]:mt+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[xt]:""}),document.body.removeAttribute(K),window.scrollTo(Jt,Gt)}},[vt]),s.createElement("div",G({ref:je},he,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...he.style}}))});var ee=function(Xe){if(typeof document>"u")return null;var ot=Array.isArray(Xe)?Xe[0]:Xe;return ot.ownerDocument.body},W=new WeakMap,te=new WeakMap,oe={},le=0,be=function(Xe,ot,je){ot===void 0&&(ot=ee(Xe)),je===void 0&&(je="data-aria-hidden");var vt=Array.isArray(Xe)?Xe:[Xe];oe[je]||(oe[je]=new WeakMap);var he=oe[je],De=[],Ve=new Set,Fe=function(gt){!gt||Ve.has(gt)||(Ve.add(gt),Fe(gt.parentNode))};vt.forEach(Fe);var Ye=function(gt){!gt||vt.indexOf(gt)>=0||Array.prototype.forEach.call(gt.children,function(Ot){if(Ve.has(Ot))Ye(Ot);else{var xt=Ot.getAttribute("aria-hidden"),mt=xt!==null&&xt!=="false",St=(W.get(Ot)||0)+1,Dt=(he.get(Ot)||0)+1;W.set(Ot,St),he.set(Ot,Dt),De.push(Ot),St===1&&mt&&te.set(Ot,!0),Dt===1&&Ot.setAttribute(je,"true"),mt||Ot.setAttribute("aria-hidden","true")}})};return Ye(ot),Ve.clear(),le++,function(){De.forEach(function(gt){var Ot=W.get(gt)-1,xt=he.get(gt)-1;W.set(gt,Ot),he.set(gt,xt),Ot||(te.has(gt)||gt.removeAttribute("aria-hidden"),te.delete(gt)),xt||gt.removeAttribute(je)}),le--,le||(W=new WeakMap,W=new WeakMap,te=new WeakMap,oe={})}};function ve(Xe){let ot=Xe.activeElement;for(;((je=ot)==null||(vt=je.shadowRoot)==null?void 0:vt.activeElement)!=null;){var je,vt;ot=ot.shadowRoot.activeElement}return ot}function se(Xe,ot){var je;let vt=[],he=(je=Xe.find(De=>De.id===ot))==null?void 0:je.parentId;for(;he;){const De=Xe.find(Ve=>Ve.id===he);he=De==null?void 0:De.parentId,De&&(vt=vt.concat(De))}return vt}const ye="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Be(Xe){return P(Xe)&&Xe.matches(ye)}function ge(Xe){Xe.preventDefault(),Xe.stopPropagation()}function ae(Xe){const ot=n.useRef(Xe);return l(()=>{ot.current=Xe}),ot}function Ne(Xe,ot){ot===void 0&&(ot=!1),requestAnimationFrame(()=>{Xe==null||Xe.focus({preventScroll:ot})})}const Ie="select:not([disabled]),a[href],button:not([disabled]),[tabindex],iframe,object,embed,area[href],audio[controls],video[controls],"+ye,Ee=s.forwardRef(function(ot,je){return s.createElement("span",G({},ot,{ref:je,tabIndex:0,style:{position:"fixed",opacity:"0",pointerEvents:"none",outline:"0"}}))});function Qe(Xe){var ot;let{context:{refs:je,nodeId:vt,onOpenChange:he,dataRef:De,events:Ve},children:Fe,order:Ye=["content"],endGuard:gt=!0,preventTabbing:Ot=!1,initialFocus:xt=0,returnFocus:mt=!0,modal:St=!0}=Xe;const Dt=ae(Ye),Jt=ae(he),Gt=y(),Sr=(Gt==null||(ot=Gt.nodesRef.current.find(Zt=>Zt.id===vt))==null?void 0:ot.parentId)==null,ur=s.useCallback(()=>Dt.current.map(Zt=>{if(Zt==="reference")return je.domReference.current;if(je.floating.current&&Zt==="floating")return je.floating.current;if(Zt==="content"){var zt,Tr;return Array.from((zt=(Tr=je.floating.current)==null?void 0:Tr.querySelectorAll(Ie))!=null?zt:[])}return null}).flat().filter(Zt=>{if(Zt===je.floating.current||Zt===je.domReference.current)return!0;if(P(Zt)){var zt;return((zt=Zt.getAttribute("tabindex"))!=null?zt:"0")[0].trim()!=="-"}}),[Dt,je]);s.useEffect(()=>{if(!St)return;const Zt=ur().filter(Kt=>Kt!==je.floating.current&&Kt!==je.domReference.current).length===0;function zt(Kt){if(Kt.key==="Tab"){(Ot||Zt)&&ge(Kt);const er=ur(),Qt="composedPath"in Kt?Kt.composedPath()[0]:Kt.target;Dt.current[0]==="reference"&&Qt===je.domReference.current&&(ge(Kt),Kt.shiftKey?Ne(er[er.length-1]):Ne(er[1])),Dt.current[1]==="floating"&&Qt===je.floating.current&&Kt.shiftKey&&(ge(Kt),Ne(er[0]))}}const Tr=C(je.floating.current);return Tr.addEventListener("keydown",zt),()=>{Tr.removeEventListener("keydown",zt)}},[Ot,St,ur,Dt,je]),s.useEffect(()=>{function Zt(Kt){var er,Qt;const Yr=Kt.relatedTarget,oi=!((er=je.floating.current)!=null&&er.contains(Yr)),ne=B(je.domReference.current)&&!je.domReference.current.contains(Yr),pe=Gt&&F(Gt.nodesRef.current,vt).length>0,Ue=Gt&&Kt.currentTarget===je.domReference.current&&((Qt=se(Gt.nodesRef.current,vt))==null?void 0:Qt.some(we=>{var ze,dt;return(ze=we.context)==null||(dt=ze.refs.floating.current)==null?void 0:dt.contains(Yr)}));oi&&ne&&!pe&&!Ue&&Jt.current(!1)}const zt=je.floating.current,Tr=je.domReference.current;if(zt&&P(Tr)){!St&&zt.addEventListener("focusout",Zt),!St&&Tr.addEventListener("focusout",Zt);let Kt;return St&&(Dt.current.includes("reference")?Kt=be([Tr,zt]):Kt=be(zt)),()=>{!St&&zt.removeEventListener("focusout",Zt),!St&&Tr.removeEventListener("focusout",Zt),Kt==null||Kt()}}},[vt,Gt,St,Jt,Dt,De,ur,je]),s.useEffect(()=>{if(Ot&&!Sr)return;const Zt=je.floating.current,zt=C(Zt);let Tr=mt,Kt=!1,er=ve(zt);if(er===zt.body&&je.domReference.current&&(er=je.domReference.current),!Ot){if(typeof xt=="number"){var Qt;Ne((Qt=ur()[xt])!=null?Qt:Zt)}else if(P(xt==null?void 0:xt.current)){var Yr;Ne((Yr=xt.current)!=null?Yr:Zt)}}function oi(ne){ne===void 0&&(ne=!1),typeof ne=="object"?(Tr=!0,Kt=ne.preventScroll):Tr=ne}return Ve.on("dismiss",oi),()=>{Ve.off("dismiss",oi),Tr&&P(er)&&Ne(er,Kt)}},[Ot,ur,xt,mt,je,Ve,Sr]);const Pr=()=>{var Zt;return((Zt=je.domReference.current)==null?void 0:Zt.getAttribute("role"))==="combobox"&&Be(je.domReference.current)};return s.createElement(s.Fragment,null,St&&s.createElement(Ee,{onFocus:Zt=>{if(Pr())return;ge(Zt);const zt=ur();Ye[0]==="reference"?Ne(zt[0]):Ne(zt[zt.length-1])}}),s.cloneElement(Fe,Ye.includes("floating")?{tabIndex:0}:{}),St&&gt&&s.createElement(Ee,{onFocus:Zt=>{Pr()||(ge(Zt),Ne(ur()[0]))}}))}function We(Xe){const ot=n.useRef();return l(()=>{ot.current=Xe},[Xe]),ot.current}function de(Xe,ot,je){return je&&je!=="mouse"?0:typeof Xe=="number"?Xe:Xe==null?void 0:Xe[ot]}const re=function(Xe,ot){let{enabled:je=!0,delay:vt=0,handleClose:he=null,mouseOnly:De=!1,restMs:Ve=0}=ot===void 0?{}:ot;const{open:Fe,onOpenChange:Ye,dataRef:gt,events:Ot,refs:xt}=Xe,mt=y(),St=v(),Dt=ae(Ye),Jt=ae(he),Gt=We(Fe),Sr=s.useRef(),ur=s.useRef(),Pr=s.useRef(),Zt=s.useRef(),zt=s.useRef(!0),Tr=s.useRef(!1),Kt=s.useCallback(()=>{var ne;const pe=(ne=gt.current.openEvent)==null?void 0:ne.type;return(pe==null?void 0:pe.includes("mouse"))&&pe!=="mousedown"},[gt]);s.useEffect(()=>{if(!je)return;function ne(){clearTimeout(ur.current),clearTimeout(Zt.current),zt.current=!0}return Ot.on("dismiss",ne),()=>{Ot.off("dismiss",ne)}},[je,Ot,xt]),s.useEffect(()=>{if(!je||!Jt.current)return;function ne(){Kt()&&Dt.current(!1)}const pe=C(xt.floating.current).documentElement;return pe.addEventListener("mouseleave",ne),()=>{pe.removeEventListener("mouseleave",ne)}},[xt,Dt,je,Jt,gt,Kt]);const er=s.useCallback(function(ne){ne===void 0&&(ne=!0);const pe=de(vt,"close",Sr.current);pe&&!Pr.current?(clearTimeout(ur.current),ur.current=setTimeout(()=>Dt.current(!1),pe)):ne&&(clearTimeout(ur.current),Dt.current(!1))},[vt,Dt]),Qt=s.useCallback(()=>{Pr.current&&(C(xt.floating.current).removeEventListener("pointermove",Pr.current),Pr.current=void 0)},[xt]),Yr=s.useCallback(()=>{C(xt.floating.current).body.style.pointerEvents="",Tr.current=!1},[xt]);if(s.useEffect(()=>{if(!je)return;function ne(){return gt.current.openEvent?["click","mousedown"].includes(gt.current.openEvent.type):!1}function pe(Er){if(clearTimeout(ur.current),zt.current=!1,Fe||De&&Sr.current!=="mouse"||Ve>0&&de(vt,"open")===0)return;gt.current.openEvent=Er;const tr=de(vt,"open",Sr.current);tr?ur.current=setTimeout(()=>{Dt.current(!0)},tr):Dt.current(!0)}function Ue(Er){if(ne())return;const tr=C(xt.floating.current);if(clearTimeout(Zt.current),Jt.current){clearTimeout(ur.current),Pr.current&&tr.removeEventListener("pointermove",Pr.current),Pr.current=Jt.current({...Xe,tree:mt,x:Er.clientX,y:Er.clientY,onClose(){Yr(),Qt(),er()}}),tr.addEventListener("pointermove",Pr.current);return}er()}function we(Er){ne()||Jt.current==null||Jt.current({...Xe,tree:mt,x:Er.clientX,y:Er.clientY,leave:!0,onClose(){Yr(),Qt(),er()}})(Er)}const ze=xt.floating.current,dt=xt.domReference.current;if(B(dt))return Fe&&dt.addEventListener("mouseleave",we),ze==null||ze.addEventListener("mouseleave",we),dt.addEventListener("mousemove",pe,{once:!0}),dt.addEventListener("mouseenter",pe),dt.addEventListener("mouseleave",Ue),()=>{Fe&&dt.removeEventListener("mouseleave",we),ze==null||ze.removeEventListener("mouseleave",we),dt.removeEventListener("mousemove",pe),dt.removeEventListener("mouseenter",pe),dt.removeEventListener("mouseleave",Ue)}},[je,er,Xe,vt,Jt,gt,De,Dt,Fe,mt,Ve,Qt,Yr,xt]),l(()=>{if(je&&Fe&&Jt.current&&Kt()){C(xt.floating.current).body.style.pointerEvents="none",Tr.current=!0;const Ue=xt.domReference.current,we=xt.floating.current;if(B(Ue)&&we){var ne,pe;const ze=mt==null||(ne=mt.nodesRef.current.find(dt=>dt.id===St))==null||(pe=ne.context)==null?void 0:pe.refs.floating.current;return ze&&(ze.style.pointerEvents=""),Ue.style.pointerEvents="auto",we.style.pointerEvents="auto",()=>{Ue.style.pointerEvents="",we.style.pointerEvents=""}}}},[je,Fe,St,xt,mt,Jt,gt,Kt]),l(()=>{Gt&&!Fe&&(Sr.current=void 0,Qt(),Yr())}),s.useEffect(()=>()=>{Qt(),clearTimeout(ur.current),clearTimeout(Zt.current),Tr.current&&Yr()},[je,Qt,Yr]),!je)return{};function oi(ne){Sr.current=ne.pointerType}return{reference:{onPointerDown:oi,onPointerEnter:oi,onMouseMove(){Fe||Ve===0||(clearTimeout(Zt.current),Zt.current=setTimeout(()=>{zt.current||Ye(!0)},Ve))}},floating:{onMouseEnter(){clearTimeout(ur.current)},onMouseLeave(){er(!1)}}}},Re=s.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),Ke=()=>s.useContext(Re),ie=Xe=>{let{children:ot,delay:je}=Xe;const[vt,he]=s.useState({delay:je,initialDelay:je,currentId:null}),De=s.useCallback(Ve=>{he(Fe=>({...Fe,currentId:Ve}))},[]);return s.createElement(Re.Provider,{value:s.useMemo(()=>({...vt,setState:he,setCurrentId:De}),[vt,he,De])},ot)},st=(Xe,ot)=>{let{open:je,onOpenChange:vt}=Xe,{id:he}=ot;const{currentId:De,initialDelay:Ve,setState:Fe}=Ke(),Ye=ae(vt);s.useEffect(()=>{De&&Ye.current&&(Fe(gt=>({...gt,delay:{open:1,close:de(Ve,"close")}})),De!==he&&Ye.current(!1))},[he,Ye,Fe,De,Ve]),s.useEffect(()=>{!je&&De===he&&Ye.current&&(Ye.current(!1),Fe(gt=>({...gt,delay:Ve,currentId:null})))},[je,Fe,De,he,Ye,Ve])};function wt(Xe,ot){return{...Xe,rects:{...Xe.rects,floating:{...Xe.rects.floating,height:Xe.elements.floating[ot]}}}}const ut=Xe=>({name:"inner",options:Xe,async fn(ot){const{listRef:je,overflowRef:vt,onFallbackChange:he,offset:De=0,index:Ve=0,minItemsVisible:Fe=4,referenceOverflowThreshold:Ye=0,...gt}=Xe,{rects:Ot,elements:{floating:xt}}=ot,mt=je.current[Ve];if(!mt)return{};const St={...ot,...await i.offset(-mt.offsetTop-Ot.reference.height/2-mt.offsetHeight/2-De).fn(ot)},Dt=await i.detectOverflow(wt(St,"scrollHeight"),gt),Jt=await i.detectOverflow(St,{...gt,elementContext:"reference"}),Gt=Math.max(0,Dt.top),Sr=St.y+Gt,ur=Math.max(0,xt.scrollHeight-Gt-Math.max(0,Dt.bottom));return xt.style.maxHeight=ur+"px",xt.scrollTop=Gt,he&&(xt.offsetHeight<mt.offsetHeight*Math.min(Fe,je.current.length-1)-1||Jt.top>=-Ye||Jt.bottom>=-Ye?a.flushSync(()=>he(!0)):a.flushSync(()=>he(!1))),vt&&(vt.current=await i.detectOverflow(wt({...St,y:Sr},"offsetHeight"),gt)),{y:Sr}}}),Ze=(Xe,ot)=>{let{open:je,refs:vt}=Xe,{enabled:he=!0,overflowRef:De,onChange:Ve}=ot;const Fe=ae(Ve),Ye=s.useRef(!1),gt=s.useRef(null),Ot=s.useRef(null);return s.useEffect(()=>{if(!he)return;function xt(St){if(St.ctrlKey||!mt||De.current==null)return;const Dt=St.deltaY,Jt=De.current.top>=-.5,Gt=De.current.bottom>=-.5,Sr=mt.scrollHeight-mt.clientHeight,ur=Dt<0?-1:1,Pr=Dt<0?"max":"min";mt.scrollHeight<=mt.clientHeight||(!Jt&&Dt>0||!Gt&&Dt<0?(St.preventDefault(),a.flushSync(()=>{Fe.current(Zt=>Zt+Math[Pr](Dt,Sr*ur))})):/firefox/i.test(L())&&(mt.scrollTop+=Dt))}const mt=vt.floating.current;if(je&&mt)return mt.addEventListener("wheel",xt),requestAnimationFrame(()=>{gt.current=mt.scrollTop,De.current!=null&&(Ot.current={...De.current})}),()=>{gt.current=null,Ot.current=null,mt.removeEventListener("wheel",xt)}},[he,je,vt,De,Fe]),he?{floating:{onKeyDown(){Ye.current=!0},onWheel(){Ye.current=!1},onPointerMove(){Ye.current=!1},onScroll(){const xt=vt.floating.current;if(!(!De.current||!xt||!Ye.current)){if(gt.current!==null){const mt=xt.scrollTop-gt.current;(De.current.bottom<-.5&&mt<-1||De.current.top<-.5&&mt>1)&&a.flushSync(()=>Ve(St=>St+mt))}requestAnimationFrame(()=>{gt.current=xt.scrollTop})}}}}:{}},ht=function(Xe,ot){let{open:je}=Xe,{enabled:vt=!0,role:he="dialog"}=ot===void 0?{}:ot;const De=A(),Ve=A(),Fe={id:De,role:he};return vt?he==="tooltip"?{reference:{"aria-describedby":je?De:void 0},floating:Fe}:{reference:{"aria-expanded":je?"true":"false","aria-haspopup":he,"aria-controls":je?De:void 0,...he==="listbox"&&{role:"combobox"},...he==="menu"&&{id:Ve}},floating:{...Fe,...he==="menu"&&{"aria-labelledby":Ve}}}:{}},Mt=function(Xe,ot){let{open:je,onOpenChange:vt,dataRef:he,refs:De}=Xe,{enabled:Ve=!0,pointerDown:Fe=!1,toggle:Ye=!0,ignoreMouse:gt=!1}=ot===void 0?{}:ot;const Ot=s.useRef();function xt(){var St;return((St=De.domReference.current)==null?void 0:St.tagName)==="BUTTON"}function mt(){return Be(De.domReference.current)}return Ve?{reference:{onPointerDown(St){Ot.current=St.pointerType},onMouseDown(St){St.button===0&&(Ot.current==="mouse"&&gt||Fe&&(je?Ye&&(!he.current.openEvent||he.current.openEvent.type==="mousedown")&&vt(!1):vt(!0),he.current.openEvent=St.nativeEvent))},onClick(St){if(Fe&&Ot.current){Ot.current=void 0;return}Ot.current==="mouse"&&gt||(je?Ye&&(!he.current.openEvent||he.current.openEvent.type==="click")&&vt(!1):vt(!0),he.current.openEvent=St.nativeEvent)},onKeyDown(St){Ot.current=void 0,!xt()&&(St.key===" "&&!mt()&&St.preventDefault(),St.key==="Enter"&&(je?Ye&&vt(!1):vt(!0)))},onKeyUp(St){xt()||mt()||St.key===" "&&(je?Ye&&vt(!1):vt(!0))}}}:{}};function Pt(Xe,ot){if(ot==null)return!1;if("composedPath"in Xe)return Xe.composedPath().includes(ot);const je=Xe;return je.target!=null&&ot.contains(je.target)}const Yt=function(Xe,ot){let{open:je,onOpenChange:vt,refs:he,events:De,nodeId:Ve}=Xe,{enabled:Fe=!0,escapeKey:Ye=!0,outsidePointerDown:gt=!0,referencePointerDown:Ot=!1,ancestorScroll:xt=!1,bubbles:mt=!0}=ot===void 0?{}:ot;const St=y(),Dt=ae(vt),Jt=v()!=null;return s.useEffect(()=>{if(!je||!Fe)return;function Gt(zt){if(zt.key==="Escape"){if(!mt&&St&&F(St.nodesRef.current,Ve).length>0)return;De.emit("dismiss",{preventScroll:!1}),Dt.current(!1)}}function Sr(zt){const Tr=St&&F(St.nodesRef.current,Ve).some(Kt=>{var er;return Pt(zt,(er=Kt.context)==null?void 0:er.refs.floating.current)});Pt(zt,he.floating.current)||Pt(zt,he.domReference.current)||Tr||!mt&&St&&F(St.nodesRef.current,Ve).length>0||(De.emit("dismiss",Jt?{preventScroll:!0}:!1),Dt.current(!1))}function ur(){Dt.current(!1)}const Pr=C(he.floating.current);Ye&&Pr.addEventListener("keydown",Gt),gt&&Pr.addEventListener("pointerdown",Sr);const Zt=(xt?[...B(he.reference.current)?i.getOverflowAncestors(he.reference.current):[],...B(he.floating.current)?i.getOverflowAncestors(he.floating.current):[]]:[]).filter(zt=>{var Tr;return zt!==((Tr=Pr.defaultView)==null?void 0:Tr.visualViewport)});return Zt.forEach(zt=>zt.addEventListener("scroll",ur,{passive:!0})),()=>{Ye&&Pr.removeEventListener("keydown",Gt),gt&&Pr.removeEventListener("pointerdown",Sr),Zt.forEach(zt=>zt.removeEventListener("scroll",ur))}},[Ye,gt,De,St,Ve,je,Dt,xt,Fe,mt,he,Jt]),Fe?{reference:{onPointerDown(){Ot&&(De.emit("dismiss"),vt(!1))}}}:{}},Tt=function(Xe,ot){let{open:je,onOpenChange:vt,dataRef:he,refs:De,events:Ve}=Xe,{enabled:Fe=!0,keyboardOnly:Ye=!0}=ot===void 0?{}:ot;const gt=s.useRef(""),Ot=s.useRef(!1);return s.useEffect(()=>{var xt;if(!Fe)return;const mt=C(De.floating.current),St=(xt=mt.defaultView)!=null?xt:window;function Dt(){gt.current&&De.domReference.current===ve(mt)&&(Ot.current=!je)}function Jt(){setTimeout(()=>{Ot.current=!1,gt.current=""})}return St.addEventListener("focus",Jt),St.addEventListener("blur",Dt),()=>{St.removeEventListener("focus",Jt),St.removeEventListener("blur",Dt)}},[De,je,Fe]),s.useEffect(()=>{if(!Fe)return;function xt(){Ot.current=!0}return Ve.on("dismiss",xt),()=>{Ve.off("dismiss",xt)}},[Ve,Fe]),Fe?{reference:{onPointerDown(xt){let{pointerType:mt}=xt;gt.current=mt,Ot.current=!!(mt&&Ye)},onFocus(xt){var mt,St,Dt;Ot.current||xt.type==="focus"&&((mt=he.current.openEvent)==null?void 0:mt.type)==="mousedown"&&(St=De.domReference.current)!=null&&St.contains((Dt=he.current.openEvent)==null?void 0:Dt.target)||(he.current.openEvent=xt.nativeEvent,vt(!0))},onBlur(xt){var mt,St;const Dt=xt.relatedTarget;(mt=De.floating.current)!=null&&mt.contains(Dt)||(St=De.domReference.current)!=null&&St.contains(Dt)||(Ot.current=!1,vt(!1))}}}:{}},Vt="ArrowUp",Or="ArrowDown",lr="ArrowLeft",Ge="ArrowRight";function At(Xe,ot){return ot<0||ot>=Xe.current.length}function yt(Xe,ot){let{startingIndex:je=-1,decrement:vt=!1,disabledIndices:he}=ot===void 0?{}:ot;const De=Xe.current;let Ve=je;do{var Fe,Ye;Ve=Ve+(vt?-1:1)}while(Ve>=0&&Ve<=De.length-1&&(he?he.includes(Ve):De[Ve]==null||(Fe=De[Ve])!=null&&Fe.hasAttribute("disabled")||((Ye=De[Ve])==null?void 0:Ye.getAttribute("aria-disabled"))==="true"));return Ve}function Wt(Xe,ot,je){switch(Xe){case"vertical":return ot;case"horizontal":return je;default:return ot||je}}function rr(Xe,ot){return Wt(ot,Xe===Vt||Xe===Or,Xe===lr||Xe===Ge)}function qt(Xe,ot,je){return Wt(ot,Xe===Or,je?Xe===lr:Xe===Ge)||Xe==="Enter"||Xe==" "||Xe===""}function Cr(Xe,ot,je){return Wt(ot,je?Xe===lr:Xe===Ge,Xe===Or)}function Ui(Xe,ot,je){return Wt(ot,je?Xe===Ge:Xe===lr,Xe===Vt)}function ci(Xe,ot){return yt(Xe,{disabledIndices:ot})}function ii(Xe,ot){return yt(Xe,{decrement:!0,startingIndex:Xe.current.length,disabledIndices:ot})}const en=function(Xe,ot){let{open:je,onOpenChange:vt,refs:he}=Xe,{listRef:De,activeIndex:Ve,onNavigate:Fe,enabled:Ye=!0,selectedIndex:gt=null,allowEscape:Ot=!1,loop:xt=!1,nested:mt=!1,rtl:St=!1,virtual:Dt=!1,focusItemOnOpen:Jt="auto",focusItemOnHover:Gt=!0,openOnArrowKeyDown:Sr=!0,disabledIndices:ur=Sr?void 0:[],orientation:Pr="vertical"}=ot===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:ot;const Zt=v(),zt=y(),Tr=We(je),Kt=s.useRef(Jt),er=s.useRef(gt??-1),Qt=s.useRef(null),Yr=ae(We(Fe)),oi=ae(Fe),ne=ae(ur),pe=s.useRef(!1),Ue=s.useRef(-1),[we,ze]=s.useState(),dt=s.useCallback((tr,ti)=>{Ue.current=requestAnimationFrame(()=>{if(Dt){var Wr;ze((Wr=tr.current[ti.current])==null?void 0:Wr.id)}else{var mi;(mi=tr.current[ti.current])==null||mi.focus({preventScroll:!0})}})},[Dt]);l(()=>{Ye&&(!Tr&&je&&Kt.current&&gt!=null&&oi.current(gt),Tr&&!je&&(cancelAnimationFrame(Ue.current),er.current=-1,Yr.current==null||Yr.current(null)))},[je,Tr,gt,De,oi,Yr,dt,Ye]),l(()=>{if(Ye&&je)if(Ve==null){if(gt!=null)return;Tr&&(er.current=-1,dt(De,er)),!Tr&&Kt.current&&(Qt.current!=null||Kt.current===!0&&Qt.current==null)&&(er.current=Qt.current==null||qt(Qt.current,Pr,St)||mt?ci(De,ne.current):ii(De,ne.current),oi.current(er.current),dt(De,er))}else At(De,Ve)||(er.current=Ve,dt(De,er))},[je,Tr,Ve,gt,mt,De,oi,dt,Ye,Ot,Pr,St,Dt,ne]),l(()=>{if(Ye&&!je&&Tr){var tr,ti;const Wr=zt==null||(tr=zt.nodesRef.current.find(mi=>mi.id===Zt))==null||(ti=tr.context)==null?void 0:ti.refs.floating.current;Wr&&!Wr.contains(ve(C(Wr)))&&Wr.focus({preventScroll:!0})}},[Ye,je,Tr,zt,Zt]),l(()=>{Qt.current=null});function Er(tr){if(pe.current=!0,mt&&Ui(tr.key,Pr,St)){ge(tr),vt(!1),P(he.domReference.current)&&he.domReference.current.focus();return}const ti=er.current,Wr=ci(De,ur),mi=ii(De,ur);if(tr.key==="Home"&&(er.current=Wr,Fe(er.current)),tr.key==="End"&&(er.current=mi,Fe(er.current)),rr(tr.key,Pr)){if(ge(tr),je&&!Dt&&ve(tr.currentTarget.ownerDocument)===tr.currentTarget){er.current=qt(tr.key,Pr,St)?Wr:mi,Fe(er.current);return}qt(tr.key,Pr,St)?xt?er.current=ti>=mi?Ot&&ti!==De.current.length?-1:Wr:yt(De,{startingIndex:ti,disabledIndices:ur}):er.current=Math.min(mi,yt(De,{startingIndex:ti,disabledIndices:ur})):xt?er.current=ti<=Wr?Ot&&ti!==-1?De.current.length:mi:yt(De,{startingIndex:ti,decrement:!0,disabledIndices:ur}):er.current=Math.max(Wr,yt(De,{startingIndex:ti,decrement:!0,disabledIndices:ur})),At(De,er.current)?Fe(null):Fe(er.current)}}return Ye?{reference:{...Dt&&je&&Ve!=null&&{"aria-activedescendant":we},onKeyDown(tr){if(pe.current=!0,Dt&&je)return Er(tr);if((tr.key.indexOf("Arrow")===0||tr.key==="Enter"||tr.key===" "||tr.key==="")&&(Qt.current=tr.key),mt){Cr(tr.key,Pr,St)&&(ge(tr),je?(er.current=ci(De,ur),Fe(er.current)):vt(!0));return}rr(tr.key,Pr)&&(gt!=null&&(er.current=gt),ge(tr),!je&&Sr?vt(!0):Er(tr),je&&Fe(er.current))}},floating:{"aria-orientation":Pr==="both"?void 0:Pr,...Dt&&Ve!=null&&{"aria-activedescendant":we},onKeyDown:Er,onPointerMove(){pe.current=!1}},item:{onFocus(tr){let{currentTarget:ti}=tr;const Wr=De.current.indexOf(ti);Wr!==-1&&Fe(Wr)},onClick:tr=>{let{currentTarget:ti}=tr;return ti.focus({preventScroll:!0})},...Gt&&{onMouseMove(tr){let{currentTarget:ti}=tr;const Wr=ti;if(Wr){const mi=De.current.indexOf(Wr);mi!==-1&&Fe(mi)}},onPointerLeave(){if(!pe.current&&(er.current=-1,dt(De,er),oi.current(null),!Dt)){var tr;(tr=he.floating.current)==null||tr.focus({preventScroll:!0})}}}}}:{}},dr=function(Xe,ot){var je;let{open:vt,dataRef:he}=Xe,{listRef:De,activeIndex:Ve,onMatch:Fe=()=>{},enabled:Ye=!0,findMatch:gt=null,resetMs:Ot=1e3,ignoreKeys:xt=[],selectedIndex:mt=null}=ot===void 0?{listRef:{current:[]},activeIndex:null}:ot;const St=s.useRef(),Dt=s.useRef(""),Jt=s.useRef((je=mt??Ve)!=null?je:-1),Gt=s.useRef(null);l(()=>{vt&&(clearTimeout(St.current),Gt.current=null,Dt.current="")},[vt]),l(()=>{if(vt&&Dt.current===""){var ur;Jt.current=(ur=mt??Ve)!=null?ur:-1}},[vt,mt,Ve]);function Sr(ur){if(!ur.currentTarget.contains(ve(C(ur.currentTarget))))return;Dt.current.length>0&&Dt.current[0]!==" "&&(he.current.typing=!0,ur.key===" "&&ge(ur));const Pr=De.current;if(Pr==null||["Home","End","Escape","Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight",...xt].includes(ur.key))return;Pr.every(Qt=>{var Yr,oi;return Qt?((Yr=Qt[0])==null?void 0:Yr.toLocaleLowerCase())!==((oi=Qt[1])==null?void 0:oi.toLocaleLowerCase()):!0})&&Dt.current===ur.key&&(Dt.current="",Jt.current=Gt.current),Dt.current+=ur.key,clearTimeout(St.current),St.current=setTimeout(()=>{Dt.current="",Jt.current=Gt.current,he.current.typing=!1},Ot);const zt=Jt.current,Tr=[...Pr.slice((zt??0)+1),...Pr.slice(0,(zt??0)+1)],Kt=gt?gt(Tr,Dt.current):Tr.find(Qt=>(Qt==null?void 0:Qt.toLocaleLowerCase().indexOf(Dt.current))===0),er=Kt?Pr.indexOf(Kt):-1;er!==-1&&(Fe(er),Gt.current=er)}return Ye?{reference:{onKeyDown:Sr},floating:{onKeyDown:Sr}}:{}};r.FloatingDelayGroup=ie,r.FloatingFocusManager=Qe,r.FloatingNode=x,r.FloatingOverlay=X,r.FloatingPortal=H,r.FloatingTree=w,r.inner=ut,r.safePolygon=Y,r.useClick=Mt,r.useDelayGroup=st,r.useDelayGroupContext=Ke,r.useDismiss=Yt,r.useFloating=M,r.useFloatingNodeId=b,r.useFloatingParentNodeId=v,r.useFloatingPortalNode=R,r.useFloatingTree=y,r.useFocus=Tt,r.useHover=re,r.useId=A,r.useInnerOffset=Ze,r.useInteractions=I,r.useListNavigation=en,r.useRole=ht,r.useTypeahead=dr,Object.keys(i).forEach(function(Xe){Xe!=="default"&&!r.hasOwnProperty(Xe)&&Object.defineProperty(r,Xe,{enumerable:!0,get:function(){return i[Xe]}})}),Object.defineProperty(r,"__esModule",{value:!0})})})(lL,lL.exports);var ug=lL.exports;function wve(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}const xve=Object.freeze(Object.defineProperty({__proto__:null,default:wve},Symbol.toStringTag,{value:"Module"})),b0=Gb(xve);var bre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(m,A){for(var g in A)Object.defineProperty(m,g,{enumerable:!0,get:A[g]})}t(e,{DialogHeader:function(){return h},default:function(){return f}});var r=c(Oe),i=c(Bi),n=Ri,a=c(Si),o=yi,s=Jb;function l(){return l=Object.assign||function(m){for(var A=1;A<arguments.length;A++){var g=arguments[A];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])}return m},l.apply(this,arguments)}function c(m){return m&&m.__esModule?m:{default:m}}function u(m,A){if(m==null)return{};var g=d(m,A),p,v;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);for(v=0;v<y.length;v++)p=y[v],!(A.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(m,p)&&(g[p]=m[p])}return g}function d(m,A){if(m==null)return{};var g={},p=Object.keys(m),v,y;for(y=0;y<p.length;y++)v=p[y],!(A.indexOf(v)>=0)&&(g[v]=m[v]);return g}var h=r.default.forwardRef(function(m,A){var g=m.className,p=m.children,v=u(m,["className","children"]),y=(0,o.useTheme)().dialogHeader,b=y.defaultProps,x=y.styles.base;g=g??b.className;var w=(0,n.twMerge)((0,i.default)((0,a.default)(x)),g);return r.default.createElement("div",l({},v,{ref:A,className:w}),p)});h.propTypes={className:s.propTypesClassName,children:s.propTypesChildren},h.displayName="MaterialTailwind.DialogHeader";var f=h})(bre);var wre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{DialogBody:function(){return f},default:function(){return m}});var r=u(Oe),i=u(Bi),n=Ri,a=u(Si),o=yi,s=Jb;function l(A,g,p){return g in A?Object.defineProperty(A,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):A[g]=p,A}function c(){return c=Object.assign||function(A){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(A[v]=p[v])}return A},c.apply(this,arguments)}function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.divider,v=A.className,y=A.children,b=d(A,["divider","className","children"]),x=(0,o.useTheme)().dialogBody,w=x.defaultProps,C=x.styles.base;v=v??w.className;var _=(0,n.twMerge)((0,i.default)((0,a.default)(C.initial),l({},(0,a.default)(C.divider),p)),v);return r.default.createElement("div",c({},b,{ref:g,className:_}),y)});f.propTypes={divider:s.propTypesDivider,className:s.propTypesClassName,children:s.propTypesChildren},f.displayName="MaterialTailwind.DialogBody";var m=f})(wre);var xre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(m,A){for(var g in A)Object.defineProperty(m,g,{enumerable:!0,get:A[g]})}t(e,{DialogFooter:function(){return h},default:function(){return f}});var r=c(Oe),i=c(Bi),n=Ri,a=c(Si),o=yi,s=Jb;function l(){return l=Object.assign||function(m){for(var A=1;A<arguments.length;A++){var g=arguments[A];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])}return m},l.apply(this,arguments)}function c(m){return m&&m.__esModule?m:{default:m}}function u(m,A){if(m==null)return{};var g=d(m,A),p,v;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);for(v=0;v<y.length;v++)p=y[v],!(A.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(m,p)&&(g[p]=m[p])}return g}function d(m,A){if(m==null)return{};var g={},p=Object.keys(m),v,y;for(y=0;y<p.length;y++)v=p[y],!(A.indexOf(v)>=0)&&(g[v]=m[v]);return g}var h=r.default.forwardRef(function(m,A){var g=m.className,p=m.children,v=u(m,["className","children"]),y=(0,o.useTheme)().dialogFooter,b=y.defaultProps,x=y.styles.base;g=g??b.className;var w=(0,n.twMerge)((0,i.default)((0,a.default)(x)),g);return r.default.createElement("div",l({},v,{ref:A,className:w}),p)});h.propTypes={className:s.propTypesClassName,children:s.propTypesChildren},h.displayName="MaterialTailwind.DialogFooter";var f=h})(xre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(M,O){for(var I in O)Object.defineProperty(M,I,{enumerable:!0,get:O[I]})}t(e,{Dialog:function(){return B},DialogHeader:function(){return m.DialogHeader},DialogBody:function(){return A.DialogBody},DialogFooter:function(){return g.DialogFooter},default:function(){return P}});var r=y(Oe),i=y(wi),n=ug,a=wc,o=y(b0),s=y(Bi),l=y(uu),c=Ri,u=y(ko),d=y(Si),h=yi,f=Jb,m=bre,A=wre,g=xre;function p(M,O,I){return O in M?Object.defineProperty(M,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[O]=I,M}function v(){return v=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(M[F]=I[F])}return M},v.apply(this,arguments)}function y(M){return M&&M.__esModule?M:{default:M}}function b(M){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{},F=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(I).filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable}))),F.forEach(function(V){p(M,V,I[V])})}return M}function x(M,O){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(M);O&&(F=F.filter(function(V){return Object.getOwnPropertyDescriptor(M,V).enumerable})),I.push.apply(I,F)}return I}function w(M,O){return O=O??{},Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(O)):x(Object(O)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(O,I))}),M}function C(M,O){if(M==null)return{};var I=_(M,O),F,V;if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(M);for(V=0;V<Y.length;V++)F=Y[V],!(O.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(M,F)&&(I[F]=M[F])}return I}function _(M,O){if(M==null)return{};var I={},F=Object.keys(M),V,Y;for(Y=0;Y<F.length;Y++)V=F[Y],!(O.indexOf(V)>=0)&&(I[V]=M[V]);return I}var B=r.default.forwardRef(function(M,O){var I=M.open,F=M.handler,V=M.size,Y=M.dismiss,j=M.animate,R=M.className,H=M.children,G=C(M,["open","handler","size","dismiss","animate","className","children"]),$=(0,h.useTheme)().dialog,L=$.defaultProps,K=$.valid,X=$.styles,ee=X.base,W=X.sizes;F=F??void 0,V=V??L.size,Y=Y??L.dismiss,j=j??L.animate,R=R??L.className;var te=(0,s.default)((0,d.default)(ee.backdrop)),oe=(0,c.twMerge)((0,s.default)((0,d.default)(ee.container),(0,d.default)(W[(0,u.default)(K.sizes,V,"md")])),R),le={unmount:{opacity:0,y:-50,transition:{duration:.3}},mount:{opacity:1,y:0,transition:{duration:.3}}},be={unmount:{opacity:0,transition:{delay:.2}},mount:{opacity:1}},ve=(0,l.default)(le,j),se=(0,n.useFloating)({open:I,onOpenChange:F}),ye=se.floating,Be=se.context,ge=(0,n.useId)(),ae="".concat(ge,"-label"),Ne="".concat(ge,"-description"),Ie=(0,n.useInteractions)([(0,n.useClick)(Be),(0,n.useRole)(Be),(0,n.useDismiss)(Be,Y)]).getFloatingProps,Ee=r.default.useMemo(function(){return(0,o.default)([O,ye])},[ye,O]),Qe=a.AnimatePresence;return r.default.createElement(n.FloatingPortal,null,r.default.createElement(Qe,null,I&&r.default.createElement(n.FloatingOverlay,{style:{zIndex:9999},lockScroll:!0},r.default.createElement(n.FloatingFocusManager,{context:Be},r.default.createElement(a.motion.div,{className:V==="xxl"?"":te,initial:"unmount",exit:"unmount",animate:I?"mount":"unmount",variants:be,transition:{duration:.2}},r.default.createElement(a.motion.div,v({},Ie(w(b({},G),{ref:Ee,className:oe,"aria-labelledby":ae,"aria-describedby":Ne})),{initial:"unmount",exit:"unmount",animate:I?"mount":"unmount",variants:ve}),H))))))});B.propTypes={open:f.propTypesOpen,handler:f.propTypesHandler,size:i.default.oneOf(f.propTypesSize),dismiss:f.propTypesDismiss,animate:f.propTypesAnimate,className:f.propTypesClassName,children:f.propTypesChildren},B.displayName="MaterialTailwind.Dialog";var P=Object.assign(B,{Header:m.DialogHeader,Body:A.DialogBody,Footer:g.DialogFooter})})(yre);var Cre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{IconButton:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(y0),a=h(Bi),o=Ri,s=h(ko),l=h(Si),c=yi,u=QC;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.variant,b=p.size,x=p.color,w=p.ripple,C=p.className,_=p.children,B=f(p,["variant","size","color","ripple","className","children"]),P=(0,c.useTheme)().iconButton,M=P.valid,O=P.defaultProps,I=P.styles,F=I.base,V=I.variants,Y=I.sizes;y=y??O.variant,b=b??O.size,x=x??O.color,w=w??O.ripple,C=C??O.className;var j=w!==void 0&&new n.default,R=(0,l.default)(F),H=(0,l.default)(V[(0,s.default)(M.variants,y,"filled")][(0,s.default)(M.colors,x,"blue")]),G=(0,l.default)(Y[(0,s.default)(M.sizes,b,"md")]),$=(0,o.twMerge)((0,a.default)(R,G,H),C);return r.default.createElement("button",d({},B,{ref:v,className:$,type:B.type||"button",onMouseDown:function(L){var K=B==null?void 0:B.onMouseDown;return w&&j.create(L,y==="filled"||y==="gradient"?"light":"dark"),typeof K=="function"&&K(L)}}),r.default.createElement("span",{className:"absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2"},_))});A.propTypes={variant:i.default.oneOf(u.propTypesVariant),size:i.default.oneOf(u.propTypesSize),color:i.default.oneOf(u.propTypesColor),ripple:u.propTypesRipple,className:u.propTypesClassName,children:u.propTypesChildren},A.displayName="MaterialTailwind.IconButton";var g=A})(Cre);var _re={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{Input:function(){return m},default:function(){return A}});var r=d(Oe),i=d(wi),n=d(Bi),a=d(ko),o=d(Si),s=yi,l=WC;function c(g,p,v){return p in g?Object.defineProperty(g,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[p]=v,g}function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.variant,y=g.color,b=g.size,x=g.label,w=g.error,C=g.success,_=g.icon,B=g.containerProps,P=g.labelProps,M=g.className,O=h(g,["variant","color","size","label","error","success","icon","containerProps","labelProps","className"]),I=(0,s.useTheme)().input,F=I.defaultProps,V=I.valid,Y=I.styles,j=Y.base,R=Y.variants;v=v??F.variant,b=b??F.size,y=y??F.color,x=x??F.label,P=P??F.labelProps,M=M??F.className,_=_??F.icon;var H=R[(0,a.default)(V.variants,v,"outlined")],G=H.sizes[(0,a.default)(V.sizes,b,"md")],$=(0,o.default)(H.error.input),L=(0,o.default)(H.success.input),K=(0,o.default)(H.colors.input[(0,a.default)(V.colors,y,"blue")]),X=(0,o.default)(H.error.label),ee=(0,o.default)(H.success.label),W=(0,o.default)(H.colors.label[(0,a.default)(V.colors,y,"blue")]),te=(0,n.default)((0,o.default)(j.container),(0,o.default)(G.container),B==null?void 0:B.className),oe=(0,n.default)((0,o.default)(j.input),(0,o.default)(H.base.input),(0,o.default)(G.input),c({},(0,o.default)(H.base.inputWithIcon),_),c({},K,!w&&!C),c({},$,w),c({},L,C),M),le=(0,n.default)((0,o.default)(j.label),(0,o.default)(H.base.label),(0,o.default)(G.label),c({},W,!w&&!C),c({},X,w),c({},ee,C),P==null?void 0:P.className),be=(0,n.default)((0,o.default)(j.icon),(0,o.default)(H.base.icon),(0,o.default)(G.icon));return r.default.createElement("div",u({},B,{ref:p,className:te}),_&&r.default.createElement("div",{className:be},_),r.default.createElement("input",u({},O,{className:oe,placeholder:(O==null?void 0:O.placeholder)||" "})),r.default.createElement("label",u({},P,{className:le}),x))});m.propTypes={variant:i.default.oneOf(l.propTypesVariant),size:i.default.oneOf(l.propTypesSize),color:i.default.oneOf(l.propTypesColor),label:l.propTypesLabel,error:l.propTypesError,success:l.propTypesSuccess,icon:l.propTypesIcon,labelProps:l.propTypesLabelProps,containerProps:l.propTypesContainerProps,className:l.propTypesClassName},m.displayName="MaterialTailwind.Input";var A=m})(_re);var Sre={},ZC={},e1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{propTypesOpen:function(){return a},propTypesHandler:function(){return o},propTypesPlacement:function(){return s},propTypesOffset:function(){return l},propTypesDismiss:function(){return c},propTypesAnimate:function(){return u},propTypesLockScroll:function(){return d},propTypesDisabled:function(){return h},propTypesClassName:function(){return f},propTypesChildren:function(){return m},propTypesContextValue:function(){return A}});var r=n(wi),i=Ls;function n(g){return g&&g.__esModule?g:{default:g}}var a=r.default.bool,o=r.default.func,s=i.propTypesPlacements,l=i.propTypesOffsetType,c=i.propTypesDismissType,u=i.propTypesAnimation,d=r.default.bool,h=r.default.bool,f=r.default.string,m=r.default.node.isRequired,A=r.default.shape({open:r.default.bool.isRequired,handler:r.default.func.isRequired,setInternalOpen:r.default.func.isRequired,strategy:r.default.oneOf(["fixed","absolute"]).isRequired,x:r.default.number.isRequired,y:r.default.number.isRequired,reference:r.default.func.isRequired,floating:r.default.func.isRequired,listItemsRef:r.default.instanceOf(Object).isRequired,getReferenceProps:r.default.func.isRequired,getFloatingProps:r.default.func.isRequired,getItemProps:r.default.func.isRequired,appliedAnimation:u.isRequired,lockScroll:r.default.bool.isRequired,context:r.default.instanceOf(Object).isRequired})})(e1);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{MenuContext:function(){return a},useMenu:function(){return o},MenuContextProvider:function(){return s}});var r=n(Oe),i=e1;function n(l){return l&&l.__esModule?l:{default:l}}var a=r.default.createContext(null);a.displayName="MaterialTailwind.MenuContext";function o(){var l=r.default.useContext(a);if(!l)throw new Error("useMenu() must be used within a Menu. It happens when you use MenuCore, MenuHandler, MenuItem or MenuList components outside the Menu component.");return l}var s=function(l){var c=l.value,u=l.children;return r.default.createElement(a.Provider,{value:c},u)};s.prototypes={value:i.propTypesContextValue,children:i.propTypesChildren},s.displayName="MaterialTailwind.MenuContextProvider"})(ZC);var Ere={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{MenuCore:function(){return g},default:function(){return p}});var r=d(Oe),i=d(wi),n=ug,a=d(uu),o=yi,s=ZC,l=e1;function c(v,y){(y==null||y>v.length)&&(y=v.length);for(var b=0,x=new Array(y);b<y;b++)x[b]=v[b];return x}function u(v){if(Array.isArray(v))return v}function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){var b=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(b!=null){var x=[],w=!0,C=!1,_,B;try{for(b=b.call(v);!(w=(_=b.next()).done)&&(x.push(_.value),!(y&&x.length===y));w=!0);}catch(P){C=!0,B=P}finally{try{!w&&b.return!=null&&b.return()}finally{if(C)throw B}}return x}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(v,y){return u(v)||h(v,y)||A(v,y)||f()}function A(v,y){if(v){if(typeof v=="string")return c(v,y);var b=Object.prototype.toString.call(v).slice(8,-1);if(b==="Object"&&v.constructor&&(b=v.constructor.name),b==="Map"||b==="Set")return Array.from(b);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return c(v,y)}}var g=r.default.forwardRef(function(v,y){var b=v.open,x=v.handler,w=v.placement,C=v.offset,_=v.dismiss,B=v.animate,P=v.lockScroll,M=v.children,O=(0,o.useTheme)().menu,I=O.defaultProps,F=m(r.default.useState(!1),2),V=F[0],Y=F[1];b=b??V,x=x??Y,w=w??I.placement,C=C??I.offset,_=_??I.dismiss,B=B??I.animate,P=P??I.lockScroll;var j={unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},R=(0,a.default)(j,B),H=m(r.default.useState(null),2),G=H[0],$=H[1],L=r.default.useRef([]),K=r.default.useRef(r.default.Children.map(M,function(de){return r.default.isValidElement(de)?de.props.children:null})),X=(0,n.useFloatingTree)(),ee=(0,n.useFloatingNodeId)(),W=(0,n.useFloatingParentNodeId)(),te=W!=null,oe=(0,n.useFloating)({open:b,onOpenChange:x,middleware:[(0,n.offset)(C),(0,n.flip)(),(0,n.shift)()],placement:w,nodeId:ee}),le=oe.x,be=oe.y,ve=oe.reference,se=oe.floating,ye=oe.strategy,Be=oe.refs,ge=oe.update,ae=oe.context,Ne=(0,n.useInteractions)([(0,n.useHover)(ae,{handleClose:(0,n.safePolygon)(),enabled:te}),(0,n.useClick)(ae),(0,n.useRole)(ae,{role:"menu"}),(0,n.useDismiss)(ae,_),(0,n.useListNavigation)(ae,{listRef:L,activeIndex:G,nested:te,onNavigate:$}),(0,n.useTypeahead)(ae,{listRef:K,onMatch:b?$:void 0,activeIndex:G})]),Ie=Ne.getReferenceProps,Ee=Ne.getFloatingProps,Qe=Ne.getItemProps;r.default.useEffect(function(){if(b&&Be.reference.current&&Be.floating.current)return(0,n.autoUpdate)(Be.reference.current,Be.floating.current,ge)},[b,te,ge,Be.reference,Be.floating]),r.default.useEffect(function(){var de=function(Re){var Ke=Re.openElement,ie=Re.referenceElement,st=Re.parentElementId;st===ee&&L.current.forEach(function(wt){wt&&wt!==ie&&(wt.style.pointerEvents=Ke?"none":"")})};return X.events.on("openChange",de),function(){X.events.off("openChange",de)}},[ee,X.events,Be.reference,Be.floating]),r.default.useEffect(function(){X==null||X.events.emit("openChange",{open:b,parentId:W,reference:Be.reference.current})},[X,b,W,Be.reference]);var We=r.default.useMemo(function(){return{open:b,handler:x,setInternalOpen:Y,strategy:ye,x:le,y:be,reference:ve,floating:se,listItemsRef:L,getReferenceProps:Ie,getFloatingProps:Ee,getItemProps:Qe,appliedAnimation:R,lockScroll:P,context:ae}},[b,x,Y,ye,le,be,ve,se,Ie,Ee,Qe,R,P,ae]);return r.default.createElement(s.MenuContextProvider,{value:We},r.default.createElement(n.FloatingNode,{id:ee},M))});g.propTypes={open:l.propTypesOpen,handler:l.propTypesHandler,placement:i.default.oneOf(l.propTypesPlacement),offset:l.propTypesOffset,dismiss:l.propTypesDismiss,animate:l.propTypesAnimate,lockScroll:l.propTypesLockScroll,children:l.propTypesChildren},g.displayName="MaterialTailwind.MenuCore";var p=g})(Ere);var Bre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{MenuHandler:function(){return f},default:function(){return m}});var r=s(Oe),i=s(b0),n=ZC,a=e1;function o(A,g,p){return g in A?Object.defineProperty(A,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):A[g]=p,A}function s(A){return A&&A.__esModule?A:{default:A}}function l(A){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{},v=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(p).filter(function(y){return Object.getOwnPropertyDescriptor(p,y).enumerable}))),v.forEach(function(y){o(A,y,p[y])})}return A}function c(A,g){var p=Object.keys(A);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(A);g&&(v=v.filter(function(y){return Object.getOwnPropertyDescriptor(A,y).enumerable})),p.push.apply(p,v)}return p}function u(A,g){return g=g??{},Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(g)):c(Object(g)).forEach(function(p){Object.defineProperty(A,p,Object.getOwnPropertyDescriptor(g,p))}),A}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.children,v=d(A,["children"]),y=(0,n.useMenu)(),b=y.getReferenceProps,x=y.reference,w=r.default.useMemo(function(){return(0,i.default)([g,x])},[g,x]);return r.default.cloneElement(p,l({},b(u(l({},v),{ref:w}))))});f.propTypes={children:a.propTypesChildren},f.displayName="MaterialTailwind.MenuHandler";var m=f})(Bre);var Mre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(w,C){for(var _ in C)Object.defineProperty(w,_,{enumerable:!0,get:C[_]})}t(e,{MenuList:function(){return b},default:function(){return x}});var r=m(Oe),i=ug,n=wc,a=m(b0),o=m(Bi),s=Ri,l=m(Si),c=yi,u=ZC,d=e1;function h(w,C,_){return C in w?Object.defineProperty(w,C,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[C]=_,w}function f(){return f=Object.assign||function(w){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(w[B]=_[B])}return w},f.apply(this,arguments)}function m(w){return w&&w.__esModule?w:{default:w}}function A(w){for(var C=1;C<arguments.length;C++){var _=arguments[C]!=null?arguments[C]:{},B=Object.keys(_);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(_).filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable}))),B.forEach(function(P){h(w,P,_[P])})}return w}function g(w,C){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(w);C&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),_.push.apply(_,B)}return _}function p(w,C){return C=C??{},Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):g(Object(C)).forEach(function(_){Object.defineProperty(w,_,Object.getOwnPropertyDescriptor(C,_))}),w}function v(w,C){if(w==null)return{};var _=y(w,C),B,P;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(w);for(P=0;P<M.length;P++)B=M[P],!(C.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(w,B)&&(_[B]=w[B])}return _}function y(w,C){if(w==null)return{};var _={},B=Object.keys(w),P,M;for(M=0;M<B.length;M++)P=B[M],!(C.indexOf(P)>=0)&&(_[P]=w[P]);return _}var b=r.default.forwardRef(function(w,C){var _=w.children,B=w.className,P=v(w,["children","className"]),M=(0,c.useTheme)().menu,O=M.styles.base,I=(0,u.useMenu)(),F=I.open,V=I.handler,Y=I.setInternalOpen,j=I.strategy,R=I.x,H=I.y,G=I.floating,$=I.listItemsRef,L=I.getFloatingProps,K=I.getItemProps,X=I.appliedAnimation,ee=I.lockScroll,W=I.context;B=B??"";var te=(0,s.twMerge)((0,o.default)((0,l.default)(O.menu)),B),oe=r.default.useMemo(function(){return(0,a.default)([C,G])},[C,G]),le=n.AnimatePresence,be=r.default.createElement(n.motion.ul,f({},L(p(A({},P),{ref:oe,className:te,style:{position:j,top:H??"",left:R??""}})),{initial:"unmount",exit:"unmount",animate:F?"mount":"unmount",variants:X}),r.default.Children.map(_,function(ve,se){return r.default.isValidElement(ve)&&r.default.cloneElement(ve,K(p(A({},ve.props),{onClick:function(ye){var Be,ge=(Be=ve.props)===null||Be===void 0?void 0:Be.onClick;typeof ge=="function"&&V?ge(ye):typeof ge=="function"&&(Y(!1),ge(ye)),Y(!1)},ref:function(Be){$.current[se]=Be}})))}));return r.default.createElement(i.FloatingPortal,null,r.default.createElement(le,null,F&&r.default.createElement(r.default.Fragment,null,ee?r.default.createElement(i.FloatingOverlay,{lockScroll:!0},r.default.createElement(i.FloatingFocusManager,{context:W,preventTabbing:!0},be)):r.default.createElement(i.FloatingFocusManager,{context:W,preventTabbing:!0},be))))});b.propTypes={className:d.propTypesClassName,children:d.propTypesChildren},b.displayName="MaterialTailwind.MenuList";var x=b})(Mre);var Pre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{MenuItem:function(){return f},default:function(){return m}});var r=u(Oe),i=u(Bi),n=Ri,a=u(Si),o=yi,s=e1;function l(A,g,p){return g in A?Object.defineProperty(A,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):A[g]=p,A}function c(){return c=Object.assign||function(A){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(A[v]=p[v])}return A},c.apply(this,arguments)}function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.className,v=A.disabled,y=A.children,b=d(A,["className","disabled","children"]),x=(0,o.useTheme)().menu,w=x.styles.base;p=p??"",v=v??!1;var C=(0,n.twMerge)((0,i.default)((0,a.default)(w.item.initial),l({},(0,a.default)(w.item.disabled),v)),p);return r.default.createElement("li",c({},b,{ref:g,role:"menuitem",className:C}),y)});f.propTypes={className:s.propTypesClassName,disabled:s.propTypesDisabled,children:s.propTypesChildren},f.displayName="MaterialTailwind.MenuItem";var m=f})(Pre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,m){for(var A in m)Object.defineProperty(f,A,{enumerable:!0,get:m[A]})}t(e,{Menu:function(){return d},MenuHandler:function(){return o.MenuHandler},MenuList:function(){return s.MenuList},MenuItem:function(){return l.MenuItem},useMenu:function(){return n.useMenu},default:function(){return h}});var r=u(Oe),i=ug,n=ZC,a=Ere,o=Bre,s=Mre,l=Pre;function c(){return c=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var A=arguments[m];for(var g in A)Object.prototype.hasOwnProperty.call(A,g)&&(f[g]=A[g])}return f},c.apply(this,arguments)}function u(f){return f&&f.__esModule?f:{default:f}}var d=r.default.forwardRef(function(f,m){var A=f.open,g=f.handler,p=f.placement,v=f.offset,y=f.dismiss,b=f.animate,x=f.lockScroll,w=f.children,C=(0,i.useFloatingParentNodeId)(),_={open:A,handler:g,placement:p,offset:v,dismiss:y,animate:b,lockScroll:x};return C==null?r.default.createElement(i.FloatingTree,null,r.default.createElement(a.MenuCore,c({ref:m},_),w)):r.default.createElement(a.MenuCore,c({ref:m},_),w)});d.propTypes=a.MenuCore.propTypes,d.displayName="MaterialTailwind.Menu";var h=Object.assign(d,{Handler:o.MenuHandler,List:s.MenuList,Item:l.MenuItem})})(Sre);var Tre={},Ore={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{MobileNav:function(){return A},default:function(){return g}});var r=h(Oe),i=wc,n=h(uu),a=h(Bi),o=h(b0),s=Ri,l=h(Si),c=yi,u=yT;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.open,b=p.animate,x=p.className,w=p.children,C=f(p,["open","animate","className","children"]),_,B=r.default.useRef(null),P=(0,c.useTheme)().navbar,M=P.styles,O=M.base.mobileNav;b=b??{},x=x??"";var I=(0,s.twMerge)((0,a.default)((0,l.default)(O)),x),F={unmount:{height:0,opacity:0,transition:{duration:.3,times:"[0.4, 0, 0.2, 1]"}},mount:{opacity:1,height:"".concat((_=B.current)===null||_===void 0?void 0:_.scrollHeight,"px"),transition:{duration:.3,times:"[0.4, 0, 0.2, 1]"}}},V=(0,n.default)(F,b),Y=i.AnimatePresence,j=r.default.useMemo(function(){return(0,o.default)([v,B])},[v,B]);return r.default.createElement(Y,null,r.default.createElement(i.motion.div,d({},C,{ref:j,className:I,initial:"unmount",exit:"unmount",animate:y?"mount":"unmount",variants:V}),w))});A.displayName="MaterialTailwind.MobileNav",A.propTypes={open:u.propTypesOpen,animate:u.propTypesAnimate,className:u.propTypesClassName,children:u.propTypesChildren};var g=A})(Ore);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,y){for(var b in y)Object.defineProperty(v,b,{enumerable:!0,get:y[b]})}t(e,{Navbar:function(){return g},MobileNav:function(){return c.MobileNav},default:function(){return p}});var r=f(Oe),i=f(wi),n=f(Bi),a=Ri,o=f(ko),s=f(Si),l=yi,c=Ore,u=yT;function d(v,y,b){return y in v?Object.defineProperty(v,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[y]=b,v}function h(){return h=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x])}return v},h.apply(this,arguments)}function f(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(v==null)return{};var b=A(v,y),x,w;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(v);for(w=0;w<C.length;w++)x=C[w],!(y.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(v,x)&&(b[x]=v[x])}return b}function A(v,y){if(v==null)return{};var b={},x=Object.keys(v),w,C;for(C=0;C<x.length;C++)w=x[C],!(y.indexOf(w)>=0)&&(b[w]=v[w]);return b}var g=r.default.forwardRef(function(v,y){var b=v.variant,x=v.color,w=v.shadow,C=v.blurred,_=v.fullWidth,B=v.className,P=v.children,M=m(v,["variant","color","shadow","blurred","fullWidth","className","children"]),O=(0,l.useTheme)().navbar,I=O.defaultProps,F=O.valid,V=O.styles,Y=V.base,j=V.variants;b=b??I.variant,x=x??I.color,w=w??I.shadow,C=C??I.blurred,_=_??I.fullWidth,B=B??I.className;var R,H=(0,n.default)((0,s.default)(Y.navbar.initial),(R={},d(R,(0,s.default)(Y.navbar.shadow),w),d(R,(0,s.default)(Y.navbar.blurred),C&&x==="white"),d(R,(0,s.default)(Y.navbar.fullWidth),_),R)),G=(0,n.default)((0,s.default)(j[(0,o.default)(F.variants,b,"filled")][(0,o.default)(F.colors,x,"white")])),$=(0,a.twMerge)((0,n.default)(H,G),B);return r.default.createElement("nav",h({},M,{ref:y,className:$}),P)});g.propTypes={variant:i.default.oneOf(u.propTypesVariant),color:i.default.oneOf(u.propTypesColor),shadow:u.propTypesShadow,blurred:u.propTypesBlurred,fullWidth:u.propTypesFullWidth,className:u.propTypesClassName,children:u.propTypesChildren},g.displayName="MaterialTailwind.Navbar";var p=Object.assign(g,{MobileNav:c.MobileNav})})(Tre);var Dre={},OT={},t1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{propTypesOpen:function(){return a},propTypesHandler:function(){return o},propTypesPlacement:function(){return s},propTypesOffset:function(){return l},propTypesDismiss:function(){return c},propTypesAnimate:function(){return u},propTypesContent:function(){return d},propTypesInteractive:function(){return h},propTypesClassName:function(){return f},propTypesChildren:function(){return m},propTypesContextValue:function(){return A}});var r=n(wi),i=Ls;function n(g){return g&&g.__esModule?g:{default:g}}var a=r.default.bool,o=r.default.func,s=i.propTypesPlacements,l=i.propTypesOffsetType,c=i.propTypesDismissType,u=i.propTypesAnimation,d=r.default.node,h=r.default.bool,f=r.default.string,m=r.default.node.isRequired,A=r.default.shape({open:r.default.bool.isRequired,strategy:r.default.oneOf(["fixed","absolute"]).isRequired,x:r.default.number,y:r.default.number,context:r.default.instanceOf(Object).isRequired,reference:r.default.func.isRequired,floating:r.default.func.isRequired,getReferenceProps:r.default.func.isRequired,getFloatingProps:r.default.func.isRequired,appliedAnimation:u.isRequired,labelId:r.default.string.isRequired,descriptionId:r.default.string.isRequired}).isRequired})(t1);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}t(e,{PopoverContext:function(){return a},usePopover:function(){return o},PopoverContextProvider:function(){return s}});var r=n(Oe),i=t1;function n(l){return l&&l.__esModule?l:{default:l}}var a=r.default.createContext(null);a.displayName="MaterialTailwind.PopoverContext";function o(){var l=r.default.useContext(a);if(!l)throw new Error("usePopover() must be used within a Popover. It happens when you use PopoverHandler or PopoverContent components outside the Popover component.");return l}var s=function(l){var c=l.value,u=l.children;return r.default.createElement(a.Provider,{value:c},u)};s.propTypes={value:i.propTypesContextValue,children:i.propTypesChildren},s.displayName="MaterialTailwind.PopoverContextProvider"})(OT);var Ire={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{PopoverHandler:function(){return f},default:function(){return m}});var r=s(Oe),i=s(b0),n=OT,a=t1;function o(A,g,p){return g in A?Object.defineProperty(A,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):A[g]=p,A}function s(A){return A&&A.__esModule?A:{default:A}}function l(A){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{},v=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(p).filter(function(y){return Object.getOwnPropertyDescriptor(p,y).enumerable}))),v.forEach(function(y){o(A,y,p[y])})}return A}function c(A,g){var p=Object.keys(A);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(A);g&&(v=v.filter(function(y){return Object.getOwnPropertyDescriptor(A,y).enumerable})),p.push.apply(p,v)}return p}function u(A,g){return g=g??{},Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(g)):c(Object(g)).forEach(function(p){Object.defineProperty(A,p,Object.getOwnPropertyDescriptor(g,p))}),A}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.children,v=d(A,["children"]),y=(0,n.usePopover)(),b=y.getReferenceProps,x=y.reference,w=r.default.useMemo(function(){return(0,i.default)([g,x])},[g,x]);return r.default.cloneElement(p,l({},b(u(l({},v),{ref:w}))))});f.propTypes={children:a.propTypesChildren},f.displayName="MaterialTailwind.PopoverHandler";var m=f})(Ire);var Fre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(w,C){for(var _ in C)Object.defineProperty(w,_,{enumerable:!0,get:C[_]})}t(e,{PopoverContent:function(){return b},default:function(){return x}});var r=m(Oe),i=ug,n=wc,a=m(b0),o=m(Bi),s=Ri,l=m(Si),c=yi,u=OT,d=t1;function h(w,C,_){return C in w?Object.defineProperty(w,C,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[C]=_,w}function f(){return f=Object.assign||function(w){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(w[B]=_[B])}return w},f.apply(this,arguments)}function m(w){return w&&w.__esModule?w:{default:w}}function A(w){for(var C=1;C<arguments.length;C++){var _=arguments[C]!=null?arguments[C]:{},B=Object.keys(_);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(_).filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable}))),B.forEach(function(P){h(w,P,_[P])})}return w}function g(w,C){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(w);C&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),_.push.apply(_,B)}return _}function p(w,C){return C=C??{},Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):g(Object(C)).forEach(function(_){Object.defineProperty(w,_,Object.getOwnPropertyDescriptor(C,_))}),w}function v(w,C){if(w==null)return{};var _=y(w,C),B,P;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(w);for(P=0;P<M.length;P++)B=M[P],!(C.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(w,B)&&(_[B]=w[B])}return _}function y(w,C){if(w==null)return{};var _={},B=Object.keys(w),P,M;for(M=0;M<B.length;M++)P=B[M],!(C.indexOf(P)>=0)&&(_[P]=w[P]);return _}var b=r.default.forwardRef(function(w,C){var _=w.children,B=w.className,P=v(w,["children","className"]),M=(0,c.useTheme)().popover,O=M.defaultProps,I=M.styles.base,F=(0,u.usePopover)(),V=F.open,Y=F.strategy,j=F.x,R=F.y,H=F.context,G=F.floating,$=F.getFloatingProps,L=F.appliedAnimation,K=F.labelId,X=F.descriptionId;B=B??O.className;var ee=(0,s.twMerge)((0,o.default)((0,l.default)(I)),B),W=r.default.useMemo(function(){return(0,a.default)([C,G])},[G,C]),te=n.AnimatePresence;return r.default.createElement(i.FloatingPortal,null,r.default.createElement(te,null,V&&r.default.createElement(i.FloatingFocusManager,{context:H},r.default.createElement(n.motion.div,f({},$(p(A({},P),{ref:W,className:ee,style:{position:Y,top:R??"",left:j??""},"aria-labelledby":K,"aria-describedby":X})),{initial:"unmount",exit:"unmount",animate:V?"mount":"unmount",variants:L}),_))))});b.propTypes={className:d.propTypesClassName,children:d.propTypesChildren},b.displayName="MaterialTailwind.PopoverContent";var x=b})(Fre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(b,x){for(var w in x)Object.defineProperty(b,w,{enumerable:!0,get:x[w]})}t(e,{Popover:function(){return v},PopoverHandler:function(){return c.PopoverHandler},PopoverContent:function(){return u.PopoverContent},usePopover:function(){return s.usePopover},default:function(){return y}});var r=f(Oe),i=f(wi),n=ug,a=f(uu),o=yi,s=OT,l=t1,c=Ire,u=Fre;function d(b,x){(x==null||x>b.length)&&(x=b.length);for(var w=0,C=new Array(x);w<x;w++)C[w]=b[w];return C}function h(b){if(Array.isArray(b))return b}function f(b){return b&&b.__esModule?b:{default:b}}function m(b,x){var w=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(w!=null){var C=[],_=!0,B=!1,P,M;try{for(w=w.call(b);!(_=(P=w.next()).done)&&(C.push(P.value),!(x&&C.length===x));_=!0);}catch(O){B=!0,M=O}finally{try{!_&&w.return!=null&&w.return()}finally{if(B)throw M}}return C}}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(b,x){return h(b)||m(b,x)||p(b,x)||A()}function p(b,x){if(b){if(typeof b=="string")return d(b,x);var w=Object.prototype.toString.call(b).slice(8,-1);if(w==="Object"&&b.constructor&&(w=b.constructor.name),w==="Map"||w==="Set")return Array.from(w);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return d(b,x)}}var v=function(b){var x=b.open,w=b.handler,C=b.placement,_=b.offset,B=b.dismiss,P=b.animate,M=b.children,O=(0,o.useTheme)().popover,I=O.defaultProps,F=g(r.default.useState(!1),2),V=F[0],Y=F[1];x=x??V,w=w??Y,C=C??I.placement,_=_??I.offset,B=B??I.dismiss,P=P??I.animate;var j={unmount:{opacity:0},mount:{opacity:1}},R=(0,a.default)(j,P),H=(0,n.useFloating)({open:x,onOpenChange:w,middleware:[(0,n.offset)(_),(0,n.flip)(),(0,n.shift)()],placement:C}),G=H.x,$=H.y,L=H.reference,K=H.floating,X=H.strategy,ee=H.refs,W=H.update,te=H.context,oe=(0,n.useId)(),le="".concat(oe,"-label"),be="".concat(oe,"-description"),ve=(0,n.useInteractions)([(0,n.useClick)(te),(0,n.useRole)(te),(0,n.useDismiss)(te,B)]),se=ve.getReferenceProps,ye=ve.getFloatingProps;r.default.useEffect(function(){if(ee.reference.current&&ee.floating.current&&x)return(0,n.autoUpdate)(ee.reference.current,ee.floating.current,W)},[x,W,ee.reference,ee.floating]);var Be=r.default.useMemo(function(){return{open:x,strategy:X,x:G,y:$,context:te,reference:L,floating:K,getReferenceProps:se,getFloatingProps:ye,appliedAnimation:R,labelId:le,descriptionId:be}},[x,X,G,$,te,L,K,ye,se,R,le,be]);return r.default.createElement(s.PopoverContextProvider,{value:Be},M)};v.propTypes={open:l.propTypesOpen,handler:l.propTypesHandler,placement:i.default.oneOf(l.propTypesPlacement),offset:l.propTypesOffset,dismiss:l.propTypesDismiss,animate:l.propTypesAnimate,children:l.propTypesChildren},v.displayName="MaterialTailwind.Popover";var y=Object.assign(v,{Handler:c.PopoverHandler,Content:u.PopoverContent})})(Dre);var Lre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Progress:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(Bi),a=Ri,o=h(ko),s=h(Si),l=yi,c=Pk;function u(p,v,y){return v in p?Object.defineProperty(p,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[v]=y,p}function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.variant,b=p.color,x=p.value,w=p.label,C=p.className,_=p.barProps,B=f(p,["variant","color","value","label","className","barProps"]),P=(0,l.useTheme)().progress,M=P.defaultProps,O=P.valid,I=P.styles,F=I.base,V=I.variants;y=y??M.variant,b=b??M.color,w=w??M.label,C=C??M.className,_=_??M.barProps;var Y=(0,s.default)(V[(0,o.default)(O.variants,y,"filled")][(0,o.default)(O.colors,b,"blue")]),j=(0,s.default)(F.container.initial),R=(0,s.default)(F.container.withLabel),H=(0,s.default)(F.bar),G=(0,a.twMerge)((0,n.default)(j,u({},R,w)),C),$=(0,a.twMerge)((0,n.default)(H,Y),_==null?void 0:_.className);return r.default.createElement("div",d({},B,{ref:v,className:G}),r.default.createElement("div",d({},_,{className:$,style:{width:"".concat(x,"%")}}),w&&"".concat(x,"% ").concat(typeof w=="string"?w:"")))});A.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),value:c.propTypesValue,label:c.propTypesLabel,barProps:c.propTypesBarProps,className:c.propTypesClassName},A.displayName="MaterialTailwind.Progress";var g=A})(Lre);var Rre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Radio:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(y0),a=h(Bi),o=Ri,s=h(ko),l=h(Si),c=yi,u=m0;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.color,b=p.label,x=p.icon,w=p.ripple,C=p.className,_=p.containerProps,B=p.labelProps,P=f(p,["color","label","icon","ripple","className","containerProps","labelProps"]),M=(0,c.useTheme)().radio,O=M.defaultProps,I=M.valid,F=M.styles,V=F.base,Y=F.colors;y=y??O.color,w=w??O.ripple,C=C??O.className;var j=w!==void 0&&new n.default,R=(0,a.default)((0,l.default)(V.root)),H=(0,o.twMerge)((0,a.default)((0,l.default)(V.container)),_==null?void 0:_.className),G=(0,o.twMerge)((0,a.default)((0,l.default)(V.input),(0,l.default)(Y[(0,s.default)(I.colors,y,"blue")])),C),$=(0,o.twMerge)((0,a.default)((0,l.default)(V.label)),B==null?void 0:B.className),L=(0,a.default)("absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity",Y[(0,s.default)(I.colors,y,"blue")].color);return r.default.createElement("div",{ref:v,className:R},r.default.createElement("label",d({},_,{className:H,htmlFor:P.id||"radio",onMouseDown:function(K){var X=_==null?void 0:_.onMouseDown;return w&&j.create(K,"dark"),typeof X=="function"&&X(K)}}),r.default.createElement("input",d({},P,{type:"radio",className:G,id:P.id||"radio"})),r.default.createElement("div",{className:L},x||r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"currentColor"},r.default.createElement("circle",{"data-name":"ellipse",cx:"8",cy:"8",r:"8"})))),b&&r.default.createElement("label",d({},B,{className:$,htmlFor:P.id||"radio"}),b))});A.propTypes={color:i.default.oneOf(u.propTypesColor),label:u.propTypesLabel,icon:u.propTypesIcon,ripple:u.propTypesRipple,className:u.propTypesClassName,containerProps:u.propTypesContainerProps,labelProps:u.propTypesLabelProps},A.displayName="MaterialTailwind.Radio";var g=A})(Rre);var Ure={},Jk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(u,d){for(var h in d)Object.defineProperty(u,h,{enumerable:!0,get:d[h]})}t(e,{SelectContext:function(){return o},useSelect:function(){return s},usePrevious:function(){return l},SelectContextProvider:function(){return c}});var r=a(Oe),i=wc,n=GC;function a(u){return u&&u.__esModule?u:{default:u}}var o=r.default.createContext(null);o.displayName="MaterialTailwind.SelectContext";function s(){var u=r.default.useContext(o);if(u===null)throw new Error("useSelect() must be used within a Select. It happens when you use SelectOption component outside the Select component.");return u}function l(u){var d=r.default.useRef();return(0,i.useIsomorphicLayoutEffect)(function(){d.current=u},[u]),d.current}var c=function(u){var d=u.value,h=u.children;return r.default.createElement(o.Provider,{value:d},h)};c.propTypes={value:n.propTypesContextValue,children:n.propTypesChildren},c.displayName="MaterialTailwind.SelectContextProvider"})(Jk);var Nre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{SelectOption:function(){return m},default:function(){return A}});var r=d(Oe),i=d(Bi),n=Ri,a=d(Si),o=yi,s=Jk,l=GC;function c(g,p,v){return p in g?Object.defineProperty(g,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[p]=v,g}function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=function(g){var p=function(){F(b),j(y),Y(!1),H(null)},v=function(oe){(oe.key==="Enter"||oe.key===" "&&!$.current.typing)&&(oe.preventDefault(),p())},y=g.value,b=g.index,x=g.disabled,w=g.className,C=g.children,_=h(g,["value","index","disabled","className","children"]),B=(0,o.useTheme)().select,P=B.styles,M=P.base,O=(0,s.useSelect)(),I=O.selectedIndex,F=O.setSelectedIndex,V=O.listRef,Y=O.setOpen,j=O.onChange,R=O.activeIndex,H=O.setActiveIndex,G=O.getItemProps,$=O.dataRef,L=(0,a.default)(M.option.initial),K=(0,a.default)(M.option.active),X=(0,a.default)(M.option.disabled),ee,W=(0,n.twMerge)((0,i.default)(L,(ee={},c(ee,K,I===b),c(ee,X,x),ee)),w??"");return r.default.createElement("li",u({},_,{role:"option",ref:function(te){return V.current[b]=te},className:W,disabled:x,tabIndex:R===b?0:1,"aria-selected":R===b&&I===b,"data-selected":I===b},G({onClick:function(te){var oe=_==null?void 0:_.onClick;typeof oe=="function"&&(oe(te),p()),p()},onKeyDown:function(te){var oe=_==null?void 0:_.onKeyDown;typeof oe=="function"&&(oe(te),v(te)),v(te)}})),C)};m.defaultProps={value:"",index:0,className:"",disabled:!1},m.propTypes={value:l.propTypesValue,index:l.propTypesIndex,disabled:l.propTypesDisabled,className:l.propTypesClassName,children:l.propTypesChildren},m.displayName="MaterialTailwind.SelectOption";var A=m})(Nre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(H,G){for(var $ in G)Object.defineProperty(H,$,{enumerable:!0,get:G[$]})}t(e,{Select:function(){return j},Option:function(){return m.SelectOption},useSelect:function(){return h.useSelect},usePrevious:function(){return h.usePrevious},default:function(){return R}});var r=b(Oe),i=b(wi),n=ug,a=wc,o=b(Bi),s=Ri,l=b(uu),c=b(ko),u=b(Si),d=yi,h=Jk,f=GC,m=Nre;function A(H,G){(G==null||G>H.length)&&(G=H.length);for(var $=0,L=new Array(G);$<G;$++)L[$]=H[$];return L}function g(H){if(Array.isArray(H))return H}function p(H){if(Array.isArray(H))return A(H)}function v(H,G,$){return G in H?Object.defineProperty(H,G,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[G]=$,H}function y(){return y=Object.assign||function(H){for(var G=1;G<arguments.length;G++){var $=arguments[G];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(H[L]=$[L])}return H},y.apply(this,arguments)}function b(H){return H&&H.__esModule?H:{default:H}}function x(H){if(typeof Symbol<"u"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}function w(H,G){var $=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if($!=null){var L=[],K=!0,X=!1,ee,W;try{for($=$.call(H);!(K=(ee=$.next()).done)&&(L.push(ee.value),!(G&&L.length===G));K=!0);}catch(te){X=!0,W=te}finally{try{!K&&$.return!=null&&$.return()}finally{if(X)throw W}}return L}}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(H){for(var G=1;G<arguments.length;G++){var $=arguments[G]!=null?arguments[G]:{},L=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(L=L.concat(Object.getOwnPropertySymbols($).filter(function(K){return Object.getOwnPropertyDescriptor($,K).enumerable}))),L.forEach(function(K){v(H,K,$[K])})}return H}function P(H,G){var $=Object.keys(H);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(H);G&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable})),$.push.apply($,L)}return $}function M(H,G){return G=G??{},Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(G)):P(Object(G)).forEach(function($){Object.defineProperty(H,$,Object.getOwnPropertyDescriptor(G,$))}),H}function O(H,G){if(H==null)return{};var $=I(H,G),L,K;if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(H);for(K=0;K<X.length;K++)L=X[K],!(G.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(H,L)&&($[L]=H[L])}return $}function I(H,G){if(H==null)return{};var $={},L=Object.keys(H),K,X;for(X=0;X<L.length;X++)K=L[X],!(G.indexOf(K)>=0)&&($[K]=H[K]);return $}function F(H,G){return g(H)||w(H,G)||Y(H,G)||C()}function V(H){return p(H)||x(H)||Y(H)||_()}function Y(H,G){if(H){if(typeof H=="string")return A(H,G);var $=Object.prototype.toString.call(H).slice(8,-1);if($==="Object"&&H.constructor&&($=H.constructor.name),$==="Map"||$==="Set")return Array.from($);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return A(H,G)}}var j=r.default.forwardRef(function(H,G){var $=H.variant,L=H.color,K=H.size,X=H.label,ee=H.error,W=H.success,te=H.arrow,oe=H.value,le=H.onChange,be=H.selected,ve=H.offset,se=H.dismiss,ye=H.animate,Be=H.lockScroll,ge=H.labelProps,ae=H.menuProps,Ne=H.className,Ie=H.disabled,Ee=H.children,Qe=O(H,["variant","color","size","label","error","success","arrow","value","onChange","selected","offset","dismiss","animate","lockScroll","labelProps","menuProps","className","disabled","children"]),We,de=(0,d.useTheme)().select,re=de.defaultProps,Re=de.valid,Ke=de.styles,ie=Ke.base,st=Ke.variants,wt=F(r.default.useState("close"),2),ut=wt[0],Ze=wt[1];$=$??re.variant,L=L??re.color,K=K??re.size,X=X??re.label,ee=ee??re.error,W=W??re.success,te=te??re.arrow,oe=oe??re.value,le=le??re.onChange,be=be??re.selected,ve=ve??re.offset,se=se??re.dismiss,ye=ye??re.animate,ge=ge??re.labelProps,ae=ae??re.menuProps,Ne=Ne??re.className;var ht=r.default.useRef([]),Mt,Pt=r.default.useRef(V((Mt=r.default.Children.map(Ee,function(dt){var Er=dt.props;return Er==null?void 0:Er.value}))!==null&&Mt!==void 0?Mt:[])),Yt=F(r.default.useState(!1),2),Tt=Yt[0],Vt=Yt[1],Or=F(r.default.useState(null),2),lr=Or[0],Ge=Or[1],At=F(r.default.useState(0),2),yt=At[0],Wt=At[1],rr=F(r.default.useState(!1),2),qt=rr[0],Cr=rr[1],Ui=(0,h.usePrevious)(lr);r.default.useEffect(function(){Wt(Math.max(0,Pt.current.indexOf(oe)+1))},[oe]);var ci=(0,n.useFloating)({open:Tt,onOpenChange:Vt,middleware:[(0,n.offset)(ve),(0,n.flip)({padding:8}),(0,n.size)({apply:function(Er){var tr=Er.rects,ti=Er.elements,Wr,mi;Object.assign(ti==null||(Wr=ti.floating)===null||Wr===void 0?void 0:Wr.style,{width:"".concat(tr==null||(mi=tr.reference)===null||mi===void 0?void 0:mi.width,"px"),zIndex:99})},padding:20})]}),ii=ci.x,en=ci.y,dr=ci.reference,Xe=ci.floating,ot=ci.strategy,je=ci.context,vt=ci.refs,he=ci.middlewareData,De=ci.update,Ve=vt.floating,Fe=(0,n.useInteractions)([(0,n.useClick)(je),(0,n.useRole)(je,{role:"listbox"}),(0,n.useDismiss)(je,B({},se)),(0,n.useListNavigation)(je,{listRef:ht,activeIndex:lr,selectedIndex:yt,onNavigate:Ge}),(0,n.useTypeahead)(je,{listRef:Pt,onMatch:Tt?Ge:Wt,activeIndex:lr,selectedIndex:yt})]),Ye=Fe.getReferenceProps,gt=Fe.getFloatingProps,Ot=Fe.getItemProps;r.default.useEffect(function(){if(vt.reference.current&&vt.floating.current&&Tt)return(0,n.autoUpdate)(vt.reference.current,vt.floating.current,De)},[vt.reference,vt.floating,Tt,De]),(0,a.useIsomorphicLayoutEffect)(function(){var dt=Ve.current;if(Tt&&qt&&dt){var Er=lr!=null?ht.current[lr]:yt!=null?ht.current[yt]:null;if(Er&&Ui!=null){var tr,ti,Wr=(ti=(tr=ht.current[Ui])===null||tr===void 0?void 0:tr.offsetHeight)!==null&&ti!==void 0?ti:0,mi=dt.offsetHeight,Wn=Er.offsetTop,xc=Wn+Wr;Wn<dt.scrollTop?dt.scrollTop-=dt.scrollTop-Wn+5:xc>mi+dt.scrollTop&&(dt.scrollTop+=xc-mi-dt.scrollTop+5)}}},[Tt,qt,Ui,lr]),(0,a.useIsomorphicLayoutEffect)(function(){var dt=vt.floating.current;if(Tt&&dt&&dt.offsetHeight<dt.scrollHeight){var Er=ht.current[yt];Er&&(dt.scrollTop=Er.offsetTop-dt.offsetHeight/2+Er.offsetHeight/2)}},[Tt,yt,vt.floating,vt.reference,he]);var xt=r.default.useMemo(function(){return{selectedIndex:yt,setSelectedIndex:Wt,listRef:ht,setOpen:Vt,onChange:le||function(){},activeIndex:lr,setActiveIndex:Ge,getItemProps:Ot,dataRef:je.dataRef}},[yt,le,lr,Ot,je.dataRef]);r.default.useEffect(function(){Ze(Tt?"open":!Tt&&yt?"withValue":"close")},[Tt,yt]);var mt=st[(0,c.default)(Re.variants,$,"outlined")],St=mt.sizes[(0,c.default)(Re.sizes,K,"md")],Dt=mt.error.select,Jt=mt.success.select,Gt=mt.colors.select[(0,c.default)(Re.colors,L,"blue")],Sr=mt.error.label,ur=mt.success.label,Pr=mt.colors.label[(0,c.default)(Re.colors,L,"blue")],Zt=mt.states[ut],zt=(0,o.default)((0,u.default)(ie.container),(0,u.default)(St.container)),Tr=(0,s.twMerge)((0,o.default)((0,u.default)(ie.select),(0,u.default)(mt.base.select),(0,u.default)(Zt.select),(0,u.default)(St.select),v({},(0,u.default)(Gt[ut]),!ee&&!W),v({},(0,u.default)(Dt.initial),ee),v({},(0,u.default)(Dt.states[ut]),ee),v({},(0,u.default)(Jt.initial),W),v({},(0,u.default)(Jt.states[ut]),W)),Ne),Kt,er=(0,s.twMerge)((0,o.default)((0,u.default)(ie.label),(0,u.default)(mt.base.label),(0,u.default)(Zt.label),(0,u.default)(St.label.initial),(0,u.default)(St.label.states[ut]),v({},(0,u.default)(Pr[ut]),!ee&&!W),v({},(0,u.default)(Sr.initial),ee),v({},(0,u.default)(Sr.states[ut]),ee),v({},(0,u.default)(ur.initial),W),v({},(0,u.default)(ur.states[ut]),W)),(Kt=ge.className)!==null&&Kt!==void 0?Kt:""),Qt=(0,o.default)((0,u.default)(ie.arrow.initial),v({},(0,u.default)(ie.arrow.active),Tt)),Yr,oi=(0,s.twMerge)((0,o.default)((0,u.default)(ie.menu)),(Yr=ae.className)!==null&&Yr!==void 0?Yr:""),ne=(0,o.default)("absolute top-2/4 -translate-y-2/4",$==="outlined"?"left-3 pt-0.5":"left-0 pt-3"),pe={unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},Ue=(0,l.default)(pe,ye),we=a.AnimatePresence,ze=r.default.createElement(n.FloatingFocusManager,{context:je,preventTabbing:!0},r.default.createElement(a.motion.ul,y({},gt(M(B({},ae),{ref:Xe,role:"listbox",className:oi,style:{position:ot,top:en??"",left:ii??"",overflow:"auto"},onPointerEnter:function(Er){var tr=ae==null?void 0:ae.onPointerEnter;typeof tr=="function"&&(tr(Er),Cr(!1)),Cr(!1)},onPointerMove:function(Er){var tr=ae==null?void 0:ae.onPointerMove;typeof tr=="function"&&(tr(Er),Cr(!1)),Cr(!1)},onKeyDown:function(Er){var tr=ae==null?void 0:ae.onKeyDown;typeof tr=="function"&&(tr(Er),Cr(!0)),Cr(!0)}})),{initial:"unmount",exit:"unmount",animate:Tt?"mount":"unmount",variants:Ue}),r.default.Children.map(Ee,function(dt,Er){var tr;return r.default.isValidElement(dt)&&r.default.cloneElement(dt,M(B({},dt.props),{index:((tr=dt.props)===null||tr===void 0?void 0:tr.index)||Er+1,id:"material-tailwind-select-".concat(Er)}))})));return r.default.createElement(h.SelectContextProvider,{value:xt},r.default.createElement("div",{ref:G,className:zt},r.default.createElement("button",y({type:"button"},Ye(M(B({},Qe),{ref:dr,className:Tr,disabled:Ie}))),typeof be=="function"?r.default.createElement("span",{className:ne},be(Ee[yt-1],yt-1)):r.default.createElement("span",y({},(We=Ee[yt-1])===null||We===void 0?void 0:We.props,{className:ne})),r.default.createElement("div",{className:Qt},te??r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.default.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),r.default.createElement("label",y({},ge,{className:er}),X),r.default.createElement(we,null,Tt&&r.default.createElement(r.default.Fragment,null,Be?r.default.createElement(n.FloatingOverlay,{lockScroll:!0},ze):ze))))});j.propTypes={variant:i.default.oneOf(f.propTypesVariant),color:i.default.oneOf(f.propTypesColor),size:i.default.oneOf(f.propTypesSize),label:f.propTypesLabel,error:f.propTypesError,success:f.propTypesSuccess,arrow:f.propTypesArrow,value:f.propTypesValue,onChange:f.propTypesOnChange,selected:f.propTypesSelected,offset:f.propTypesOffset,dismiss:f.propTypesDismiss,animate:f.propTypesAnimate,lockScroll:f.propTypesLockScroll,labelProps:f.propTypesLabelProps,menuProps:f.propTypesMenuProps,className:f.propTypesClassName,disabled:f.propTypesDisabled,children:f.propTypesChildren},j.displayName="MaterialTailwind.Select";var R=Object.assign(j,{Option:m.SelectOption})})(Ure);var kre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Switch:function(){return A},default:function(){return g}});var r=h(Oe),i=h(wi),n=h(y0),a=h(Bi),o=Ri,s=h(ko),l=h(Si),c=yi,u=m0;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.color,b=p.label,x=p.ripple,w=p.className,C=p.containerProps,_=p.circleProps,B=p.labelProps,P=f(p,["color","label","ripple","className","containerProps","circleProps","labelProps"]),M=(0,c.useTheme)(),O=M.switch,I=O.defaultProps,F=O.valid,V=O.styles,Y=V.base,j=V.colors;y=y??I.color,x=x??I.ripple,w=w??I.className;var R=x!==void 0&&new n.default,H=(0,a.default)((0,l.default)(Y.root)),G=(0,o.twMerge)((0,a.default)((0,l.default)(Y.container)),C==null?void 0:C.className),$=(0,o.twMerge)((0,a.default)((0,l.default)(Y.input),(0,l.default)(j[(0,s.default)(F.colors,y,"blue")])),w),L=(0,o.twMerge)((0,a.default)((0,l.default)(Y.circle),j[(0,s.default)(F.colors,y,"blue")].circle,j[(0,s.default)(F.colors,y,"blue")].before),_==null?void 0:_.className),K=(0,a.default)((0,l.default)(Y.ripple)),X=(0,o.twMerge)((0,a.default)((0,l.default)(Y.label)),B==null?void 0:B.className);return r.default.createElement("div",{ref:v,className:H},r.default.createElement("div",d({},C,{className:G}),r.default.createElement("input",d({},P,{type:"checkbox",id:P.id||"switch",className:$})),r.default.createElement("label",d({},_,{htmlFor:P.id||"switch",className:L}),x&&r.default.createElement("div",{className:K,onMouseDown:function(ee){var W=C==null?void 0:C.onMouseDown;return x&&R.create(ee,"dark"),typeof W=="function"&&W(ee)}}))),b&&r.default.createElement("label",d({},B,{htmlFor:P.id||"switch",className:X}),b))});A.propTypes={color:i.default.oneOf(u.propTypesColor),label:u.propTypesLabel,ripple:u.propTypesRipple,className:u.propTypesClassName,containerProps:u.propTypesContainerProps,labelProps:u.propTypesLabelProps,circleProps:u.propTypesCircleProps},A.displayName="MaterialTailwind.Switch";var g=A})(kre);var jre={},r1={},w0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(h,f){for(var m in f)Object.defineProperty(h,m,{enumerable:!0,get:f[m]})}t(e,{propTypesId:function(){return a},propTypesValue:function(){return o},propTypesAnimate:function(){return s},propTypesDisabled:function(){return l},propTypesClassName:function(){return c},propTypesIndicator:function(){return u},propTypesChildren:function(){return d}});var r=n(wi),i=Ls;function n(h){return h&&h.__esModule?h:{default:h}}var a=r.default.string,o=r.default.oneOfType([r.default.string,r.default.number]).isRequired,s=i.propTypesAnimation,l=r.default.bool,c=r.default.string,u=r.default.instanceOf(Object),d=r.default.node.isRequired})(w0);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(C,_){for(var B in _)Object.defineProperty(C,B,{enumerable:!0,get:_[B]})}t(e,{TabsContext:function(){return g},useTabs:function(){return p},TabsContextProvider:function(){return v},setId:function(){return y},setActive:function(){return b},setAnimation:function(){return x},setIndicator:function(){return w}});var r=s(Oe),i=w0;function n(C,_){(_==null||_>C.length)&&(_=C.length);for(var B=0,P=new Array(_);B<_;B++)P[B]=C[B];return P}function a(C){if(Array.isArray(C))return C}function o(C,_,B){return _ in C?Object.defineProperty(C,_,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[_]=B,C}function s(C){return C&&C.__esModule?C:{default:C}}function l(C,_){var B=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(B!=null){var P=[],M=!0,O=!1,I,F;try{for(B=B.call(C);!(M=(I=B.next()).done)&&(P.push(I.value),!(_&&P.length===_));M=!0);}catch(V){O=!0,F=V}finally{try{!M&&B.return!=null&&B.return()}finally{if(O)throw F}}return P}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(C){for(var _=1;_<arguments.length;_++){var B=arguments[_]!=null?arguments[_]:{},P=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(B).filter(function(M){return Object.getOwnPropertyDescriptor(B,M).enumerable}))),P.forEach(function(M){o(C,M,B[M])})}return C}function d(C,_){var B=Object.keys(C);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(C);_&&(P=P.filter(function(M){return Object.getOwnPropertyDescriptor(C,M).enumerable})),B.push.apply(B,P)}return B}function h(C,_){return _=_??{},Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(B){Object.defineProperty(C,B,Object.getOwnPropertyDescriptor(_,B))}),C}function f(C,_){return a(C)||l(C,_)||m(C,_)||c()}function m(C,_){if(C){if(typeof C=="string")return n(C,_);var B=Object.prototype.toString.call(C).slice(8,-1);if(B==="Object"&&C.constructor&&(B=C.constructor.name),B==="Map"||B==="Set")return Array.from(B);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return n(C,_)}}function A(C,_){switch(_.type){case"SET_ID":return h(u({},C),{id:_.value});case"SET_ACTIVE":return h(u({},C),{active:_.value});case"SET_ANIMATION":return h(u({},C),{appliedAnimation:_.value});case"SET_INDICATOR":return h(u({},C),{indicatorProps:_.value});default:throw new Error("Unhandled action type: ".concat(_.type))}}var g=r.default.createContext(null);g.displayName="MaterialTailwind.TabsContext";function p(){var C=r.default.useContext(g);if(!C)throw new Error("useTabs() must be used within a Tabs. It happens when you use TabsHeader, TabsBody, Tab or TabPanel outside the Tabs component.");return C}var v=function(C){var _=C.id,B=C.value,P=C.children,M=r.default.useMemo(function(){return{id:_??"indicator",active:B,appliedAnimation:{unmount:{},mount:{}},indicatorProps:void 0}},[_,B]),O=f(r.default.useReducer(A,M),2),I=O[0],F=O[1],V=r.default.useMemo(function(){return{state:I,dispatch:F}},[I]);return r.default.createElement(g.Provider,{value:V},P)},y=function(C,_){return C({type:"SET_ID",value:_})},b=function(C,_){return C({type:"SET_ACTIVE",value:_})},x=function(C,_){return C({type:"SET_ANIMATION",value:_})},w=function(C,_){return C({type:"SET_INDICATOR",value:_})};v.propTypes={id:i.propTypesId,value:i.propTypesValue,children:i.propTypesChildren},v.displayName="MaterialTailwind.TabsContextProvider"})(r1);var zre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}t(e,{Tab:function(){return A},default:function(){return g}});var r=h(Oe),i=wc,n=h(Bi),a=Ri,o=h(Si),s=yi,l=r1,c=w0;function u(p,v,y){return v in p?Object.defineProperty(p,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[v]=y,p}function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(p[b]=y[b])}return p},d.apply(this,arguments)}function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(p==null)return{};var y=m(p,v),b,x;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(x=0;x<w.length;x++)b=w[x],!(v.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(y[b]=p[b])}return y}function m(p,v){if(p==null)return{};var y={},b=Object.keys(p),x,w;for(w=0;w<b.length;w++)x=b[w],!(v.indexOf(x)>=0)&&(y[x]=p[x]);return y}var A=r.default.forwardRef(function(p,v){var y=p.value,b=p.className,x=p.disabled,w=p.children,C=f(p,["value","className","disabled","children"]),_=(0,s.useTheme)(),B=_.tab,P=B.defaultProps,M=B.styles.base,O=(0,l.useTabs)(),I=O.state,F=O.dispatch,V=I.id,Y=I.active,j=I.indicatorProps;b=b??P.className,x=x??P.disabled;var R=(0,a.twMerge)((0,n.default)((0,o.default)(M.tab.initial),u({},(0,o.default)(M.tab.disabled),x)),b),H,G=(0,a.twMerge)((0,n.default)((0,o.default)(M.indicator)),(H=j==null?void 0:j.className)!==null&&H!==void 0?H:"");return r.default.createElement("li",d({},C,{ref:v,role:"tab",className:R,onClick:function($){var L=C==null?void 0:C.onClick;typeof L=="function"&&((0,l.setActive)(F,y),L($)),(0,l.setActive)(F,y)},"data-value":y}),r.default.createElement("div",{className:"z-20"},w),Y===y&&r.default.createElement(i.motion.div,d({},j,{transition:{duration:.5},className:G,layoutId:V})))});A.propTypes={value:c.propTypesValue,className:c.propTypesClassName,disabled:c.propTypesDisabled,children:c.propTypesChildren},A.displayName="MaterialTailwind.Tab";var g=A})(zre);var Hre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{TabsBody:function(){return m},default:function(){return A}});var r=d(Oe),i=d(uu),n=d(Bi),a=Ri,o=d(Si),s=yi,l=r1,c=w0;function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.animate,y=g.className,b=g.children,x=h(g,["animate","className","children"]),w=(0,s.useTheme)().tabsBody,C=w.defaultProps,_=w.styles.base,B=(0,l.useTabs)().dispatch;y=y??C.className,v=v??C.animate;var P=(0,a.twMerge)((0,n.default)((0,o.default)(_)),y),M=r.default.useMemo(function(){return{unmount:{opacity:0,position:"absolute",top:"0",left:"0",zIndex:1,transition:{duration:.5,times:[.4,0,.2,1]}},mount:{opacity:1,position:"relative",zIndex:2,transition:{duration:.5,times:[.4,0,.2,1]}}}},[]),O=r.default.useMemo(function(){return(0,i.default)(M,v)},[v,M]);return r.default.useEffect(function(){(0,l.setAnimation)(B,O)},[O,B]),r.default.createElement("div",u({},x,{ref:p,className:P}),b)});m.propTypes={animate:c.propTypesAnimate,className:c.propTypesClassName,children:c.propTypesChildren},m.displayName="MaterialTailwind.TabsBody";var A=m})(Hre);var Vre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,g){for(var p in g)Object.defineProperty(A,p,{enumerable:!0,get:g[p]})}t(e,{TabsHeader:function(){return f},default:function(){return m}});var r=u(Oe),i=u(Bi),n=Ri,a=u(Si),o=yi,s=r1,l=w0;function c(){return c=Object.assign||function(A){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(A[v]=p[v])}return A},c.apply(this,arguments)}function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(A==null)return{};var p=h(A,g),v,y;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(y=0;y<b.length;y++)v=b[y],!(g.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(A,v)&&(p[v]=A[v])}return p}function h(A,g){if(A==null)return{};var p={},v=Object.keys(A),y,b;for(b=0;b<v.length;b++)y=v[b],!(g.indexOf(y)>=0)&&(p[y]=A[y]);return p}var f=r.default.forwardRef(function(A,g){var p=A.indicatorProps,v=A.className,y=A.children,b=d(A,["indicatorProps","className","children"]),x=(0,o.useTheme)().tabsHeader,w=x.defaultProps,C=x.styles.base,_=(0,s.useTabs)().dispatch;r.default.useEffect(function(){(0,s.setIndicator)(_,p)},[_,p]),v=v??w.className;var B=(0,n.twMerge)((0,i.default)((0,a.default)(C)),v);return r.default.createElement("nav",null,r.default.createElement("ul",c({},b,{ref:g,role:"tablist",className:B}),y))});f.propTypes={indicatorProps:l.propTypesIndicator,className:l.propTypesClassName,children:l.propTypesChildren},f.displayName="MaterialTailwind.TabsHeader";var m=f})(Vre);var Qre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{TabPanel:function(){return m},default:function(){return A}});var r=d(Oe),i=wc,n=d(Bi),a=Ri,o=d(Si),s=yi,l=r1,c=w0;function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.value,y=g.className,b=g.children,x=h(g,["value","className","children"]),w=(0,s.useTheme)().tabPanel,C=w.defaultProps,_=w.styles.base,B=(0,l.useTabs)().state,P=B.active,M=B.appliedAnimation;y=y??C.className;var O=(0,a.twMerge)((0,n.default)((0,o.default)(_)),y),I=i.AnimatePresence;return r.default.createElement(I,{exitBeforeEnter:!0},r.default.createElement(i.motion.div,u({},x,{ref:p,role:"tabpanel",className:O,initial:"unmount",exit:"unmount",animate:P===v?"mount":"unmount",variants:M,"data-value":v}),b))});m.propTypes={value:c.propTypesValue,className:c.propTypesClassName,children:c.propTypesChildren},m.displayName="MaterialTailwind.TabPanel";var A=m})(Qre);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(y,b){for(var x in b)Object.defineProperty(y,x,{enumerable:!0,get:b[x]})}t(e,{Tabs:function(){return p},Tab:function(){return l.Tab},TabsBody:function(){return c.TabsBody},TabsHeader:function(){return u.TabsHeader},TabPanel:function(){return d.TabPanel},useTabs:function(){return s.useTabs},default:function(){return v}});var r=m(Oe),i=m(Bi),n=Ri,a=m(Si),o=yi,s=r1,l=zre,c=Hre,u=Vre,d=Qre,h=w0;function f(){return f=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(y[w]=x[w])}return y},f.apply(this,arguments)}function m(y){return y&&y.__esModule?y:{default:y}}function A(y,b){if(y==null)return{};var x=g(y,b),w,C;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);for(C=0;C<_.length;C++)w=_[C],!(b.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(y,w)&&(x[w]=y[w])}return x}function g(y,b){if(y==null)return{};var x={},w=Object.keys(y),C,_;for(_=0;_<w.length;_++)C=w[_],!(b.indexOf(C)>=0)&&(x[C]=y[C]);return x}var p=r.default.forwardRef(function(y,b){var x=y.id,w=y.value,C=y.className,_=y.children,B=A(y,["id","value","className","children"]),P=(0,o.useTheme)().tabs,M=P.defaultProps,O=P.styles.base;C=C??M.className;var I=(0,n.twMerge)((0,i.default)((0,a.default)(O)),C);return r.default.createElement(s.TabsContextProvider,{id:x,value:w},r.default.createElement("div",f({},B,{ref:b,className:I}),_))});p.propTypes={id:h.propTypesId,value:h.propTypesValue,className:h.propTypesClassName,children:h.propTypesChildren},p.displayName="MaterialTailwind.Tabs";var v=Object.assign(p,{Tab:l.Tab,Body:c.TabsBody,Header:u.TabsHeader,Panel:d.TabPanel})})(jre);var Wre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(g,p){for(var v in p)Object.defineProperty(g,v,{enumerable:!0,get:p[v]})}t(e,{Textarea:function(){return m},default:function(){return A}});var r=d(Oe),i=d(wi),n=d(Bi),a=d(ko),o=d(Si),s=yi,l=WC;function c(g,p,v){return p in g?Object.defineProperty(g,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[p]=v,g}function u(){return u=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},u.apply(this,arguments)}function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(g==null)return{};var v=f(g,p),y,b;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(b=0;b<x.length;b++)y=x[b],!(p.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(g,y)&&(v[y]=g[y])}return v}function f(g,p){if(g==null)return{};var v={},y=Object.keys(g),b,x;for(x=0;x<y.length;x++)b=y[x],!(p.indexOf(b)>=0)&&(v[b]=g[b]);return v}var m=r.default.forwardRef(function(g,p){var v=g.variant,y=g.color,b=g.size,x=g.label,w=g.error,C=g.success,_=g.resize,B=g.labelProps,P=g.className,M=h(g,["variant","color","size","label","error","success","resize","labelProps","className"]),O=(0,s.useTheme)().textarea,I=O.defaultProps,F=O.valid,V=O.styles,Y=V.base,j=V.variants;v=v??I.variant,b=b??I.size,y=y??I.color,x=x??I.label,B=B??I.labelProps,P=P??I.className;var R=j[(0,a.default)(F.variants,v,"outlined")],H=(0,o.default)(R.error.textarea),G=(0,o.default)(R.success.textarea),$=(0,o.default)(R.colors.textarea[(0,a.default)(F.colors,y,"blue")]),L=(0,o.default)(R.error.label),K=(0,o.default)(R.success.label),X=(0,o.default)(R.colors.label[(0,a.default)(F.colors,y,"blue")]),ee=(0,n.default)((0,o.default)(Y.container)),W=(0,n.default)((0,o.default)(Y.textarea),(0,o.default)(R.base.textarea),(0,o.default)(R.sizes[(0,a.default)(F.sizes,b,"md")].textarea),c({},$,!w&&!C),c({},H,w),c({},G,C),_?"":"!resize-none",P),te=(0,n.default)((0,o.default)(Y.label),(0,o.default)(R.base.label),(0,o.default)(R.sizes[(0,a.default)(F.sizes,b,"md")].label),c({},X,!w&&!C),c({},L,w),c({},K,C),B==null?void 0:B.className);return r.default.createElement("div",{ref:p,className:ee},r.default.createElement("textarea",u({},M,{className:W,placeholder:(M==null?void 0:M.placeholder)||" "})),r.default.createElement("label",{className:te},x))});m.propTypes={variant:i.default.oneOf(l.propTypesVariant),size:i.default.oneOf(l.propTypesSize),color:i.default.oneOf(l.propTypesColor),label:l.propTypesLabel,error:l.propTypesError,success:l.propTypesSuccess,resize:l.propTypesResize,labelProps:l.propTypesLabelProps,className:l.propTypesClassName},m.displayName="MaterialTailwind.Textarea";var A=m})(Wre);var Gre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(I,F){for(var V in F)Object.defineProperty(I,V,{enumerable:!0,get:F[V]})}t(e,{Tooltip:function(){return M},default:function(){return O}});var r=p(Oe),i=p(wi),n=ug,a=wc,o=p(b0),s=p(Bi),l=Ri,c=p(uu),u=p(Si),d=yi,h=t1;function f(I,F){(F==null||F>I.length)&&(F=I.length);for(var V=0,Y=new Array(F);V<F;V++)Y[V]=I[V];return Y}function m(I){if(Array.isArray(I))return I}function A(I,F,V){return F in I?Object.defineProperty(I,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):I[F]=V,I}function g(){return g=Object.assign||function(I){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(I[Y]=V[Y])}return I},g.apply(this,arguments)}function p(I){return I&&I.__esModule?I:{default:I}}function v(I,F){var V=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(V!=null){var Y=[],j=!0,R=!1,H,G;try{for(V=V.call(I);!(j=(H=V.next()).done)&&(Y.push(H.value),!(F&&Y.length===F));j=!0);}catch($){R=!0,G=$}finally{try{!j&&V.return!=null&&V.return()}finally{if(R)throw G}}return Y}}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(I){for(var F=1;F<arguments.length;F++){var V=arguments[F]!=null?arguments[F]:{},Y=Object.keys(V);typeof Object.getOwnPropertySymbols=="function"&&(Y=Y.concat(Object.getOwnPropertySymbols(V).filter(function(j){return Object.getOwnPropertyDescriptor(V,j).enumerable}))),Y.forEach(function(j){A(I,j,V[j])})}return I}function x(I,F){var V=Object.keys(I);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(I);F&&(Y=Y.filter(function(j){return Object.getOwnPropertyDescriptor(I,j).enumerable})),V.push.apply(V,Y)}return V}function w(I,F){return F=F??{},Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):x(Object(F)).forEach(function(V){Object.defineProperty(I,V,Object.getOwnPropertyDescriptor(F,V))}),I}function C(I,F){if(I==null)return{};var V=_(I,F),Y,j;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(I);for(j=0;j<R.length;j++)Y=R[j],!(F.indexOf(Y)>=0)&&Object.prototype.propertyIsEnumerable.call(I,Y)&&(V[Y]=I[Y])}return V}function _(I,F){if(I==null)return{};var V={},Y=Object.keys(I),j,R;for(R=0;R<Y.length;R++)j=Y[R],!(F.indexOf(j)>=0)&&(V[j]=I[j]);return V}function B(I,F){return m(I)||v(I,F)||P(I,F)||y()}function P(I,F){if(I){if(typeof I=="string")return f(I,F);var V=Object.prototype.toString.call(I).slice(8,-1);if(V==="Object"&&I.constructor&&(V=I.constructor.name),V==="Map"||V==="Set")return Array.from(V);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return f(I,F)}}var M=r.default.forwardRef(function(I,F){var V=I.open,Y=I.handler,j=I.content,R=I.interactive,H=I.placement,G=I.offset,$=I.dismiss,L=I.animate,K=I.className,X=I.children,ee=C(I,["open","handler","content","interactive","placement","offset","dismiss","animate","className","children"]),W=(0,d.useTheme)().tooltip,te=W.defaultProps,oe=W.styles.base,le=B(r.default.useState(!1),2),be=le[0],ve=le[1];V=V??be,Y=Y??ve,R=R??te.interactive,H=H??te.placement,G=G??te.offset,$=$??te.dismiss,L=L??te.animate,K=K??te.className;var se=(0,l.twMerge)((0,s.default)((0,u.default)(oe)),K),ye={unmount:{opacity:0},mount:{opacity:1}},Be=(0,c.default)(ye,L),ge=(0,n.useFloating)({open:V,onOpenChange:Y,middleware:[(0,n.offset)(G),(0,n.flip)(),(0,n.shift)()],placement:H}),ae=ge.x,Ne=ge.y,Ie=ge.reference,Ee=ge.floating,Qe=ge.strategy,We=ge.refs,de=ge.update,re=ge.context,Re=(0,n.useInteractions)([(0,n.useClick)(re,{enabled:R}),(0,n.useFocus)(re),(0,n.useHover)(re),(0,n.useRole)(re,{role:"tooltip"}),(0,n.useDismiss)(re,$)]),Ke=Re.getReferenceProps,ie=Re.getFloatingProps;r.default.useEffect(function(){if(We.reference.current&&We.floating.current&&V)return(0,n.autoUpdate)(We.reference.current,We.floating.current,de)},[V,de,We.reference,We.floating]);var st=r.default.useMemo(function(){return(0,o.default)([F,Ee])},[Ee,F]),wt=r.default.useMemo(function(){return(0,o.default)([F,Ie])},[Ie,F]),ut=a.AnimatePresence;return r.default.createElement(r.default.Fragment,null,typeof X=="string"?r.default.createElement("span",g({},Ke({ref:wt})),X):r.default.cloneElement(X,b({},Ke(w(b({},X==null?void 0:X.props),{ref:wt})))),r.default.createElement(n.FloatingPortal,null,r.default.createElement(ut,null,V&&r.default.createElement(a.motion.div,g({},ie(w(b({},ee),{ref:st,className:se,style:{position:Qe,top:Ne??"",left:ae??""}})),{initial:"unmount",exit:"unmount",animate:V?"mount":"unmount",variants:Be}),j))))});M.propTypes={open:h.propTypesOpen,handler:h.propTypesHandler,content:h.propTypesContent,interactive:h.propTypesInteractive,placement:i.default.oneOf(h.propTypesPlacement),offset:h.propTypesOffset,dismiss:h.propTypesDismiss,animate:h.propTypesAnimate,className:h.propTypesClassName,children:h.propTypesChildren},M.displayName="MaterialTailwind.Tooltip";var O=M})(Gre);var qre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(y,b){for(var x in b)Object.defineProperty(y,x,{enumerable:!0,get:b[x]})}t(e,{Typography:function(){return p},default:function(){return v}});var r=d(Oe),i=d(wi),n=d(Bi),a=Ri,o=d(ko),s=d(Si),l=yi,c=Tk;function u(y,b,x){return b in y?Object.defineProperty(y,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[b]=x,y}function d(y){return y&&y.__esModule?y:{default:y}}function h(y){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{},w=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(w=w.concat(Object.getOwnPropertySymbols(x).filter(function(C){return Object.getOwnPropertyDescriptor(x,C).enumerable}))),w.forEach(function(C){u(y,C,x[C])})}return y}function f(y,b){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);b&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),x.push.apply(x,w)}return x}function m(y,b){return b=b??{},Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):f(Object(b)).forEach(function(x){Object.defineProperty(y,x,Object.getOwnPropertyDescriptor(b,x))}),y}function A(y,b){if(y==null)return{};var x=g(y,b),w,C;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);for(C=0;C<_.length;C++)w=_[C],!(b.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(y,w)&&(x[w]=y[w])}return x}function g(y,b){if(y==null)return{};var x={},w=Object.keys(y),C,_;for(_=0;_<w.length;_++)C=w[_],!(b.indexOf(C)>=0)&&(x[C]=y[C]);return x}var p=r.default.forwardRef(function(y,b){var x=y.variant,w=y.color,C=y.textGradient,_=y.as,B=y.className,P=y.children,M=A(y,["variant","color","textGradient","as","className","children"]),O=(0,l.useTheme)().typography,I=O.defaultProps,F=O.valid,V=O.styles,Y=V.variants,j=V.colors,R=V.textGradient;x=x??I.variant,w=w??I.color,C=C||I.textGradient,_=_??void 0,B=B??I.className;var H=(0,s.default)(Y[(0,o.default)(F.variants,x,"paragraph")]),G=j[(0,o.default)(F.colors,w,"inherit")],$=(0,s.default)(R),L=(0,a.twMerge)((0,n.default)(H,u({},G.color,!C),u({},$,C),u({},G.gradient,C)),B),K;switch(x){case"h1":K=r.default.createElement(_||"h1",m(h({},M),{ref:b,className:L}),P);break;case"h2":K=r.default.createElement(_||"h2",m(h({},M),{ref:b,className:L}),P);break;case"h3":K=r.default.createElement(_||"h3",m(h({},M),{ref:b,className:L}),P);break;case"h4":K=r.default.createElement(_||"h4",m(h({},M),{ref:b,className:L}),P);break;case"h5":K=r.default.createElement(_||"h5",m(h({},M),{ref:b,className:L}),P);break;case"h6":K=r.default.createElement(_||"h6",m(h({},M),{ref:b,className:L}),P);break;case"lead":K=r.default.createElement(_||"p",m(h({},M),{ref:b,className:L}),P);break;case"paragraph":K=r.default.createElement(_||"p",m(h({},M),{ref:b,className:L}),P);break;case"small":K=r.default.createElement(_||"p",m(h({},M),{ref:b,className:L}),P);break;default:K=r.default.createElement(_||"p",m(h({},M),{ref:b,className:L}),P);break}return K});p.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),as:c.propTypesAs,textGradient:c.propTypesTextGradient,className:c.propTypesClassName,children:c.propTypesChildren},p.displayName="MaterialTailwind.Typography";var v=p})(qre);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),t(pZ,e),t(lre,e),t(cre,e),t(ure,e),t(hre,e),t(fre,e),t(mre,e),t(vre,e),t(yre,e),t(Cre,e),t(_re,e),t(Sre,e),t(Tre,e),t(Dre,e),t(Lre,e),t(Rre,e),t(Ure,e),t(kre,e),t(jre,e),t(Wre,e),t(Gre,e),t(qre,e),t(yi,e),t(yk,e);function t(r,i){return Object.keys(r).forEach(function(n){n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:function(){return r[n]}})}),r}})(mr);function Cve({title:e,titleId:t,...r},i){return Oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?Oe.createElement("title",{id:t},e):null,Oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const _ve=Oe.forwardRef(Cve),Kre=_ve,Xre=al.createContext(null);Xre.displayName="MaterialTailwindContext";function e_(){const e=al.useContext(Xre);if(!e)throw new Error("useMaterialTailwindController should be used inside the MaterialTailwindControllerProvider.");return e}fc.node.isRequired;const Sve=(e,t)=>e({type:"OPEN_SIDENAV",value:t}),qO=(e,t)=>e({type:"SIDENAV_TYPE",value:t}),Eve=(e,t)=>e({type:"SIDENAV_COLOR",value:t}),Bve=(e,t)=>e({type:"FIXED_NAVBAR",value:t}),Zk=(e,t)=>e({type:"OPEN_CONFIGURATOR",value:t});function t_({brandImg:e,routes:t}){const[r,i]=e_(),{sidenavColor:n,sidenavType:a,openSidenav:o}=r,s={dark:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",white:"bg-white shadow-lg",transparent:"bg-transparent"},c=localStorage.getItem("username")||"{username}";return N.jsx(N.Fragment,{children:N.jsxs("aside",{className:`${s[a]} ${o?"translate-x-0":"-translate-x-80"} fixed inset-0 z-50 my-4 ml-4 h-[calc(100vh-32px)] w-72 rounded-xl transition-transform duration-300 xl:translate-x-0`,children:[N.jsxs("div",{className:`relative border-b ${a==="dark"?"border-white/20":"border-blue-gray-50"}`,children:[N.jsxs(Tn,{to:"/",className:"flex items-center gap-4 py-6 px-8",children:[N.jsx(mr.Avatar,{src:e,size:"lg"}),N.jsx(mr.Typography,{variant:"h6",color:a==="dark"?"white":"blue-gray",children:c})]}),N.jsx(mr.IconButton,{variant:"text",color:"white",size:"sm",ripple:!1,className:"absolute right-0 top-0 grid rounded-br-none rounded-tl-none xl:hidden",onClick:()=>Sve(i,!1),children:N.jsx(Kre,{strokeWidth:2.5,className:"h-5 w-5 text-white"})})]}),N.jsx("div",{className:"m-4",children:t.map(({layout:u,title:d,pages:h},f)=>N.jsxs("ul",{className:"mb-4 flex flex-col gap-1",children:[d&&N.jsx("li",{className:"mx-3.5 mt-4 mb-2",children:N.jsx(mr.Typography,{variant:"small",color:a==="dark"?"white":"blue-gray",className:"font-black uppercase opacity-75",children:d})}),h.map(({icon:m,name:A,path:g})=>N.jsx("li",{children:N.jsx(bAe,{to:`/${u}${g}`,children:({isActive:p})=>N.jsxs(mr.Button,{variant:p?"gradient":"text",color:p?n:a==="dark"?"white":"blue-gray",className:"flex items-center gap-4 px-4 capitalize",fullWidth:!0,children:[m,N.jsx(mr.Typography,{color:"inherit",className:"font-medium capitalize",children:A})]})})},A))]},f))})]})})}t_.defaultProps={brandImg:"/img/dropleet_logo.png"};t_.propTypes={brandImg:fc.string,brandName:fc.string,routes:fc.arrayOf(fc.object).isRequired};t_.displayName="/src/widgets/layout/sidnave.jsx";function ej(){const[e,t]=e_(),{fixedNavbar:r,openSidenav:i}=e,{pathname:n}=$b();return n.split("/").filter(a=>a!==""),N.jsx(mr.Navbar,{color:r?"white":"transparent",className:`rounded-xl transition-all ${r?"sticky top-4 z-40 py-3 shadow-md shadow-blue-gray-500/5":"px-0 py-1"}`,fullWidth:!0,blurred:r})}ej.displayName="/src/widgets/layout/dashboard-navbar.jsx";function Mve(e,t){t=Math.pow(10,t);const r=["K","M","B","T"];for(let n=r.length-1;n>=0;n--){var i=Math.pow(10,(n+1)*3);if(i<=e){e=Math.round(e*t/i)/t,e==1e3&&n<r.length-1&&(e=1,n++),e+=r[n];break}}return e}function tj(){const[e,t]=e_(),{openConfigurator:r,sidenavColor:i,sidenavType:n,fixedNavbar:a}=e,[o,s]=al.useState(0),l={blue:"from-blue-400 to-blue-600","blue-gray":"from-blue-gray-800 to-blue-gray-900",green:"from-green-400 to-green-600",orange:"from-orange-400 to-orange-600",red:"from-red-400 to-red-600",pink:"from-pink-400 to-pink-600"};return al.useEffect(()=>{fetch("https://api.github.com/repos/creativetimofficial/material-tailwind-dashboard-react").then(c=>c.json()).then(c=>s(Mve(c.stargazers_count,1)))},[]),N.jsxs("aside",{className:`fixed top-0 right-0 z-50 h-screen w-96 bg-white px-2.5 shadow-lg transition-transform duration-300 ${r?"translate-x-0":"translate-x-96"}`,children:[N.jsxs("div",{className:"flex items-start justify-between px-6 pt-8 pb-6",children:[N.jsxs("div",{children:[N.jsx(mr.Typography,{variant:"h5",color:"blue-gray",children:"Dashboard Configurator"}),N.jsx(mr.Typography,{className:"font-normal text-blue-gray-600",children:"See our dashboard options."})]}),N.jsx(mr.IconButton,{variant:"text",color:"blue-gray",onClick:()=>Zk(t,!1),children:N.jsx(Kre,{strokeWidth:2.5,className:"h-5 w-5"})})]}),N.jsxs("div",{className:"py-4 px-6",children:[N.jsxs("div",{className:"mb-12",children:[N.jsx(mr.Typography,{variant:"h6",color:"blue-gray",children:"Sidenav Colors"}),N.jsx("div",{className:"mt-3 flex items-center gap-2",children:Object.keys(l).map(c=>N.jsx("span",{className:`h-6 w-6 cursor-pointer rounded-full border bg-gradient-to-br transition-transform hover:scale-105 ${l[c]} ${i===c?"border-black":"border-transparent"}`,onClick:()=>Eve(t,c)},c))})]}),N.jsxs("div",{className:"mb-12",children:[N.jsx(mr.Typography,{variant:"h6",color:"blue-gray",children:"Sidenav Types"}),N.jsx(mr.Typography,{variant:"small",color:"gray",children:"Choose between 3 different sidenav types."}),N.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[N.jsx(mr.Button,{variant:n==="dark"?"gradient":"outlined",onClick:()=>qO(t,"dark"),children:"Dark"}),N.jsx(mr.Button,{variant:n==="transparent"?"gradient":"outlined",onClick:()=>qO(t,"transparent"),children:"Transparent"}),N.jsx(mr.Button,{variant:n==="white"?"gradient":"outlined",onClick:()=>qO(t,"white"),children:"White"})]})]}),N.jsxs("div",{className:"mb-12",children:[N.jsx("hr",{}),N.jsxs("div",{className:"flex items-center justify-between py-5",children:[N.jsx(mr.Typography,{variant:"h6",color:"blue-gray",children:"Navbar Fixed"}),N.jsx(mr.Switch,{id:"navbar-fixed",value:a,onChange:()=>Bve(t,!a)})]}),N.jsx("hr",{}),N.jsx("div",{className:"my-8 flex flex-col gap-4"})]}),N.jsx("div",{className:"text-center",children:N.jsx("div",{className:"mt-4 flex justify-center gap-2"})})]})]})}tj.displayName="/src/widgets/layout/configurator.jsx";function r_({brandName:e,brandLink:t,routes:r}){return new Date().getFullYear(),N.jsx("footer",{className:"py-2",children:N.jsx("div",{className:"flex w-full flex-wrap items-center justify-center gap-6 px-2 md:justify-between",children:N.jsx("ul",{className:"flex items-center gap-4",children:r.map(({name:i,path:n})=>N.jsx("li",{children:N.jsx(mr.Typography,{as:"a",href:n,target:"_blank",variant:"small",className:"py-0.5 px-1 font-normal text-inherit transition-colors hover:text-blue-500",children:i})},i))})})})}r_.defaultProps={brandName:"Credgm",brandLink:"#",routes:[{name:"",path:"#"},{name:"",path:"#/presentation"},{name:"",path:"#/blog"},{name:"",path:"#/license"}]};r_.propTypes={brandName:fc.string,brandLink:fc.string,routes:fc.arrayOf(fc.object)};r_.displayName="/src/widgets/layout/footer.jsx";fc.string,fc.arrayOf(fc.object).isRequired,fc.node;var rj={},Yre={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Yre);var Ra=Yre.exports,KO={};function hm(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function $re(e){if(!hm(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=$re(e[r])}),t}function Bf(e,t,r={clone:!0}){const i=r.clone?{...e}:e;return hm(e)&&hm(t)&&Object.keys(t).forEach(n=>{n!=="__proto__"&&(hm(t[n])&&n in e&&hm(e[n])?i[n]=Bf(e[n],t[n],r):r.clone?i[n]=hm(t[n])?$re(t[n]):t[n]:i[n]=t[n])}),i}function _b(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function tu(e){if(typeof e!="string")throw new Error(_b(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Pve(...e){return e.reduce((t,r)=>r==null?t:function(...n){t.apply(this,n),r.apply(this,n)},()=>{})}function Tve(e,t=166){let r;function i(...n){const a=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(a,t)}return i.clear=()=>{clearTimeout(r)},i}function Ove(e,t){return()=>null}function Dve(e,t){return Oe.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Jre(e){return e&&e.ownerDocument||document}function Ive(e){return Jre(e).defaultView||window}function Fve(e,t){return()=>null}function Zre(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Lve=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect,eie=Lve;let ZV=0;function Rve(e){const[t,r]=Oe.useState(e),i=e||t;return Oe.useEffect(()=>{t==null&&(ZV+=1,r(`mui-${ZV}`))},[t]),i}const e8=$I["useId".toString()];function Uve(e){if(e8!==void 0){const t=e8();return e??t}return Rve(e)}function Nve(e,t,r,i,n){return null}function kve({controlled:e,default:t,name:r,state:i="value"}){const{current:n}=Oe.useRef(e!==void 0),[a,o]=Oe.useState(t),s=n?e:a,l=Oe.useCallback(c=>{n||o(c)},[]);return[s,l]}function jve(e){const t=Oe.useRef(e);return eie(()=>{t.current=e}),Oe.useCallback((...r)=>(0,t.current)(...r),[])}function zve(...e){return Oe.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{Zre(r,t)})},e)}let DT=!0,cL=!1,t8;const Hve={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Vve(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Hve[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Qve(e){e.metaKey||e.altKey||e.ctrlKey||(DT=!0)}function XO(){DT=!1}function Wve(){this.visibilityState==="hidden"&&cL&&(DT=!0)}function Gve(e){e.addEventListener("keydown",Qve,!0),e.addEventListener("mousedown",XO,!0),e.addEventListener("pointerdown",XO,!0),e.addEventListener("touchstart",XO,!0),e.addEventListener("visibilitychange",Wve,!0)}function qve(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return DT||Vve(t)}function Kve(){const e=Oe.useCallback(n=>{n!=null&&Gve(n.ownerDocument)},[]),t=Oe.useRef(!1);function r(){return t.current?(cL=!0,window.clearTimeout(t8),t8=window.setTimeout(()=>{cL=!1},100),t.current=!1,!0):!1}function i(n){return qve(n)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:i,onBlur:r,ref:e}}function tie(e,t){const r={...t};return Object.keys(e).forEach(i=>{if(i.toString().match(/^(components|slots)$/))r[i]={...e[i],...r[i]};else if(i.toString().match(/^(componentsProps|slotProps)$/)){const n=e[i]||{},a=t[i];r[i]={},!a||!Object.keys(a)?r[i]=n:!n||!Object.keys(n)?r[i]=a:(r[i]={...a},Object.keys(n).forEach(o=>{r[i][o]=tie(n[o],a[o])}))}else r[i]===void 0&&(r[i]=e[i])}),r}function i1(e,t,r=void 0){const i={};return Object.keys(e).forEach(n=>{i[n]=e[n].reduce((a,o)=>{if(o){const s=t(o);s!==""&&a.push(s),r&&r[o]&&a.push(r[o])}return a},[]).join(" ")}),i}const r8=e=>e,Xve=()=>{let e=r8;return{configure(t){e=t},generate(t){return e(t)},reset(){e=r8}}},Yve=Xve(),rie=Yve,$ve={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function x0(e,t,r="Mui"){const i=$ve[t];return i?`${r}-${i}`:`${rie.generate(e)}-${t}`}function n1(e,t,r="Mui"){const i={};return t.forEach(n=>{i[n]=x0(e,n,r)}),i}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Kr.apply(this,arguments)}function dl(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function iie(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=iie(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function a1(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=iie(e))&&(i&&(i+=" "),i+=t);return i}function nie(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Jve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Zve=nie(function(e){return Jve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function eye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tye(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var rye=function(){function e(r){var i=this;this._insertTag=function(n){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(n,a),i.tags.push(n)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tye(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=eye(n);try{a.insertRule(i,a.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),bs="-ms-",MM="-moz-",$i="-webkit-",aie="comm",ij="rule",nj="decl",iye="@import",oie="@keyframes",nye="@layer",aye=Math.abs,IT=String.fromCharCode,oye=Object.assign;function sye(e,t){return Ko(e,0)^45?(((t<<2^Ko(e,0))<<2^Ko(e,1))<<2^Ko(e,2))<<2^Ko(e,3):0}function sie(e){return e.trim()}function lye(e,t){return(e=t.exec(e))?e[0]:e}function Ji(e,t,r){return e.replace(t,r)}function uL(e,t){return e.indexOf(t)}function Ko(e,t){return e.charCodeAt(t)|0}function $2(e,t,r){return e.slice(t,r)}function Wd(e){return e.length}function aj(e){return e.length}function SS(e,t){return t.push(e),e}function cye(e,t){return e.map(t).join("")}var FT=1,Sb=1,lie=0,kl=0,Ha=0,o1="";function LT(e,t,r,i,n,a,o){return{value:e,root:t,parent:r,type:i,props:n,children:a,line:FT,column:Sb,length:o,return:""}}function xw(e,t){return oye(LT("",null,null,"",null,null,0),e,{length:-e.length},t)}function uye(){return Ha}function dye(){return Ha=kl>0?Ko(o1,--kl):0,Sb--,Ha===10&&(Sb=1,FT--),Ha}function gc(){return Ha=kl<lie?Ko(o1,kl++):0,Sb++,Ha===10&&(Sb=1,FT++),Ha}function oh(){return Ko(o1,kl)}function o5(){return kl}function i_(e,t){return $2(o1,e,t)}function J2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cie(e){return FT=Sb=1,lie=Wd(o1=e),kl=0,[]}function uie(e){return o1="",e}function s5(e){return sie(i_(kl-1,dL(e===91?e+2:e===40?e+1:e)))}function hye(e){for(;(Ha=oh())&&Ha<33;)gc();return J2(e)>2||J2(Ha)>3?"":" "}function fye(e,t){for(;--t&&gc()&&!(Ha<48||Ha>102||Ha>57&&Ha<65||Ha>70&&Ha<97););return i_(e,o5()+(t<6&&oh()==32&&gc()==32))}function dL(e){for(;gc();)switch(Ha){case e:return kl;case 34:case 39:e!==34&&e!==39&&dL(Ha);break;case 40:e===41&&dL(e);break;case 92:gc();break}return kl}function pye(e,t){for(;gc()&&e+Ha!==47+10;)if(e+Ha===42+42&&oh()===47)break;return"/*"+i_(t,kl-1)+"*"+IT(e===47?e:gc())}function Aye(e){for(;!J2(oh());)gc();return i_(e,kl)}function gye(e){return uie(l5("",null,null,null,[""],e=cie(e),0,[0],e))}function l5(e,t,r,i,n,a,o,s,l){for(var c=0,u=0,d=o,h=0,f=0,m=0,A=1,g=1,p=1,v=0,y="",b=n,x=a,w=i,C=y;g;)switch(m=v,v=gc()){case 40:if(m!=108&&Ko(C,d-1)==58){uL(C+=Ji(s5(v),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=s5(v);break;case 9:case 10:case 13:case 32:C+=hye(m);break;case 92:C+=fye(o5()-1,7);continue;case 47:switch(oh()){case 42:case 47:SS(mye(pye(gc(),o5()),t,r),l);break;default:C+="/"}break;case 123*A:s[c++]=Wd(C)*p;case 125*A:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:p==-1&&(C=Ji(C,/\f/g,"")),f>0&&Wd(C)-d&&SS(f>32?n8(C+";",i,r,d-1):n8(Ji(C," ","")+";",i,r,d-2),l);break;case 59:C+=";";default:if(SS(w=i8(C,t,r,c,u,n,s,y,b=[],x=[],d),a),v===123)if(u===0)l5(C,t,w,w,b,a,d,s,x);else switch(h===99&&Ko(C,3)===110?100:h){case 100:case 108:case 109:case 115:l5(e,w,w,i&&SS(i8(e,w,w,0,0,n,s,y,n,b=[],d),x),n,x,d,s,i?b:x);break;default:l5(C,w,w,w,[""],x,0,s,x)}}c=u=f=0,A=p=1,y=C="",d=o;break;case 58:d=1+Wd(C),f=m;default:if(A<1){if(v==123)--A;else if(v==125&&A++==0&&dye()==125)continue}switch(C+=IT(v),v*A){case 38:p=u>0?1:(C+="\f",-1);break;case 44:s[c++]=(Wd(C)-1)*p,p=1;break;case 64:oh()===45&&(C+=s5(gc())),h=oh(),u=d=Wd(y=C+=Aye(o5())),v++;break;case 45:m===45&&Wd(C)==2&&(A=0)}}return a}function i8(e,t,r,i,n,a,o,s,l,c,u){for(var d=n-1,h=n===0?a:[""],f=aj(h),m=0,A=0,g=0;m<i;++m)for(var p=0,v=$2(e,d+1,d=aye(A=o[m])),y=e;p<f;++p)(y=sie(A>0?h[p]+" "+v:Ji(v,/&\f/g,h[p])))&&(l[g++]=y);return LT(e,t,r,n===0?ij:s,l,c,u)}function mye(e,t,r){return LT(e,t,r,aie,IT(uye()),$2(e,2,-2),0)}function n8(e,t,r,i){return LT(e,t,r,nj,$2(e,0,i),$2(e,i+1,-1),i)}function Wy(e,t){for(var r="",i=aj(e),n=0;n<i;n++)r+=t(e[n],n,e,t)||"";return r}function vye(e,t,r,i){switch(e.type){case nye:if(e.children.length)break;case iye:case nj:return e.return=e.return||e.value;case aie:return"";case oie:return e.return=e.value+"{"+Wy(e.children,i)+"}";case ij:e.value=e.props.join(",")}return Wd(r=Wy(e.children,i))?e.return=e.value+"{"+r+"}":""}function yye(e){var t=aj(e);return function(r,i,n,a){for(var o="",s=0;s<t;s++)o+=e[s](r,i,n,a)||"";return o}}function bye(e){return function(t){t.root||(t=t.return)&&e(t)}}var wye=function(t,r,i){for(var n=0,a=0;n=a,a=oh(),n===38&&a===12&&(r[i]=1),!J2(a);)gc();return i_(t,kl)},xye=function(t,r){var i=-1,n=44;do switch(J2(n)){case 0:n===38&&oh()===12&&(r[i]=1),t[i]+=wye(kl-1,r,i);break;case 2:t[i]+=s5(n);break;case 4:if(n===44){t[++i]=oh()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=IT(n)}while(n=gc());return t},Cye=function(t,r){return uie(xye(cie(t),r))},a8=new WeakMap,_ye=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,n=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!a8.get(i))&&!n){a8.set(t,!0);for(var a=[],o=Cye(r,a),s=i.props,l=0,c=0;l<o.length;l++)for(var u=0;u<s.length;u++,c++)t.props[c]=a[l]?o[l].replace(/&\f/g,s[u]):s[u]+" "+o[l]}}},Sye=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function die(e,t){switch(sye(e,t)){case 5103:return $i+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $i+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $i+e+MM+e+bs+e+e;case 6828:case 4268:return $i+e+bs+e+e;case 6165:return $i+e+bs+"flex-"+e+e;case 5187:return $i+e+Ji(e,/(\w+).+(:[^]+)/,$i+"box-$1$2"+bs+"flex-$1$2")+e;case 5443:return $i+e+bs+"flex-item-"+Ji(e,/flex-|-self/,"")+e;case 4675:return $i+e+bs+"flex-line-pack"+Ji(e,/align-content|flex-|-self/,"")+e;case 5548:return $i+e+bs+Ji(e,"shrink","negative")+e;case 5292:return $i+e+bs+Ji(e,"basis","preferred-size")+e;case 6060:return $i+"box-"+Ji(e,"-grow","")+$i+e+bs+Ji(e,"grow","positive")+e;case 4554:return $i+Ji(e,/([^-])(transform)/g,"$1"+$i+"$2")+e;case 6187:return Ji(Ji(Ji(e,/(zoom-|grab)/,$i+"$1"),/(image-set)/,$i+"$1"),e,"")+e;case 5495:case 3959:return Ji(e,/(image-set\([^]*)/,$i+"$1$`$1");case 4968:return Ji(Ji(e,/(.+:)(flex-)?(.*)/,$i+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$i+e+e;case 4095:case 3583:case 4068:case 2532:return Ji(e,/(.+)-inline(.+)/,$i+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wd(e)-1-t>6)switch(Ko(e,t+1)){case 109:if(Ko(e,t+4)!==45)break;case 102:return Ji(e,/(.+:)(.+)-([^]+)/,"$1"+$i+"$2-$3$1"+MM+(Ko(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uL(e,"stretch")?die(Ji(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ko(e,t+1)!==115)break;case 6444:switch(Ko(e,Wd(e)-3-(~uL(e,"!important")&&10))){case 107:return Ji(e,":",":"+$i)+e;case 101:return Ji(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$i+(Ko(e,14)===45?"inline-":"")+"box$3$1"+$i+"$2$3$1"+bs+"$2box$3")+e}break;case 5936:switch(Ko(e,t+11)){case 114:return $i+e+bs+Ji(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $i+e+bs+Ji(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $i+e+bs+Ji(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $i+e+bs+e+e}return e}var Eye=function(t,r,i,n){if(t.length>-1&&!t.return)switch(t.type){case nj:t.return=die(t.value,t.length);break;case oie:return Wy([xw(t,{value:Ji(t.value,"@","@"+$i)})],n);case ij:if(t.length)return cye(t.props,function(a){switch(lye(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wy([xw(t,{props:[Ji(a,/:(read-\w+)/,":"+MM+"$1")]})],n);case"::placeholder":return Wy([xw(t,{props:[Ji(a,/:(plac\w+)/,":"+$i+"input-$1")]}),xw(t,{props:[Ji(a,/:(plac\w+)/,":"+MM+"$1")]}),xw(t,{props:[Ji(a,/:(plac\w+)/,bs+"input-$1")]})],n)}return""})}},Bye=[Eye],Mye=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var g=A.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var n=t.stylisPlugins||Bye,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(A){for(var g=A.getAttribute("data-emotion").split(" "),p=1;p<g.length;p++)a[g[p]]=!0;s.push(A)});var l,c=[_ye,Sye];{var u,d=[vye,bye(function(A){u.insert(A)})],h=yye(c.concat(n,d)),f=function(g){return Wy(gye(g),h)};l=function(g,p,v,y){u=v,f(g?g+"{"+p.styles+"}":p.styles),y&&(m.inserted[p.name]=!0)}}var m={key:r,sheet:new rye({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return m.sheet.hydrate(s),m},Pye=!0;function Tye(e,t,r){var i="";return r.split(" ").forEach(function(n){e[n]!==void 0?t.push(e[n]+";"):i+=n+" "}),i}var hie=function(t,r,i){var n=t.key+"-"+r.name;(i===!1||Pye===!1)&&t.registered[n]===void 0&&(t.registered[n]=r.styles)},Oye=function(t,r,i){hie(t,r,i);var n=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+n:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function Dye(e){for(var t=0,r,i=0,n=e.length;n>=4;++i,n-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(n){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Iye={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fye=/[A-Z]|^ms/g,Lye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fie=function(t){return t.charCodeAt(1)===45},o8=function(t){return t!=null&&typeof t!="boolean"},YO=nie(function(e){return fie(e)?e:e.replace(Fye,"-$&").toLowerCase()}),s8=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Lye,function(i,n,a){return Gd={name:n,styles:a,next:Gd},n})}return Iye[t]!==1&&!fie(t)&&typeof r=="number"&&r!==0?r+"px":r};function Z2(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Gd={name:r.name,styles:r.styles,next:Gd},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Gd={name:i.name,styles:i.styles,next:Gd},i=i.next;var n=r.styles+";";return n}return Rye(e,t,r)}case"function":{if(e!==void 0){var a=Gd,o=r(e);return Gd=a,Z2(e,t,o)}break}}if(t==null)return r;var s=t[r];return s!==void 0?s:r}function Rye(e,t,r){var i="";if(Array.isArray(r))for(var n=0;n<r.length;n++)i+=Z2(e,t,r[n])+";";else for(var a in r){var o=r[a];if(typeof o!="object")t!=null&&t[o]!==void 0?i+=a+"{"+t[o]+"}":o8(o)&&(i+=YO(a)+":"+s8(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var s=0;s<o.length;s++)o8(o[s])&&(i+=YO(a)+":"+s8(a,o[s])+";");else{var l=Z2(e,t,o);switch(a){case"animation":case"animationName":{i+=YO(a)+":"+l+";";break}default:i+=a+"{"+l+"}"}}}return i}var l8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Gd,Uye=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Gd=void 0;var o=t[0];o==null||o.raw===void 0?(n=!1,a+=Z2(i,r,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=Z2(i,r,t[s]),n&&(a+=o[s]);l8.lastIndex=0;for(var l="",c;(c=l8.exec(a))!==null;)l+="-"+c[1];var u=Dye(a)+l;return{name:u,styles:a,next:Gd}},Nye=function(t){return t()},kye=$I["useInsertionEffect"]?$I["useInsertionEffect"]:!1,jye=kye||Nye,pie=Oe.createContext(typeof HTMLElement<"u"?Mye({key:"css"}):null);pie.Provider;var zye=function(t){return Oe.forwardRef(function(r,i){var n=Oe.useContext(pie);return t(r,n,i)})},Aie=Oe.createContext({}),Hye=Zve,Vye=function(t){return t!=="theme"},c8=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Hye:Vye},u8=function(t,r,i){var n;if(r){var a=r.shouldForwardProp;n=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof n!="function"&&i&&(n=t.__emotion_forwardProp),n},Qye=function(t){var r=t.cache,i=t.serialized,n=t.isStringTag;return hie(r,i,n),jye(function(){return Oye(r,i,n)}),null},Wye=function e(t,r){var i=t.__emotion_real===t,n=i&&t.__emotion_base||t,a,o;r!==void 0&&(a=r.label,o=r.target);var s=u8(t,r,i),l=s||c8(n),c=!l("as");return function(){var u=arguments,d=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&d.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,f=1;f<h;f++)d.push(u[f],u[0][f])}var m=zye(function(A,g,p){var v=c&&A.as||n,y="",b=[],x=A;if(A.theme==null){x={};for(var w in A)x[w]=A[w];x.theme=Oe.useContext(Aie)}typeof A.className=="string"?y=Tye(g.registered,b,A.className):A.className!=null&&(y=A.className+" ");var C=Uye(d.concat(b),g.registered,x);y+=g.key+"-"+C.name,o!==void 0&&(y+=" "+o);var _=c&&s===void 0?c8(v):l,B={};for(var P in A)c&&P==="as"||_(P)&&(B[P]=A[P]);return B.className=y,B.ref=p,Oe.createElement(Oe.Fragment,null,Oe.createElement(Qye,{cache:g,serialized:C,isStringTag:typeof v=="string"}),Oe.createElement(v,B))});return m.displayName=a!==void 0?a:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=n,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(A,g){return e(A,Kr({},r,g,{shouldForwardProp:u8(m,g,!0)})).apply(void 0,d)},m}},Gye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hL=Wye.bind();Gye.forEach(function(e){hL[e]=hL(e)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qye(e,t){return hL(e,t)}const Kye=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Xye=["values","unit","step"],Yye=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,i)=>r.val-i.val),t.reduce((r,i)=>Kr({},r,{[i.key]:i.val}),{})};function $ye(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:i=5}=e,n=dl(e,Xye),a=Yye(t),o=Object.keys(a);function s(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-i/100}${r})`}function c(h,f){const m=o.indexOf(f);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r}) and (max-width:${(m!==-1&&typeof t[o[m]]=="number"?t[o[m]]:f)-i/100}${r})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):s(h)}function d(h){const f=o.indexOf(h);return f===0?s(o[1]):f===o.length-1?l(o[f]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Kr({keys:o,values:a,up:s,down:l,between:c,only:u,not:d,unit:r},n)}const Jye={borderRadius:4},Zye=Jye;function t2(e,t){return t?Bf(e,t,{clone:!1}):e}const oj={xs:0,sm:600,md:900,lg:1200,xl:1536},d8={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${oj[e]}px)`};function Uf(e,t,r){const i=e.theme||{};if(Array.isArray(t)){const a=i.breakpoints||d8;return t.reduce((o,s,l)=>(o[a.up(a.keys[l])]=r(t[l]),o),{})}if(typeof t=="object"){const a=i.breakpoints||d8;return Object.keys(t).reduce((o,s)=>{if(Object.keys(a.values||oj).indexOf(s)!==-1){const l=a.up(s);o[l]=r(t[s],s)}else{const l=s;o[l]=t[l]}return o},{})}return r(t)}function ebe(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((i,n)=>{const a=e.up(n);return i[a]={},i},{}))||{}}function tbe(e,t){return e.reduce((r,i)=>{const n=r[i];return(!n||Object.keys(n).length===0)&&delete r[i],r},t)}function RT(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const i=`vars.${t}`.split(".").reduce((n,a)=>n&&n[a]?n[a]:null,e);if(i!=null)return i}return t.split(".").reduce((i,n)=>i&&i[n]!=null?i[n]:null,e)}function PM(e,t,r,i=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||i:n=RT(e,r)||i,t&&(n=t(n,i,e)),n}function sn(e){const{prop:t,cssProperty:r=e.prop,themeKey:i,transform:n}=e,a=o=>{if(o[t]==null)return null;const s=o[t],l=o.theme,c=RT(l,i)||{};return Uf(o,s,d=>{let h=PM(c,n,d);return d===h&&typeof d=="string"&&(h=PM(c,n,`${t}${d==="default"?"":tu(d)}`,d)),r===!1?h:{[r]:h}})};return a.propTypes={},a.filterProps=[t],a}function rbe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const ibe={m:"margin",p:"padding"},nbe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},h8={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},abe=rbe(e=>{if(e.length>2)if(h8[e])e=h8[e];else return[e];const[t,r]=e.split(""),i=ibe[t],n=nbe[r]||"";return Array.isArray(n)?n.map(a=>i+a):[i+n]}),sj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sj,...lj];function n_(e,t,r,i){var n;const a=(n=RT(e,t,!1))!=null?n:r;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function gie(e){return n_(e,"spacing",8)}function a_(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),i=e(r);return t>=0?i:typeof i=="number"?-i:`-${i}`}function obe(e,t){return r=>e.reduce((i,n)=>(i[n]=a_(t,r),i),{})}function sbe(e,t,r,i){if(t.indexOf(r)===-1)return null;const n=abe(r),a=obe(n,i),o=e[r];return Uf(e,o,a)}function mie(e,t){const r=gie(e.theme);return Object.keys(e).map(i=>sbe(e,t,i,r)).reduce(t2,{})}function ca(e){return mie(e,sj)}ca.propTypes={};ca.filterProps=sj;function ua(e){return mie(e,lj)}ua.propTypes={};ua.filterProps=lj;function lbe(e=8){if(e.mui)return e;const t=gie({spacing:e}),r=(...i)=>(i.length===0?[1]:i).map(a=>{const o=t(a);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function UT(...e){const t=e.reduce((i,n)=>(n.filterProps.forEach(a=>{i[a]=n}),i),{}),r=i=>Object.keys(i).reduce((n,a)=>t[a]?t2(n,t[a](i)):n,{});return r.propTypes={},r.filterProps=e.reduce((i,n)=>i.concat(n.filterProps),[]),r}function Yd(e){return typeof e!="number"?e:`${e}px solid`}const cbe=sn({prop:"border",themeKey:"borders",transform:Yd}),ube=sn({prop:"borderTop",themeKey:"borders",transform:Yd}),dbe=sn({prop:"borderRight",themeKey:"borders",transform:Yd}),hbe=sn({prop:"borderBottom",themeKey:"borders",transform:Yd}),fbe=sn({prop:"borderLeft",themeKey:"borders",transform:Yd}),pbe=sn({prop:"borderColor",themeKey:"palette"}),Abe=sn({prop:"borderTopColor",themeKey:"palette"}),gbe=sn({prop:"borderRightColor",themeKey:"palette"}),mbe=sn({prop:"borderBottomColor",themeKey:"palette"}),vbe=sn({prop:"borderLeftColor",themeKey:"palette"}),NT=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=n_(e.theme,"shape.borderRadius",4),r=i=>({borderRadius:a_(t,i)});return Uf(e,e.borderRadius,r)}return null};NT.propTypes={};NT.filterProps=["borderRadius"];UT(cbe,ube,dbe,hbe,fbe,pbe,Abe,gbe,mbe,vbe,NT);const kT=e=>{if(e.gap!==void 0&&e.gap!==null){const t=n_(e.theme,"spacing",8),r=i=>({gap:a_(t,i)});return Uf(e,e.gap,r)}return null};kT.propTypes={};kT.filterProps=["gap"];const jT=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=n_(e.theme,"spacing",8),r=i=>({columnGap:a_(t,i)});return Uf(e,e.columnGap,r)}return null};jT.propTypes={};jT.filterProps=["columnGap"];const zT=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=n_(e.theme,"spacing",8),r=i=>({rowGap:a_(t,i)});return Uf(e,e.rowGap,r)}return null};zT.propTypes={};zT.filterProps=["rowGap"];const ybe=sn({prop:"gridColumn"}),bbe=sn({prop:"gridRow"}),wbe=sn({prop:"gridAutoFlow"}),xbe=sn({prop:"gridAutoColumns"}),Cbe=sn({prop:"gridAutoRows"}),_be=sn({prop:"gridTemplateColumns"}),Sbe=sn({prop:"gridTemplateRows"}),Ebe=sn({prop:"gridTemplateAreas"}),Bbe=sn({prop:"gridArea"});UT(kT,jT,zT,ybe,bbe,wbe,xbe,Cbe,_be,Sbe,Ebe,Bbe);function Gy(e,t){return t==="grey"?t:e}const Mbe=sn({prop:"color",themeKey:"palette",transform:Gy}),Pbe=sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gy}),Tbe=sn({prop:"backgroundColor",themeKey:"palette",transform:Gy});UT(Mbe,Pbe,Tbe);function dc(e){return e<=1&&e!==0?`${e*100}%`:e}const Obe=sn({prop:"width",transform:dc}),cj=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var i,n,a;return{maxWidth:((i=e.theme)==null||(n=i.breakpoints)==null||(a=n.values)==null?void 0:a[r])||oj[r]||dc(r)}};return Uf(e,e.maxWidth,t)}return null};cj.filterProps=["maxWidth"];const Dbe=sn({prop:"minWidth",transform:dc}),Ibe=sn({prop:"height",transform:dc}),Fbe=sn({prop:"maxHeight",transform:dc}),Lbe=sn({prop:"minHeight",transform:dc});sn({prop:"size",cssProperty:"width",transform:dc});sn({prop:"size",cssProperty:"height",transform:dc});const Rbe=sn({prop:"boxSizing"});UT(Obe,cj,Dbe,Ibe,Fbe,Lbe,Rbe);const Ube={border:{themeKey:"borders",transform:Yd},borderTop:{themeKey:"borders",transform:Yd},borderRight:{themeKey:"borders",transform:Yd},borderBottom:{themeKey:"borders",transform:Yd},borderLeft:{themeKey:"borders",transform:Yd},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:NT},color:{themeKey:"palette",transform:Gy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gy},backgroundColor:{themeKey:"palette",transform:Gy},p:{style:ua},pt:{style:ua},pr:{style:ua},pb:{style:ua},pl:{style:ua},px:{style:ua},py:{style:ua},padding:{style:ua},paddingTop:{style:ua},paddingRight:{style:ua},paddingBottom:{style:ua},paddingLeft:{style:ua},paddingX:{style:ua},paddingY:{style:ua},paddingInline:{style:ua},paddingInlineStart:{style:ua},paddingInlineEnd:{style:ua},paddingBlock:{style:ua},paddingBlockStart:{style:ua},paddingBlockEnd:{style:ua},m:{style:ca},mt:{style:ca},mr:{style:ca},mb:{style:ca},ml:{style:ca},mx:{style:ca},my:{style:ca},margin:{style:ca},marginTop:{style:ca},marginRight:{style:ca},marginBottom:{style:ca},marginLeft:{style:ca},marginX:{style:ca},marginY:{style:ca},marginInline:{style:ca},marginInlineStart:{style:ca},marginInlineEnd:{style:ca},marginBlock:{style:ca},marginBlockStart:{style:ca},marginBlockEnd:{style:ca},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kT},rowGap:{style:zT},columnGap:{style:jT},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dc},maxWidth:{style:cj},minWidth:{transform:dc},height:{transform:dc},maxHeight:{transform:dc},minHeight:{transform:dc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},HT=Ube;function Nbe(...e){const t=e.reduce((i,n)=>i.concat(Object.keys(n)),[]),r=new Set(t);return e.every(i=>r.size===Object.keys(i).length)}function kbe(e,t){return typeof e=="function"?e(t):e}function jbe(){function e(r,i,n,a){const o={[r]:i,theme:n},s=a[r];if(!s)return{[r]:i};const{cssProperty:l=r,themeKey:c,transform:u,style:d}=s;if(i==null)return null;if(c==="typography"&&i==="inherit")return{[r]:i};const h=RT(n,c)||{};return d?d(o):Uf(o,i,m=>{let A=PM(h,u,m);return m===A&&typeof m=="string"&&(A=PM(h,u,`${r}${m==="default"?"":tu(m)}`,m)),l===!1?A:{[l]:A}})}function t(r){var i;const{sx:n,theme:a={}}=r||{};if(!n)return null;const o=(i=a.unstable_sxConfig)!=null?i:HT;function s(l){let c=l;if(typeof l=="function")c=l(a);else if(typeof l!="object")return l;if(!c)return null;const u=ebe(a.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(f=>{const m=kbe(c[f],a);if(m!=null)if(typeof m=="object")if(o[f])h=t2(h,e(f,m,a,o));else{const A=Uf({theme:a},m,g=>({[f]:g}));Nbe(A,m)?h[f]=t({sx:m,theme:a}):h=t2(h,A)}else h=t2(h,e(f,m,a,o))}),tbe(d,h)}return Array.isArray(n)?n.map(s):s(n)}return t}const vie=jbe();vie.filterProps=["sx"];const uj=vie,zbe=["breakpoints","palette","spacing","shape"];function dj(e={},...t){const{breakpoints:r={},palette:i={},spacing:n,shape:a={}}=e,o=dl(e,zbe),s=$ye(r),l=lbe(n);let c=Bf({breakpoints:s,direction:"ltr",components:{},palette:Kr({mode:"light"},i),spacing:l,shape:Kr({},Zye,a)},o);return c=t.reduce((u,d)=>Bf(u,d),c),c.unstable_sxConfig=Kr({},HT,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return uj({sx:d,theme:this})},c}function Hbe(e){return Object.keys(e).length===0}function Vbe(e=null){const t=Oe.useContext(Aie);return!t||Hbe(t)?e:t}const Qbe=dj();function Wbe(e=Qbe){return Vbe(e)}const Gbe=["sx"],qbe=e=>{var t,r;const i={systemProps:{},otherProps:{}},n=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:HT;return Object.keys(e).forEach(a=>{n[a]?i.systemProps[a]=e[a]:i.otherProps[a]=e[a]}),i};function Kbe(e){const{sx:t}=e,r=dl(e,Gbe),{systemProps:i,otherProps:n}=qbe(r);let a;return Array.isArray(t)?a=[i,...t]:typeof t=="function"?a=(...o)=>{const s=t(...o);return hm(s)?Kr({},i,s):i}:a=Kr({},i,t),Kr({},n,{sx:a})}const Xbe=["variant"];function f8(e){return e.length===0}function yie(e){const{variant:t}=e,r=dl(e,Xbe);let i=t||"";return Object.keys(r).sort().forEach(n=>{n==="color"?i+=f8(i)?e[n]:tu(e[n]):i+=`${f8(i)?n:tu(n)}${tu(e[n].toString())}`}),i}const Ybe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $be(e){return Object.keys(e).length===0}function Jbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Zbe=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,e1e=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const i={};return r.forEach(n=>{const a=yie(n.props);i[a]=n.style}),i},t1e=(e,t,r,i)=>{var n,a;const{ownerState:o={}}=e,s=[],l=r==null||(n=r.components)==null||(a=n[i])==null?void 0:a.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{o[d]!==c.props[d]&&e[d]!==c.props[d]&&(u=!1)}),u&&s.push(t[yie(c.props)])}),s};function c5(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const r1e=dj();function Cw({defaultTheme:e,theme:t,themeId:r}){return $be(t)?e:t[r]||t}function i1e(e={}){const{themeId:t,defaultTheme:r=r1e,rootShouldForwardProp:i=c5,slotShouldForwardProp:n=c5}=e,a=o=>uj(Kr({},o,{theme:Cw(Kr({},o,{defaultTheme:r,themeId:t}))}));return a.__mui_systemSx=!0,(o,s={})=>{Kye(o,b=>b.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h}=s,f=dl(s,Ybe),m=u!==void 0?u:c&&c!=="Root"||!1,A=d||!1;let g,p=c5;c==="Root"?p=i:c?p=n:Jbe(o)&&(p=void 0);const v=qye(o,Kr({shouldForwardProp:p,label:g},f)),y=(b,...x)=>{const w=x?x.map(P=>typeof P=="function"&&P.__emotion_real!==P?M=>P(Kr({},M,{theme:Cw(Kr({},M,{defaultTheme:r,themeId:t}))})):P):[];let C=b;l&&h&&w.push(P=>{const M=Cw(Kr({},P,{defaultTheme:r,themeId:t})),O=Zbe(l,M);if(O){const I={};return Object.entries(O).forEach(([F,V])=>{I[F]=typeof V=="function"?V(Kr({},P,{theme:M})):V}),h(P,I)}return null}),l&&!m&&w.push(P=>{const M=Cw(Kr({},P,{defaultTheme:r,themeId:t}));return t1e(P,e1e(l,M),M,l)}),A||w.push(a);const _=w.length-x.length;if(Array.isArray(b)&&_>0){const P=new Array(_).fill("");C=[...b,...P],C.raw=[...b.raw,...P]}else typeof b=="function"&&b.__emotion_real!==b&&(C=P=>b(Kr({},P,{theme:Cw(Kr({},P,{defaultTheme:r,themeId:t}))})));const B=v(C,...w);return o.muiName&&(B.muiName=o.muiName),B};return v.withConfig&&(y.withConfig=v.withConfig),y}}function n1e(e){const{theme:t,name:r,props:i}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?i:tie(t.components[r].defaultProps,i)}function a1e({props:e,name:t,defaultTheme:r,themeId:i}){let n=Wbe(r);return i&&(n=n[i]||n),n1e({theme:n,name:t,props:e})}function hj(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function o1e(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(i=>i+i)),r?`rgb${r.length===4?"a":""}(${r.map((i,n)=>n<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function r0(e){if(e.type)return e;if(e.charAt(0)==="#")return r0(o1e(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(_b(9,e));let i=e.substring(t+1,e.length-1),n;if(r==="color"){if(i=i.split(" "),n=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error(_b(10,n))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:r,values:i,colorSpace:n}}function VT(e){const{type:t,colorSpace:r}=e;let{values:i}=e;return t.indexOf("rgb")!==-1?i=i.map((n,a)=>a<3?parseInt(n,10):n):t.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.indexOf("color")!==-1?i=`${r} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function s1e(e){e=r0(e);const{values:t}=e,r=t[0],i=t[1]/100,n=t[2]/100,a=i*Math.min(n,1-n),o=(c,u=(c+r/30)%12)=>n-a*Math.max(Math.min(u-3,9-u,1),-1);let s="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(s+="a",l.push(t[3])),VT({type:s,values:l})}function p8(e){e=r0(e);let t=e.type==="hsl"||e.type==="hsla"?r0(s1e(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l1e(e,t){const r=p8(e),i=p8(t);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}function A8(e,t){return e=r0(e),t=hj(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,VT(e)}function c1e(e,t){if(e=r0(e),t=hj(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return VT(e)}function u1e(e,t){if(e=r0(e),t=hj(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return VT(e)}function d1e(e,t){return Kr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const h1e={black:"#000",white:"#fff"},eC=h1e,f1e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p1e=f1e,A1e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ov=A1e,g1e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sv=g1e,m1e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_w=m1e,v1e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lv=v1e,y1e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cv=y1e,b1e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},uv=b1e,w1e=["mode","contrastThreshold","tonalOffset"],g8={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:eC.white,default:eC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$O={text:{primary:eC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:eC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function m8(e,t,r,i){const n=i.light||i,a=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=u1e(e.main,n):t==="dark"&&(e.dark=c1e(e.main,a)))}function x1e(e="light"){return e==="dark"?{main:lv[200],light:lv[50],dark:lv[400]}:{main:lv[700],light:lv[400],dark:lv[800]}}function C1e(e="light"){return e==="dark"?{main:ov[200],light:ov[50],dark:ov[400]}:{main:ov[500],light:ov[300],dark:ov[700]}}function _1e(e="light"){return e==="dark"?{main:sv[500],light:sv[300],dark:sv[700]}:{main:sv[700],light:sv[400],dark:sv[800]}}function S1e(e="light"){return e==="dark"?{main:cv[400],light:cv[300],dark:cv[700]}:{main:cv[700],light:cv[500],dark:cv[900]}}function E1e(e="light"){return e==="dark"?{main:uv[400],light:uv[300],dark:uv[700]}:{main:uv[800],light:uv[500],dark:uv[900]}}function B1e(e="light"){return e==="dark"?{main:_w[400],light:_w[300],dark:_w[700]}:{main:"#ed6c02",light:_w[500],dark:_w[900]}}function M1e(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:i=.2}=e,n=dl(e,w1e),a=e.primary||x1e(t),o=e.secondary||C1e(t),s=e.error||_1e(t),l=e.info||S1e(t),c=e.success||E1e(t),u=e.warning||B1e(t);function d(A){return l1e(A,$O.text.primary)>=r?$O.text.primary:g8.text.primary}const h=({color:A,name:g,mainShade:p=500,lightShade:v=300,darkShade:y=700})=>{if(A=Kr({},A),!A.main&&A[p]&&(A.main=A[p]),!A.hasOwnProperty("main"))throw new Error(_b(11,g?` (${g})`:"",p));if(typeof A.main!="string")throw new Error(_b(12,g?` (${g})`:"",JSON.stringify(A.main)));return m8(A,"light",v,i),m8(A,"dark",y,i),A.contrastText||(A.contrastText=d(A.main)),A},f={dark:$O,light:g8};return Bf(Kr({common:Kr({},eC),mode:t,primary:h({color:a,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:p1e,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:i},f[t]),n)}const P1e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function T1e(e){return Math.round(e*1e5)/1e5}const v8={textTransform:"uppercase"},y8='"Roboto", "Helvetica", "Arial", sans-serif';function O1e(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:i=y8,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=r,h=dl(r,P1e),f=n/14,m=d||(p=>`${p/c*f}rem`),A=(p,v,y,b,x)=>Kr({fontFamily:i,fontWeight:p,fontSize:m(v),lineHeight:y},i===y8?{letterSpacing:`${T1e(b/v)}em`}:{},x,u),g={h1:A(a,96,1.167,-1.5),h2:A(a,60,1.2,-.5),h3:A(o,48,1.167,0),h4:A(o,34,1.235,.25),h5:A(o,24,1.334,0),h6:A(s,20,1.6,.15),subtitle1:A(o,16,1.75,.15),subtitle2:A(s,14,1.57,.1),body1:A(o,16,1.5,.15),body2:A(o,14,1.43,.15),button:A(s,14,1.75,.4,v8),caption:A(o,12,1.66,.4),overline:A(o,12,2.66,1,v8),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Bf(Kr({htmlFontSize:c,pxToRem:m,fontFamily:i,fontSize:n,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:l},g),h,{clone:!1})}const D1e=.2,I1e=.14,F1e=.12;function Kn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${D1e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${I1e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${F1e})`].join(",")}const L1e=["none",Kn(0,2,1,-1,0,1,1,0,0,1,3,0),Kn(0,3,1,-2,0,2,2,0,0,1,5,0),Kn(0,3,3,-2,0,3,4,0,0,1,8,0),Kn(0,2,4,-1,0,4,5,0,0,1,10,0),Kn(0,3,5,-1,0,5,8,0,0,1,14,0),Kn(0,3,5,-1,0,6,10,0,0,1,18,0),Kn(0,4,5,-2,0,7,10,1,0,2,16,1),Kn(0,5,5,-3,0,8,10,1,0,3,14,2),Kn(0,5,6,-3,0,9,12,1,0,3,16,2),Kn(0,6,6,-3,0,10,14,1,0,4,18,3),Kn(0,6,7,-4,0,11,15,1,0,4,20,3),Kn(0,7,8,-4,0,12,17,2,0,5,22,4),Kn(0,7,8,-4,0,13,19,2,0,5,24,4),Kn(0,7,9,-4,0,14,21,2,0,5,26,4),Kn(0,8,9,-5,0,15,22,2,0,6,28,5),Kn(0,8,10,-5,0,16,24,2,0,6,30,5),Kn(0,8,11,-5,0,17,26,2,0,6,32,5),Kn(0,9,11,-5,0,18,28,2,0,7,34,6),Kn(0,9,12,-6,0,19,29,2,0,7,36,6),Kn(0,10,13,-6,0,20,31,3,0,8,38,7),Kn(0,10,13,-6,0,21,33,3,0,8,40,7),Kn(0,10,14,-6,0,22,35,3,0,8,42,7),Kn(0,11,14,-7,0,23,36,3,0,9,44,8),Kn(0,11,15,-7,0,24,38,3,0,9,46,8)],R1e=L1e,U1e=["duration","easing","delay"],N1e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},k1e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function b8(e){return`${Math.round(e)}ms`}function j1e(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function z1e(e){const t=Kr({},N1e,e.easing),r=Kr({},k1e,e.duration);return Kr({getAutoHeightDuration:j1e,create:(n=["all"],a={})=>{const{duration:o=r.standard,easing:s=t.easeInOut,delay:l=0}=a;return dl(a,U1e),(Array.isArray(n)?n:[n]).map(c=>`${c} ${typeof o=="string"?o:b8(o)} ${s} ${typeof l=="string"?l:b8(l)}`).join(",")}},e,{easing:t,duration:r})}const H1e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V1e=H1e,Q1e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function W1e(e={},...t){const{mixins:r={},palette:i={},transitions:n={},typography:a={}}=e,o=dl(e,Q1e);if(e.vars)throw new Error(_b(18));const s=M1e(i),l=dj(e);let c=Bf(l,{mixins:d1e(l.breakpoints,r),palette:s,shadows:R1e.slice(),typography:O1e(s,a),transitions:z1e(n),zIndex:Kr({},V1e)});return c=Bf(c,o),c=t.reduce((u,d)=>Bf(u,d),c),c.unstable_sxConfig=Kr({},HT,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return uj({sx:d,theme:this})},c}const G1e=W1e(),bie=G1e,wie="$$material";function s1({props:e,name:t}){return a1e({props:e,name:t,defaultTheme:bie,themeId:wie})}const q1e=e=>c5(e)&&e!=="classes",K1e=i1e({themeId:wie,defaultTheme:bie,rootShouldForwardProp:q1e}),l1=K1e;function X1e(e){return x0("MuiSvgIcon",e)}n1("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Y1e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],$1e=e=>{const{color:t,fontSize:r,classes:i}=e,n={root:["root",t!=="inherit"&&`color${tu(t)}`,`fontSize${tu(r)}`]};return i1(n,X1e,i)},J1e=l1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${tu(r.color)}`],t[`fontSize${tu(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(i=r.create)==null?void 0:i.call(r,"fill",{duration:(n=e.transitions)==null||(a=n.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=e.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[t.fontSize],color:(h=(f=(e.vars||e).palette)==null||(m=f[t.color])==null?void 0:m.main)!=null?h:{action:(A=(e.vars||e).palette)==null||(g=A.action)==null?void 0:g.active,disabled:(p=(e.vars||e).palette)==null||(v=p.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),xie=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiSvgIcon"}),{children:n,className:a,color:o="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=i,f=dl(i,Y1e),m=Kr({},i,{color:o,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h}),A={};u||(A.viewBox=h);const g=$1e(m);return N.jsxs(J1e,Kr({as:s,className:a1(g.root,a),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},A,f,{ownerState:m,children:[n,d?N.jsx("title",{children:d}):null]}))});xie.muiName="SvgIcon";const w8=xie;function Z1e(e,t){function r(i,n){return N.jsx(w8,Kr({"data-testid":`${t}Icon`,ref:n},i,{children:e}))}return r.muiName=w8.muiName,Oe.memo(Oe.forwardRef(r))}const ewe={configure:e=>{rie.configure(e)}},twe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:tu,createChainedFunction:Pve,createSvgIcon:Z1e,debounce:Tve,deprecatedPropType:Ove,isMuiElement:Dve,ownerDocument:Jre,ownerWindow:Ive,requirePropFactory:Fve,setRef:Zre,unstable_ClassNameGenerator:ewe,unstable_useEnhancedEffect:eie,unstable_useId:Uve,unsupportedProp:Nve,useControlled:kve,useEventCallback:jve,useForkRef:zve,useIsFocusVisible:Kve},Symbol.toStringTag,{value:"Module"})),rwe=Gb(twe);var x8;function Ua(){return x8||(x8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=rwe}(KO)),KO}var iwe=Ra;Object.defineProperty(rj,"__esModule",{value:!0});var Cie=rj.default=void 0,nwe=iwe(Ua()),awe=N,owe=(0,nwe.default)((0,awe.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard");Cie=rj.default=owe;var fj={},swe=Ra;Object.defineProperty(fj,"__esModule",{value:!0});var QT=fj.default=void 0,lwe=swe(Ua()),cwe=N,uwe=(0,lwe.default)((0,cwe.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 11h-9v-9h9v9zm-4.5-1L13 16h2v-3h3v3h2l-3.5 4z"}),"SendAndArchive");QT=fj.default=uwe;var pj={},dwe=Ra;Object.defineProperty(pj,"__esModule",{value:!0});var _ie=pj.default=void 0,hwe=dwe(Ua()),fwe=N,pwe=(0,hwe.default)((0,fwe.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");_ie=pj.default=pwe;var Aj={},Awe=Ra;Object.defineProperty(Aj,"__esModule",{value:!0});var Sie=Aj.default=void 0,gwe=Awe(Ua()),mwe=N,vwe=(0,gwe.default)((0,mwe.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");Sie=Aj.default=vwe;var gj={},ywe=Ra;Object.defineProperty(gj,"__esModule",{value:!0});var Eie=gj.default=void 0,bwe=ywe(Ua()),wwe=N,xwe=(0,bwe.default)((0,wwe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");Eie=gj.default=xwe;var mj={},Cwe=Ra;Object.defineProperty(mj,"__esModule",{value:!0});var vj=mj.default=void 0,_we=Cwe(Ua()),Swe=N,Ewe=(0,_we.default)((0,Swe.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6 10H6v-2h8v2zm4-4H6v-2h12v2z"}),"Source");vj=mj.default=Ewe;function Bie(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bwe}=Object.prototype,{getPrototypeOf:yj}=Object,WT=(e=>t=>{const r=Bwe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mh=e=>(e=e.toLowerCase(),t=>WT(t)===e),GT=e=>t=>typeof t===e,{isArray:c1}=Array,tC=GT("undefined");function Mwe(e){return e!==null&&!tC(e)&&e.constructor!==null&&!tC(e.constructor)&&ru(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mie=mh("ArrayBuffer");function Pwe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mie(e.buffer),t}const Twe=GT("string"),ru=GT("function"),Pie=GT("number"),qT=e=>e!==null&&typeof e=="object",Owe=e=>e===!0||e===!1,u5=e=>{if(WT(e)!=="object")return!1;const t=yj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dwe=mh("Date"),Iwe=mh("File"),Fwe=mh("Blob"),Lwe=mh("FileList"),Rwe=e=>qT(e)&&ru(e.pipe),Uwe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ru(e.append)&&((t=WT(e))==="formdata"||t==="object"&&ru(e.toString)&&e.toString()==="[object FormData]"))},Nwe=mh("URLSearchParams"),kwe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function o_(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,n;if(typeof e!="object"&&(e=[e]),c1(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(i=0;i<o;i++)s=a[i],t.call(null,e[s],s,e)}}function Tie(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,n;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const Oie=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Die=e=>!tC(e)&&e!==Oie;function fL(){const{caseless:e}=Die(this)&&this||{},t={},r=(i,n)=>{const a=e&&Tie(t,n)||n;u5(t[a])&&u5(i)?t[a]=fL(t[a],i):u5(i)?t[a]=fL({},i):c1(i)?t[a]=i.slice():t[a]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&o_(arguments[i],r);return t}const jwe=(e,t,r,{allOwnKeys:i}={})=>(o_(t,(n,a)=>{r&&ru(n)?e[a]=Bie(n,r):e[a]=n},{allOwnKeys:i}),e),zwe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hwe=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Vwe=(e,t,r,i)=>{let n,a,o;const s={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)o=n[a],(!i||i(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&yj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qwe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},Wwe=e=>{if(!e)return null;if(c1(e))return e;let t=e.length;if(!Pie(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Gwe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yj(Uint8Array)),qwe=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},Kwe=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},Xwe=mh("HTMLFormElement"),Ywe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,n){return i.toUpperCase()+n}),C8=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),$we=mh("RegExp"),Iie=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};o_(r,(n,a)=>{t(n,a,e)!==!1&&(i[a]=n)}),Object.defineProperties(e,i)},Jwe=e=>{Iie(e,(t,r)=>{if(ru(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(ru(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zwe=(e,t)=>{const r={},i=n=>{n.forEach(a=>{r[a]=!0})};return c1(e)?i(e):i(String(e).split(t)),r},exe=()=>{},txe=(e,t)=>(e=+e,Number.isFinite(e)?e:t),JO="abcdefghijklmnopqrstuvwxyz",_8="0123456789",Fie={DIGIT:_8,ALPHA:JO,ALPHA_DIGIT:JO+JO.toUpperCase()+_8},rxe=(e=16,t=Fie.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r};function ixe(e){return!!(e&&ru(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const nxe=e=>{const t=new Array(10),r=(i,n)=>{if(qT(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[n]=i;const a=c1(i)?[]:{};return o_(i,(o,s)=>{const l=r(o,n+1);!tC(l)&&(a[s]=l)}),t[n]=void 0,a}}return i};return r(e,0)},axe=mh("AsyncFunction"),oxe=e=>e&&(qT(e)||ru(e))&&ru(e.then)&&ru(e.catch),Ut={isArray:c1,isArrayBuffer:Mie,isBuffer:Mwe,isFormData:Uwe,isArrayBufferView:Pwe,isString:Twe,isNumber:Pie,isBoolean:Owe,isObject:qT,isPlainObject:u5,isUndefined:tC,isDate:Dwe,isFile:Iwe,isBlob:Fwe,isRegExp:$we,isFunction:ru,isStream:Rwe,isURLSearchParams:Nwe,isTypedArray:Gwe,isFileList:Lwe,forEach:o_,merge:fL,extend:jwe,trim:kwe,stripBOM:zwe,inherits:Hwe,toFlatObject:Vwe,kindOf:WT,kindOfTest:mh,endsWith:Qwe,toArray:Wwe,forEachEntry:qwe,matchAll:Kwe,isHTMLForm:Xwe,hasOwnProperty:C8,hasOwnProp:C8,reduceDescriptors:Iie,freezeMethods:Jwe,toObjectSet:Zwe,toCamelCase:Ywe,noop:exe,toFiniteNumber:txe,findKey:Tie,global:Oie,isContextDefined:Die,ALPHABET:Fie,generateString:rxe,isSpecCompliantForm:ixe,toJSONObject:nxe,isAsyncFn:axe,isThenable:oxe};function Hi(e,t,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}Ut.inherits(Hi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ut.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lie=Hi.prototype,Rie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Rie[e]={value:e}});Object.defineProperties(Hi,Rie);Object.defineProperty(Lie,"isAxiosError",{value:!0});Hi.from=(e,t,r,i,n,a)=>{const o=Object.create(Lie);return Ut.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Hi.call(o,e.message,t,r,i,n),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const sxe=null;function pL(e){return Ut.isPlainObject(e)||Ut.isArray(e)}function Uie(e){return Ut.endsWith(e,"[]")?e.slice(0,-2):e}function S8(e,t,r){return e?e.concat(t).map(function(n,a){return n=Uie(n),!r&&a?"["+n+"]":n}).join(r?".":""):t}function lxe(e){return Ut.isArray(e)&&!e.some(pL)}const cxe=Ut.toFlatObject(Ut,{},null,function(t){return/^is[A-Z]/.test(t)});function KT(e,t,r){if(!Ut.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ut.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,g){return!Ut.isUndefined(g[A])});const i=r.metaTokens,n=r.visitor||u,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ut.isSpecCompliantForm(t);if(!Ut.isFunction(n))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Ut.isDate(m))return m.toISOString();if(!l&&Ut.isBlob(m))throw new Hi("Blob is not supported. Use a Buffer instead.");return Ut.isArrayBuffer(m)||Ut.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,A,g){let p=m;if(m&&!g&&typeof m=="object"){if(Ut.endsWith(A,"{}"))A=i?A:A.slice(0,-2),m=JSON.stringify(m);else if(Ut.isArray(m)&&lxe(m)||(Ut.isFileList(m)||Ut.endsWith(A,"[]"))&&(p=Ut.toArray(m)))return A=Uie(A),p.forEach(function(y,b){!(Ut.isUndefined(y)||y===null)&&t.append(o===!0?S8([A],b,a):o===null?A:A+"[]",c(y))}),!1}return pL(m)?!0:(t.append(S8(g,A,a),c(m)),!1)}const d=[],h=Object.assign(cxe,{defaultVisitor:u,convertValue:c,isVisitable:pL});function f(m,A){if(!Ut.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+A.join("."));d.push(m),Ut.forEach(m,function(p,v){(!(Ut.isUndefined(p)||p===null)&&n.call(t,p,Ut.isString(v)?v.trim():v,A,h))===!0&&f(p,A?A.concat(v):[v])}),d.pop()}}if(!Ut.isObject(e))throw new TypeError("data must be an object");return f(e),t}function E8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function bj(e,t){this._pairs=[],e&&KT(e,this,t)}const Nie=bj.prototype;Nie.append=function(t,r){this._pairs.push([t,r])};Nie.toString=function(t){const r=t?function(i){return t.call(this,i,E8)}:E8;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function uxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kie(e,t,r){if(!t)return e;const i=r&&r.encode||uxe,n=r&&r.serialize;let a;if(n?a=n(t,r):a=Ut.isURLSearchParams(t)?t.toString():new bj(t,r).toString(i),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class dxe{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ut.forEach(this.handlers,function(i){i!==null&&t(i)})}}const B8=dxe,jie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hxe=typeof URLSearchParams<"u"?URLSearchParams:bj,fxe=typeof FormData<"u"?FormData:null,pxe=typeof Blob<"u"?Blob:null,Axe=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),gxe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),eh={isBrowser:!0,classes:{URLSearchParams:hxe,FormData:fxe,Blob:pxe},isStandardBrowserEnv:Axe,isStandardBrowserWebWorkerEnv:gxe,protocols:["http","https","file","blob","url","data"]};function mxe(e,t){return KT(e,new eh.classes.URLSearchParams,Object.assign({visitor:function(r,i,n,a){return eh.isNode&&Ut.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function vxe(e){return Ut.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yxe(e){const t={},r=Object.keys(e);let i;const n=r.length;let a;for(i=0;i<n;i++)a=r[i],t[a]=e[a];return t}function zie(e){function t(r,i,n,a){let o=r[a++];const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Ut.isArray(n)?n.length:o,l?(Ut.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!s):((!n[o]||!Ut.isObject(n[o]))&&(n[o]=[]),t(r,i,n[o],a)&&Ut.isArray(n[o])&&(n[o]=yxe(n[o])),!s)}if(Ut.isFormData(e)&&Ut.isFunction(e.entries)){const r={};return Ut.forEachEntry(e,(i,n)=>{t(vxe(i),n,r,0)}),r}return null}const bxe={"Content-Type":void 0};function wxe(e,t,r){if(Ut.isString(e))try{return(t||JSON.parse)(e),Ut.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const XT={transitional:jie,adapter:["xhr","http"],transformRequest:[function(t,r){const i=r.getContentType()||"",n=i.indexOf("application/json")>-1,a=Ut.isObject(t);if(a&&Ut.isHTMLForm(t)&&(t=new FormData(t)),Ut.isFormData(t))return n&&n?JSON.stringify(zie(t)):t;if(Ut.isArrayBuffer(t)||Ut.isBuffer(t)||Ut.isStream(t)||Ut.isFile(t)||Ut.isBlob(t))return t;if(Ut.isArrayBufferView(t))return t.buffer;if(Ut.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return mxe(t,this.formSerializer).toString();if((s=Ut.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return KT(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),wxe(t)):t}],transformResponse:[function(t){const r=this.transitional||XT.transitional,i=r&&r.forcedJSONParsing,n=this.responseType==="json";if(t&&Ut.isString(t)&&(i&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Hi.from(s,Hi.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eh.classes.FormData,Blob:eh.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ut.forEach(["delete","get","head"],function(t){XT.headers[t]={}});Ut.forEach(["post","put","patch"],function(t){XT.headers[t]=Ut.merge(bxe)});const wj=XT,xxe=Ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cxe=e=>{const t={};let r,i,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!r||t[r]&&xxe[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},M8=Symbol("internals");function Sw(e){return e&&String(e).trim().toLowerCase()}function d5(e){return e===!1||e==null?e:Ut.isArray(e)?e.map(d5):String(e)}function _xe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}const Sxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ZO(e,t,r,i,n){if(Ut.isFunction(i))return i.call(this,t,r);if(n&&(t=r),!!Ut.isString(t)){if(Ut.isString(i))return t.indexOf(i)!==-1;if(Ut.isRegExp(i))return i.test(t)}}function Exe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function Bxe(e,t){const r=Ut.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(n,a,o){return this[i].call(this,t,n,a,o)},configurable:!0})})}class YT{constructor(t){t&&this.set(t)}set(t,r,i){const n=this;function a(s,l,c){const u=Sw(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ut.findKey(n,u);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||l]=d5(s))}const o=(s,l)=>Ut.forEach(s,(c,u)=>a(c,u,l));return Ut.isPlainObject(t)||t instanceof this.constructor?o(t,r):Ut.isString(t)&&(t=t.trim())&&!Sxe(t)?o(Cxe(t),r):t!=null&&a(r,t,i),this}get(t,r){if(t=Sw(t),t){const i=Ut.findKey(this,t);if(i){const n=this[i];if(!r)return n;if(r===!0)return _xe(n);if(Ut.isFunction(r))return r.call(this,n,i);if(Ut.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Sw(t),t){const i=Ut.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||ZO(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let n=!1;function a(o){if(o=Sw(o),o){const s=Ut.findKey(i,o);s&&(!r||ZO(i,i[s],s,r))&&(delete i[s],n=!0)}}return Ut.isArray(t)?t.forEach(a):a(t),n}clear(t){const r=Object.keys(this);let i=r.length,n=!1;for(;i--;){const a=r[i];(!t||ZO(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const r=this,i={};return Ut.forEach(this,(n,a)=>{const o=Ut.findKey(i,a);if(o){r[o]=d5(n),delete r[a];return}const s=t?Exe(a):String(a).trim();s!==a&&delete r[a],r[s]=d5(n),i[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ut.forEach(this,(i,n)=>{i!=null&&i!==!1&&(r[n]=t&&Ut.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(n=>i.set(n)),i}static accessor(t){const i=(this[M8]=this[M8]={accessors:{}}).accessors,n=this.prototype;function a(o){const s=Sw(o);i[s]||(Bxe(n,o),i[s]=!0)}return Ut.isArray(t)?t.forEach(a):a(t),this}}YT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ut.freezeMethods(YT.prototype);Ut.freezeMethods(YT);const Mf=YT;function eD(e,t){const r=this||wj,i=t||r,n=Mf.from(i.headers);let a=i.data;return Ut.forEach(e,function(s){a=s.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function Hie(e){return!!(e&&e.__CANCEL__)}function s_(e,t,r){Hi.call(this,e??"canceled",Hi.ERR_CANCELED,t,r),this.name="CanceledError"}Ut.inherits(s_,Hi,{__CANCEL__:!0});function Mxe(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new Hi("Request failed with status code "+r.status,[Hi.ERR_BAD_REQUEST,Hi.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Pxe=eh.isStandardBrowserEnv?function(){return{write:function(r,i,n,a,o,s){const l=[];l.push(r+"="+encodeURIComponent(i)),Ut.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Ut.isString(a)&&l.push("path="+a),Ut.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Txe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oxe(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Vie(e,t){return e&&!Txe(t)?Oxe(e,t):t}const Dxe=eh.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function n(a){let o=a;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=n(window.location.href),function(o){const s=Ut.isString(o)?n(o):o;return s.protocol===i.protocol&&s.host===i.host}}():function(){return function(){return!0}}();function Ixe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Fxe(e,t){e=e||10;const r=new Array(e),i=new Array(e);let n=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[a];o||(o=c),r[n]=l,i[n]=c;let d=a,h=0;for(;d!==n;)h+=r[d++],d=d%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function P8(e,t){let r=0;const i=Fxe(50,250);return n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s),c=a<=o;r=a;const u={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&c?(o-a)/l:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const Lxe=typeof XMLHttpRequest<"u",Rxe=Lxe&&function(e){return new Promise(function(r,i){let n=e.data;const a=Mf.from(e.headers).normalize(),o=e.responseType;let s;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Ut.isFormData(n)&&(eh.isStandardBrowserEnv||eh.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(f+":"+m))}const u=Vie(e.baseURL,e.url);c.open(e.method.toUpperCase(),kie(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function d(){if(!c)return;const f=Mf.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};Mxe(function(p){r(p),l()},function(p){i(p),l()},A),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new Hi("Request aborted",Hi.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new Hi("Network Error",Hi.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const A=e.transitional||jie;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),i(new Hi(m,A.clarifyTimeoutError?Hi.ETIMEDOUT:Hi.ECONNABORTED,e,c)),c=null},eh.isStandardBrowserEnv){const f=(e.withCredentials||Dxe(u))&&e.xsrfCookieName&&Pxe.read(e.xsrfCookieName);f&&a.set(e.xsrfHeaderName,f)}n===void 0&&a.setContentType(null),"setRequestHeader"in c&&Ut.forEach(a.toJSON(),function(m,A){c.setRequestHeader(A,m)}),Ut.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&o!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",P8(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",P8(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=f=>{c&&(i(!f||f.type?new s_(null,e,c):f),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=Ixe(u);if(h&&eh.protocols.indexOf(h)===-1){i(new Hi("Unsupported protocol "+h+":",Hi.ERR_BAD_REQUEST,e));return}c.send(n||null)})},h5={http:sxe,xhr:Rxe};Ut.forEach(h5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Uxe={getAdapter:e=>{e=Ut.isArray(e)?e:[e];const{length:t}=e;let r,i;for(let n=0;n<t&&(r=e[n],!(i=Ut.isString(r)?h5[r.toLowerCase()]:r));n++);if(!i)throw i===!1?new Hi(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ut.hasOwnProp(h5,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!Ut.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:h5};function tD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s_(null,e)}function T8(e){return tD(e),e.headers=Mf.from(e.headers),e.data=eD.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Uxe.getAdapter(e.adapter||wj.adapter)(e).then(function(i){return tD(e),i.data=eD.call(e,e.transformResponse,i),i.headers=Mf.from(i.headers),i},function(i){return Hie(i)||(tD(e),i&&i.response&&(i.response.data=eD.call(e,e.transformResponse,i.response),i.response.headers=Mf.from(i.response.headers))),Promise.reject(i)})}const O8=e=>e instanceof Mf?e.toJSON():e;function Eb(e,t){t=t||{};const r={};function i(c,u,d){return Ut.isPlainObject(c)&&Ut.isPlainObject(u)?Ut.merge.call({caseless:d},c,u):Ut.isPlainObject(u)?Ut.merge({},u):Ut.isArray(u)?u.slice():u}function n(c,u,d){if(Ut.isUndefined(u)){if(!Ut.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function a(c,u){if(!Ut.isUndefined(u))return i(void 0,u)}function o(c,u){if(Ut.isUndefined(u)){if(!Ut.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function s(c,u,d){if(d in t)return i(c,u);if(d in e)return i(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u)=>n(O8(c),O8(u),!0)};return Ut.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||n,h=d(e[u],t[u],u);Ut.isUndefined(h)&&d!==s||(r[u]=h)}),r}const Qie="1.4.0",xj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xj[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const D8={};xj.transitional=function(t,r,i){function n(a,o){return"[Axios v"+Qie+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return(a,o,s)=>{if(t===!1)throw new Hi(n(o," has been removed"+(r?" in "+r:"")),Hi.ERR_DEPRECATED);return r&&!D8[o]&&(D8[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};function Nxe(e,t,r){if(typeof e!="object")throw new Hi("options must be an object",Hi.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const a=i[n],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new Hi("option "+a+" must be "+l,Hi.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Hi("Unknown option "+a,Hi.ERR_BAD_OPTION)}}const AL={assertOptions:Nxe,validators:xj},Op=AL.validators;class TM{constructor(t){this.defaults=t,this.interceptors={request:new B8,response:new B8}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Eb(this.defaults,r);const{transitional:i,paramsSerializer:n,headers:a}=r;i!==void 0&&AL.assertOptions(i,{silentJSONParsing:Op.transitional(Op.boolean),forcedJSONParsing:Op.transitional(Op.boolean),clarifyTimeoutError:Op.transitional(Op.boolean)},!1),n!=null&&(Ut.isFunction(n)?r.paramsSerializer={serialize:n}:AL.assertOptions(n,{encode:Op.function,serialize:Op.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o;o=a&&Ut.merge(a.common,a[r.method]),o&&Ut.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=Mf.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(l=l&&A.synchronous,s.unshift(A.fulfilled,A.rejected))});const c=[];this.interceptors.response.forEach(function(A){c.push(A.fulfilled,A.rejected)});let u,d=0,h;if(!l){const m=[T8.bind(this),void 0];for(m.unshift.apply(m,s),m.push.apply(m,c),h=m.length,u=Promise.resolve(r);d<h;)u=u.then(m[d++],m[d++]);return u}h=s.length;let f=r;for(d=0;d<h;){const m=s[d++],A=s[d++];try{f=m(f)}catch(g){A.call(this,g);break}}try{u=T8.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Eb(this.defaults,t);const r=Vie(t.baseURL,t.url);return kie(r,t.params,t.paramsSerializer)}}Ut.forEach(["delete","get","head","options"],function(t){TM.prototype[t]=function(r,i){return this.request(Eb(i||{},{method:t,url:r,data:(i||{}).data}))}});Ut.forEach(["post","put","patch"],function(t){function r(i){return function(a,o,s){return this.request(Eb(s||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}TM.prototype[t]=r(),TM.prototype[t+"Form"]=r(!0)});const f5=TM;class Cj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const i=this;this.promise.then(n=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](n);i._listeners=null}),this.promise.then=n=>{let a;const o=new Promise(s=>{i.subscribe(s),a=s}).then(n);return o.cancel=function(){i.unsubscribe(a)},o},t(function(a,o,s){i.reason||(i.reason=new s_(a,o,s),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Cj(function(n){t=n}),cancel:t}}}const kxe=Cj;function jxe(e){return function(r){return e.apply(null,r)}}function zxe(e){return Ut.isObject(e)&&e.isAxiosError===!0}const gL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gL).forEach(([e,t])=>{gL[t]=e});const Hxe=gL;function Wie(e){const t=new f5(e),r=Bie(f5.prototype.request,t);return Ut.extend(r,f5.prototype,t,{allOwnKeys:!0}),Ut.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Wie(Eb(e,n))},r}const fo=Wie(wj);fo.Axios=f5;fo.CanceledError=s_;fo.CancelToken=kxe;fo.isCancel=Hie;fo.VERSION=Qie;fo.toFormData=KT;fo.AxiosError=Hi;fo.Cancel=fo.CanceledError;fo.all=function(t){return Promise.all(t)};fo.spread=jxe;fo.isAxiosError=zxe;fo.mergeConfig=Eb;fo.AxiosHeaders=Mf;fo.formToJSON=e=>zie(Ut.isHTMLForm(e)?new FormData(e):e);fo.HttpStatusCode=Hxe;fo.default=fo;const rs=fo;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function l_(e){return e+.5|0}const fA=(e,t,r)=>Math.max(Math.min(e,r),t);function bx(e){return fA(l_(e*2.55),0,255)}function jA(e){return fA(l_(e*255),0,255)}function sf(e){return fA(l_(e/2.55)/100,0,1)}function I8(e){return fA(l_(e*100),0,100)}const Dc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mL=[..."0123456789ABCDEF"],Vxe=e=>mL[e&15],Qxe=e=>mL[(e&240)>>4]+mL[e&15],ES=e=>(e&240)>>4===(e&15),Wxe=e=>ES(e.r)&&ES(e.g)&&ES(e.b)&&ES(e.a);function Gxe(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Dc[e[1]]*17,g:255&Dc[e[2]]*17,b:255&Dc[e[3]]*17,a:t===5?Dc[e[4]]*17:255}:(t===7||t===9)&&(r={r:Dc[e[1]]<<4|Dc[e[2]],g:Dc[e[3]]<<4|Dc[e[4]],b:Dc[e[5]]<<4|Dc[e[6]],a:t===9?Dc[e[7]]<<4|Dc[e[8]]:255})),r}const qxe=(e,t)=>e<255?t(e):"";function Kxe(e){var t=Wxe(e)?Vxe:Qxe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+qxe(e.a,t):void 0}const Xxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gie(e,t,r){const i=t*Math.min(r,1-r),n=(a,o=(a+e/30)%12)=>r-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Yxe(e,t,r){const i=(n,a=(n+e/60)%6)=>r-r*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function $xe(e,t,r){const i=Gie(e,1,.5);let n;for(t+r>1&&(n=1/(t+r),t*=n,r*=n),n=0;n<3;n++)i[n]*=1-t-r,i[n]+=t;return i}function Jxe(e,t,r,i,n){return e===n?(t-r)/i+(t<r?6:0):t===n?(r-e)/i+2:(e-t)/i+4}function _j(e){const r=e.r/255,i=e.g/255,n=e.b/255,a=Math.max(r,i,n),o=Math.min(r,i,n),s=(a+o)/2;let l,c,u;return a!==o&&(u=a-o,c=s>.5?u/(2-a-o):u/(a+o),l=Jxe(r,i,n,u,a),l=l*60+.5),[l|0,c||0,s]}function Sj(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(jA)}function Ej(e,t,r){return Sj(Gie,e,t,r)}function Zxe(e,t,r){return Sj($xe,e,t,r)}function e2e(e,t,r){return Sj(Yxe,e,t,r)}function qie(e){return(e%360+360)%360}function t2e(e){const t=Xxe.exec(e);let r=255,i;if(!t)return;t[5]!==i&&(r=t[6]?bx(+t[5]):jA(+t[5]));const n=qie(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Zxe(n,a,o):t[1]==="hsv"?i=e2e(n,a,o):i=Ej(n,a,o),{r:i[0],g:i[1],b:i[2],a:r}}function r2e(e,t){var r=_j(e);r[0]=qie(r[0]+t),r=Ej(r),e.r=r[0],e.g=r[1],e.b=r[2]}function i2e(e){if(!e)return;const t=_j(e),r=t[0],i=I8(t[1]),n=I8(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${n}%, ${sf(e.a)})`:`hsl(${r}, ${i}%, ${n}%)`}const F8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},L8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function n2e(){const e={},t=Object.keys(L8),r=Object.keys(F8);let i,n,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],n=0;n<r.length;n++)a=r[n],s=s.replace(a,F8[a]);a=parseInt(L8[o],16),e[s]=[a>>16&255,a>>8&255,a&255]}return e}let BS;function a2e(e){BS||(BS=n2e(),BS.transparent=[0,0,0,0]);const t=BS[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const o2e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s2e(e){const t=o2e.exec(e);let r=255,i,n,a;if(t){if(t[7]!==i){const o=+t[7];r=t[8]?bx(o):fA(o*255,0,255)}return i=+t[1],n=+t[3],a=+t[5],i=255&(t[2]?bx(i):fA(i,0,255)),n=255&(t[4]?bx(n):fA(n,0,255)),a=255&(t[6]?bx(a):fA(a,0,255)),{r:i,g:n,b:a,a:r}}}function l2e(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${sf(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const rD=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,dv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function c2e(e,t,r){const i=dv(sf(e.r)),n=dv(sf(e.g)),a=dv(sf(e.b));return{r:jA(rD(i+r*(dv(sf(t.r))-i))),g:jA(rD(n+r*(dv(sf(t.g))-n))),b:jA(rD(a+r*(dv(sf(t.b))-a))),a:e.a+r*(t.a-e.a)}}function MS(e,t,r){if(e){let i=_j(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,t===0?360:1)),i=Ej(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Kie(e,t){return e&&Object.assign(t||{},e)}function R8(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=jA(e[3]))):(t=Kie(e,{r:0,g:0,b:0,a:1}),t.a=jA(t.a)),t}function u2e(e){return e.charAt(0)==="r"?s2e(e):t2e(e)}class rC{constructor(t){if(t instanceof rC)return t;const r=typeof t;let i;r==="object"?i=R8(t):r==="string"&&(i=Gxe(t)||a2e(t)||u2e(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Kie(this._rgb);return t&&(t.a=sf(t.a)),t}set rgb(t){this._rgb=R8(t)}rgbString(){return this._valid?l2e(this._rgb):void 0}hexString(){return this._valid?Kxe(this._rgb):void 0}hslString(){return this._valid?i2e(this._rgb):void 0}mix(t,r){if(t){const i=this.rgb,n=t.rgb;let a;const o=r===a?.5:r,s=2*o-1,l=i.a-n.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-c,i.r=255&c*i.r+a*n.r+.5,i.g=255&c*i.g+a*n.g+.5,i.b=255&c*i.b+a*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,r){return t&&(this._rgb=c2e(this._rgb,t._rgb,r)),this}clone(){return new rC(this.rgb)}alpha(t){return this._rgb.a=jA(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=l_(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return MS(this._rgb,2,t),this}darken(t){return MS(this._rgb,2,-t),this}saturate(t){return MS(this._rgb,1,t),this}desaturate(t){return MS(this._rgb,1,-t),this}rotate(t){return r2e(this._rgb,t),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Fh(){}const d2e=(()=>{let e=0;return()=>e++})();function Qi(e){return e===null||typeof e>"u"}function kn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Di(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ma(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function sc(e,t){return ma(e)?e:t}function gi(e,t){return typeof e>"u"?t:e}const h2e=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Xie=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function On(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function hn(e,t,r,i){let n,a,o;if(kn(e))if(a=e.length,i)for(n=a-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<a;n++)t.call(r,e[n],n);else if(Di(e))for(o=Object.keys(e),a=o.length,n=0;n<a;n++)t.call(r,e[o[n]],o[n])}function OM(e,t){let r,i,n,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(n=e[r],a=t[r],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function DM(e){if(kn(e))return e.map(DM);if(Di(e)){const t=Object.create(null),r=Object.keys(e),i=r.length;let n=0;for(;n<i;++n)t[r[n]]=DM(e[r[n]]);return t}return e}function Yie(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function f2e(e,t,r,i){if(!Yie(e))return;const n=t[e],a=r[e];Di(n)&&Di(a)?iC(n,a,i):t[e]=DM(a)}function iC(e,t,r){const i=kn(t)?t:[t],n=i.length;if(!Di(e))return e;r=r||{};const a=r.merger||f2e;let o;for(let s=0;s<n;++s){if(o=i[s],!Di(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)a(l[c],e,o,r)}return e}function r2(e,t){return iC(e,t,{merger:p2e})}function p2e(e,t,r){if(!Yie(e))return;const i=t[e],n=r[e];Di(i)&&Di(n)?r2(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=DM(n))}const U8={"":e=>e,x:e=>e.x,y:e=>e.y};function A2e(e){const t=e.split("."),r=[];let i="";for(const n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function g2e(e){const t=A2e(e);return r=>{for(const i of t){if(i==="")break;r=r&&r[i]}return r}}function YA(e,t){return(U8[t]||(U8[t]=g2e(t)))(e)}function Bj(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nC=e=>typeof e<"u",$A=e=>typeof e=="function",N8=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function m2e(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Qn=Math.PI,Vn=2*Qn,v2e=Vn+Qn,IM=Number.POSITIVE_INFINITY,y2e=Qn/180,Oa=Qn/2,Vg=Qn/4,k8=Qn*2/3,pA=Math.log10,sh=Math.sign;function i2(e,t,r){return Math.abs(e-t)<r}function j8(e){const t=Math.round(e);e=i2(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(pA(e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function b2e(e){const t=[],r=Math.sqrt(e);let i;for(i=1;i<r;i++)e%i===0&&(t.push(i),t.push(e/i));return r===(r|0)&&t.push(r),t.sort((n,a)=>n-a).pop(),t}function Bb(e){return!isNaN(parseFloat(e))&&isFinite(e)}function w2e(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function $ie(e,t,r){let i,n,a;for(i=0,n=e.length;i<n;i++)a=e[i][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Vu(e){return e*(Qn/180)}function Mj(e){return e*(180/Qn)}function z8(e){if(!ma(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function Jie(e,t){const r=t.x-e.x,i=t.y-e.y,n=Math.sqrt(r*r+i*i);let a=Math.atan2(i,r);return a<-.5*Qn&&(a+=Vn),{angle:a,distance:n}}function vL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x2e(e,t){return(e-t+v2e)%Vn-Qn}function cc(e){return(e%Vn+Vn)%Vn}function aC(e,t,r,i){const n=cc(e),a=cc(t),o=cc(r),s=cc(a-n),l=cc(o-n),c=cc(n-a),u=cc(n-o);return n===a||n===o||i&&a===o||s>l&&c<u}function Oo(e,t,r){return Math.max(t,Math.min(r,e))}function C2e(e){return Oo(e,-32768,32767)}function gf(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function Pj(e,t,r){r=r||(o=>e[o]<t);let i=e.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,r(a)?n=a:i=a;return{lo:n,hi:i}}const mf=(e,t,r,i)=>Pj(e,r,i?n=>{const a=e[n][t];return a<r||a===r&&e[n+1][t]===r}:n=>e[n][t]<r),_2e=(e,t,r)=>Pj(e,r,i=>e[i][t]>=r);function S2e(e,t,r){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>r;)n--;return i>0||n<e.length?e.slice(i,n):e}const Zie=["push","pop","shift","splice","unshift"];function E2e(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Zie.forEach(r=>{const i="_onData"+Bj(r),n=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...a){const o=n.apply(this,a);return e._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),o}})})}function H8(e,t){const r=e._chartjs;if(!r)return;const i=r.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(Zie.forEach(a=>{delete e[a]}),delete e._chartjs)}function ene(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const tne=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function rne(e,t){let r=[],i=!1;return function(...n){r=n,i||(i=!0,tne.call(window,()=>{i=!1,e.apply(t,r)}))}}function B2e(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}const Tj=e=>e==="start"?"left":e==="end"?"right":"center",xs=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,M2e=(e,t,r,i)=>e===(i?"left":"right")?r:e==="center"?(t+r)/2:t;function ine(e,t,r){const i=t.length;let n=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(n=Oo(Math.min(mf(s,l,c).lo,r?i:mf(t,l,o.getPixelForValue(c)).lo),0,i-1)),h?a=Oo(Math.max(mf(s,o.axis,u,!0).hi+1,r?0:mf(t,l,o.getPixelForValue(u),!0).hi+1),n,i)-n:a=i-n}return{start:n,count:a}}function nne(e){const{xScale:t,yScale:r,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=n,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),a}const PS=e=>e===0||e===1,V8=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Vn/r)),Q8=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Vn/r)+1,n2={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Oa)+1,easeOutSine:e=>Math.sin(e*Oa),easeInOutSine:e=>-.5*(Math.cos(Qn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>PS(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>PS(e)?e:V8(e,.075,.3),easeOutElastic:e=>PS(e)?e:Q8(e,.075,.3),easeInOutElastic(e){return PS(e)?e:e<.5?.5*V8(e*2,.1125,.45):.5+.5*Q8(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-n2.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?n2.easeInBounce(e*2)*.5:n2.easeOutBounce(e*2-1)*.5+.5};function Oj(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function W8(e){return Oj(e)?e:new rC(e)}function iD(e){return Oj(e)?e:new rC(e).saturate(.5).darken(.1).hexString()}const P2e=["x","y","borderWidth","radius","tension"],T2e=["color","borderColor","backgroundColor"];function O2e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:T2e},numbers:{type:"number",properties:P2e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function D2e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const G8=new Map;function I2e(e,t){t=t||{};const r=e+JSON.stringify(t);let i=G8.get(r);return i||(i=new Intl.NumberFormat(e,t),G8.set(r,i)),i}function c_(e,t,r){return I2e(t,r).format(e)}const ane={values(e){return kn(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const i=this.chart.options.locale;let n,a=e;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),a=F2e(e,r)}const o=pA(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),c_(e,i,l)},logarithmic(e,t,r){if(e===0)return"0";const i=r[t].significand||e/Math.pow(10,Math.floor(pA(e)));return[1,2,3,5,10,15].includes(i)||t>.8*r.length?ane.numeric.call(this,e,t,r):""}};function F2e(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var $T={formatters:ane};function L2e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$T.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const i0=Object.create(null),yL=Object.create(null);function a2(e,t){if(!t)return e;const r=t.split(".");for(let i=0,n=r.length;i<n;++i){const a=r[i];e=e[a]||(e[a]=Object.create(null))}return e}function nD(e,t,r){return typeof t=="string"?iC(a2(e,t),r):iC(a2(e,""),t)}class R2e{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>iD(n.backgroundColor),this.hoverBorderColor=(i,n)=>iD(n.borderColor),this.hoverColor=(i,n)=>iD(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return nD(this,t,r)}get(t){return a2(this,t)}describe(t,r){return nD(yL,t,r)}override(t,r){return nD(i0,t,r)}route(t,r,i,n){const a=a2(this,t),o=a2(this,i),s="_"+r;Object.defineProperties(a,{[s]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[s],c=o[n];return Di(l)?Object.assign({},c,l):gi(l,c)},set(l){this[s]=l}}})}apply(t){t.forEach(r=>r(this))}}var va=new R2e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[O2e,D2e,L2e]);function U2e(e){return!e||Qi(e.size)||Qi(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function FM(e,t,r,i,n){let a=t[n];return a||(a=t[n]=e.measureText(n).width,r.push(n)),a>i&&(i=a),i}function N2e(e,t,r,i){i=i||{};let n=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=r.length;let l,c,u,d,h;for(l=0;l<s;l++)if(d=r[l],d!=null&&!kn(d))o=FM(e,n,a,o,d);else if(kn(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!kn(h)&&(o=FM(e,n,a,o,h));e.restore();const f=a.length/2;if(f>r.length){for(l=0;l<f;l++)delete n[a[l]];a.splice(0,f)}return o}function Qg(e,t,r){const i=e.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((t-n)*i)/i+n}function q8(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function bL(e,t,r,i){one(e,t,r,i,null)}function one(e,t,r,i,n){let a,o,s,l,c,u,d,h;const f=t.pointStyle,m=t.rotation,A=t.radius;let g=(m||0)*y2e;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(r,i),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(A)||A<=0)){switch(e.beginPath(),f){default:n?e.ellipse(r,i,n/2,A,0,0,Vn):e.arc(r,i,A,0,Vn),e.closePath();break;case"triangle":u=n?n/2:A,e.moveTo(r+Math.sin(g)*u,i-Math.cos(g)*A),g+=k8,e.lineTo(r+Math.sin(g)*u,i-Math.cos(g)*A),g+=k8,e.lineTo(r+Math.sin(g)*u,i-Math.cos(g)*A),e.closePath();break;case"rectRounded":c=A*.516,l=A-c,o=Math.cos(g+Vg)*l,d=Math.cos(g+Vg)*(n?n/2-c:l),s=Math.sin(g+Vg)*l,h=Math.sin(g+Vg)*(n?n/2-c:l),e.arc(r-d,i-s,c,g-Qn,g-Oa),e.arc(r+h,i-o,c,g-Oa,g),e.arc(r+d,i+s,c,g,g+Oa),e.arc(r-h,i+o,c,g+Oa,g+Qn),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*A,u=n?n/2:l,e.rect(r-u,i-l,2*u,2*l);break}g+=Vg;case"rectRot":d=Math.cos(g)*(n?n/2:A),o=Math.cos(g)*A,s=Math.sin(g)*A,h=Math.sin(g)*(n?n/2:A),e.moveTo(r-d,i-s),e.lineTo(r+h,i-o),e.lineTo(r+d,i+s),e.lineTo(r-h,i+o),e.closePath();break;case"crossRot":g+=Vg;case"cross":d=Math.cos(g)*(n?n/2:A),o=Math.cos(g)*A,s=Math.sin(g)*A,h=Math.sin(g)*(n?n/2:A),e.moveTo(r-d,i-s),e.lineTo(r+d,i+s),e.moveTo(r+h,i-o),e.lineTo(r-h,i+o);break;case"star":d=Math.cos(g)*(n?n/2:A),o=Math.cos(g)*A,s=Math.sin(g)*A,h=Math.sin(g)*(n?n/2:A),e.moveTo(r-d,i-s),e.lineTo(r+d,i+s),e.moveTo(r+h,i-o),e.lineTo(r-h,i+o),g+=Vg,d=Math.cos(g)*(n?n/2:A),o=Math.cos(g)*A,s=Math.sin(g)*A,h=Math.sin(g)*(n?n/2:A),e.moveTo(r-d,i-s),e.lineTo(r+d,i+s),e.moveTo(r+h,i-o),e.lineTo(r-h,i+o);break;case"line":o=n?n/2:Math.cos(g)*A,s=Math.sin(g)*A,e.moveTo(r-o,i-s),e.lineTo(r+o,i+s);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(g)*(n?n/2:A),i+Math.sin(g)*A);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function vf(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function JT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ZT(e){e.restore()}function k2e(e,t,r,i,n){if(!t)return e.lineTo(r.x,r.y);if(n==="middle"){const a=(t.x+r.x)/2;e.lineTo(a,t.y),e.lineTo(a,r.y)}else n==="after"!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function j2e(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function z2e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Qi(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function H2e(e,t,r,i,n){if(n.strikethrough||n.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function V2e(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function n0(e,t,r,i,n,a={}){const o=kn(t)?t:[t],s=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(e.save(),e.font=n.string,z2e(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&V2e(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Qi(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,r,i,a.maxWidth)),e.fillText(c,r,i,a.maxWidth),H2e(e,r,i,c,a),i+=Number(n.lineHeight);e.restore()}function oC(e,t){const{x:r,y:i,w:n,h:a,radius:o}=t;e.arc(r+o.topLeft,i+o.topLeft,o.topLeft,1.5*Qn,Qn,!0),e.lineTo(r,i+a-o.bottomLeft),e.arc(r+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,Qn,Oa,!0),e.lineTo(r+n-o.bottomRight,i+a),e.arc(r+n-o.bottomRight,i+a-o.bottomRight,o.bottomRight,Oa,0,!0),e.lineTo(r+n,i+o.topRight),e.arc(r+n-o.topRight,i+o.topRight,o.topRight,0,-Oa,!0),e.lineTo(r+o.topLeft,i)}const Q2e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,W2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function G2e(e,t){const r=(""+e).match(Q2e);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const q2e=e=>+e||0;function Dj(e,t){const r={},i=Di(t),n=i?Object.keys(t):t,a=Di(e)?i?o=>gi(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of n)r[o]=q2e(a(o));return r}function sne(e){return Dj(e,{top:"y",right:"x",bottom:"y",left:"x"})}function km(e){return Dj(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Is(e){const t=sne(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ho(e,t){e=e||{},t=t||va.font;let r=gi(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let i=gi(e.style,t.style);i&&!(""+i).match(W2e)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:gi(e.family,t.family),lineHeight:G2e(gi(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:gi(e.weight,t.weight),string:""};return n.string=U2e(n),n}function wx(e,t,r,i){let n=!0,a,o,s;for(a=0,o=e.length;a<o;++a)if(s=e[a],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t),n=!1),r!==void 0&&kn(s)&&(s=s[r%s.length],n=!1),s!==void 0))return i&&!n&&(i.cacheable=!1),s}function K2e(e,t,r){const{min:i,max:n}=e,a=Xie(t,(n-i)/2),o=(s,l)=>r&&s===0?0:s+l;return{min:o(i,-Math.abs(a)),max:o(n,a)}}function dg(e,t){return Object.assign(Object.create(e),t)}function Ij(e,t=[""],r,i,n=()=>e[0]){const a=r||e;typeof i>"u"&&(i=dne("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:n,override:s=>Ij([s,...e],t,a,i)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete e[0][l],!0},get(s,l){return cne(s,l,()=>rCe(l,t,e,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(s,l){return X8(s).includes(l)},ownKeys(s){return X8(s)},set(s,l,c){const u=s._storage||(s._storage=n());return s[l]=u[l]=c,delete s._keys,!0}})}function Mb(e,t,r,i){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:lne(e,i),setContext:a=>Mb(e,a,r,i),override:a=>Mb(e.override(a),t,r,i)};return new Proxy(n,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,s){return cne(a,o,()=>Y2e(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,s){return e[o]=s,delete a[o],!0}})}function lne(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:i,isScriptable:$A(r)?r:()=>r,isIndexable:$A(i)?i:()=>i}}const X2e=(e,t)=>e?e+Bj(t):t,Fj=(e,t)=>Di(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function cne(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=r();return e[t]=i,i}function Y2e(e,t,r){const{_proxy:i,_context:n,_subProxy:a,_descriptors:o}=e;let s=i[t];return $A(s)&&o.isScriptable(t)&&(s=$2e(t,s,e,r)),kn(s)&&s.length&&(s=J2e(t,s,e,o.isIndexable)),Fj(t,s)&&(s=Mb(s,n,a&&a[t],o)),s}function $2e(e,t,r,i){const{_proxy:n,_context:a,_subProxy:o,_stack:s}=r;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||i);return s.delete(e),Fj(e,l)&&(l=Lj(n._scopes,n,e,l)),l}function J2e(e,t,r,i){const{_proxy:n,_context:a,_subProxy:o,_descriptors:s}=r;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(Di(t[0])){const l=t,c=n._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=Lj(c,n,e,u);t.push(Mb(d,a,o&&o[e],s))}}return t}function une(e,t,r){return $A(e)?e(t,r):e}const Z2e=(e,t)=>e===!0?t:typeof e=="string"?YA(t,e):void 0;function eCe(e,t,r,i,n){for(const a of t){const o=Z2e(r,a);if(o){e.add(o);const s=une(o._fallback,r,n);if(typeof s<"u"&&s!==r&&s!==i)return s}else if(o===!1&&typeof i<"u"&&r!==i)return null}return!1}function Lj(e,t,r,i){const n=t._rootScopes,a=une(t._fallback,r,i),o=[...e,...n],s=new Set;s.add(i);let l=K8(s,o,r,a||r,i);return l===null||typeof a<"u"&&a!==r&&(l=K8(s,o,a,l,i),l===null)?!1:Ij(Array.from(s),[""],n,a,()=>tCe(t,r,i))}function K8(e,t,r,i,n){for(;r;)r=eCe(e,t,r,i,n);return r}function tCe(e,t,r){const i=e._getTarget();t in i||(i[t]={});const n=i[t];return kn(n)&&Di(r)?r:n||{}}function rCe(e,t,r,i){let n;for(const a of t)if(n=dne(X2e(a,e),r),typeof n<"u")return Fj(e,n)?Lj(r,i,e,n):n}function dne(e,t){for(const r of t){if(!r)continue;const i=r[e];if(typeof i<"u")return i}}function X8(e){let t=e._keys;return t||(t=e._keys=iCe(e._scopes)),t}function iCe(e){const t=new Set;for(const r of e)for(const i of Object.keys(r).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function hne(e,t,r,i){const{iScale:n}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+r,u=t[c],o[s]={r:n.parse(YA(u,a),c)};return o}const nCe=Number.EPSILON||1e-14,Pb=(e,t)=>t<e.length&&!e[t].skip&&e[t],fne=e=>e==="x"?"y":"x";function aCe(e,t,r,i){const n=e.skip?t:e,a=t,o=r.skip?t:r,s=vL(a,n),l=vL(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:a.x-d*(o.x-n.x),y:a.y-d*(o.y-n.y)},next:{x:a.x+h*(o.x-n.x),y:a.y+h*(o.y-n.y)}}}function oCe(e,t,r){const i=e.length;let n,a,o,s,l,c=Pb(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Pb(e,u+1),!(!l||!c)){if(i2(t[u],0,nCe)){r[u]=r[u+1]=0;continue}n=r[u]/t[u],a=r[u+1]/t[u],s=Math.pow(n,2)+Math.pow(a,2),!(s<=9)&&(o=3/Math.sqrt(s),r[u]=n*o*t[u],r[u+1]=a*o*t[u])}}function sCe(e,t,r="x"){const i=fne(r),n=e.length;let a,o,s,l=Pb(e,0);for(let c=0;c<n;++c){if(o=s,s=l,l=Pb(e,c+1),!s)continue;const u=s[r],d=s[i];o&&(a=(u-o[r])/3,s[`cp1${r}`]=u-a,s[`cp1${i}`]=d-a*t[c]),l&&(a=(l[r]-u)/3,s[`cp2${r}`]=u+a,s[`cp2${i}`]=d+a*t[c])}}function lCe(e,t="x"){const r=fne(t),i=e.length,n=Array(i).fill(0),a=Array(i);let o,s,l,c=Pb(e,0);for(o=0;o<i;++o)if(s=l,l=c,c=Pb(e,o+1),!!l){if(c){const u=c[t]-l[t];n[o]=u!==0?(c[r]-l[r])/u:0}a[o]=s?c?sh(n[o-1])!==sh(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}oCe(e,n,a),sCe(e,a,t)}function TS(e,t,r){return Math.max(Math.min(e,r),t)}function cCe(e,t){let r,i,n,a,o,s=vf(e[0],t);for(r=0,i=e.length;r<i;++r)o=a,a=s,s=r<i-1&&vf(e[r+1],t),a&&(n=e[r],o&&(n.cp1x=TS(n.cp1x,t.left,t.right),n.cp1y=TS(n.cp1y,t.top,t.bottom)),s&&(n.cp2x=TS(n.cp2x,t.left,t.right),n.cp2y=TS(n.cp2y,t.top,t.bottom)))}function uCe(e,t,r,i,n){let a,o,s,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")lCe(e,n);else{let c=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=aCe(c,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}t.capBezierPoints&&cCe(e,r)}function Rj(){return typeof window<"u"&&typeof document<"u"}function Uj(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function LM(e,t,r){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[r])):i=e,i}const e3=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function dCe(e,t){return e3(e).getPropertyValue(t)}const hCe=["top","right","bottom","left"];function jm(e,t,r){const i={};r=r?"-"+r:"";for(let n=0;n<4;n++){const a=hCe[n];i[a]=parseFloat(e[t+"-"+a+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const fCe=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function pCe(e,t){const r=e.touches,i=r&&r.length?r[0]:e,{offsetX:n,offsetY:a}=i;let o=!1,s,l;if(fCe(n,a,e.target))s=n,l=a;else{const c=t.getBoundingClientRect();s=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:s,y:l,box:o}}function am(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:i}=t,n=e3(r),a=n.boxSizing==="border-box",o=jm(n,"padding"),s=jm(n,"border","width"),{x:l,y:c,box:u}=pCe(e,r),d=o.left+(u&&s.left),h=o.top+(u&&s.top);let{width:f,height:m}=t;return a&&(f-=o.width+s.width,m-=o.height+s.height),{x:Math.round((l-d)/f*r.width/i),y:Math.round((c-h)/m*r.height/i)}}function ACe(e,t,r){let i,n;if(t===void 0||r===void 0){const a=e&&Uj(e);if(!a)t=e.clientWidth,r=e.clientHeight;else{const o=a.getBoundingClientRect(),s=e3(a),l=jm(s,"border","width"),c=jm(s,"padding");t=o.width-c.width-l.width,r=o.height-c.height-l.height,i=LM(s.maxWidth,a,"clientWidth"),n=LM(s.maxHeight,a,"clientHeight")}}return{width:t,height:r,maxWidth:i||IM,maxHeight:n||IM}}const OS=e=>Math.round(e*10)/10;function gCe(e,t,r,i){const n=e3(e),a=jm(n,"margin"),o=LM(n.maxWidth,e,"clientWidth")||IM,s=LM(n.maxHeight,e,"clientHeight")||IM,l=ACe(e,t,r);let{width:c,height:u}=l;if(n.boxSizing==="content-box"){const h=jm(n,"border","width"),f=jm(n,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=OS(Math.min(c,o,l.maxWidth)),u=OS(Math.min(u,s,l.maxHeight)),c&&!u&&(u=OS(c/2)),(t!==void 0||r!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=OS(Math.floor(u*i))),{width:c,height:u}}function Y8(e,t,r){const i=t||1,n=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==n||o.width!==a?(e.currentDevicePixelRatio=i,o.height=n,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mCe=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Rj()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function $8(e,t){const r=dCe(e,t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function om(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function vCe(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:i==="middle"?r<.5?e.y:t.y:i==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function yCe(e,t,r,i){const n={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=om(e,n,r),s=om(n,a,r),l=om(a,t,r),c=om(o,s,r),u=om(s,l,r);return om(c,u,r)}const bCe=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},wCe=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qy(e,t,r){return e?bCe(t,r):wCe()}function pne(e,t){let r,i;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Ane(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function gne(e){return e==="angle"?{between:aC,compare:x2e,normalize:cc}:{between:gf,compare:(t,r)=>t-r,normalize:t=>t}}function J8({start:e,end:t,count:r,loop:i,style:n}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r===0,style:n}}function xCe(e,t,r){const{property:i,start:n,end:a}=r,{between:o,normalize:s}=gne(i),l=t.length;let{start:c,end:u,loop:d}=e,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(s(t[c%l][i]),n,a);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function mne(e,t,r){if(!r)return[e];const{property:i,start:n,end:a}=r,o=t.length,{compare:s,between:l,normalize:c}=gne(i),{start:u,end:d,loop:h,style:f}=xCe(e,t,r),m=[];let A=!1,g=null,p,v,y;const b=()=>l(n,y,p)&&s(n,y)!==0,x=()=>s(a,p)===0||l(a,y,p),w=()=>A||b(),C=()=>!A||x();for(let _=u,B=u;_<=d;++_)v=t[_%o],!v.skip&&(p=c(v[i]),p!==y&&(A=l(p,n,a),g===null&&w()&&(g=s(p,n)===0?_:B),g!==null&&C()&&(m.push(J8({start:g,end:_,loop:h,count:o,style:f})),g=null),B=_,y=p));return g!==null&&m.push(J8({start:g,end:d,loop:h,count:o,style:f})),m}function vne(e,t){const r=[],i=e.segments;for(let n=0;n<i.length;n++){const a=mne(i[n],e.points,t);a.length&&r.push(...a)}return r}function CCe(e,t,r,i){let n=0,a=t-1;if(r&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(a+=n);a>n&&e[a%t].skip;)a--;return a%=t,{start:n,end:a}}function _Ce(e,t,r,i){const n=e.length,a=[];let o=t,s=e[t],l;for(l=t+1;l<=r;++l){const c=e[l%n];c.skip||c.stop?s.skip||(i=!1,a.push({start:t%n,end:(l-1)%n,loop:i}),t=o=c.stop?l:null):(o=l,s.skip&&(t=l)),s=c}return o!==null&&a.push({start:t%n,end:o%n,loop:i}),a}function SCe(e,t){const r=e.points,i=e.options.spanGaps,n=r.length;if(!n)return[];const a=!!e._loop,{start:o,end:s}=CCe(r,n,a,i);if(i===!0)return Z8(e,[{start:o,end:s,loop:a}],r,t);const l=s<o?s+n:s,c=!!e._fullLoop&&o===0&&s===n-1;return Z8(e,_Ce(r,o,l,c),r,t)}function Z8(e,t,r,i){return!i||!i.setContext||!r?t:ECe(e,t,r,i)}function ECe(e,t,r,i){const n=e._chart.getContext(),a=eQ(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=r.length,c=[];let u=a,d=t[0].start,h=d;function f(m,A,g,p){const v=s?-1:1;if(m!==A){for(m+=l;r[m%l].skip;)m-=v;for(;r[A%l].skip;)A+=v;m%l!==A%l&&(c.push({start:m%l,end:A%l,loop:g,style:p}),u=p,d=A%l)}}for(const m of t){d=s?d:m.start;let A=r[d%l],g;for(h=d+1;h<=m.end;h++){const p=r[h%l];g=eQ(i.setContext(dg(n,{type:"segment",p0:A,p1:p,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),BCe(g,u)&&f(d,h-1,m.loop,u),A=p,u=g}d<h-1&&f(d,h-1,m.loop,u)}return c}function eQ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function BCe(e,t){if(!t)return!1;const r=[],i=function(n,a){return Oj(a)?(r.includes(a)||r.push(a),r.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class MCe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,i,n){const a=r.listeners[n],o=r.duration;a.forEach(s=>s({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(i-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tne.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),s=!0):(a[o]=a[a.length-1],a.pop());s&&(n.draw(),this._notify(n,i,t,"progress")),a.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),r+=a.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let i=r.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,i)),i}listen(t,r,i){this._getAnims(t).listeners[r].push(i)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const i=r.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Yh=new MCe;const tQ="transparent",PCe={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const i=W8(e||tQ),n=i.valid&&W8(t||tQ);return n&&n.valid?n.mix(i,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class TCe{constructor(t,r,i,n){const a=r[i];n=wx([t.to,n,a,t.from]);const o=wx([t.from,a,n]);this._active=!0,this._fn=t.fn||PCe[t.type||typeof o],this._easing=n2[t.easing]||n2.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,r,i){if(this._active){this._notify(!1);const n=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=wx([t.to,r,n,t.from]),this._from=wx([t.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,i=this._duration,n=this._prop,a=this._from,o=this._loop,s=this._to;let l;if(this._active=a!==s&&(o||r<i),!this._active){this._target[n]=s,this._notify(!0);return}if(r<0){this._target[n]=a;return}l=r/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(a,s,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,i)=>{t.push({res:r,rej:i})})}_notify(t){const r=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][r]()}}class yne{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Di(t))return;const r=Object.keys(va.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const a=t[n];if(!Di(a))return;const o={};for(const s of r)o[s]=a[s];(kn(a.properties)&&a.properties||[n]).forEach(s=>{(s===n||!i.has(s))&&i.set(s,o)})})}_animateOptions(t,r){const i=r.options,n=DCe(t,i);if(!n)return[];const a=this._createAnimations(n,i);return i.$shared&&OCe(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,r){const i=this._properties,n=[],a=t.$animations||(t.$animations={}),o=Object.keys(r),s=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,r));continue}const u=r[c];let d=a[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,s);continue}else d.cancel();if(!h||!h.duration){t[c]=u;continue}a[c]=d=new TCe(h,t,c,u),n.push(d)}return n}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const i=this._createAnimations(t,r);if(i.length)return Yh.add(this._chart,i),!0}}function OCe(e,t){const r=[],i=Object.keys(t);for(let n=0;n<i.length;n++){const a=e[i[n]];a&&a.active()&&r.push(a.wait())}return Promise.all(r)}function DCe(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function rQ(e,t){const r=e&&e.options||{},i=r.reverse,n=r.min===void 0?t:0,a=r.max===void 0?t:0;return{start:i?a:n,end:i?n:a}}function ICe(e,t,r){if(r===!1)return!1;const i=rQ(e,r),n=rQ(t,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function FCe(e){let t,r,i,n;return Di(e)?(t=e.top,r=e.right,i=e.bottom,n=e.left):t=r=i=n=e,{top:t,right:r,bottom:i,left:n,disabled:e===!1}}function bne(e,t){const r=[],i=e._getSortedDatasetMetas(t);let n,a;for(n=0,a=i.length;n<a;++n)r.push(i[n].index);return r}function iQ(e,t,r,i={}){const n=e.keys,a=i.mode==="single";let o,s,l,c;if(t!==null){for(o=0,s=n.length;o<s;++o){if(l=+n[o],l===r){if(i.all)continue;break}c=e.values[l],ma(c)&&(a||t===0||sh(t)===sh(c))&&(t+=c)}return t}}function LCe(e,t){const{iScale:r,vScale:i}=t,n=r.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(e),s=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],s[l]={[n]:u,[a]:e[u]};return s}function nQ(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function RCe(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function UCe(e){const{min:t,max:r,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function NCe(e,t,r){const i=e[t]||(e[t]={});return i[r]||(i[r]={})}function aQ(e,t,r,i){for(const n of t.getMatchingVisibleMetas(i).reverse()){const a=e[n.index];if(r&&a>0||!r&&a<0)return n.index}return null}function oQ(e,t){const{chart:r,_cachedMeta:i}=e,n=r._stacks||(r._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,u=RCe(a,o,i),d=t.length;let h;for(let f=0;f<d;++f){const m=t[f],{[l]:A,[c]:g}=m,p=m._stacks||(m._stacks={});h=p[c]=NCe(n,u,A),h[s]=g,h._top=aQ(h,o,!0,i.type),h._bottom=aQ(h,o,!1,i.type);const v=h._visualValues||(h._visualValues={});v[s]=g}}function aD(e,t){const r=e.scales;return Object.keys(r).filter(i=>r[i].axis===t).shift()}function kCe(e,t){return dg(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function jCe(e,t,r){return dg(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Ew(e,t){const r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const n of t){const a=n._stacks;if(!a||a[i]===void 0||a[i][r]===void 0)return;delete a[i][r],a[i]._visualValues!==void 0&&a[i]._visualValues[r]!==void 0&&delete a[i]._visualValues[r]}}}const oD=e=>e==="reset"||e==="none",sQ=(e,t)=>t?e:Object.assign({},e),zCe=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:bne(r,!0),values:null};class Yu{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=nQ(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ew(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,i=this.getDataset(),n=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,a=r.xAxisID=gi(i.xAxisID,aD(t,"x")),o=r.yAxisID=gi(i.yAxisID,aD(t,"y")),s=r.rAxisID=gi(i.rAxisID,aD(t,"r")),l=r.indexAxis,c=r.iAxisID=n(l,a,o,s),u=r.vAxisID=n(l,o,a,s);r.xScale=this.getScaleForId(a),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(s),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&H8(this._data,this),t._stacked&&Ew(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Di(r)){const n=this._cachedMeta;this._data=LCe(r,n)}else if(i!==r){if(i){H8(i,this);const n=this._cachedMeta;Ew(n),n._parsed=[]}r&&Object.isExtensible(r)&&E2e(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const a=r._stacked;r._stacked=nQ(r.vScale,r),r.stack!==i.stack&&(n=!0,Ew(r),r.stack=i.stack),this._resyncElements(t),(n||a!==r._stacked)&&oQ(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:i,_data:n}=this,{iScale:a,_stacked:o}=i,s=a.axis;let l=t===0&&r===n.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,d,h;if(this._parsing===!1)i._parsed=n,i._sorted=!0,h=n;else{kn(n[t])?h=this.parseArrayData(i,n,t,r):Di(n[t])?h=this.parseObjectData(i,n,t,r):h=this.parsePrimitiveData(i,n,t,r);const f=()=>d[s]===null||c&&d[s]<c[s];for(u=0;u<r;++u)i._parsed[u+t]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&oQ(this,h)}parsePrimitiveData(t,r,i,n){const{iScale:a,vScale:o}=t,s=a.axis,l=o.axis,c=a.getLabels(),u=a===o,d=new Array(n);let h,f,m;for(h=0,f=n;h<f;++h)m=h+i,d[h]={[s]:u||a.parse(c[m],m),[l]:o.parse(r[m],m)};return d}parseArrayData(t,r,i,n){const{xScale:a,yScale:o}=t,s=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+i,d=r[u],s[l]={x:a.parse(d[0],u),y:o.parse(d[1],u)};return s}parseObjectData(t,r,i,n){const{xScale:a,yScale:o}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let u,d,h,f;for(u=0,d=n;u<d;++u)h=u+i,f=r[h],c[u]={x:a.parse(YA(f,s),h),y:o.parse(YA(f,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){const n=this.chart,a=this._cachedMeta,o=r[t.axis],s={keys:bne(n,!0),values:r._stacks[t.axis]._visualValues};return iQ(s,o,a.index,{mode:i})}updateRangeFromParsed(t,r,i,n){const a=i[r.axis];let o=a===null?NaN:a;const s=n&&i._stacks[r.axis];n&&s&&(n.values=s,o=iQ(n,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const i=this._cachedMeta,n=i._parsed,a=i._sorted&&t===i.iScale,o=n.length,s=this._getOtherScale(t),l=zCe(r,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=UCe(s);let h,f;function m(){f=n[h];const A=f[s.axis];return!ma(f[t.axis])||u>A||d<A}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,t,f,l),a));++h);if(a){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const r=this._cachedMeta._parsed,i=[];let n,a,o;for(n=0,a=r.length;n<a;++n)o=r[n][t.axis],ma(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,i=r.iScale,n=r.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=FCe(gi(this.options.clip,ICe(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,i=this._cachedMeta,n=i.data||[],a=r.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||n.length-s,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,a,s,l),u=s;u<s+l;++u){const d=n[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,a))}for(u=0;u<o.length;++u)o[u].draw(t,a)}getStyle(t,r){const i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){const n=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=jCe(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=n.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=kCe(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!r,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){const n=r==="active",a=this._cachedDataOpts,o=t+"-"+r,s=a[o],l=this.enableOptionSharing&&nC(i);if(s)return sQ(s,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=n?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(va.elements[t]),m=()=>this.getContext(i,n,r),A=c.resolveNamedOptions(h,f,m,d);return A.$shared&&(A.$shared=l,a[o]=Object.freeze(sQ(A,l))),A}_resolveAnimations(t,r,i){const n=this.chart,a=this._cachedDataOpts,o=`animation-${r}`,s=a[o];if(s)return s;let l;if(n.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(t,i,r))}const c=new yne(n,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||oD(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const i=this.resolveDataElementOptions(t,r),n=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(r,a)||a!==n;return this.updateSharedOptions(a,r,i),{sharedOptions:a,includeOptions:o}}updateElement(t,r,i,n){oD(n)?Object.assign(t,i):this._resolveAnimations(r,n).update(t,i)}updateSharedOptions(t,r,i){t&&!oD(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,n){t.active=n;const a=this.getStyle(r,n);this._resolveAnimations(r,i,n).update(t,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,i=this._cachedMeta.data;for(const[s,l,c]of this._syncList)this[s](l,c);this._syncList=[];const n=i.length,a=r.length,o=Math.min(a,n);o&&this.parse(0,o),a>n?this._insertElements(n,a-n,t):a<n&&this._removeElements(a,n-a)}_insertElements(t,r,i=!0){const n=this._cachedMeta,a=n.data,o=t+r;let s;const l=c=>{for(c.length+=r,s=c.length-1;s>=o;s--)c[s]=c[s-r]};for(l(a),s=t;s<o;++s)a[s]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,r),i&&this.updateElements(a,t,r,"reset")}updateElements(t,r,i,n){}_removeElements(t,r){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,r);i._stacked&&Ew(i,n)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,i,n]=t;this[r](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}or(Yu,"defaults",{}),or(Yu,"datasetElementType",null),or(Yu,"dataElementType",null);function HCe(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let i=[];for(let n=0,a=r.length;n<a;n++)i=i.concat(r[n].controller.getAllParsedValues(e));e._cache.$bar=ene(i.sort((n,a)=>n-a))}return e._cache.$bar}function VCe(e){const t=e.iScale,r=HCe(t,e.type);let i=t._length,n,a,o,s;const l=()=>{o===32767||o===-32768||(nC(s)&&(i=Math.min(i,Math.abs(o-s)||i)),s=o)};for(n=0,a=r.length;n<a;++n)o=t.getPixelForValue(r[n]),l();for(s=void 0,n=0,a=t.ticks.length;n<a;++n)o=t.getPixelForTick(n),l();return i}function QCe(e,t,r,i){const n=r.barThickness;let a,o;return Qi(n)?(a=t.min*r.categoryPercentage,o=r.barPercentage):(a=n*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}function WCe(e,t,r,i){const n=t.pixels,a=n[e];let o=e>0?n[e-1]:null,s=e<n.length-1?n[e+1]:null;const l=r.categoryPercentage;o===null&&(o=a-(s===null?t.end-t.start:s-a)),s===null&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:r.barPercentage,start:c}}function GCe(e,t,r,i){const n=r.parse(e[0],i),a=r.parse(e[1],i),o=Math.min(n,a),s=Math.max(n,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:a,min:o,max:s}}function wne(e,t,r,i){return kn(e)?GCe(e,t,r,i):t[r.axis]=r.parse(e,i),t}function lQ(e,t,r,i){const n=e.iScale,a=e.vScale,o=n.getLabels(),s=n===a,l=[];let c,u,d,h;for(c=r,u=r+i;c<u;++c)h=t[c],d={},d[n.axis]=s||n.parse(o[c],c),l.push(wne(h,d,a,c));return l}function sD(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function qCe(e,t,r){return e!==0?sh(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function KCe(e){let t,r,i,n,a;return e.horizontal?(t=e.base>e.x,r="left",i="right"):(t=e.base<e.y,r="bottom",i="top"),t?(n="end",a="start"):(n="start",a="end"),{start:r,end:i,reverse:t,top:n,bottom:a}}function XCe(e,t,r,i){let n=t.borderSkipped;const a={};if(!n){e.borderSkipped=a;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:s,reverse:l,top:c,bottom:u}=KCe(e);n==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?n=c:(r._bottom||0)===i?n=u:(a[cQ(u,o,s,l)]=!0,n=c)),a[cQ(n,o,s,l)]=!0,e.borderSkipped=a}function cQ(e,t,r,i){return i?(e=YCe(e,t,r),e=uQ(e,r,t)):e=uQ(e,t,r),e}function YCe(e,t,r){return e===t?r:e===r?t:e}function uQ(e,t,r){return e==="start"?t:e==="end"?r:e}function $Ce(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class o2 extends Yu{parsePrimitiveData(t,r,i,n){return lQ(t,r,i,n)}parseArrayData(t,r,i,n){return lQ(t,r,i,n)}parseObjectData(t,r,i,n){const{iScale:a,vScale:o}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?s:l,u=o.axis==="x"?s:l,d=[];let h,f,m,A;for(h=i,f=i+n;h<f;++h)A=r[h],m={},m[a.axis]=a.parse(YA(A,c),h),d.push(wne(YA(A,u),m,o,h));return d}updateRangeFromParsed(t,r,i,n){super.updateRangeFromParsed(t,r,i,n);const a=i._custom;a&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:i,vScale:n}=r,a=this.getParsed(t),o=a._custom,s=sD(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,n){const a=n==="reset",{index:o,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),c=s.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,n);for(let f=r;f<r+i;f++){const m=this.getParsed(f),A=a||Qi(m[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),p=(m._stacks||{})[s.axis],v={horizontal:c,base:A.base,enableBorderRadius:!p||sD(m._custom)||o===p._top||o===p._bottom,x:c?A.head:g.center,y:c?g.center:A.head,height:c?g.size:Math.abs(A.size),width:c?Math.abs(A.size):g.size};h&&(v.options=d||this.resolveDataElementOptions(f,t[f].active?"active":n));const y=v.options||t[f].options;XCe(v,y,p,o),$Ce(v,y,u.ratio),this.updateElement(t[f],f,v,n)}}_getStacks(t,r){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=i.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(r),l=s&&s[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(Qi(h)||isNaN(h))return!0};for(const u of n)if(!(r!==void 0&&c(u))&&((a===!1||o.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){const n=this._getStacks(t,i),a=r!==void 0?n.indexOf(r):-1;return a===-1?n.length-1:a}_getRuler(){const t=this.options,r=this._cachedMeta,i=r.iScale,n=[];let a,o;for(a=0,o=r.data.length;a<o;++a)n.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const s=t.barThickness;return{min:s||VCe(r),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:i,index:n},options:{base:a,minBarLength:o}}=this,s=a||0,l=this.getParsed(t),c=l._custom,u=sD(c);let d=l[r.axis],h=0,f=i?this.applyStack(r,l,i):d,m,A;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&sh(d)!==sh(c.barEnd)&&(h=0),h+=d);const g=!Qi(a)&&!u?a:h;let p=r.getPixelForValue(g);if(this.chart.getDataVisibility(t)?m=r.getPixelForValue(h+f):m=p,A=m-p,Math.abs(A)<o){A=qCe(A,r,s)*o,d===s&&(p-=A/2);const v=r.getPixelForDecimal(0),y=r.getPixelForDecimal(1),b=Math.min(v,y),x=Math.max(v,y);p=Math.max(Math.min(p,x),b),m=p+A,i&&!u&&(l._stacks[r.axis]._visualValues[n]=r.getValueForPixel(m)-r.getValueForPixel(p))}if(p===r.getPixelForValue(s)){const v=sh(A)*r.getLineWidthForValue(s)/2;p+=v,A-=v}return{size:A,base:p,head:m,center:m+A/2}}_calculateBarIndexPixels(t,r){const i=r.scale,n=this.options,a=n.skipNull,o=gi(n.maxBarThickness,1/0);let s,l;if(r.grouped){const c=a?this._getStackCount(t):r.stackCount,u=n.barThickness==="flex"?WCe(t,r,n,c):QCe(t,r,n,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);s=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else s=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,r.min*r.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const t=this._cachedMeta,r=t.vScale,i=t.data,n=i.length;let a=0;for(;a<n;++a)this.getParsed(a)[r.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}or(o2,"id","bar"),or(o2,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),or(o2,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class p5 extends Yu{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,n){const a=super.parsePrimitiveData(t,r,i,n);for(let o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+i).radius;return a}parseArrayData(t,r,i,n){const a=super.parseArrayData(t,r,i,n);for(let o=0;o<a.length;o++){const s=r[i+o];a[o]._custom=gi(s[2],this.resolveDataElementOptions(o+i).radius)}return a}parseObjectData(t,r,i,n){const a=super.parseObjectData(t,r,i,n);for(let o=0;o<a.length;o++){const s=r[i+o];a[o]._custom=gi(s&&s.r&&+s.r,this.resolveDataElementOptions(o+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:a}=r,o=this.getParsed(t),s=n.getLabelForValue(o.x),l=a.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+s+", "+l+(c?", "+c:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,n){const a=n==="reset",{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,n),u=o.axis,d=s.axis;for(let h=r;h<r+i;h++){const f=t[h],m=!a&&this.getParsed(h),A={},g=A[u]=a?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),p=A[d]=a?s.getBasePixel():s.getPixelForValue(m[d]);A.skip=isNaN(g)||isNaN(p),c&&(A.options=l||this.resolveDataElementOptions(h,f.active?"active":n),a&&(A.options.radius=0)),this.updateElement(f,h,A,n)}}resolveDataElementOptions(t,r){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,r);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const a=n.radius;return r!=="active"&&(n.radius=0),n.radius+=gi(i&&i._custom,a),n}}or(p5,"id","bubble"),or(p5,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),or(p5,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function JCe(e,t,r){let i=1,n=1,a=0,o=0;if(t<Vn){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),f=(y,b,x)=>aC(y,s,l,!0)?1:Math.max(b,b*r,x,x*r),m=(y,b,x)=>aC(y,s,l,!0)?-1:Math.min(b,b*r,x,x*r),A=f(0,c,d),g=f(Oa,u,h),p=m(Qn,c,d),v=m(Qn+Oa,u,h);i=(A-p)/2,n=(g-v)/2,a=-(A+p)/2,o=-(g+v)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:o}}class _m extends Yu{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let a=l=>+i[l];if(Di(i[t])){const{key:l="value"}=this._parsing;a=c=>+YA(i[c],l)}let o,s;for(o=t,s=t+r;o<s;++o)n._parsed[o]=a(o)}}_getRotation(){return Vu(this.options.rotation-90)}_getCircumference(){return Vu(this.options.circumference)}_getRotationExtents(){let t=Vn,r=-Vn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,a=n._getRotation(),o=n._getCircumference();t=Math.min(t,a),r=Math.max(r,a+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:i}=r,n=this._cachedMeta,a=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(h2e(this.options.cutout,s),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:A}=JCe(d,u,l),g=(i.width-o)/h,p=(i.height-o)/f,v=Math.max(Math.min(g,p)/2,0),y=Xie(this.options.radius,v),b=Math.max(y*l,0),x=(y-b)/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=A*y,n.total=this.calculateTotal(),this.outerRadius=y-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(a,0,a.length,t)}_circumference(t,r){const i=this.options,n=this._cachedMeta,a=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*a/Vn)}updateElements(t,r,i,n){const a=n==="reset",o=this.chart,s=o.chartArea,c=o.options.animation,u=(s.left+s.right)/2,d=(s.top+s.bottom)/2,h=a&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:A,includeOptions:g}=this._getSharedOptions(r,n);let p=this._getRotation(),v;for(v=0;v<r;++v)p+=this._circumference(v,a);for(v=r;v<r+i;++v){const y=this._circumference(v,a),b=t[v],x={x:u+this.offsetX,y:d+this.offsetY,startAngle:p,endAngle:p+y,circumference:y,outerRadius:m,innerRadius:f};g&&(x.options=A||this.resolveDataElementOptions(v,b.active?"active":n)),p+=y,this.updateElement(b,v,x,n)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let i=0,n;for(n=0;n<r.length;n++){const a=t._parsed[n];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?Vn*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=c_(r._parsed[t],i.options.locale);return{label:n[t]||"",value:a}}getMaxBorderWidth(t){let r=0;const i=this.chart;let n,a,o,s,l;if(!t){for(n=0,a=i.data.datasets.length;n<a;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),t=o.data,s=o.controller;break}}if(!t)return 0;for(n=0,a=t.length;n<a;++n)l=s.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,n=t.length;i<n;++i){const a=this.resolveDataElementOptions(i);r=Math.max(r,a.offset||0,a.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(gi(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}or(_m,"id","doughnut"),or(_m,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),or(_m,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),or(_m,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return r.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class A5 extends Yu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:i,data:n=[],_dataset:a}=r,o=this.chart._animationsDisabled;let{start:s,count:l}=ine(r,n,o);this._drawStart=s,this._drawCount=l,nne(r)&&(s=0,l=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(n,s,l,t)}updateElements(t,r,i,n){const a=n==="reset",{iScale:o,vScale:s,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,n),h=o.axis,f=s.axis,{spanGaps:m,segment:A}=this.options,g=Bb(m)?m:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||n==="none",v=r+i,y=t.length;let b=r>0&&this.getParsed(r-1);for(let x=0;x<y;++x){const w=t[x],C=p?w:{};if(x<r||x>=v){C.skip=!0;continue}const _=this.getParsed(x),B=Qi(_[f]),P=C[h]=o.getPixelForValue(_[h],x),M=C[f]=a||B?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,_,l):_[f],x);C.skip=isNaN(P)||isNaN(M)||B,C.stop=x>0&&Math.abs(_[h]-b[h])>g,A&&(C.parsed=_,C.raw=c.data[x]),d&&(C.options=u||this.resolveDataElementOptions(x,w.active?"active":n)),p||this.updateElement(w,x,C,n),b=_}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const a=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}or(A5,"id","line"),or(A5,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),or(A5,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class s2 extends Yu{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=c_(r._parsed[t].r,i.options.locale);return{label:n[t]||"",value:a}}parseObjectData(t,r,i,n){return hne.bind(this)(t,r,i,n)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,n)=>{const a=this.getParsed(n).r;!isNaN(a)&&this.chart.getDataVisibility(n)&&(a<r.min&&(r.min=a),a>r.max&&(r.max=a))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,i=t.options,n=Math.min(r.right-r.left,r.bottom-r.top),a=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),s=(a-o)/t.getVisibleDatasetCount();this.outerRadius=a-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,r,i,n){const a=n==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Qn;let f=h,m;const A=360/this.countVisibleElements();for(m=0;m<r;++m)f+=this._computeAngle(m,n,A);for(m=r;m<r+i;m++){const g=t[m];let p=f,v=f+this._computeAngle(m,n,A),y=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=v,a&&(l.animateScale&&(y=0),l.animateRotate&&(p=v=h));const b={x:u,y:d,innerRadius:0,outerRadius:y,startAngle:p,endAngle:v,options:this.resolveDataElementOptions(m,g.active?"active":n)};this.updateElement(g,m,b,n)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?Vu(this.resolveDataElementOptions(t,r).angle||i):0}}or(s2,"id","polarArea"),or(s2,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),or(s2,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return r.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class wL extends _m{}or(wL,"id","pie"),or(wL,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class g5 extends Yu{getLabelAndValue(t){const r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,n){return hne.bind(this)(t,r,i,n)}update(t){const r=this._cachedMeta,i=r.dataset,n=r.data||[],a=r.iScale.getLabels();if(i.points=n,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const s={_loop:!0,_fullLoop:a.length===n.length,options:o};this.updateElement(i,void 0,s,t)}this.updateElements(n,0,n.length,t)}updateElements(t,r,i,n){const a=this._cachedMeta.rScale,o=n==="reset";for(let s=r;s<r+i;s++){const l=t[s],c=this.resolveDataElementOptions(s,l.active?"active":n),u=a.getPointPositionForValue(s,this.getParsed(s).r),d=o?a.xCenter:u.x,h=o?a.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,s,f,n)}}}or(g5,"id","radar"),or(g5,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),or(g5,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class m5 extends Yu{getLabelAndValue(t){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:a}=r,o=this.getParsed(t),s=n.getLabelForValue(o.x),l=a.getLabelForValue(o.y);return{label:i[t]||"",value:"("+s+", "+l+")"}}update(t){const r=this._cachedMeta,{data:i=[]}=r,n=this.chart._animationsDisabled;let{start:a,count:o}=ine(r,i,n);if(this._drawStart=a,this._drawCount=o,nne(r)&&(a=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:l}=r;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:c},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,a,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,n){const a=n==="reset",{iScale:o,vScale:s,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(r,n),d=this.getSharedOptions(u),h=this.includeOptions(n,d),f=o.axis,m=s.axis,{spanGaps:A,segment:g}=this.options,p=Bb(A)?A:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||n==="none";let y=r>0&&this.getParsed(r-1);for(let b=r;b<r+i;++b){const x=t[b],w=this.getParsed(b),C=v?x:{},_=Qi(w[m]),B=C[f]=o.getPixelForValue(w[f],b),P=C[m]=a||_?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,w,l):w[m],b);C.skip=isNaN(B)||isNaN(P)||_,C.stop=b>0&&Math.abs(w[f]-y[f])>p,g&&(C.parsed=w,C.raw=c.data[b]),h&&(C.options=d||this.resolveDataElementOptions(b,x.active?"active":n)),v||this.updateElement(x,b,C,n),y=w}this.updateSharedOptions(d,n,u)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let s=0;for(let l=r.length-1;l>=0;--l)s=Math.max(s,r[l].size(this.resolveDataElementOptions(l))/2);return s>0&&s}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,o)/2}}or(m5,"id","scatter"),or(m5,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),or(m5,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ZCe=Object.freeze({__proto__:null,BarController:o2,BubbleController:p5,DoughnutController:_m,LineController:A5,PieController:wL,PolarAreaController:s2,RadarController:g5,ScatterController:m5});function Wg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nj{constructor(t){or(this,"options");this.options=t||{}}static override(t){Object.assign(Nj.prototype,t)}init(){}formats(){return Wg()}parse(){return Wg()}format(){return Wg()}add(){return Wg()}diff(){return Wg()}startOf(){return Wg()}endOf(){return Wg()}}var e_e={_date:Nj};function t_e(e,t,r,i){const{controller:n,data:a,_sorted:o}=e,s=n._cachedMeta.iScale;if(s&&t===s.axis&&t!=="r"&&o&&a.length){const l=s._reversePixels?_2e:mf;if(i){if(n._sharedOptions){const c=a[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const d=l(a,t,r-u),h=l(a,t,r+u);return{lo:d.lo,hi:h.hi}}}}else return l(a,t,r)}return{lo:0,hi:a.length-1}}function u_(e,t,r,i,n){const a=e.getSortedVisibleDatasetMetas(),o=r[t];for(let s=0,l=a.length;s<l;++s){const{index:c,data:u}=a[s],{lo:d,hi:h}=t_e(a[s],t,o,n);for(let f=d;f<=h;++f){const m=u[f];m.skip||i(m,c,f)}}}function r_e(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(i,n){const a=t?Math.abs(i.x-n.x):0,o=r?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function lD(e,t,r,i,n){const a=[];return!n&&!e.isPointInArea(t)||u_(e,r,t,function(s,l,c){!n&&!vf(s,e.chartArea,0)||s.inRange(t.x,t.y,i)&&a.push({element:s,datasetIndex:l,index:c})},!0),a}function i_e(e,t,r,i){let n=[];function a(o,s,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Jie(o,{x:t.x,y:t.y});aC(d,c,u)&&n.push({element:o,datasetIndex:s,index:l})}return u_(e,r,t,a),n}function n_e(e,t,r,i,n,a){let o=[];const s=r_e(r);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(t.x,t.y,n);if(i&&!f)return;const m=u.getCenterPoint(n);if(!(!!a||e.isPointInArea(m))&&!f)return;const g=s(t,m);g<l?(o=[{element:u,datasetIndex:d,index:h}],l=g):g===l&&o.push({element:u,datasetIndex:d,index:h})}return u_(e,r,t,c),o}function cD(e,t,r,i,n,a){return!a&&!e.isPointInArea(t)?[]:r==="r"&&!i?i_e(e,t,r,n):n_e(e,t,r,i,n,a)}function dQ(e,t,r,i,n){const a=[],o=r==="x"?"inXRange":"inYRange";let s=!1;return u_(e,r,t,(l,c,u)=>{l[o]&&l[o](t[r],n)&&(a.push({element:l,datasetIndex:c,index:u}),s=s||l.inRange(t.x,t.y,n))}),i&&!s?[]:a}var a_e={evaluateInteractionItems:u_,modes:{index(e,t,r,i){const n=am(t,e),a=r.axis||"x",o=r.includeInvisible||!1,s=r.intersect?lD(e,n,a,i,o):cD(e,n,a,!1,i,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=s[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,r,i){const n=am(t,e),a=r.axis||"xy",o=r.includeInvisible||!1;let s=r.intersect?lD(e,n,a,i,o):cD(e,n,a,!1,i,o);if(s.length>0){const l=s[0].datasetIndex,c=e.getDatasetMeta(l).data;s=[];for(let u=0;u<c.length;++u)s.push({element:c[u],datasetIndex:l,index:u})}return s},point(e,t,r,i){const n=am(t,e),a=r.axis||"xy",o=r.includeInvisible||!1;return lD(e,n,a,i,o)},nearest(e,t,r,i){const n=am(t,e),a=r.axis||"xy",o=r.includeInvisible||!1;return cD(e,n,a,r.intersect,i,o)},x(e,t,r,i){const n=am(t,e);return dQ(e,n,"x",r.intersect,i)},y(e,t,r,i){const n=am(t,e);return dQ(e,n,"y",r.intersect,i)}}};const xne=["left","top","right","bottom"];function Bw(e,t){return e.filter(r=>r.pos===t)}function hQ(e,t){return e.filter(r=>xne.indexOf(r.pos)===-1&&r.box.axis===t)}function Mw(e,t){return e.sort((r,i)=>{const n=t?i:r,a=t?r:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function o_e(e){const t=[];let r,i,n,a,o,s;for(r=0,i=(e||[]).length;r<i;++r)n=e[r],{position:a,options:{stack:o,stackWeight:s=1}}=n,t.push({index:r,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&a+o,stackWeight:s});return t}function s_e(e){const t={};for(const r of e){const{stack:i,pos:n,stackWeight:a}=r;if(!i||!xne.includes(n))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function l_e(e,t){const r=s_e(e),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:l}=s.box,c=r[s.stack],u=c&&s.stackWeight/c.weight;s.horizontal?(s.width=u?u*i:l&&t.availableWidth,s.height=n):(s.width=i,s.height=u?u*n:l&&t.availableHeight)}return r}function c_e(e){const t=o_e(e),r=Mw(t.filter(c=>c.box.fullSize),!0),i=Mw(Bw(t,"left"),!0),n=Mw(Bw(t,"right")),a=Mw(Bw(t,"top"),!0),o=Mw(Bw(t,"bottom")),s=hQ(t,"x"),l=hQ(t,"y");return{fullSize:r,leftAndTop:i.concat(a),rightAndBottom:n.concat(l).concat(o).concat(s),chartArea:Bw(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:a.concat(o).concat(s)}}function fQ(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function Cne(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function u_e(e,t,r,i){const{pos:n,box:a}=r,o=e.maxPadding;if(!Di(n)){r.size&&(e[n]-=r.size);const d=i[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?a.height:a.width),r.size=d.size/d.count,e[n]+=r.size}a.getPadding&&Cne(o,a.getPadding());const s=Math.max(0,t.outerWidth-fQ(o,e,"left","right")),l=Math.max(0,t.outerHeight-fQ(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function d_e(e){const t=e.maxPadding;function r(i){const n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function h_e(e,t){const r=t.maxPadding;function i(n){const a={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{a[o]=Math.max(t[o],r[o])}),a}return i(e?["left","right"]:["top","bottom"])}function xx(e,t,r,i){const n=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,h_e(s.horizontal,t));const{same:d,other:h}=u_e(t,r,s,i);c|=d&&n.length,u=u||h,l.fullSize||n.push(s)}return c&&xx(n,t,r,i)||u}function DS(e,t,r,i,n){e.top=r,e.left=t,e.right=t+i,e.bottom=r+n,e.width=i,e.height=n}function pQ(e,t,r,i){const n=r.padding;let{x:a,y:o}=t;for(const s of e){const l=s.box,c=i[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/c.weight||1;if(s.horizontal){const d=t.w*u,h=c.size||l.height;nC(c.start)&&(o=c.start),l.fullSize?DS(l,n.left,o,r.outerWidth-n.right-n.left,h):DS(l,t.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,h=c.size||l.width;nC(c.start)&&(a=c.start),l.fullSize?DS(l,a,n.top,h,r.outerHeight-n.bottom-n.top):DS(l,a,t.top+c.placed,h,d),c.start=a,c.placed+=d,a=l.right}}t.x=a,t.y=o}var Bs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;const n=Is(e.options.layout.padding),a=Math.max(t-n.width,0),o=Math.max(r-n.height,0),s=c_e(e.boxes),l=s.vertical,c=s.horizontal;hn(e.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const u=l.reduce((A,g)=>g.box.options&&g.box.options.display===!1?A:A+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},n);Cne(h,Is(i));const f=Object.assign({maxPadding:h,w:a,h:o,x:n.left,y:n.top},n),m=l_e(l.concat(c),d);xx(s.fullSize,f,d,m),xx(l,f,d,m),xx(c,f,d,m)&&xx(l,f,d,m),d_e(f),pQ(s.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,pQ(s.rightAndBottom,f,d,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hn(s.chartArea,A=>{const g=A.box;Object.assign(g,e.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class _ne{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,i){}removeEventListener(t,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,i,n){return r=Math.max(0,r||t.width),i=i||t.height,{width:r,height:Math.max(0,n?Math.floor(r/n):i)}}isAttached(t){return!0}updateConfig(t){}}class f_e extends _ne{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const v5="$chartjs",p_e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},AQ=e=>e===null||e==="";function A_e(e,t){const r=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[v5]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",AQ(n)){const a=$8(e,"width");a!==void 0&&(e.width=a)}if(AQ(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=$8(e,"height");a!==void 0&&(e.height=a)}return e}const Sne=mCe?{passive:!0}:!1;function g_e(e,t,r){e&&e.addEventListener(t,r,Sne)}function m_e(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,Sne)}function v_e(e,t){const r=p_e[e.type]||e.type,{x:i,y:n}=am(e,t);return{type:r,chart:t,native:e,x:i!==void 0?i:null,y:n!==void 0?n:null}}function RM(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function y_e(e,t,r){const i=e.canvas,n=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||RM(s.addedNodes,i),o=o&&!RM(s.removedNodes,i);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function b_e(e,t,r){const i=e.canvas,n=new MutationObserver(a=>{let o=!1;for(const s of a)o=o||RM(s.removedNodes,i),o=o&&!RM(s.addedNodes,i);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const sC=new Map;let gQ=0;function Ene(){const e=window.devicePixelRatio;e!==gQ&&(gQ=e,sC.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function w_e(e,t){sC.size||window.addEventListener("resize",Ene),sC.set(e,t)}function x_e(e){sC.delete(e),sC.size||window.removeEventListener("resize",Ene)}function C_e(e,t,r){const i=e.canvas,n=i&&Uj(i);if(!n)return;const a=rne((s,l)=>{const c=n.clientWidth;r(s,l),c<n.clientWidth&&r()},window),o=new ResizeObserver(s=>{const l=s[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||a(c,u)});return o.observe(n),w_e(e,a),o}function uD(e,t,r){r&&r.disconnect(),t==="resize"&&x_e(e)}function __e(e,t,r){const i=e.canvas,n=rne(a=>{e.ctx!==null&&r(v_e(a,e))},e);return g_e(i,t,n),n}class S_e extends _ne{acquireContext(t,r){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(A_e(t,r),i):null}releaseContext(t){const r=t.canvas;if(!r[v5])return!1;const i=r[v5].initial;["height","width"].forEach(a=>{const o=i[a];Qi(o)?r.removeAttribute(a):r.setAttribute(a,o)});const n=i.style||{};return Object.keys(n).forEach(a=>{r.style[a]=n[a]}),r.width=r.width,delete r[v5],!0}addEventListener(t,r,i){this.removeEventListener(t,r);const n=t.$proxies||(t.$proxies={}),o={attach:y_e,detach:b_e,resize:C_e}[r]||__e;n[r]=o(t,r,i)}removeEventListener(t,r){const i=t.$proxies||(t.$proxies={}),n=i[r];if(!n)return;({attach:uD,detach:uD,resize:uD}[r]||m_e)(t,r,n),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,i,n){return gCe(t,r,i,n)}isAttached(t){const r=t&&Uj(t);return!!(r&&r.isConnected)}}function E_e(e){return!Rj()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?f_e:S_e}var jB;let qf=(jB=class{constructor(){or(this,"x");or(this,"y");or(this,"active",!1);or(this,"options");or(this,"$animations")}tooltipPosition(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}hasValue(){return Bb(this.x)&&Bb(this.y)}getProps(t,r){const i=this.$animations;if(!r||!i)return this;const n={};return t.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}},or(jB,"defaults",{}),or(jB,"defaultRoutes"),jB);function B_e(e,t){const r=e.options.ticks,i=M_e(e),n=Math.min(r.maxTicksLimit||i,i),a=r.major.enabled?T_e(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>n)return O_e(t,c,a,o/n),c;const u=P_e(a,t,n);if(o>0){let d,h;const f=o>1?Math.round((l-s)/(o-1)):null;for(IS(t,c,u,Qi(f)?0:s-f,s),d=0,h=o-1;d<h;d++)IS(t,c,u,a[d],a[d+1]);return IS(t,c,u,l,Qi(f)?t.length:l+f),c}return IS(t,c,u),c}function M_e(e){const t=e.options.offset,r=e._tickSize(),i=e._length/r+(t?0:1),n=e._maxLength/r;return Math.floor(Math.min(i,n))}function P_e(e,t,r){const i=D_e(e),n=t.length/r;if(!i)return Math.max(n,1);const a=b2e(i);for(let o=0,s=a.length-1;o<s;o++){const l=a[o];if(l>n)return l}return Math.max(n,1)}function T_e(e){const t=[];let r,i;for(r=0,i=e.length;r<i;r++)e[r].major&&t.push(r);return t}function O_e(e,t,r,i){let n=0,a=r[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===a&&(t.push(e[o]),n++,a=r[n*i])}function IS(e,t,r,i,n){const a=gi(i,0),o=Math.min(gi(n,e.length),e.length);let s=0,l,c,u;for(r=Math.ceil(r),n&&(l=n-i,r=l/Math.floor(l/r)),u=a;u<0;)s++,u=Math.round(a+s*r);for(c=Math.max(a,0);c<o;c++)c===u&&(t.push(e[c]),s++,u=Math.round(a+s*r))}function D_e(e){const t=e.length;let r,i;if(t<2)return!1;for(i=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==i)return!1;return i}const I_e=e=>e==="left"?"right":e==="right"?"left":e,mQ=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,vQ=(e,t)=>Math.min(t||e,e);function yQ(e,t){const r=[],i=e.length/t,n=e.length;let a=0;for(;a<n;a+=i)r.push(e[Math.floor(a)]);return r}function F_e(e,t,r){const i=e.ticks.length,n=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l=e.getPixelForTick(n),c;if(!(r&&(i===1?c=Math.max(l-a,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<a-s||l>o+s)))return l}function L_e(e,t){hn(e,r=>{const i=r.gc,n=i.length/2;let a;if(n>t){for(a=0;a<n;++a)delete r.data[i[a]];i.splice(0,n)}})}function Pw(e){return e.drawTicks?e.tickLength:0}function bQ(e,t){if(!e.display)return 0;const r=ho(e.font,t),i=Is(e.padding);return(kn(e.text)?e.text.length:1)*r.lineHeight+i.height}function R_e(e,t){return dg(e,{scale:t,type:"scale"})}function U_e(e,t,r){return dg(e,{tick:r,index:t,type:"tick"})}function N_e(e,t,r){let i=Tj(e);return(r&&t!=="right"||!r&&t==="right")&&(i=I_e(i)),i}function k_e(e,t,r,i){const{top:n,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,h,f,m;const A=o-n,g=s-a;if(e.isHorizontal()){if(f=xs(i,a,s),Di(r)){const p=Object.keys(r)[0],v=r[p];m=u[p].getPixelForValue(v)+A-t}else r==="center"?m=(c.bottom+c.top)/2+A-t:m=mQ(e,r,t);h=s-a}else{if(Di(r)){const p=Object.keys(r)[0],v=r[p];f=u[p].getPixelForValue(v)-g+t}else r==="center"?f=(c.left+c.right)/2-g+t:f=mQ(e,r,t);m=xs(i,o,n),d=r==="left"?-Oa:Oa}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class C0 extends qf{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:i,_suggestedMax:n}=this;return t=sc(t,Number.POSITIVE_INFINITY),r=sc(r,Number.NEGATIVE_INFINITY),i=sc(i,Number.POSITIVE_INFINITY),n=sc(n,Number.NEGATIVE_INFINITY),{min:sc(t,i),max:sc(r,n),minDefined:ma(t),maxDefined:ma(r)}}getMinMax(t){let{min:r,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),o;if(n&&a)return{min:r,max:i};const s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)o=s[l].controller.getMinMax(this,t),n||(r=Math.min(r,o.min)),a||(i=Math.max(i,o.max));return r=a&&r>i?i:r,i=n&&r>i?r:i,{min:sc(r,sc(i,r)),max:sc(i,sc(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){On(this.options.beforeUpdate,[this])}update(t,r,i){const{beginAtZero:n,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=K2e(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?yQ(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=B_e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,t=!t),this._startPixel=r,this._endPixel=i,this._reversePixels=t,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){On(this.options.afterUpdate,[this])}beforeSetDimensions(){On(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){On(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),On(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){On(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let i,n,a;for(i=0,n=t.length;i<n;i++)a=t[i],a.label=On(r.callback,[a.value,i,t],this)}afterTickToLabelConversion(){On(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){On(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,i=vQ(this.ticks.length,t.ticks.maxTicksLimit),n=r.minRotation||0,a=r.maxRotation;let o=n,s,l,c;if(!this._isVisible()||!r.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Oo(this.chart.width-d,0,this.maxWidth);s=t.offset?this.maxWidth/i:f/(i-1),d+6>s&&(s=f/(i-(t.offset?.5:1)),l=this.maxHeight-Pw(t.grid)-r.padding-bQ(t.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Mj(Math.min(Math.asin(Oo((u.highest.height+6)/s,-1,1)),Math.asin(Oo(l/c,-1,1))-Math.asin(Oo(h/c,-1,1)))),o=Math.max(n,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){On(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){On(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:i,title:n,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const l=bQ(n,r.options.font);if(s?(t.width=this.maxWidth,t.height=Pw(a)+l):(t.height=this.maxHeight,t.width=Pw(a)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,m=Vu(this.labelRotation),A=Math.cos(m),g=Math.sin(m);if(s){const p=i.mirror?0:g*d.width+A*h.height;t.height=Math.min(this.maxHeight,t.height+p+f)}else{const p=i.mirror?0:A*d.width+g*h.height;t.width=Math.min(this.maxWidth,t.width+p+f)}this._calculatePadding(c,u,g,A)}}this._handleMargins(),s?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,i,n){const{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=n*t.width,f=i*r.height):(h=i*t.height,f=n*r.width):a==="start"?f=r.width:a==="end"?h=t.width:a!=="inner"&&(h=t.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=r.height/2,d=t.height/2;a==="start"?(u=0,d=t.height):a==="end"&&(u=r.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){On(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,i;for(r=0,i=t.length;r<i;r++)Qi(t[r].label)&&(t.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=yQ(i,r)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,i){const{ctx:n,_longestTextCache:a}=this,o=[],s=[],l=Math.floor(r/vQ(r,i));let c=0,u=0,d,h,f,m,A,g,p,v,y,b,x;for(d=0;d<r;d+=l){if(m=t[d].label,A=this._resolveTickFontOptions(d),n.font=g=A.string,p=a[g]=a[g]||{data:{},gc:[]},v=A.lineHeight,y=b=0,!Qi(m)&&!kn(m))y=FM(n,p.data,p.gc,y,m),b=v;else if(kn(m))for(h=0,f=m.length;h<f;++h)x=m[h],!Qi(x)&&!kn(x)&&(y=FM(n,p.data,p.gc,y,x),b+=v);o.push(y),s.push(b),c=Math.max(y,c),u=Math.max(b,u)}L_e(a,r);const w=o.indexOf(c),C=s.indexOf(u),_=B=>({width:o[B]||0,height:s[B]||0});return{first:_(0),last:_(r-1),widest:_(w),highest:_(C),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return C2e(this._alignToPixels?Qg(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const i=r[t];return i.$context||(i.$context=U_e(this.getContext(),t,i))}return this.$context||(this.$context=R_e(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Vu(this.labelRotation),i=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*i>s*n?s/i:l/n:l*n<s*i?l/i:s/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,i=this.chart,n=this.options,{grid:a,position:o,border:s}=n,l=a.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Pw(a),f=[],m=s.setContext(this.getContext()),A=m.display?m.width:0,g=A/2,p=function(Y){return Qg(i,Y,A)};let v,y,b,x,w,C,_,B,P,M,O,I;if(o==="top")v=p(this.bottom),C=this.bottom-h,B=v-g,M=p(t.top)+g,I=t.bottom;else if(o==="bottom")v=p(this.top),M=t.top,I=p(t.bottom)-g,C=v+g,B=this.top+h;else if(o==="left")v=p(this.right),w=this.right-h,_=v-g,P=p(t.left)+g,O=t.right;else if(o==="right")v=p(this.left),P=t.left,O=p(t.right)-g,w=v+g,_=this.left+h;else if(r==="x"){if(o==="center")v=p((t.top+t.bottom)/2+.5);else if(Di(o)){const Y=Object.keys(o)[0],j=o[Y];v=p(this.chart.scales[Y].getPixelForValue(j))}M=t.top,I=t.bottom,C=v+g,B=C+h}else if(r==="y"){if(o==="center")v=p((t.left+t.right)/2);else if(Di(o)){const Y=Object.keys(o)[0],j=o[Y];v=p(this.chart.scales[Y].getPixelForValue(j))}w=v-g,_=w-h,P=t.left,O=t.right}const F=gi(n.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/F));for(y=0;y<d;y+=V){const Y=this.getContext(y),j=a.setContext(Y),R=s.setContext(Y),H=j.lineWidth,G=j.color,$=R.dash||[],L=R.dashOffset,K=j.tickWidth,X=j.tickColor,ee=j.tickBorderDash||[],W=j.tickBorderDashOffset;b=F_e(this,y,l),b!==void 0&&(x=Qg(i,b,H),c?w=_=P=O=x:C=B=M=I=x,f.push({tx1:w,ty1:C,tx2:_,ty2:B,x1:P,y1:M,x2:O,y2:I,width:H,color:G,borderDash:$,borderDashOffset:L,tickWidth:K,tickColor:X,tickBorderDash:ee,tickBorderDashOffset:W}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(t){const r=this.axis,i=this.options,{position:n,ticks:a}=i,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=a,h=Pw(i.grid),f=h+u,m=d?-u:f,A=-Vu(this.labelRotation),g=[];let p,v,y,b,x,w,C,_,B,P,M,O,I="middle";if(n==="top")w=this.bottom-m,C=this._getXAxisLabelAlignment();else if(n==="bottom")w=this.top+m,C=this._getXAxisLabelAlignment();else if(n==="left"){const V=this._getYAxisLabelAlignment(h);C=V.textAlign,x=V.x}else if(n==="right"){const V=this._getYAxisLabelAlignment(h);C=V.textAlign,x=V.x}else if(r==="x"){if(n==="center")w=(t.top+t.bottom)/2+f;else if(Di(n)){const V=Object.keys(n)[0],Y=n[V];w=this.chart.scales[V].getPixelForValue(Y)+f}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")x=(t.left+t.right)/2-f;else if(Di(n)){const V=Object.keys(n)[0],Y=n[V];x=this.chart.scales[V].getPixelForValue(Y)}C=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const F=this._getLabelSizes();for(p=0,v=s.length;p<v;++p){y=s[p],b=y.label;const V=a.setContext(this.getContext(p));_=this.getPixelForTick(p)+a.labelOffset,B=this._resolveTickFontOptions(p),P=B.lineHeight,M=kn(b)?b.length:1;const Y=M/2,j=V.color,R=V.textStrokeColor,H=V.textStrokeWidth;let G=C;o?(x=_,C==="inner"&&(p===v-1?G=this.options.reverse?"left":"right":p===0?G=this.options.reverse?"right":"left":G="center"),n==="top"?c==="near"||A!==0?O=-M*P+P/2:c==="center"?O=-F.highest.height/2-Y*P+P:O=-F.highest.height+P/2:c==="near"||A!==0?O=P/2:c==="center"?O=F.highest.height/2-Y*P:O=F.highest.height-M*P,d&&(O*=-1),A!==0&&!V.showLabelBackdrop&&(x+=P/2*Math.sin(A))):(w=_,O=(1-M)*P/2);let $;if(V.showLabelBackdrop){const L=Is(V.backdropPadding),K=F.heights[p],X=F.widths[p];let ee=O-L.top,W=0-L.left;switch(I){case"middle":ee-=K/2;break;case"bottom":ee-=K;break}switch(C){case"center":W-=X/2;break;case"right":W-=X;break;case"inner":p===v-1?W-=X:p>0&&(W-=X/2);break}$={left:W,top:ee,width:X+L.width,height:K+L.height,color:V.backdropColor}}g.push({label:b,font:B,textOffset:O,options:{rotation:A,color:j,strokeColor:R,strokeWidth:H,textAlign:G,textBaseline:I,translation:[x,w],backdrop:$}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Vu(this.labelRotation))return t==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,o=this._getLabelSizes(),s=t+a,l=o.widest.width;let c,u;return r==="left"?n?(u=this.right+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?n?(u=this.left+a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:i,top:n,width:a,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(i,n,a,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(a=>a.value===t);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const r=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const s=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(r.display)for(a=0,o=n.length;a<o;++a){const l=n[a];r.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const s=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Qg(t,this.left,o)-o/2,u=Qg(t,this.right,s)+s/2,d=h=l):(d=Qg(t,this.top,o)-o/2,h=Qg(t,this.bottom,s)+s/2,c=u=l),r.save(),r.lineWidth=a.width,r.strokeStyle=a.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&JT(i,n);const a=this.getLabelItems(t);for(const o of a){const s=o.options,l=o.font,c=o.label,u=o.textOffset;n0(i,c,0,u,l,s)}n&&ZT(i)}drawTitle(){const{ctx:t,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;const a=ho(i.font),o=Is(i.padding),s=i.align;let l=a.lineHeight/2;r==="bottom"||r==="center"||Di(r)?(l+=o.bottom,kn(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=k_e(this,l,r,s);n0(t,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:h,textAlign:N_e(s,r,n),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,i=gi(t.grid&&t.grid.z,-1),n=gi(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==C0.prototype.draw?[{z:r,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let a,o;for(a=0,o=r.length;a<o;++a){const s=r[a];s[i]===this.id&&(!t||s.type===t)&&n.push(s)}return n}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return ho(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class FS{constructor(t,r,i){this.type=t,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let i;H_e(r)&&(i=this.register(r));const n=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in n||(n[a]=t,j_e(t,o,i),this.override&&va.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,i=t.id,n=this.scope;i in r&&delete r[i],n&&i in va[n]&&(delete va[n][i],this.override&&delete i0[i])}}function j_e(e,t,r){const i=iC(Object.create(null),[r?va.get(r):{},va.get(t),e.defaults]);va.set(t,i),e.defaultRoutes&&z_e(t,e.defaultRoutes),e.descriptors&&va.describe(t,e.descriptors)}function z_e(e,t){Object.keys(t).forEach(r=>{const i=r.split("."),n=i.pop(),a=[e].concat(i).join("."),o=t[r].split("."),s=o.pop(),l=o.join(".");va.route(a,n,l,s)})}function H_e(e){return"id"in e&&"defaults"in e}class V_e{constructor(){this.controllers=new FS(Yu,"datasets",!0),this.elements=new FS(qf,"elements"),this.plugins=new FS(Object,"plugins"),this.scales=new FS(C0,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,i){[...r].forEach(n=>{const a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(t,a,n):hn(n,o=>{const s=i||this._getRegistryForType(o);this._exec(t,s,o)})})}_exec(t,r,i){const n=Bj(t);On(i["before"+n],[],i),r[t](i),On(i["after"+n],[],i)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(t))return i}return this.plugins}_get(t,r,i){const n=r.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var Hd=new V_e;class Q_e{constructor(){this._init=[]}notify(t,r,i,n){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(a,t,r,i);return r==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,r,i,n){n=n||{};for(const a of t){const o=a.plugin,s=o[i],l=[r,n,a.options];if(On(s,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Qi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const i=t&&t.config,n=gi(i.options&&i.options.plugins,{}),a=W_e(i);return n===!1&&!r?[]:q_e(t,a,n,r)}_notifyStateChanges(t){const r=this._oldCache||[],i=this._cache,n=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(n(r,i),t,"stop"),this._notify(n(i,r),t,"start")}}function W_e(e){const t={},r=[],i=Object.keys(Hd.plugins.items);for(let a=0;a<i.length;a++)r.push(Hd.getPlugin(i[a]));const n=e.plugins||[];for(let a=0;a<n.length;a++){const o=n[a];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function G_e(e,t){return!t&&e===!1?null:e===!0?{}:e}function q_e(e,{plugins:t,localIds:r},i,n){const a=[],o=e.getContext();for(const s of t){const l=s.id,c=G_e(i[l],n);c!==null&&a.push({plugin:s,options:K_e(e.config,{plugin:s,local:r[l]},c,o)})}return a}function K_e(e,{plugin:t,local:r},i,n){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(i,a);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xL(e,t){const r=va.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function X_e(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function Y_e(e,t){return e===t?"_index_":"_value_"}function wQ(e){if(e==="x"||e==="y"||e==="r")return e}function $_e(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function CL(e,...t){if(wQ(e))return e;for(const r of t){const i=r.axis||$_e(r.position)||e.length>1&&wQ(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xQ(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function J_e(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(r.length)return xQ(e,"x",r[0])||xQ(e,"y",r[0])}return{}}function Z_e(e,t){const r=i0[e.type]||{scales:{}},i=t.scales||{},n=xL(e.type,t),a=Object.create(null);return Object.keys(i).forEach(o=>{const s=i[o];if(!Di(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=CL(o,s,J_e(o,e),va.scales[s.type]),c=Y_e(l,n),u=r.scales||{};a[o]=r2(Object.create(null),[{axis:l},s,u[l],u[c]])}),e.data.datasets.forEach(o=>{const s=o.type||e.type,l=o.indexAxis||xL(s,t),u=(i0[s]||{}).scales||{};Object.keys(u).forEach(d=>{const h=X_e(d,l),f=o[h+"AxisID"]||h;a[f]=a[f]||Object.create(null),r2(a[f],[{axis:h},i[f],u[d]])})}),Object.keys(a).forEach(o=>{const s=a[o];r2(s,[va.scales[s.type],va.scale])}),a}function Bne(e){const t=e.options||(e.options={});t.plugins=gi(t.plugins,{}),t.scales=Z_e(e,t)}function Mne(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function eSe(e){return e=e||{},e.data=Mne(e.data),Bne(e),e}const CQ=new Map,Pne=new Set;function LS(e,t){let r=CQ.get(e);return r||(r=t(),CQ.set(e,r),Pne.add(r)),r}const Tw=(e,t,r)=>{const i=YA(t,r);i!==void 0&&e.add(i)};class tSe{constructor(t){this._config=eSe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Mne(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Bne(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return LS(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return LS(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return LS(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,i=this.type;return LS(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const i=this._scopeCache;let n=i.get(t);return(!n||r)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,r,i){const{options:n,type:a}=this,o=this._cachedScopes(t,i),s=o.get(r);if(s)return s;const l=new Set;r.forEach(u=>{t&&(l.add(t),u.forEach(d=>Tw(l,t,d))),u.forEach(d=>Tw(l,n,d)),u.forEach(d=>Tw(l,i0[a]||{},d)),u.forEach(d=>Tw(l,va,d)),u.forEach(d=>Tw(l,yL,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Pne.has(r)&&o.set(r,c),c}chartOptionScopes(){const{options:t,type:r}=this;return[t,i0[r]||{},va.datasets[r]||{},{type:r},va,yL]}resolveNamedOptions(t,r,i,n=[""]){const a={$shared:!0},{resolver:o,subPrefixes:s}=_Q(this._resolverCache,t,n);let l=o;if(iSe(o,r)){a.$shared=!1,i=$A(i)?i():i;const c=this.createResolver(t,i,s);l=Mb(o,i,c)}for(const c of r)a[c]=l[c];return a}createResolver(t,r,i=[""],n){const{resolver:a}=_Q(this._resolverCache,t,i);return Di(r)?Mb(a,r,void 0,n):a}}function _Q(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));const n=r.join();let a=i.get(n);return a||(a={resolver:Ij(t,r),subPrefixes:r.filter(s=>!s.toLowerCase().includes("hover"))},i.set(n,a)),a}const rSe=e=>Di(e)&&Object.getOwnPropertyNames(e).some(t=>$A(e[t]));function iSe(e,t){const{isScriptable:r,isIndexable:i}=lne(e);for(const n of t){const a=r(n),o=i(n),s=(o||a)&&e[n];if(a&&($A(s)||rSe(s))||o&&kn(s))return!0}return!1}var nSe="4.4.4";const aSe=["top","bottom","left","right","chartArea"];function SQ(e,t){return e==="top"||e==="bottom"||aSe.indexOf(e)===-1&&t==="x"}function EQ(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function BQ(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),On(r&&r.onComplete,[e],t)}function oSe(e){const t=e.chart,r=t.options.animation;On(r&&r.onProgress,[e],t)}function Tne(e){return Rj()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const y5={},MQ=e=>{const t=Tne(e);return Object.values(y5).filter(r=>r.canvas===t).pop()};function sSe(e,t,r){const i=Object.keys(e);for(const n of i){const a=+n;if(a>=t){const o=e[n];delete e[n],(r>0||a>t)&&(e[a+r]=o)}}}function lSe(e,t,r,i){return!r||e.type==="mouseout"?null:i?t:e}function RS(e,t,r){return e.options.clip?e[r]:t[r]}function cSe(e,t){const{xScale:r,yScale:i}=e;return r&&i?{left:RS(r,t,"left"),right:RS(r,t,"right"),top:RS(i,t,"top"),bottom:RS(i,t,"bottom")}:t}var Kp;let t3=(Kp=class{static register(...t){Hd.add(...t),PQ()}static unregister(...t){Hd.remove(...t),PQ()}constructor(t,r){const i=this.config=new tSe(r),n=Tne(t),a=MQ(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||E_e(n)),this.platform.updateConfig(i);const s=this.platform.acquireContext(n,o.aspectRatio),l=s&&s.canvas,c=l&&l.height,u=l&&l.width;if(this.id=d2e(),this.ctx=s,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Q_e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=B2e(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],y5[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yh.listen(this,"complete",BQ),Yh.listen(this,"progress",oSe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:n,_aspectRatio:a}=this;return Qi(t)?r&&a?a:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Y8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return q8(this.canvas,this.ctx),this}stop(){return Yh.stop(this),this}resize(t,r){Yh.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,r,a),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Y8(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),On(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};hn(r,(i,n)=>{i.id=n})}buildOrUpdateScales(){const t=this.options,r=t.scales,i=this.scales,n=Object.keys(i).reduce((o,s)=>(o[s]=!1,o),{});let a=[];r&&(a=a.concat(Object.keys(r).map(o=>{const s=r[o],l=CL(o,s),c=l==="r",u=l==="x";return{options:s,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),hn(a,o=>{const s=o.options,l=s.id,c=CL(l,s),u=gi(s.type,o.dtype);(s.position===void 0||SQ(s.position,c)!==SQ(o.dposition))&&(s.position=o.dposition),n[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=Hd.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(s,t)}),hn(n,(o,s)=>{o||delete i[s]}),hn(i,o=>{Bs.configure(this,o,o.options),Bs.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((n,a)=>n.index-a.index),i>r){for(let n=r;n<i;++n)this._destroyDatasetMeta(n);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(EQ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,n)=>{r.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=r.length;i<n;i++){const a=r[i];let o=this.getDatasetMeta(i);const s=a.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=s,o.indexAxis=a.indexAxis||xL(s,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Hd.getController(s),{datasetElementType:c,dataElementType:u}=va.datasets[s];Object.assign(l,{dataElementType:Hd.getElement(u),datasetElementType:c&&Hd.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){hn(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!n&&a.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||hn(a,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(EQ("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){hn(this.scales,t=>{Bs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!N8(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:a}of r){const o=i==="_removeElements"?-a:a;sSe(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=a=>new Set(t.filter(o=>o[0]===a).map((o,s)=>s+","+o.splice(1).join(","))),n=i(0);for(let a=1;a<r;a++)if(!N8(n,i(a)))return;return Array.from(n).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bs.update(this,this.width,this.height,t);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],hn(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,a)=>{n._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,$A(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yh.has(this)?this.attached&&!Yh.running(this)&&Yh.start(this):(this.draw(),BQ({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,i=[];let n,a;for(n=0,a=r.length;n<a;++n){const o=r[n];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,i=t._clip,n=!i.disabled,a=cSe(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&JT(r,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),n&&ZT(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return vf(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,n){const a=a_e.modes[r];return typeof a=="function"?a(this,t,i,n):[]}getDatasetMeta(t){const r=this.data.datasets[t],i=this._metasets;let n=i.filter(a=>a&&a._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=dg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){const i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){const n=i?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,n);nC(r)?(a.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(a,{visible:i}),this.update(s=>s.datasetIndex===t?n:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Yh.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),q8(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete y5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,i=(a,o)=>{r.addEventListener(this,a,o),t[a]=o},n=(a,o,s)=>{a.offsetX=o,a.offsetY=s,this._eventHandler(a)};hn(this.options.events,a=>i(a,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,i=(l,c)=>{r.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(r.removeEventListener(this,l,c),delete t[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():o()}unbindEvents(){hn(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},hn(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){const n=i?"set":"remove";let a,o,s,l;for(r==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),s=0,l=t.length;s<l;++s){o=t[s];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],i=t.map(({datasetIndex:a,index:o})=>{const s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[o],index:o}});!OM(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){const n=this.options.hover,a=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=a(r,t),s=i?t:a(t,r);o.length&&this.updateHoverStyle(o,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(t,r){const i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const a=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(a||i.changed)&&this.render(),this}_handleEvent(t,r,i){const{_active:n=[],options:a}=this,o=r,s=this._getActiveElements(t,n,i,o),l=m2e(t),c=lSe(t,this._lastEvent,i,l);i&&(this._lastEvent=null,On(a.onHover,[t,s,this],this),l&&On(a.onClick,[t,s,this],this));const u=!OM(s,n);return(u||r)&&(this._active=s,this._updateHoverStyles(s,n,r)),this._lastEvent=c,u}_getActiveElements(t,r,i,n){if(t.type==="mouseout")return[];if(!i)return r;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,n)}},or(Kp,"defaults",va),or(Kp,"instances",y5),or(Kp,"overrides",i0),or(Kp,"registry",Hd),or(Kp,"version",nSe),or(Kp,"getChart",MQ),Kp);function PQ(){return hn(t3.instances,e=>e._plugins.invalidate())}function uSe(e,t,r){const{startAngle:i,pixelMargin:n,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=n/s;e.beginPath(),e.arc(a,o,s,i-c,r+c),l>n?(c=n/l,e.arc(a,o,l,r+c,i-c,!0)):e.arc(a,o,n,r+Oa,i-Oa),e.closePath(),e.clip()}function dSe(e){return Dj(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hSe(e,t,r,i){const n=dSe(e.options.borderRadius),a=(r-t)/2,o=Math.min(a,i*t/2),s=l=>{const c=(r-Math.min(a,l))*i/2;return Oo(l,0,Math.min(a,c))};return{outerStart:s(n.outerStart),outerEnd:s(n.outerEnd),innerStart:Oo(n.innerStart,0,o),innerEnd:Oo(n.innerEnd,0,o)}}function hv(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function UM(e,t,r,i,n,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+r-c,0),h=u>0?u+i+r+c:0;let f=0;const m=n-l;if(i){const V=u>0?u-i:0,Y=d>0?d-i:0,j=(V+Y)/2,R=j!==0?m*j/(j+i):m;f=(m-R)/2}const A=Math.max(.001,m*d-r/Qn)/d,g=(m-A)/2,p=l+g+f,v=n-g-f,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:w}=hSe(t,h,d,v-p),C=d-y,_=d-b,B=p+y/C,P=v-b/_,M=h+x,O=h+w,I=p+x/M,F=v-w/O;if(e.beginPath(),a){const V=(B+P)/2;if(e.arc(o,s,d,B,V),e.arc(o,s,d,V,P),b>0){const H=hv(_,P,o,s);e.arc(H.x,H.y,b,P,v+Oa)}const Y=hv(O,v,o,s);if(e.lineTo(Y.x,Y.y),w>0){const H=hv(O,F,o,s);e.arc(H.x,H.y,w,v+Oa,F+Math.PI)}const j=(v-w/h+(p+x/h))/2;if(e.arc(o,s,h,v-w/h,j,!0),e.arc(o,s,h,j,p+x/h,!0),x>0){const H=hv(M,I,o,s);e.arc(H.x,H.y,x,I+Math.PI,p-Oa)}const R=hv(C,p,o,s);if(e.lineTo(R.x,R.y),y>0){const H=hv(C,B,o,s);e.arc(H.x,H.y,y,p-Oa,B)}}else{e.moveTo(o,s);const V=Math.cos(B)*d+o,Y=Math.sin(B)*d+s;e.lineTo(V,Y);const j=Math.cos(P)*d+o,R=Math.sin(P)*d+s;e.lineTo(j,R)}e.closePath()}function fSe(e,t,r,i,n){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){UM(e,t,r,i,l,n);for(let c=0;c<a;++c)e.fill();isNaN(s)||(l=o+(s%Vn||Vn))}return UM(e,t,r,i,l,n),e.fill(),l}function pSe(e,t,r,i,n){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,f?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let m=t.endAngle;if(a){UM(e,t,r,i,m,n);for(let A=0;A<a;++A)e.stroke();isNaN(s)||(m=o+(s%Vn||Vn))}f&&uSe(e,t,m),a||(UM(e,t,r,i,m,n),e.stroke())}class Cx extends qf{constructor(r){super();or(this,"circumference");or(this,"endAngle");or(this,"fullCircles");or(this,"innerRadius");or(this,"outerRadius");or(this,"pixelMargin");or(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,i,n){const a=this.getProps(["x","y"],n),{angle:o,distance:s}=Jie(a,{x:r,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=gi(h,c-l),A=aC(o,l,c)&&l!==c,g=m>=Vn||A,p=gf(s,u+f,d+f);return g&&p}getCenterPoint(r){const{x:i,y:n,startAngle:a,endAngle:o,innerRadius:s,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,d=(a+o)/2,h=(s+l+u+c)/2;return{x:i+Math.cos(d)*h,y:n+Math.sin(d)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:i,circumference:n}=this,a=(i.offset||0)/4,o=(i.spacing||0)/2,s=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>Vn?Math.floor(n/Vn):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(Qn,n||0)),u=a*c;r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,fSe(r,this,u,o,s),pSe(r,this,u,o,s),r.restore()}}or(Cx,"id","arc"),or(Cx,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),or(Cx,"defaultRoutes",{backgroundColor:"backgroundColor"}),or(Cx,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function One(e,t,r=t){e.lineCap=gi(r.borderCapStyle,t.borderCapStyle),e.setLineDash(gi(r.borderDash,t.borderDash)),e.lineDashOffset=gi(r.borderDashOffset,t.borderDashOffset),e.lineJoin=gi(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=gi(r.borderWidth,t.borderWidth),e.strokeStyle=gi(r.borderColor,t.borderColor)}function ASe(e,t,r){e.lineTo(r.x,r.y)}function gSe(e){return e.stepped?k2e:e.tension||e.cubicInterpolationMode==="monotone"?j2e:ASe}function Dne(e,t,r={}){const i=e.length,{start:n=0,end:a=i-1}=r,{start:o,end:s}=t,l=Math.max(n,o),c=Math.min(a,s),u=n<o&&a<o||n>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function mSe(e,t,r,i){const{points:n,options:a}=t,{count:o,start:s,loop:l,ilen:c}=Dne(n,r,i),u=gSe(a);let{move:d=!0,reverse:h}=i||{},f,m,A;for(f=0;f<=c;++f)m=n[(s+(h?c-f:f))%o],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):u(e,A,m,h,a.stepped),A=m);return l&&(m=n[(s+(h?c:0))%o],u(e,A,m,h,a.stepped)),!!l}function vSe(e,t,r,i){const n=t.points,{count:a,start:o,ilen:s}=Dne(n,r,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,m,A,g,p;const v=b=>(o+(c?s-b:b))%a,y=()=>{A!==g&&(e.lineTo(u,g),e.lineTo(u,A),e.lineTo(u,p))};for(l&&(f=n[v(0)],e.moveTo(f.x,f.y)),h=0;h<=s;++h){if(f=n[v(h)],f.skip)continue;const b=f.x,x=f.y,w=b|0;w===m?(x<A?A=x:x>g&&(g=x),u=(d*u+b)/++d):(y(),e.lineTo(b,x),m=w,d=0,A=g=x),p=x}y()}function _L(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?vSe:mSe}function ySe(e){return e.stepped?vCe:e.tension||e.cubicInterpolationMode==="monotone"?yCe:om}function bSe(e,t,r,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,r,i)&&n.closePath()),One(e,t.options),e.stroke(n)}function wSe(e,t,r,i){const{segments:n,options:a}=t,o=_L(t);for(const s of n)One(e,a,s.style),e.beginPath(),o(e,t,s,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}const xSe=typeof Path2D=="function";function CSe(e,t,r,i){xSe&&!t.options.segment?bSe(e,t,r,i):wSe(e,t,r,i)}class AA extends qf{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;uCe(this._points,i,t,n,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SCe(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){const i=this.options,n=t[r],a=this.points,o=vne(this,{property:r,start:n,end:n});if(!o.length)return;const s=[],l=ySe(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=a[d],m=a[h];if(f===m){s.push(f);continue}const A=Math.abs((n-f[r])/(m[r]-f[r])),g=l(f,m,A,i.stepped);g[r]=t[r],s.push(g)}return s.length===1?s[0]:s}pathSegment(t,r,i){return _L(this)(t,this,r,i)}path(t,r,i){const n=this.segments,a=_L(this);let o=this._loop;r=r||0,i=i||this.points.length-r;for(const s of n)o&=a(t,this,s,{start:r,end:r+i-1});return!!o}draw(t,r,i,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),CSe(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}or(AA,"id","line"),or(AA,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),or(AA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),or(AA,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function TQ(e,t,r,i){const n=e.options,{[r]:a}=e.getProps([r],i);return Math.abs(t-a)<n.radius+n.hitRadius}class b5 extends qf{constructor(r){super();or(this,"parsed");or(this,"skip");or(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,n){const a=this.options,{x:o,y:s}=this.getProps(["x","y"],n);return Math.pow(r-o,2)+Math.pow(i-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(r,i){return TQ(this,r,"x",i)}inYRange(r,i){return TQ(this,r,"y",i)}getCenterPoint(r){const{x:i,y:n}=this.getProps(["x","y"],r);return{x:i,y:n}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const n=i&&r.borderWidth||0;return(i+n)*2}draw(r,i){const n=this.options;this.skip||n.radius<.1||!vf(this,i,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,bL(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}or(b5,"id","point"),or(b5,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),or(b5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Ine(e,t){const{x:r,y:i,base:n,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,d;return e.horizontal?(d=o/2,s=Math.min(r,n),l=Math.max(r,n),c=i-d,u=i+d):(d=a/2,s=r-d,l=r+d,c=Math.min(i,n),u=Math.max(i,n)),{left:s,top:c,right:l,bottom:u}}function gA(e,t,r,i){return e?0:Oo(t,r,i)}function _Se(e,t,r){const i=e.options.borderWidth,n=e.borderSkipped,a=sne(i);return{t:gA(n.top,a.top,0,r),r:gA(n.right,a.right,0,t),b:gA(n.bottom,a.bottom,0,r),l:gA(n.left,a.left,0,t)}}function SSe(e,t,r){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,a=km(n),o=Math.min(t,r),s=e.borderSkipped,l=i||Di(n);return{topLeft:gA(!l||s.top||s.left,a.topLeft,0,o),topRight:gA(!l||s.top||s.right,a.topRight,0,o),bottomLeft:gA(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:gA(!l||s.bottom||s.right,a.bottomRight,0,o)}}function ESe(e){const t=Ine(e),r=t.right-t.left,i=t.bottom-t.top,n=_Se(e,r/2,i/2),a=SSe(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:a},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function dD(e,t,r,i){const n=t===null,a=r===null,s=e&&!(n&&a)&&Ine(e,i);return s&&(n||gf(t,s.left,s.right))&&(a||gf(r,s.top,s.bottom))}function BSe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function MSe(e,t){e.rect(t.x,t.y,t.w,t.h)}function hD(e,t,r={}){const i=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-i,o=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+i,y:e.y+n,w:e.w+a,h:e.h+o,radius:e.radius}}class w5 extends qf{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:o}=ESe(this),s=BSe(o.radius)?oC:MSe;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),s(t,hD(o,r,a)),t.clip(),s(t,hD(a,-r,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),s(t,hD(a,r)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,r,i){return dD(this,t,r,i)}inXRange(t,r){return dD(this,t,null,r)}inYRange(t,r){return dD(this,null,t,r)}getCenterPoint(t){const{x:r,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(r+n)/2:r,y:a?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}or(w5,"id","bar"),or(w5,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),or(w5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var PSe=Object.freeze({__proto__:null,ArcElement:Cx,BarElement:w5,LineElement:AA,PointElement:b5});const SL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],OQ=SL.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Fne(e){return SL[e%SL.length]}function Lne(e){return OQ[e%OQ.length]}function TSe(e,t){return e.borderColor=Fne(t),e.backgroundColor=Lne(t),++t}function OSe(e,t){return e.backgroundColor=e.data.map(()=>Fne(t++)),t}function DSe(e,t){return e.backgroundColor=e.data.map(()=>Lne(t++)),t}function ISe(e){let t=0;return(r,i)=>{const n=e.getDatasetMeta(i).controller;n instanceof _m?t=OSe(r,t):n instanceof s2?t=DSe(r,t):n&&(t=TSe(r,t))}}function DQ(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function FSe(e){return e&&(e.borderColor||e.backgroundColor)}var LSe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;const{data:{datasets:i},options:n}=e.config,{elements:a}=n;if(!r.forceOverride&&(DQ(i)||FSe(n)||a&&DQ(a)))return;const o=ISe(e);i.forEach(o)}};function RSe(e,t,r,i,n){const a=n.samples||i;if(a>=r)return e.slice(t,t+r);const o=[],s=(r-2)/(a-2);let l=0;const c=t+r-1;let u=t,d,h,f,m,A;for(o[l++]=e[u],d=0;d<a-2;d++){let g=0,p=0,v;const y=Math.floor((d+1)*s)+1+t,b=Math.min(Math.floor((d+2)*s)+1,r)+t,x=b-y;for(v=y;v<b;v++)g+=e[v].x,p+=e[v].y;g/=x,p/=x;const w=Math.floor(d*s)+1+t,C=Math.min(Math.floor((d+1)*s)+1,r)+t,{x:_,y:B}=e[u];for(f=m=-1,v=w;v<C;v++)m=.5*Math.abs((_-g)*(e[v].y-B)-(_-e[v].x)*(p-B)),m>f&&(f=m,h=e[v],A=v);o[l++]=h,u=A}return o[l++]=e[c],o}function USe(e,t,r,i){let n=0,a=0,o,s,l,c,u,d,h,f,m,A;const g=[],p=t+r-1,v=e[t].x,b=e[p].x-v;for(o=t;o<t+r;++o){s=e[o],l=(s.x-v)/b*i,c=s.y;const x=l|0;if(x===u)c<m?(m=c,d=o):c>A&&(A=c,h=o),n=(a*n+s.x)/++a;else{const w=o-1;if(!Qi(d)&&!Qi(h)){const C=Math.min(d,h),_=Math.max(d,h);C!==f&&C!==w&&g.push({...e[C],x:n}),_!==f&&_!==w&&g.push({...e[_],x:n})}o>0&&w!==f&&g.push(e[w]),g.push(s),u=x,a=0,m=A=c,d=h=f=o}}return g}function Rne(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function IQ(e){e.data.datasets.forEach(t=>{Rne(t)})}function NSe(e,t){const r=t.length;let i=0,n;const{iScale:a}=e,{min:o,max:s,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=Oo(mf(t,a.axis,o).lo,0,r-1)),c?n=Oo(mf(t,a.axis,s).hi+1,i,r)-i:n=r-i,{start:i,count:n}}var kSe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled){IQ(e);return}const i=e.width;e.data.datasets.forEach((n,a)=>{const{_data:o,indexAxis:s}=n,l=e.getDatasetMeta(a),c=o||n.data;if(wx([s,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=NSe(l,c);const f=r.threshold||4*i;if(h<=f){Rne(n);return}Qi(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let m;switch(r.algorithm){case"lttb":m=RSe(c,d,h,i,r);break;case"min-max":m=USe(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}n._decimated=m})},destroy(e){IQ(e)}};function jSe(e,t,r){const i=e.segments,n=e.points,a=t.points,o=[];for(const s of i){let{start:l,end:c}=s;c=kj(l,c,n);const u=EL(r,n[l],n[c],s.loop);if(!t.segments){o.push({source:s,target:u,start:n[l],end:n[c]});continue}const d=vne(t,u);for(const h of d){const f=EL(r,a[h.start],a[h.end],h.loop),m=mne(s,n,f);for(const A of m)o.push({source:A,target:h,start:{[r]:FQ(u,f,"start",Math.max)},end:{[r]:FQ(u,f,"end",Math.min)}})}}return o}function EL(e,t,r,i){if(i)return;let n=t[e],a=r[e];return e==="angle"&&(n=cc(n),a=cc(a)),{property:e,start:n,end:a}}function zSe(e,t){const{x:r=null,y:i=null}=e||{},n=t.points,a=[];return t.segments.forEach(({start:o,end:s})=>{s=kj(o,s,n);const l=n[o],c=n[s];i!==null?(a.push({x:l.x,y:i}),a.push({x:c.x,y:i})):r!==null&&(a.push({x:r,y:l.y}),a.push({x:r,y:c.y}))}),a}function kj(e,t,r){for(;t>e;t--){const i=r[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function FQ(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}function Une(e,t){let r=[],i=!1;return kn(e)?(i=!0,r=e):r=zSe(e,t),r.length?new AA({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}function LQ(e){return e&&e.fill!==!1}function HSe(e,t,r){let n=e[t].fill;const a=[t];let o;if(!r)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!ma(n))return n;if(o=e[n],!o)return!1;if(o.visible)return n;a.push(n),n=o.fill}return!1}function VSe(e,t,r){const i=qSe(e);if(Di(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return ma(n)&&Math.floor(n)===n?QSe(i[0],t,n,r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function QSe(e,t,r,i){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=i?!1:r}function WSe(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Di(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function GSe(e,t,r){let i;return e==="start"?i=r:e==="end"?i=t.options.reverse?t.min:t.max:Di(e)?i=e.value:i=t.getBaseValue(),i}function qSe(e){const t=e.options,r=t.fill;let i=gi(r&&r.target,r);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function KSe(e){const{scale:t,index:r,line:i}=e,n=[],a=i.segments,o=i.points,s=XSe(t,r);s.push(Une({x:null,y:t.bottom},i));for(let l=0;l<a.length;l++){const c=a[l];for(let u=c.start;u<=c.end;u++)YSe(n,o[u],s)}return new AA({points:n,options:{}})}function XSe(e,t){const r=[],i=e.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const a=i[n];if(a.index===t)break;a.hidden||r.unshift(a.dataset)}return r}function YSe(e,t,r){const i=[];for(let n=0;n<r.length;n++){const a=r[n],{first:o,last:s,point:l}=$Se(a,t,"x");if(!(!l||o&&s)){if(o)i.unshift(l);else if(e.push(l),!s)break}}e.push(...i)}function $Se(e,t,r){const i=e.interpolate(t,r);if(!i)return{};const n=i[r],a=e.segments,o=e.points;let s=!1,l=!1;for(let c=0;c<a.length;c++){const u=a[c],d=o[u.start][r],h=o[u.end][r];if(gf(n,d,h)){s=n===d,l=n===h;break}}return{first:s,last:l,point:i}}class Nne{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,i){const{x:n,y:a,radius:o}=this;return r=r||{start:0,end:Vn},t.arc(n,a,o,r.end,r.start,!0),!i.bounds}interpolate(t){const{x:r,y:i,radius:n}=this,a=t.angle;return{x:r+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}}function JSe(e){const{chart:t,fill:r,line:i}=e;if(ma(r))return ZSe(t,r);if(r==="stack")return KSe(e);if(r==="shape")return!0;const n=eEe(e);return n instanceof Nne?n:Une(n,i)}function ZSe(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function eEe(e){return(e.scale||{}).getPointPositionForValue?rEe(e):tEe(e)}function tEe(e){const{scale:t={},fill:r}=e,i=WSe(r,t);if(ma(i)){const n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function rEe(e){const{scale:t,fill:r}=e,i=t.options,n=t.getLabels().length,a=i.reverse?t.max:t.min,o=GSe(r,t,a),s=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,a);return new Nne({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)s.push(t.getPointPositionForValue(l,o));return s}function fD(e,t,r){const i=JSe(t),{line:n,scale:a,axis:o}=t,s=n.options,l=s.fill,c=s.backgroundColor,{above:u=c,below:d=c}=l||{};i&&n.points.length&&(JT(e,r),iEe(e,{line:n,target:i,above:u,below:d,area:r,scale:a,axis:o}),ZT(e))}function iEe(e,t){const{line:r,target:i,above:n,below:a,area:o,scale:s}=t,l=r._loop?"angle":t.axis;e.save(),l==="x"&&a!==n&&(RQ(e,i,o.top),UQ(e,{line:r,target:i,color:n,scale:s,property:l}),e.restore(),e.save(),RQ(e,i,o.bottom)),UQ(e,{line:r,target:i,color:a,scale:s,property:l}),e.restore()}function RQ(e,t,r){const{segments:i,points:n}=t;let a=!0,o=!1;e.beginPath();for(const s of i){const{start:l,end:c}=s,u=n[l],d=n[kj(l,c,n)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(d.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function UQ(e,t){const{line:r,target:i,property:n,color:a,scale:o}=t,s=jSe(r,i,n);for(const{source:l,target:c,start:u,end:d}of s){const{style:{backgroundColor:h=a}={}}=l,f=i!==!0;e.save(),e.fillStyle=h,nEe(e,o,f&&EL(n,u,d)),e.beginPath();const m=!!r.pathSegment(e,l);let A;if(f){m?e.closePath():NQ(e,i,d,n);const g=!!i.pathSegment(e,c,{move:m,reverse:!0});A=m&&g,A||NQ(e,i,u,n)}e.closePath(),e.fill(A?"evenodd":"nonzero"),e.restore()}}function nEe(e,t,r){const{top:i,bottom:n}=t.chart.chartArea,{property:a,start:o,end:s}=r||{};a==="x"&&(e.beginPath(),e.rect(o,i,s-o,n-i),e.clip())}function NQ(e,t,r,i){const n=t.interpolate(r,i);n&&e.lineTo(n.x,n.y)}var aEe={id:"filler",afterDatasetsUpdate(e,t,r){const i=(e.data.datasets||[]).length,n=[];let a,o,s,l;for(o=0;o<i;++o)a=e.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof AA&&(l={visible:e.isDatasetVisible(o),index:o,fill:VSe(s,o,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=HSe(n,o,r.propagate))},beforeDraw(e,t,r){const i=r.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=n.length-1;o>=0;--o){const s=n[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),i&&s.fill&&fD(e.ctx,s,a))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const a=i[n].$filler;LQ(a)&&fD(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,r){const i=t.meta.$filler;!LQ(i)||r.drawTime!=="beforeDatasetDraw"||fD(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kQ=(e,t)=>{let{boxHeight:r=t,boxWidth:i=t}=e;return e.usePointStyle&&(r=Math.min(r,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(t,r)}},oEe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class jQ extends qf{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,i){this.maxWidth=t,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=On(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(i=>t.filter(i,this.chart.data))),t.sort&&(r=r.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,n=ho(i.font),a=n.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=kQ(i,a);let c,u;r.font=n.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,a,s,l)+10):(u=this.maxHeight,c=this._fitCols(o,n,s,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,i,n){const{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=n+s;let d=t;a.textAlign="left",a.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,A)=>{const g=i+r/2+a.measureText(m.text).width;(A===0||c[c.length-1]+g+2*s>o)&&(d+=u,c[c.length-(A>0?0:1)]=0,f+=u,h++),l[A]={left:0,top:f,row:h,width:g,height:n},c[c.length-1]+=g+s}),d}_fitCols(t,r,i,n){const{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=s,h=0,f=0,m=0,A=0;return this.legendItems.forEach((g,p)=>{const{itemWidth:v,itemHeight:y}=sEe(i,r,a,g,n);p>0&&f+y+2*s>u&&(d+=h+s,c.push({width:h,height:f}),m+=h+s,A++,h=f=0),l[p]={left:m,top:f,col:A,width:v,height:y},h=Math.max(h,v),f+=y+s}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:n},rtl:a}}=this,o=qy(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=xs(i,this.left+n,this.right-this.lineWidths[s]);for(const c of r)s!==c.row&&(s=c.row,l=xs(i,this.left+n,this.right-this.lineWidths[s])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let s=0,l=xs(i,this.top+t+n,this.bottom-this.columnSizes[s].height);for(const c of r)c.col!==s&&(s=c.col,l=xs(i,this.top+t+n,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;JT(t,this),this._draw(),ZT(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:i,ctx:n}=this,{align:a,labels:o}=t,s=va.color,l=qy(t.rtl,this.left,this.width),c=ho(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:m,boxHeight:A,itemHeight:g}=kQ(o,d),p=function(w,C,_){if(isNaN(m)||m<=0||isNaN(A)||A<0)return;n.save();const B=gi(_.lineWidth,1);if(n.fillStyle=gi(_.fillStyle,s),n.lineCap=gi(_.lineCap,"butt"),n.lineDashOffset=gi(_.lineDashOffset,0),n.lineJoin=gi(_.lineJoin,"miter"),n.lineWidth=B,n.strokeStyle=gi(_.strokeStyle,s),n.setLineDash(gi(_.lineDash,[])),o.usePointStyle){const P={radius:A*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:B},M=l.xPlus(w,m/2),O=C+h;one(n,P,M,O,o.pointStyleWidth&&m)}else{const P=C+Math.max((d-A)/2,0),M=l.leftForLtr(w,m),O=km(_.borderRadius);n.beginPath(),Object.values(O).some(I=>I!==0)?oC(n,{x:M,y:P,w:m,h:A,radius:O}):n.rect(M,P,m,A),n.fill(),B!==0&&n.stroke()}n.restore()},v=function(w,C,_){n0(n,_.text,w,C+g/2,c,{strikethrough:_.hidden,textAlign:l.textAlign(_.textAlign)})},y=this.isHorizontal(),b=this._computeTitleHeight();y?f={x:xs(a,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:xs(a,this.top+b+u,this.bottom-r[0].height),line:0},pne(this.ctx,t.textDirection);const x=g+u;this.legendItems.forEach((w,C)=>{n.strokeStyle=w.fontColor,n.fillStyle=w.fontColor;const _=n.measureText(w.text).width,B=l.textAlign(w.textAlign||(w.textAlign=o.textAlign)),P=m+h+_;let M=f.x,O=f.y;l.setWidth(this.width),y?C>0&&M+P+u>this.right&&(O=f.y+=x,f.line++,M=f.x=xs(a,this.left+u,this.right-i[f.line])):C>0&&O+x>this.bottom&&(M=f.x=M+r[f.line].width+u,f.line++,O=f.y=xs(a,this.top+b+u,this.bottom-r[f.line].height));const I=l.x(M);if(p(I,O,w),M=M2e(B,M+m+h,y?M+P:this.right,t.rtl),v(l.x(M),O,w),y)f.x+=P+u;else if(typeof w.text!="string"){const F=c.lineHeight;f.y+=kne(w,F)+u}else f.y+=x}),Ane(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,i=ho(r.font),n=Is(r.padding);if(!r.display)return;const a=qy(t.rtl,this.left,this.width),o=this.ctx,s=r.position,l=i.size/2,c=n.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=xs(t.align,d,this.right-h);else{const m=this.columnSizes.reduce((A,g)=>Math.max(A,g.height),0);u=c+xs(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const f=xs(s,d,d+h);o.textAlign=a.textAlign(Tj(s)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=i.string,n0(o,r.text,f,u,i)}_computeTitleHeight(){const t=this.options.title,r=ho(t.font),i=Is(t.padding);return t.display?r.lineHeight+i.height:0}_getLegendItemAt(t,r){let i,n,a;if(gf(t,this.left,this.right)&&gf(r,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],gf(t,n.left,n.left+n.width)&&gf(r,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){const r=this.options;if(!uEe(t.type,r))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,a=oEe(n,i);n&&!a&&On(r.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!a&&On(r.onHover,[t,i,this],this)}else i&&On(r.onClick,[t,i,this],this)}}function sEe(e,t,r,i,n){const a=lEe(i,e,t,r),o=cEe(n,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}function lEe(e,t,r,i){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((a,o)=>a.length>o.length?a:o)),t+r.size/2+i.measureText(n).width}function cEe(e,t,r){let i=e;return typeof t.text!="string"&&(i=kne(t,r)),i}function kne(e,t){const r=e.text?e.text.length:0;return t*r}function uEe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var dEe={id:"legend",_element:jQ,start(e,t,r){const i=e.legend=new jQ({ctx:e.ctx,options:r,chart:e});Bs.configure(e,i,r),Bs.addBox(e,i)},stop(e){Bs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const i=e.legend;Bs.configure(e,i,r),i.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const i=t.datasetIndex,n=r.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:n,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=Is(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jj extends qf{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const n=kn(i.text)?i.text.length:1;this._padding=Is(i.padding);const a=n*ho(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:i,bottom:n,right:a,options:o}=this,s=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=xs(s,i,a),d=r+t,c=a-i):(o.position==="left"?(u=i+t,d=xs(s,n,r),l=Qn*-.5):(u=a-t,d=xs(s,r,n),l=Qn*.5),c=n-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const i=ho(r.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(a);n0(t,r.text,0,0,i,{color:r.color,maxWidth:l,rotation:c,textAlign:Tj(r.align),textBaseline:"middle",translation:[o,s]})}}function hEe(e,t){const r=new jj({ctx:e.ctx,options:t,chart:e});Bs.configure(e,r,t),Bs.addBox(e,r),e.titleBlock=r}var fEe={id:"title",_element:jj,start(e,t,r){hEe(e,r)},stop(e){const t=e.titleBlock;Bs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const i=e.titleBlock;Bs.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const US=new WeakMap;var pEe={id:"subtitle",start(e,t,r){const i=new jj({ctx:e.ctx,options:r,chart:e});Bs.configure(e,i,r),Bs.addBox(e,i),US.set(e,i)},stop(e){Bs.removeBox(e,US.get(e)),US.delete(e)},beforeUpdate(e,t,r){const i=US.get(e);Bs.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _x={average(e){if(!e.length)return!1;let t,r,i=new Set,n=0,a=0;for(t=0,r=e.length;t<r;++t){const s=e[t].element;if(s&&s.hasValue()){const l=s.tooltipPosition();i.add(l.x),n+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((s,l)=>s+l)/i.size,y:n/a}},nearest(e,t){if(!e.length)return!1;let r=t.x,i=t.y,n=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=e.length;a<o;++a){const l=e[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=vL(t,c);u<n&&(n=u,s=l)}}if(s){const l=s.tooltipPosition();r=l.x,i=l.y}return{x:r,y:i}}};function Nd(e,t){return t&&(kn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $h(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function AEe(e,t){const{element:r,datasetIndex:i,index:n}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(n);return{chart:e,label:o,parsed:a.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:s,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:r}}function zQ(e,t){const r=e.chart.ctx,{body:i,footer:n,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=ho(t.bodyFont),c=ho(t.titleFont),u=ho(t.footerFont),d=a.length,h=n.length,f=i.length,m=Is(t.padding);let A=m.height,g=0,p=i.reduce((b,x)=>b+x.before.length+x.lines.length+x.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,d&&(A+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),p){const b=t.displayColors?Math.max(s,l.lineHeight):l.lineHeight;A+=f*b+(p-f)*l.lineHeight+(p-1)*t.bodySpacing}h&&(A+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const y=function(b){g=Math.max(g,r.measureText(b).width+v)};return r.save(),r.font=c.string,hn(e.title,y),r.font=l.string,hn(e.beforeBody.concat(e.afterBody),y),v=t.displayColors?o+2+t.boxPadding:0,hn(i,b=>{hn(b.before,y),hn(b.lines,y),hn(b.after,y)}),v=0,r.font=u.string,hn(e.footer,y),r.restore(),g+=m.width,{width:g,height:A}}function gEe(e,t){const{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}function mEe(e,t,r,i){const{x:n,width:a}=i,o=r.caretSize+r.caretPadding;if(e==="left"&&n+a+o>t.width||e==="right"&&n-a-o<0)return!0}function vEe(e,t,r,i){const{x:n,width:a}=r,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return i==="center"?c=n<=(s+l)/2?"left":"right":n<=a/2?c="left":n>=o-a/2&&(c="right"),mEe(c,e,t,r)&&(c="center"),c}function HQ(e,t,r){const i=r.yAlign||t.yAlign||gEe(e,r);return{xAlign:r.xAlign||t.xAlign||vEe(e,t,r,i),yAlign:i}}function yEe(e,t){let{x:r,width:i}=e;return t==="right"?r-=i:t==="center"&&(r-=i/2),r}function bEe(e,t,r){let{y:i,height:n}=e;return t==="top"?i+=r:t==="bottom"?i-=n+r:i-=n/2,i}function VQ(e,t,r,i){const{caretSize:n,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=r,c=n+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=km(o);let m=yEe(t,s);const A=bEe(t,l,c);return l==="center"?s==="left"?m+=c:s==="right"&&(m-=c):s==="left"?m-=Math.max(u,h)+n:s==="right"&&(m+=Math.max(d,f)+n),{x:Oo(m,0,i.width-t.width),y:Oo(A,0,i.height-t.height)}}function NS(e,t,r){const i=Is(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function QQ(e){return Nd([],$h(e))}function wEe(e,t,r){return dg(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function WQ(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const jne={beforeTitle:Fh,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:Fh,beforeBody:Fh,beforeLabel:Fh,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Qi(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Fh,afterBody:Fh,beforeFooter:Fh,footer:Fh,afterFooter:Fh};function xl(e,t,r,i){const n=e[t].call(r,i);return typeof n>"u"?jne[t].call(r,i):n}class BL extends qf{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&r.options.animation&&i.animations,a=new yne(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=wEe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:i}=r,n=xl(i,"beforeTitle",this,t),a=xl(i,"title",this,t),o=xl(i,"afterTitle",this,t);let s=[];return s=Nd(s,$h(n)),s=Nd(s,$h(a)),s=Nd(s,$h(o)),s}getBeforeBody(t,r){return QQ(xl(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:i}=r,n=[];return hn(t,a=>{const o={before:[],lines:[],after:[]},s=WQ(i,a);Nd(o.before,$h(xl(s,"beforeLabel",this,a))),Nd(o.lines,xl(s,"label",this,a)),Nd(o.after,$h(xl(s,"afterLabel",this,a))),n.push(o)}),n}getAfterBody(t,r){return QQ(xl(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:i}=r,n=xl(i,"beforeFooter",this,t),a=xl(i,"footer",this,t),o=xl(i,"afterFooter",this,t);let s=[];return s=Nd(s,$h(n)),s=Nd(s,$h(a)),s=Nd(s,$h(o)),s}_createItems(t){const r=this._active,i=this.chart.data,n=[],a=[],o=[];let s=[],l,c;for(l=0,c=r.length;l<c;++l)s.push(AEe(this.chart,r[l]));return t.filter&&(s=s.filter((u,d,h)=>t.filter(u,d,h,i))),t.itemSort&&(s=s.sort((u,d)=>t.itemSort(u,d,i))),hn(s,u=>{const d=WQ(t.callbacks,u);n.push(xl(d,"labelColor",this,u)),a.push(xl(d,"labelPointStyle",this,u)),o.push(xl(d,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=s,s}update(t,r){const i=this.options.setContext(this.getContext()),n=this._active;let a,o=[];if(!n.length)this.opacity!==0&&(a={opacity:0});else{const s=_x[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=zQ(this,i),c=Object.assign({},s,l),u=HQ(this.chart,i,c),d=VQ(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,n){const a=this.getCaretPosition(t,i,n);r.lineTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineTo(a.x3,a.y3)}getCaretPosition(t,r,i){const{xAlign:n,yAlign:a}=this,{caretSize:o,cornerRadius:s}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=km(s),{x:h,y:f}=t,{width:m,height:A}=r;let g,p,v,y,b,x;return a==="center"?(b=f+A/2,n==="left"?(g=h,p=g-o,y=b+o,x=b-o):(g=h+m,p=g+o,y=b-o,x=b+o),v=g):(n==="left"?p=h+Math.max(l,u)+o:n==="right"?p=h+m-Math.max(c,d)-o:p=this.caretX,a==="top"?(y=f,b=y-o,g=p-o,v=p+o):(y=f+A,b=y+o,g=p+o,v=p-o),x=y),{x1:g,x2:p,x3:v,y1:y,y2:b,y3:x}}drawTitle(t,r,i){const n=this.title,a=n.length;let o,s,l;if(a){const c=qy(i.rtl,this.x,this.width);for(t.x=NS(this,i.titleAlign,i),r.textAlign=c.textAlign(i.titleAlign),r.textBaseline="middle",o=ho(i.titleFont),s=i.titleSpacing,r.fillStyle=i.titleColor,r.font=o.string,l=0;l<a;++l)r.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,l+1===a&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(t,r,i,n,a){const o=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=a,u=ho(a.bodyFont),d=NS(this,"left",a),h=n.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=r.y+f;if(a.usePointStyle){const A={radius:Math.min(c,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=n.leftForLtr(h,c)+c/2,p=m+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,bL(t,A,g,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,bL(t,A,g,p)}else{t.lineWidth=Di(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const A=n.leftForLtr(h,c),g=n.leftForLtr(n.xPlus(h,1),c-2),p=km(o.borderRadius);Object.values(p).some(v=>v!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,oC(t,{x:A,y:m,w:c,h:l,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),oC(t,{x:g,y:m+1,w:c-2,h:l-2,radius:p}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(A,m,c,l),t.strokeRect(A,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(g,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){const{body:n}=this,{bodySpacing:a,bodyAlign:o,displayColors:s,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=ho(i.bodyFont);let h=d.lineHeight,f=0;const m=qy(i.rtl,this.x,this.width),A=function(_){r.fillText(_,m.x(t.x+f),t.y+h/2),t.y+=h+a},g=m.textAlign(o);let p,v,y,b,x,w,C;for(r.textAlign=o,r.textBaseline="middle",r.font=d.string,t.x=NS(this,g,i),r.fillStyle=i.bodyColor,hn(this.beforeBody,A),f=s&&g!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,w=n.length;b<w;++b){for(p=n[b],v=this.labelTextColors[b],r.fillStyle=v,hn(p.before,A),y=p.lines,s&&y.length&&(this._drawColorBox(r,t,b,m,i),h=Math.max(d.lineHeight,l)),x=0,C=y.length;x<C;++x)A(y[x]),h=d.lineHeight;hn(p.after,A)}f=0,h=d.lineHeight,hn(this.afterBody,A),t.y-=a}drawFooter(t,r,i){const n=this.footer,a=n.length;let o,s;if(a){const l=qy(i.rtl,this.x,this.width);for(t.x=NS(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",o=ho(i.footerFont),r.fillStyle=i.footerColor,r.font=o.string,s=0;s<a;++s)r.fillText(n[s],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,r,i,n){const{xAlign:a,yAlign:o}=this,{x:s,y:l}=t,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=km(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(s+d,l),o==="top"&&this.drawCaret(t,r,i,n),r.lineTo(s+c-h,l),r.quadraticCurveTo(s+c,l,s+c,l+h),o==="center"&&a==="right"&&this.drawCaret(t,r,i,n),r.lineTo(s+c,l+u-m),r.quadraticCurveTo(s+c,l+u,s+c-m,l+u),o==="bottom"&&this.drawCaret(t,r,i,n),r.lineTo(s+f,l+u),r.quadraticCurveTo(s,l+u,s,l+u-f),o==="center"&&a==="left"&&this.drawCaret(t,r,i,n),r.lineTo(s,l+d),r.quadraticCurveTo(s,l,s+d,l),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,i=this.$animations,n=i&&i.x,a=i&&i.y;if(n||a){const o=_x[t.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=zQ(this,t),l=Object.assign({},o,this._size),c=HQ(r,t,l),u=VQ(t,l,c,r);(n._to!==u.x||a._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Is(r.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&s&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,n,r),pne(t,r.textDirection),a.y+=o.top,this.drawTitle(a,t,r),this.drawBody(a,t,r),this.drawFooter(a,t,r),Ane(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const i=this._active,n=t.map(({datasetIndex:s,index:l})=>{const c=this.chart.getDatasetMeta(s);if(!c)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:c.data[l],index:l}}),a=!OM(i,n),o=this._positionChanged(n,r);(a||o)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],o=this._getActiveElements(t,a,r,i),s=this._positionChanged(o,t),l=r||!OM(o,a)||s;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,n){const a=this.options;if(t.type==="mouseout")return[];if(!n)return r.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:i,caretY:n,options:a}=this,o=_x[a.position].call(this,t,r);return o!==!1&&(i!==o.x||n!==o.y)}}or(BL,"positioners",_x);var xEe={id:"tooltip",_element:BL,positioners:_x,afterInit(e,t,r){r&&(e.tooltip=new BL({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jne},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},CEe=Object.freeze({__proto__:null,Colors:LSe,Decimation:kSe,Filler:aEe,Legend:dEe,SubTitle:pEe,Title:fEe,Tooltip:xEe});const _Ee=(e,t,r,i)=>(typeof t=="string"?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function SEe(e,t,r,i){const n=e.indexOf(t);if(n===-1)return _Ee(e,t,r,i);const a=e.lastIndexOf(t);return n!==a?r:n}const EEe=(e,t)=>e===null?null:Oo(Math.round(e),0,t);function GQ(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ML extends C0{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:n,label:a}of r)i[n]===a&&i.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Qi(t))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:SEe(i,t,gi(r,t),this._addedLabels),EEe(r,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,r=this.max,i=this.options.offset,n=[];let a=this.getLabels();a=t===0&&r===a.length-1?a:a.slice(t,r+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=r;o++)n.push({value:o});return n}getLabelForValue(t){return GQ.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}or(ML,"id","category"),or(ML,"defaults",{ticks:{callback:GQ}});function BEe(e,t){const r=[],{bounds:n,step:a,min:o,max:s,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=a||1,m=u-1,{min:A,max:g}=t,p=!Qi(o),v=!Qi(s),y=!Qi(c),b=(g-A)/(d+1);let x=j8((g-A)/m/f)*f,w,C,_,B;if(x<1e-14&&!p&&!v)return[{value:A},{value:g}];B=Math.ceil(g/x)-Math.floor(A/x),B>m&&(x=j8(B*x/m/f)*f),Qi(l)||(w=Math.pow(10,l),x=Math.ceil(x*w)/w),n==="ticks"?(C=Math.floor(A/x)*x,_=Math.ceil(g/x)*x):(C=A,_=g),p&&v&&a&&w2e((s-o)/a,x/1e3)?(B=Math.round(Math.min((s-o)/x,u)),x=(s-o)/B,C=o,_=s):y?(C=p?o:C,_=v?s:_,B=c-1,x=(_-C)/B):(B=(_-C)/x,i2(B,Math.round(B),x/1e3)?B=Math.round(B):B=Math.ceil(B));const P=Math.max(z8(x),z8(C));w=Math.pow(10,Qi(l)?P:l),C=Math.round(C*w)/w,_=Math.round(_*w)/w;let M=0;for(p&&(h&&C!==o?(r.push({value:o}),C<o&&M++,i2(Math.round((C+M*x)*w)/w,o,qQ(o,b,e))&&M++):C<o&&M++);M<B;++M){const O=Math.round((C+M*x)*w)/w;if(v&&O>s)break;r.push({value:O})}return v&&h&&_!==s?r.length&&i2(r[r.length-1].value,s,qQ(s,b,e))?r[r.length-1].value=s:r.push({value:s}):(!v||_===s)&&r.push({value:_}),r}function qQ(e,t,{horizontal:r,minRotation:i}){const n=Vu(i),a=(r?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class NM extends C0{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Qi(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:n,max:a}=this;const o=l=>n=r?n:l,s=l=>a=i?a:l;if(t){const l=sh(n),c=sh(a);l<0&&c<0?s(0):l>0&&c>0&&o(0)}if(n===a){let l=a===0?1:Math.abs(a*.05);s(a+l),t||o(n-l)}this.min=n,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=this._range||this,o=BEe(n,a);return t.bounds==="ticks"&&$ie(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-r)/Math.max(t.length-1,1)/2;r-=n,i+=n}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(t){return c_(t,this.chart.options.locale,this.options.ticks.format)}}class PL extends NM{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=ma(t)?t:0,this.max=ma(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,i=Vu(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}or(PL,"id","linear"),or(PL,"defaults",{ticks:{callback:$T.formatters.numeric}});const lC=e=>Math.floor(pA(e)),Gg=(e,t)=>Math.pow(10,lC(e)+t);function KQ(e){return e/Math.pow(10,lC(e))===1}function XQ(e,t,r){const i=Math.pow(10,r),n=Math.floor(e/i);return Math.ceil(t/i)-n}function MEe(e,t){const r=t-e;let i=lC(r);for(;XQ(e,t,i)>10;)i++;for(;XQ(e,t,i)<10;)i--;return Math.min(i,lC(e))}function PEe(e,{min:t,max:r}){t=sc(e.min,t);const i=[],n=lC(t);let a=MEe(t,r),o=a<0?Math.pow(10,Math.abs(a)):1;const s=Math.pow(10,a),l=n>a?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/s/10)*s*10;let d=Math.floor((c-u)/Math.pow(10,a)),h=sc(e.min,Math.round((l+u+d*Math.pow(10,a))*o)/o);for(;h<r;)i.push({value:h,major:KQ(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),h=Math.round((l+u+d*Math.pow(10,a))*o)/o;const f=sc(e.max,h);return i.push({value:f,major:KQ(f),significand:d}),i}class TL extends C0{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const i=NM.prototype.parse.apply(this,[t,r]);if(i===0){this._zero=!0;return}return ma(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=ma(t)?Math.max(0,t):null,this.max=ma(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ma(this._userMin)&&(this.min=t===Gg(this.min,0)?Gg(this.min,-1):Gg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let i=this.min,n=this.max;const a=s=>i=t?i:s,o=s=>n=r?n:s;i===n&&(i<=0?(a(1),o(10)):(a(Gg(i,-1)),o(Gg(n,1)))),i<=0&&a(Gg(n,-1)),n<=0&&o(Gg(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},i=PEe(r,this);return t.bounds==="ticks"&&$ie(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":c_(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=pA(t),this._valueRange=pA(this.max)-pA(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(pA(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}or(TL,"id","logarithmic"),or(TL,"defaults",{ticks:{callback:$T.formatters.logarithmic,major:{enabled:!0}}});function OL(e){const t=e.ticks;if(t.display&&e.display){const r=Is(t.backdropPadding);return gi(t.font&&t.font.size,va.font.size)+r.height}return 0}function TEe(e,t,r){return r=kn(r)?r:[r],{w:N2e(e,t.string,r),h:r.length*t.lineHeight}}function YQ(e,t,r,i,n){return e===i||e===n?{start:t-r/2,end:t+r/2}:e<i||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function OEe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],n=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?Qn/a:0;for(let l=0;l<a;l++){const c=o.setContext(e.getPointLabelContext(l));n[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+n[l],s),d=ho(c.font),h=TEe(e.ctx,d,e._pointLabels[l]);i[l]=h;const f=cc(e.getIndexAngle(l)+s),m=Math.round(Mj(f)),A=YQ(m,u.x,h.w,0,180),g=YQ(m,u.y,h.h,90,270);DEe(r,t,f,A,g)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=LEe(e,i,n)}function DEe(e,t,r,i,n){const a=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),n.start<t.t?(l=(t.t-n.start)/o,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function IEe(e,t,r){const i=e.drawingArea,{extra:n,additionalAngle:a,padding:o,size:s}=r,l=e.getPointPosition(t,i+n+o,a),c=Math.round(Mj(cc(l.angle+Oa))),u=NEe(l.y,s.h,c),d=REe(c),h=UEe(l.x,s.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+s.w,bottom:u+s.h}}function FEe(e,t){if(!t)return!0;const{left:r,top:i,right:n,bottom:a}=e;return!(vf({x:r,y:i},t)||vf({x:r,y:a},t)||vf({x:n,y:i},t)||vf({x:n,y:a},t))}function LEe(e,t,r){const i=[],n=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:OL(a)/2,additionalAngle:o?Qn/n:0};let c;for(let u=0;u<n;u++){l.padding=r[u],l.size=t[u];const d=IEe(e,u,l);i.push(d),s==="auto"&&(d.visible=FEe(d,c),d.visible&&(c=d))}return i}function REe(e){return e===0||e===180?"center":e<180?"left":"right"}function UEe(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function NEe(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function kEe(e,t,r){const{left:i,top:n,right:a,bottom:o}=r,{backdropColor:s}=t;if(!Qi(s)){const l=km(t.borderRadius),c=Is(t.backdropPadding);e.fillStyle=s;const u=i-c.left,d=n-c.top,h=a-i+c.width,f=o-n+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),oC(e,{x:u,y:d,w:h,h:f,radius:l}),e.fill()):e.fillRect(u,d,h,f)}}function jEe(e,t){const{ctx:r,options:{pointLabels:i}}=e;for(let n=t-1;n>=0;n--){const a=e._pointLabelItems[n];if(!a.visible)continue;const o=i.setContext(e.getPointLabelContext(n));kEe(r,o,a);const s=ho(o.font),{x:l,y:c,textAlign:u}=a;n0(r,e._pointLabels[n],l,c+s.lineHeight/2,s,{color:o.color,textAlign:u,textBaseline:"middle"})}}function zne(e,t,r,i){const{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,Vn);else{let a=e.getPointPosition(0,t);n.moveTo(a.x,a.y);for(let o=1;o<i;o++)a=e.getPointPosition(o,t),n.lineTo(a.x,a.y)}}function zEe(e,t,r,i,n){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!i||!s||!l||r<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(n.dash),a.lineDashOffset=n.dashOffset,a.beginPath(),zne(e,r,o,i),a.closePath(),a.stroke(),a.restore())}function HEe(e,t,r){return dg(e,{label:r,index:t,type:"pointLabel"})}class Sx extends NM{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Is(OL(this.options)/2),r=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(r,i)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=ma(t)&&!isNaN(t)?t:0,this.max=ma(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/OL(this.options))}generateTickLabels(t){NM.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,i)=>{const n=On(this.options.pointLabels.callback,[r,i],this);return n||n===0?n:""}).filter((r,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?OEe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,i,n){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,i,n))}getIndexAngle(t){const r=Vn/(this._pointLabels.length||1),i=this.options.startAngle||0;return cc(t*r+Vu(i))}getDistanceFromCenterForValue(t){if(Qi(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(Qi(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const i=r[t];return HEe(this.getContext(),t,i)}}getPointPosition(t,r,i=0){const n=this.getIndexAngle(t)-Oa+i;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:i,right:n,bottom:a}=this._pointLabelItems[t];return{left:r,top:i,right:n,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),zne(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:i,grid:n,border:a}=r,o=this._pointLabels.length;let s,l,c;if(r.pointLabels.display&&jEe(this,o),n.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=n.setContext(h),m=a.setContext(h);zEe(this,f,l,o,m)}}),i.display){for(t.save(),s=o-1;s>=0;s--){const u=i.setContext(this.getPointLabelContext(s)),{color:d,lineWidth:h}=u;!h||!d||(t.lineWidth=h,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(s,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,i=r.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let a,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=i.setContext(this.getContext(l)),u=ho(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(s.label).width,t.fillStyle=c.backdropColor;const d=Is(c.backdropPadding);t.fillRect(-o/2-d.left,-a-u.size/2-d.top,o+d.width,u.size+d.height)}n0(t,s.label,0,-a,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}or(Sx,"id","radialLinear"),or(Sx,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$T.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),or(Sx,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),or(Sx,"descriptors",{angleLines:{_fallback:"grid"}});const r3={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tl=Object.keys(r3);function $Q(e,t){return e-t}function JQ(e,t){if(Qi(t))return null;const r=e._adapter,{parser:i,round:n,isoWeekday:a}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ma(o)||(o=typeof i=="string"?r.parse(o,i):r.parse(o)),o===null?null:(n&&(o=n==="week"&&(Bb(a)||a===!0)?r.startOf(o,"isoWeek",a):r.startOf(o,n)),+o)}function ZQ(e,t,r,i){const n=Tl.length;for(let a=Tl.indexOf(e);a<n-1;++a){const o=r3[Tl[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(s*o.size))<=i)return Tl[a]}return Tl[n-1]}function VEe(e,t,r,i,n){for(let a=Tl.length-1;a>=Tl.indexOf(r);a--){const o=Tl[a];if(r3[o].common&&e._adapter.diff(n,i,o)>=t-1)return o}return Tl[r?Tl.indexOf(r):0]}function QEe(e){for(let t=Tl.indexOf(e)+1,r=Tl.length;t<r;++t)if(r3[Tl[t]].common)return Tl[t]}function e7(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:i,hi:n}=Pj(r,t),a=r[i]>=t?r[i]:r[n];e[a]=!0}}function WEe(e,t,r,i){const n=e._adapter,a=+n.startOf(t[0].value,i),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+n.add(s,1,i))l=r[s],l>=0&&(t[l].major=!0);return t}function t7(e,t,r){const i=[],n={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],n[s]=o,i.push({value:s,major:!1});return a===0||!r?i:WEe(e,i,n,r)}class cC extends C0{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const i=t.time||(t.time={}),n=this._adapter=new e_e._date(t.adapters.date);n.init(r),r2(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:JQ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,i=t.time.unit||"day";let{min:n,max:a,minDefined:o,maxDefined:s}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!s&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!o||!s)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=ma(n)&&!isNaN(n)?n:+r.startOf(Date.now(),i),a=ma(a)&&!isNaN(a)?a:+r.endOf(Date.now(),i)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){const t=this.options,r=t.time,i=t.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,o=this.max,s=S2e(n,a,o);return this._unit=r.unit||(i.autoSkip?ZQ(r.minUnit,this.min,this.max,this._getLabelCapacity(a)):VEe(this,s.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:QEe(this._unit),this.initOffsets(n),t.reverse&&s.reverse(),t7(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,n,a;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?r=1-n:r=(this.getDecimalForValue(t[1])-n)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=Oo(r,0,o),i=Oo(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,r=this.min,i=this.max,n=this.options,a=n.time,o=a.unit||ZQ(a.minUnit,r,i,this._getLabelCapacity(r)),s=gi(n.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,c=Bb(l)||l===!0,u={};let d=r,h,f;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(i,r,o)>1e5*s)throw new Error(r+" and "+i+" are too far apart with stepSize of "+s+" "+o);const m=n.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+t.add(h,s,o),f++)e7(u,h,m);return(h===i||n.bounds==="ticks"||f===1)&&e7(u,h,m),Object.keys(u).sort($Q).map(A=>+A)}getLabelForValue(t){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){const n=this.options.time.displayFormats,a=this._unit,o=r||n[a];return this._adapter.format(t,o)}_tickFormatFunction(t,r,i,n){const a=this.options,o=a.ticks.callback;if(o)return On(o,[t,r,i],this);const s=a.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&s[l],d=c&&s[c],h=i[r],f=c&&d&&h&&h.major;return this._adapter.format(t,n||(f?d:u))}generateTickLabels(t){let r,i,n;for(r=0,i=t.length;r<i;++r)n=t[r],n.label=this._tickFormatFunction(n.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,i=this.ctx.measureText(t).width,n=Vu(this.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(n),o=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*a+s*o,h:i*o+s*a}}_getLabelCapacity(t){const r=this.options.time,i=r.displayFormats,n=i[r.unit]||i.millisecond,a=this._tickFormatFunction(t,0,t7(this,[t],this._majorUnit),n),o=this._getLabelSize(a),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,i=n.length;r<i;++r)t=t.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,i;if(t.length)return t;const n=this.getLabels();for(r=0,i=n.length;r<i;++r)t.push(JQ(this,n[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ene(t.sort($Q))}}or(cC,"id","time"),or(cC,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kS(e,t,r){let i=0,n=e.length-1,a,o,s,l;r?(t>=e[i].pos&&t<=e[n].pos&&({lo:i,hi:n}=mf(e,"pos",t)),{pos:a,time:s}=e[i],{pos:o,time:l}=e[n]):(t>=e[i].time&&t<=e[n].time&&({lo:i,hi:n}=mf(e,"time",t)),{time:a,pos:s}=e[i],{time:o,pos:l}=e[n]);const c=o-a;return c?s+(l-s)*(t-a)/c:s}class DL extends cC{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=kS(r,this.min),this._tableRange=kS(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:i}=this,n=[],a=[];let o,s,l,c,u;for(o=0,s=t.length;o<s;++o)c=t[o],c>=r&&c<=i&&n.push(c);if(n.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)u=n[o+1],l=n[o-1],c=n[o],Math.round((u+l)/2)!==c&&a.push({time:c,pos:o/(s-1)});return a}_generate(){const t=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?t=this.normalize(r.concat(i)):t=r.length?r:i,t=this._cache.all=t,t}getDecimalForValue(t){return(kS(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return kS(this._table,i*this._tableRange+this._minPos,!0)}}or(DL,"id","timeseries"),or(DL,"defaults",cC.defaults);var GEe=Object.freeze({__proto__:null,CategoryScale:ML,LinearScale:PL,LogarithmicScale:TL,RadialLinearScale:Sx,TimeScale:cC,TimeSeriesScale:DL});const qEe=[ZCe,PSe,CEe,GEe],Hne="label";function r7(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function KEe(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function Vne(e,t){e.labels=t}function Qne(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hne;const i=[];e.datasets=t.map(n=>{const a=e.datasets.find(o=>o[r]===n[r]);return!a||!n.data||i.includes(a)?{...n}:(i.push(a),Object.assign(a,n),a)})}function XEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hne;const r={labels:[],datasets:[]};return Vne(r,e.labels),Qne(r,e.datasets,t),r}function YEe(e,t){const{height:r=150,width:i=300,redraw:n=!1,datasetIdKey:a,type:o,data:s,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=e,f=Oe.useRef(null),m=Oe.useRef(),A=()=>{f.current&&(m.current=new t3(f.current,{type:o,data:XEe(s,a),options:l&&{...l},plugins:c}),r7(t,m.current))},g=()=>{r7(t,null),m.current&&(m.current.destroy(),m.current=null)};return Oe.useEffect(()=>{!n&&m.current&&l&&KEe(m.current,l)},[n,l]),Oe.useEffect(()=>{!n&&m.current&&Vne(m.current.config.data,s.labels)},[n,s.labels]),Oe.useEffect(()=>{!n&&m.current&&s.datasets&&Qne(m.current.config.data,s.datasets,a)},[n,s.datasets]),Oe.useEffect(()=>{m.current&&(n?(g(),setTimeout(A)):m.current.update(d))},[n,l,s.labels,s.datasets,d]),Oe.useEffect(()=>{m.current&&(g(),setTimeout(A))},[o]),Oe.useEffect(()=>(A(),()=>g()),[]),al.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:i},h),u)}const $Ee=Oe.forwardRef(YEe);function JEe(e,t){return t3.register(t),Oe.forwardRef((r,i)=>al.createElement($Ee,Object.assign({},r,{ref:i,type:e})))}const ZEe=JEe("bar",o2);t3.register(...qEe);function eBe(){const[e,t]=Oe.useState([]);Oe.useEffect(()=>{rs.get("https://tech-agency.onrender.com/chart").then(i=>{t(i.data)}).catch(i=>{console.error("Error fetching order data:",i)})},[]);const r={labels:e.map(i=>i._id),datasets:[{label:"Number of Orders",data:e.map(i=>i.count),backgroundColor:"#0ea5e9",barThickness:50,barPercentage:.1}]};return N.jsxs("div",{className:"chart-container",children:[N.jsx("h2",{className:"chart-title",children:"Number of Orders by Month"}),N.jsx("div",{className:"chart",children:N.jsx(ZEe,{data:r})})]})}var zj={},tBe=Ra;Object.defineProperty(zj,"__esModule",{value:!0});var i3=zj.default=void 0,rBe=tBe(Ua()),iBe=N,nBe=(0,rBe.default)((0,iBe.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");i3=zj.default=nBe;var Hj={},aBe=Ra;Object.defineProperty(Hj,"__esModule",{value:!0});var Vj=Hj.default=void 0,oBe=aBe(Ua()),sBe=N,lBe=(0,oBe.default)((0,sBe.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"Forum");Vj=Hj.default=lBe;var Qj={},cBe=Ra;Object.defineProperty(Qj,"__esModule",{value:!0});var n3=Qj.default=void 0,uBe=cBe(Ua()),dBe=N,hBe=(0,uBe.default)((0,dBe.jsx)("path",{d:"m14.17 13.71 1.4-2.42c.09-.15.05-.34-.08-.45l-1.48-1.16c.03-.22.05-.45.05-.68s-.02-.46-.05-.69l1.48-1.16c.13-.11.17-.3.08-.45l-1.4-2.42c-.09-.15-.27-.21-.43-.15l-1.74.7c-.36-.28-.75-.51-1.18-.69l-.26-1.85c-.03-.16-.18-.29-.35-.29h-2.8c-.17 0-.32.13-.35.3L6.8 4.15c-.42.18-.82.41-1.18.69l-1.74-.7c-.16-.06-.34 0-.43.15l-1.4 2.42c-.09.15-.05.34.08.45l1.48 1.16c-.03.22-.05.45-.05.68s.02.46.05.69l-1.48 1.16c-.13.11-.17.3-.08.45l1.4 2.42c.09.15.27.21.43.15l1.74-.7c.36.28.75.51 1.18.69l.26 1.85c.03.16.18.29.35.29h2.8c.17 0 .32-.13.35-.3l.26-1.85c.42-.18.82-.41 1.18-.69l1.74.7c.16.06.34 0 .43-.15zM8.81 11c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm13.11 7.67-.96-.74c.02-.14.04-.29.04-.44 0-.15-.01-.3-.04-.44l.95-.74c.08-.07.11-.19.05-.29l-.9-1.55c-.05-.1-.17-.13-.28-.1l-1.11.45c-.23-.18-.48-.33-.76-.44l-.17-1.18c-.01-.12-.11-.2-.21-.2h-1.79c-.11 0-.21.08-.22.19l-.17 1.18c-.27.12-.53.26-.76.44l-1.11-.45c-.1-.04-.22 0-.28.1l-.9 1.55c-.05.1-.04.22.05.29l.95.74c-.02.14-.03.29-.03.44 0 .15.01.3.03.44l-.95.74c-.08.07-.11.19-.05.29l.9 1.55c.05.1.17.13.28.1l1.11-.45c.23.18.48.33.76.44l.17 1.18c.02.11.11.19.22.19h1.79c.11 0 .21-.08.22-.19l.17-1.18c.27-.12.53-.26.75-.44l1.12.45c.1.04.22 0 .28-.1l.9-1.55c.06-.09.03-.21-.05-.28zm-4.29.16c-.74 0-1.35-.6-1.35-1.35s.6-1.35 1.35-1.35 1.35.6 1.35 1.35-.61 1.35-1.35 1.35z"}),"MiscellaneousServices");n3=Qj.default=hBe;function fBe(){const[e,t]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/count"),{count:u}=await c.json();t(u)}l()},[e]);const[r,i]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/countmessages"),{countMessages:u}=await c.json();i(u)}l()},[r]);const[n,a]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/countService"),{countService:u}=await c.json();a(u)}l()},[n]);const[o,s]=Oe.useState(null);return Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/countClients"),{countClient:u}=await c.json();s(u)}l()},[o]),N.jsxs(N.Fragment,{children:[N.jsx(mr.Card,{className:"bg-gradient-to-br  from-cyan-500 to-blue-500",style:{margin:"0 auto",padding:"1rem",width:"400px",borderRadius:"4px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:N.jsxs("div",{className:"Dashboard",style:{display:"flex",justifyContent:"space-between"},children:[N.jsxs("div",{className:"box",style:{color:"#FFFFFF"},children:[N.jsxs("div",{className:"iconAndNumber",style:{color:"#FFFFFF"},children:[N.jsx(i3,{}),N.jsx("h4",{children:o})]}),N.jsx("h3",{children:"Clients"})]}),N.jsxs("div",{className:"box",style:{color:"#FFFFFF"},children:[N.jsxs("div",{className:"iconAndNumber",children:[N.jsx(QT,{}),N.jsx("h4",{children:e})]}),N.jsx("h3",{children:"Orders"})]}),N.jsxs("div",{className:"box",style:{color:"#FFFFFF"},children:[N.jsxs("div",{className:"iconAndNumber",children:[N.jsx(n3,{}),N.jsx("h4",{children:n})]}),N.jsx("h3",{children:"Services"})]}),N.jsxs("div",{className:"box",style:{color:"#FFFFFF"},children:[N.jsxs("div",{className:"iconAndNumber",children:[N.jsx(Vj,{}),N.jsx("h4",{children:r})]}),N.jsx("h3",{children:"Messages"})]})]})}),N.jsx(eBe,{})]})}const pBe="modulepreload",ABe=function(e){return"/"+e},i7={},Zu=function(t,r,i){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=ABe(a),a in i7)return;i7[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!i)for(let u=n.length-1;u>=0;u--){const d=n[u];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":pBe,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var rl=Uint8Array,il=Uint16Array,uC=Uint32Array,a3=new rl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o3=new rl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IL=new rl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wne=function(e,t){for(var r=new il(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new uC(r[30]),i=1;i<30;++i)for(var a=r[i];a<r[i+1];++a)n[a]=a-r[i]<<5|i;return[r,n]},Gne=Wne(a3,2),qne=Gne[0],FL=Gne[1];qne[28]=258,FL[258]=28;var Kne=Wne(o3,0),gBe=Kne[0],n7=Kne[1],LL=new il(32768);for(var jn=0;jn<32768;++jn){var Dp=(jn&43690)>>>1|(jn&21845)<<1;Dp=(Dp&52428)>>>2|(Dp&13107)<<2,Dp=(Dp&61680)>>>4|(Dp&3855)<<4,LL[jn]=((Dp&65280)>>>8|(Dp&255)<<8)>>>1}var lh=function(e,t,r){for(var i=e.length,n=0,a=new il(t);n<i;++n)++a[e[n]-1];var o=new il(t);for(n=0;n<t;++n)o[n]=o[n-1]+a[n-1]<<1;var s;if(r){s=new il(1<<t);var l=15-t;for(n=0;n<i;++n)if(e[n])for(var c=n<<4|e[n],u=t-e[n],d=o[e[n]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[LL[d]>>>l]=c}else for(s=new il(i),n=0;n<i;++n)s[n]=LL[o[e[n]-1]++]>>>15-e[n];return s},JA=new rl(288);for(var jn=0;jn<144;++jn)JA[jn]=8;for(var jn=144;jn<256;++jn)JA[jn]=9;for(var jn=256;jn<280;++jn)JA[jn]=7;for(var jn=280;jn<288;++jn)JA[jn]=8;var dC=new rl(32);for(var jn=0;jn<32;++jn)dC[jn]=5;var mBe=lh(JA,9,0),vBe=lh(JA,9,1),yBe=lh(dC,5,0),bBe=lh(dC,5,1),pD=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},xu=function(e,t,r){var i=t/8>>0;return(e[i]|e[i+1]<<8)>>>(t&7)&r},AD=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)},Wj=function(e){return(e/8>>0)+(e&7&&1)},Xne=function(e,t,r){(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length);var i=new(e instanceof il?il:e instanceof uC?uC:rl)(r-t);return i.set(e.subarray(t,r)),i},wBe=function(e,t,r){var i=e.length,n=!t||r,a=!r||r.i;r||(r={}),t||(t=new rl(i*3));var o=function(W){var te=t.length;if(W>te){var oe=new rl(Math.max(te*2,W));oe.set(t),t=oe}},s=r.f||0,l=r.p||0,c=r.b||0,u=r.l,d=r.d,h=r.m,f=r.n,m=i*8;do{if(!u){r.f=s=xu(e,l,1);var A=xu(e,l+1,3);if(l+=3,A)if(A==1)u=vBe,d=bBe,h=9,f=5;else if(A==2){var y=xu(e,l,31)+257,b=xu(e,l+10,15)+4,x=y+xu(e,l+5,31)+1;l+=14;for(var w=new rl(x),C=new rl(19),_=0;_<b;++_)C[IL[_]]=xu(e,l+_*3,7);l+=b*3;var B=pD(C),P=(1<<B)-1;if(!a&&l+x*(B+7)>m)break;for(var M=lh(C,B,1),_=0;_<x;){var O=M[xu(e,l,P)];l+=O&15;var g=O>>>4;if(g<16)w[_++]=g;else{var I=0,F=0;for(g==16?(F=3+xu(e,l,3),l+=2,I=w[_-1]):g==17?(F=3+xu(e,l,7),l+=3):g==18&&(F=11+xu(e,l,127),l+=7);F--;)w[_++]=I}}var V=w.subarray(0,y),Y=w.subarray(y);h=pD(V),f=pD(Y),u=lh(V,h,1),d=lh(Y,f,1)}else throw"invalid block type";else{var g=Wj(l)+4,p=e[g-4]|e[g-3]<<8,v=g+p;if(v>i){if(a)throw"unexpected EOF";break}n&&o(c+p),t.set(e.subarray(g,v),c),r.b=c+=p,r.p=l=v*8;continue}if(l>m)throw"unexpected EOF"}n&&o(c+131072);for(var j=(1<<h)-1,R=(1<<f)-1,H=h+f+18;a||l+H<m;){var I=u[AD(e,l)&j],G=I>>>4;if(l+=I&15,l>m)throw"unexpected EOF";if(!I)throw"invalid length/literal";if(G<256)t[c++]=G;else if(G==256){u=null;break}else{var $=G-254;if(G>264){var _=G-257,L=a3[_];$=xu(e,l,(1<<L)-1)+qne[_],l+=L}var K=d[AD(e,l)&R],X=K>>>4;if(!K)throw"invalid distance";l+=K&15;var Y=gBe[X];if(X>3){var L=o3[X];Y+=AD(e,l)&(1<<L)-1,l+=L}if(l>m)throw"unexpected EOF";n&&o(c+131072);for(var ee=c+$;c<ee;c+=4)t[c]=t[c-Y],t[c+1]=t[c+1-Y],t[c+2]=t[c+2-Y],t[c+3]=t[c+3-Y];c=ee}}r.l=u,r.p=l,r.b=c,u&&(s=1,r.m=h,r.d=d,r.n=f)}while(!s);return c==t.length?t:Xne(t,0,c)},Lh=function(e,t,r){r<<=t&7;var i=t/8>>0;e[i]|=r,e[i+1]|=r>>>8},Ow=function(e,t,r){r<<=t&7;var i=t/8>>0;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},gD=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,a=r.slice();if(!n)return[new rl(0),0];if(n==1){var o=new rl(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(x,w){return x.f-w.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=n-1;)s=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,i=1;i<n;++i)a[i].s>h&&(h=a[i].s);var f=new il(h+1),m=RL(r[u-1],f,0);if(m>t){var i=0,A=0,g=m-t,p=1<<g;for(a.sort(function(w,C){return f[C.s]-f[w.s]||w.f-C.f});i<n;++i){var v=a[i].s;if(f[v]>t)A+=p-(1<<m-f[v]),f[v]=t;else break}for(A>>>=g;A>0;){var y=a[i].s;f[y]<t?A-=1<<t-f[y]++-1:++i}for(;i>=0&&A;--i){var b=a[i].s;f[b]==t&&(--f[b],++A)}m=t}return[new rl(f),m]},RL=function(e,t,r){return e.s==-1?Math.max(RL(e.l,t,r+1),RL(e.r,t,r+1)):t[e.s]=r},a7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new il(++t),i=0,n=e[0],a=1,o=function(l){r[i++]=l},s=1;s<=t;++s)if(e[s]==n&&s!=t)++a;else{if(!n&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(n),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(n);a=1,n=e[s]}return[r.subarray(0,i),t]},Dw=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},x5=function(e,t,r){var i=r.length,n=Wj(t+2);e[n]=i&255,e[n+1]=i>>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var a=0;a<i;++a)e[n+a+4]=r[a];return(n+4+i)*8},o7=function(e,t,r,i,n,a,o,s,l,c,u){Lh(t,u++,r),++n[256];for(var d=gD(n,15),h=d[0],f=d[1],m=gD(a,15),A=m[0],g=m[1],p=a7(h),v=p[0],y=p[1],b=a7(A),x=b[0],w=b[1],C=new il(19),_=0;_<v.length;++_)C[v[_]&31]++;for(var _=0;_<x.length;++_)C[x[_]&31]++;for(var B=gD(C,7),P=B[0],M=B[1],O=19;O>4&&!P[IL[O-1]];--O);var I=c+5<<3,F=Dw(n,JA)+Dw(a,dC)+o,V=Dw(n,h)+Dw(a,A)+o+14+3*O+Dw(C,P)+(2*C[16]+3*C[17]+7*C[18]);if(I<=F&&I<=V)return x5(t,u,e.subarray(l,l+c));var Y,j,R,H;if(Lh(t,u,1+(V<F)),u+=2,V<F){Y=lh(h,f,0),j=h,R=lh(A,g,0),H=A;var G=lh(P,M,0);Lh(t,u,y-257),Lh(t,u+5,w-1),Lh(t,u+10,O-4),u+=14;for(var _=0;_<O;++_)Lh(t,u+3*_,P[IL[_]]);u+=3*O;for(var $=[v,x],L=0;L<2;++L)for(var K=$[L],_=0;_<K.length;++_){var X=K[_]&31;Lh(t,u,G[X]),u+=P[X],X>15&&(Lh(t,u,K[_]>>>5&127),u+=K[_]>>>12)}}else Y=mBe,j=JA,R=yBe,H=dC;for(var _=0;_<s;++_)if(i[_]>255){var X=i[_]>>>18&31;Ow(t,u,Y[X+257]),u+=j[X+257],X>7&&(Lh(t,u,i[_]>>>23&31),u+=a3[X]);var ee=i[_]&31;Ow(t,u,R[ee]),u+=H[ee],ee>3&&(Ow(t,u,i[_]>>>5&8191),u+=o3[ee])}else Ow(t,u,Y[i[_]]),u+=j[i[_]];return Ow(t,u,Y[256]),u+j[256]},xBe=new uC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CBe=new rl(0),_Be=function(e,t,r,i,n,a){var o=e.length,s=new rl(i+o+5*(1+Math.floor(o/7e3))+n),l=s.subarray(i,s.length-n),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=x5(l,c,e.subarray(u,d)):(l[u]=a,c=x5(l,c,e.subarray(u,o)))}else{for(var h=xBe[t-1],f=h>>>13,m=h&8191,A=(1<<r)-1,g=new il(32768),p=new il(A+1),v=Math.ceil(r/3),y=2*v,b=function(Be){return(e[Be]^e[Be+1]<<v^e[Be+2]<<y)&A},x=new uC(25e3),w=new il(288),C=new il(32),_=0,B=0,u=0,P=0,M=0,O=0;u<o;++u){var I=b(u),F=u&32767,V=p[I];if(g[F]=V,p[I]=F,M<=u){var Y=o-u;if((_>7e3||P>24576)&&Y>423){c=o7(e,l,0,x,w,C,B,P,O,u-O,c),P=_=B=0,O=u;for(var j=0;j<286;++j)w[j]=0;for(var j=0;j<30;++j)C[j]=0}var R=2,H=0,G=m,$=F-V&32767;if(Y>2&&I==b(u-$))for(var L=Math.min(f,Y)-1,K=Math.min(32767,u),X=Math.min(258,Y);$<=K&&--G&&F!=V;){if(e[u+R]==e[u+R-$]){for(var ee=0;ee<X&&e[u+ee]==e[u+ee-$];++ee);if(ee>R){if(R=ee,H=$,ee>L)break;for(var W=Math.min($,ee-2),te=0,j=0;j<W;++j){var oe=u-$+j+32768&32767,le=g[oe],be=oe-le+32768&32767;be>te&&(te=be,V=oe)}}}F=V,V=g[F],$+=F-V+32768&32767}if(H){x[P++]=268435456|FL[R]<<18|n7[H];var ve=FL[R]&31,se=n7[H]&31;B+=a3[ve]+o3[se],++w[257+ve],++C[se],M=u+R,++_}else x[P++]=e[u],++w[e[u]]}}c=o7(e,l,a,x,w,C,B,P,O,u-O,c),a||(c=x5(l,c,CBe))}return Xne(s,0,i+Wj(c)+n)},SBe=function(){var e=1,t=0;return{p:function(r){for(var i=e,n=t,a=r.length,o=0;o!=a;){for(var s=Math.min(o+5552,a);o<s;++o)i+=r[o],n+=i;i%=65521,n%=65521}e=i,t=n},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},EBe=function(e,t,r,i,n){return _Be(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,i,!n)},BBe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},MBe=function(e,t){var r=t.level,i=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=i<<6|(i?32-2*i:1)},PBe=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function UL(e,t){t===void 0&&(t={});var r=SBe();r.p(e);var i=EBe(e,t,2,4);return MBe(i,t),BBe(i,i.length-4,r.d()),i}function TBe(e,t){return wBe((PBe(e),e.subarray(2,-4)),t)}var ei=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function mD(){ei.console&&typeof ei.console.log=="function"&&ei.console.log.apply(ei.console,arguments)}var Sn={log:mD,warn:function(e){ei.console&&(typeof ei.console.warn=="function"?ei.console.warn.apply(ei.console,arguments):mD.call(null,arguments))},error:function(e){ei.console&&(typeof ei.console.error=="function"?ei.console.error.apply(ei.console,arguments):mD(e))}};function vD(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){sm(i.response,t,r)},i.onerror=function(){Sn.error("could not download file")},i.send()}function s7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jS(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l2,NL,sm=ei.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==ei?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var i=ei.URL||ei.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?s7(n.href)?vD(e,t,r):jS(n,n.target="_blank"):jS(n)):(n.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){jS(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(s7(e))vD(e,t,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){jS(i)})}else navigator.msSaveOrOpenBlob(function(n,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&(Sn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(e,r),t)}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return vD(e,t,r);var n=e.type==="application/octet-stream",a=/constructor/i.test(ei.HTMLElement)||ei.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},s.readAsDataURL(e)}else{var l=ei.URL||ei.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Yne(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,a=r[i].process,o=n.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yD(e,t){var r=e[0],i=e[1],n=e[2],a=e[3];r=ps(r,i,n,a,t[0],7,-680876936),a=ps(a,r,i,n,t[1],12,-389564586),n=ps(n,a,r,i,t[2],17,606105819),i=ps(i,n,a,r,t[3],22,-1044525330),r=ps(r,i,n,a,t[4],7,-176418897),a=ps(a,r,i,n,t[5],12,1200080426),n=ps(n,a,r,i,t[6],17,-1473231341),i=ps(i,n,a,r,t[7],22,-45705983),r=ps(r,i,n,a,t[8],7,1770035416),a=ps(a,r,i,n,t[9],12,-1958414417),n=ps(n,a,r,i,t[10],17,-42063),i=ps(i,n,a,r,t[11],22,-1990404162),r=ps(r,i,n,a,t[12],7,1804603682),a=ps(a,r,i,n,t[13],12,-40341101),n=ps(n,a,r,i,t[14],17,-1502002290),r=As(r,i=ps(i,n,a,r,t[15],22,1236535329),n,a,t[1],5,-165796510),a=As(a,r,i,n,t[6],9,-1069501632),n=As(n,a,r,i,t[11],14,643717713),i=As(i,n,a,r,t[0],20,-373897302),r=As(r,i,n,a,t[5],5,-701558691),a=As(a,r,i,n,t[10],9,38016083),n=As(n,a,r,i,t[15],14,-660478335),i=As(i,n,a,r,t[4],20,-405537848),r=As(r,i,n,a,t[9],5,568446438),a=As(a,r,i,n,t[14],9,-1019803690),n=As(n,a,r,i,t[3],14,-187363961),i=As(i,n,a,r,t[8],20,1163531501),r=As(r,i,n,a,t[13],5,-1444681467),a=As(a,r,i,n,t[2],9,-51403784),n=As(n,a,r,i,t[7],14,1735328473),r=gs(r,i=As(i,n,a,r,t[12],20,-1926607734),n,a,t[5],4,-378558),a=gs(a,r,i,n,t[8],11,-2022574463),n=gs(n,a,r,i,t[11],16,1839030562),i=gs(i,n,a,r,t[14],23,-35309556),r=gs(r,i,n,a,t[1],4,-1530992060),a=gs(a,r,i,n,t[4],11,1272893353),n=gs(n,a,r,i,t[7],16,-155497632),i=gs(i,n,a,r,t[10],23,-1094730640),r=gs(r,i,n,a,t[13],4,681279174),a=gs(a,r,i,n,t[0],11,-358537222),n=gs(n,a,r,i,t[3],16,-722521979),i=gs(i,n,a,r,t[6],23,76029189),r=gs(r,i,n,a,t[9],4,-640364487),a=gs(a,r,i,n,t[12],11,-421815835),n=gs(n,a,r,i,t[15],16,530742520),r=ms(r,i=gs(i,n,a,r,t[2],23,-995338651),n,a,t[0],6,-198630844),a=ms(a,r,i,n,t[7],10,1126891415),n=ms(n,a,r,i,t[14],15,-1416354905),i=ms(i,n,a,r,t[5],21,-57434055),r=ms(r,i,n,a,t[12],6,1700485571),a=ms(a,r,i,n,t[3],10,-1894986606),n=ms(n,a,r,i,t[10],15,-1051523),i=ms(i,n,a,r,t[1],21,-2054922799),r=ms(r,i,n,a,t[8],6,1873313359),a=ms(a,r,i,n,t[15],10,-30611744),n=ms(n,a,r,i,t[6],15,-1560198380),i=ms(i,n,a,r,t[13],21,1309151649),r=ms(r,i,n,a,t[4],6,-145523070),a=ms(a,r,i,n,t[11],10,-1120210379),n=ms(n,a,r,i,t[2],15,718787259),i=ms(i,n,a,r,t[9],21,-343485551),e[0]=mA(r,e[0]),e[1]=mA(i,e[1]),e[2]=mA(n,e[2]),e[3]=mA(a,e[3])}function s3(e,t,r,i,n,a){return t=mA(mA(t,e),mA(i,a)),mA(t<<n|t>>>32-n,r)}function ps(e,t,r,i,n,a,o){return s3(t&r|~t&i,e,t,n,a,o)}function As(e,t,r,i,n,a,o){return s3(t&i|r&~i,e,t,n,a,o)}function gs(e,t,r,i,n,a,o){return s3(t^r^i,e,t,n,a,o)}function ms(e,t,r,i,n,a,o){return s3(r^(t|~i),e,t,n,a,o)}function $ne(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)yD(i,OBe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(yD(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,yD(i,n),i}function OBe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}l2=ei.atob.bind(ei),NL=ei.btoa.bind(ei);var l7="0123456789abcdef".split("");function DBe(e){for(var t="",r=0;r<4;r++)t+=l7[e>>8*r+4&15]+l7[e>>8*r&15];return t}function IBe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kL(e){return $ne(e).map(IBe).join("")}var FBe=function(e){for(var t=0;t<e.length;t++)e[t]=DBe(e[t]);return e.join("")}($ne("hello"))!="5d41402abc4b2a76b9719d911017c592";function mA(e,t){if(FBe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jL(e,t){var r,i,n,a;if(e!==r){for(var o=(n=e,a=1+(256/e.length>>0),new Array(a+1).join(n)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+o.charCodeAt(l))%256,s[l]=s[c],s[c]=u}r=e,i=s}else s=i;var d=t.length,h=0,f=0,m="";for(l=0;l<d;l++)f=(f+(u=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=u,o=s[(s[h]+s[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var c7={print:4,modify:8,copy:16,"annot-forms":32};function ty(e,t,r,i){this.v=1,this.r=2;var n=192;e.forEach(function(s){if(c7.perm!==void 0)throw new Error("Invalid permission: "+s);n+=c7[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^n)),this.encryptionKey=kL(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=jL(this.encryptionKey,this.padding)}function ry(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,i=0;i<r;i++){var n=e.charCodeAt(i);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[i]}return t}function u7(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,i,n){if(n=n||!1,typeof r!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[i,!!n],a},this.unsubscribe=function(r){for(var i in t)if(t[i][r])return delete t[i][r],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,i)}catch(s){ei.console&&Sn.error("jsPDF PubSub Error",s.message,s)}o[1]&&n.push(a)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function kM(e){if(!(this instanceof kM))return new kM(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Jne(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function fm(e,t,r,i,n){if(!(this instanceof fm))return new fm(e,t,r,i,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Jne.call(this,i,n)}function By(e,t,r,i,n){if(!(this instanceof By))return new By(e,t,r,i,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Jne.call(this,i,n)}function Zr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",u=null;pn(e=e||{})==="object"&&(r=e.orientation,i=e.unit||i,n=e.format||n,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),i=i||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=u7;var m="1.3",A=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(U){m=U};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var p=f.__private__.getPageFormat=function(U){return g[U]};n=n||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},y=v.COMPAT;function b(){this.saveGraphicsState(),ae(new dr(ht,0,0,-ht,0,fd()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",y=v.ADVANCED}function x(){this.restoreGraphicsState(),c="S",y=v.COMPAT}var w=f.__private__.combineFontStyleAndFontWeight=function(U,ue){if(U=="bold"&&ue=="normal"||U=="bold"&&ue==400||U=="normal"&&ue=="italic"||U=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(U=ue==400||ue==="normal"?U==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||U!=="normal"?(ue==700?"bold":ue)+""+U:"bold"),U};f.advancedAPI=function(U){var ue=y===v.COMPAT;return ue&&b.call(this),typeof U!="function"||(U(this),ue&&x.call(this)),this},f.compatAPI=function(U){var ue=y===v.ADVANCED;return ue&&x.call(this),typeof U!="function"||(U(this),ue&&b.call(this)),this},f.isAdvancedAPI=function(){return y===v.ADVANCED};var C,_=function(U){if(y!==v.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=f.roundToPrecision=f.__private__.roundToPrecision=function(U,ue){var Le=t||ue;if(isNaN(U)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Le).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf=typeof l=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return B(U,l)}:l==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return B(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return B(U,16)};var P=f.f2=f.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return B(U,2)},M=f.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return B(U,3)},O=f.scale=f.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return y===v.COMPAT?U*ht:y===v.ADVANCED?U:void 0},I=function(U){return y===v.COMPAT?fd()-U:y===v.ADVANCED?U:void 0},F=function(U){return O(I(U))};f.__private__.setPrecision=f.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(t=parseInt(U,10))};var V,Y="00000000000000000000000000000000",j=f.__private__.getFileId=function(){return Y},R=f.__private__.setFileId=function(U){return Y=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ja=new ty(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};f.setFileId=function(U){return R(U),this},f.getFileId=function(){return j()};var H=f.__private__.convertDateToPDFDate=function(U){var ue=U.getTimezoneOffset(),Le=ue<0?"+":"-",qe=Math.floor(Math.abs(ue/60)),lt=Math.abs(ue%60),Bt=[Le,X(qe),"'",X(lt),"'"].join("");return["D:",U.getFullYear(),X(U.getMonth()+1),X(U.getDate()),X(U.getHours()),X(U.getMinutes()),X(U.getSeconds()),Bt].join("")},G=f.__private__.convertPDFDateToDate=function(U){var ue=parseInt(U.substr(2,4),10),Le=parseInt(U.substr(6,2),10)-1,qe=parseInt(U.substr(8,2),10),lt=parseInt(U.substr(10,2),10),Bt=parseInt(U.substr(12,2),10),Ht=parseInt(U.substr(14,2),10);return new Date(ue,Le,qe,lt,Bt,Ht,0)},$=f.__private__.setCreationDate=function(U){var ue;if(U===void 0&&(U=new Date),U instanceof Date)ue=H(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=U}return V=ue},L=f.__private__.getCreationDate=function(U){var ue=V;return U==="jsDate"&&(ue=G(V)),ue};f.setCreationDate=function(U){return $(U),this},f.getCreationDate=function(U){return L(U)};var K,X=f.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},ee=f.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},W=0,te=[],oe=[],le=0,be=[],ve=[],se=!1,ye=oe,Be=function(){W=0,le=0,oe=[],te=[],be=[],Fe=he(),Ye=he()};f.__private__.setCustomOutputDestination=function(U){se=!0,ye=U};var ge=function(U){se||(ye=U)};f.__private__.resetCustomOutputDestination=function(){se=!1,ye=oe};var ae=f.__private__.out=function(U){return U=U.toString(),le+=U.length+1,ye.push(U),ye},Ne=f.__private__.write=function(U){return ae(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},Ie=f.__private__.getArrayBuffer=function(U){for(var ue=U.length,Le=new ArrayBuffer(ue),qe=new Uint8Array(Le);ue--;)qe[ue]=U.charCodeAt(ue);return Le},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ee};var Qe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(U){return Qe=y===v.ADVANCED?U/ht:U,this};var We,de=f.__private__.getFontSize=f.getFontSize=function(){return y===v.COMPAT?Qe:Qe*ht},re=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(U){return re=U,this},f.__private__.getR2L=f.getR2L=function(){return re};var Re,Ke=f.__private__.setZoomMode=function(U){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))We=U;else if(isNaN(U)){if(ue.indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');We=U}else We=parseInt(U,10)};f.__private__.getZoomMode=function(){return We};var ie,st=f.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Re=U};f.__private__.getPageMode=function(){return Re};var wt=f.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');ie=U};f.__private__.getLayoutMode=function(){return ie},f.__private__.setDisplayMode=f.setDisplayMode=function(U,ue,Le){return Ke(U),wt(ue),st(Le),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(U){if(Object.keys(ut).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[U]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(U){for(var ue in ut)ut.hasOwnProperty(ue)&&U[ue]&&(ut[ue]=U[ue]);return this},f.__private__.setDocumentProperty=function(U,ue){if(Object.keys(ut).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[U]=ue};var Ze,ht,Mt,Pt,Yt,Tt={},Vt={},Or=[],lr={},Ge={},At={},yt={},Wt=null,rr=0,qt=[],Cr=new u7(f),Ui=e.hotfixes||[],ci={},ii={},en=[],dr=function U(ue,Le,qe,lt,Bt,Ht){if(!(this instanceof U))return new U(ue,Le,qe,lt,Bt,Ht);isNaN(ue)&&(ue=1),isNaN(Le)&&(Le=0),isNaN(qe)&&(qe=0),isNaN(lt)&&(lt=1),isNaN(Bt)&&(Bt=0),isNaN(Ht)&&(Ht=0),this._matrix=[ue,Le,qe,lt,Bt,Ht]};Object.defineProperty(dr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(dr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(dr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(dr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(dr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(dr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(dr.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(dr.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(dr.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(dr.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(dr.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(dr.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(dr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dr.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(U)},dr.prototype.multiply=function(U){var ue=U.sx*this.sx+U.shy*this.shx,Le=U.sx*this.shy+U.shy*this.sy,qe=U.shx*this.sx+U.sy*this.shx,lt=U.shx*this.shy+U.sy*this.sy,Bt=U.tx*this.sx+U.ty*this.shx+this.tx,Ht=U.tx*this.shy+U.ty*this.sy+this.ty;return new dr(ue,Le,qe,lt,Bt,Ht)},dr.prototype.decompose=function(){var U=this.sx,ue=this.shy,Le=this.shx,qe=this.sy,lt=this.tx,Bt=this.ty,Ht=Math.sqrt(U*U+ue*ue),hr=(U/=Ht)*Le+(ue/=Ht)*qe;Le-=U*hr,qe-=ue*hr;var Ir=Math.sqrt(Le*Le+qe*qe);return hr/=Ir,U*(qe/=Ir)<ue*(Le/=Ir)&&(U=-U,ue=-ue,hr=-hr,Ht=-Ht),{scale:new dr(Ht,0,0,Ir,0,0),translate:new dr(1,0,0,1,lt,Bt),rotate:new dr(U,ue,-ue,U,0,0),skew:new dr(1,0,hr,1,0,0)}},dr.prototype.toString=function(U){return this.join(" ")},dr.prototype.inversed=function(){var U=this.sx,ue=this.shy,Le=this.shx,qe=this.sy,lt=this.tx,Bt=this.ty,Ht=1/(U*qe-ue*Le),hr=qe*Ht,Ir=-ue*Ht,$r=-Le*Ht,Ai=U*Ht;return new dr(hr,Ir,$r,Ai,-hr*lt-$r*Bt,-Ir*lt-Ai*Bt)},dr.prototype.applyToPoint=function(U){var ue=U.x*this.sx+U.y*this.shx+this.tx,Le=U.x*this.shy+U.y*this.sy+this.ty;return new hd(ue,Le)},dr.prototype.applyToRectangle=function(U){var ue=this.applyToPoint(U),Le=this.applyToPoint(new hd(U.x+U.w,U.y+U.h));return new Bh(ue.x,ue.y,Le.x-ue.x,Le.y-ue.y)},dr.prototype.clone=function(){var U=this.sx,ue=this.shy,Le=this.shx,qe=this.sy,lt=this.tx,Bt=this.ty;return new dr(U,ue,Le,qe,lt,Bt)},f.Matrix=dr;var Xe=f.matrixMult=function(U,ue){return ue.multiply(U)},ot=new dr(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ot;var je=function(U,ue){if(!Ge[U]){var Le=(ue instanceof fm?"Sh":"P")+(Object.keys(lr).length+1).toString(10);ue.id=Le,Ge[U]=Le,lr[Le]=ue,Cr.publish("addPattern",ue)}};f.ShadingPattern=fm,f.TilingPattern=By,f.addShadingPattern=function(U,ue){return _("addShadingPattern()"),je(U,ue),this},f.beginTilingPattern=function(U){_("beginTilingPattern()"),k0(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},f.endTilingPattern=function(U,ue){_("endTilingPattern()"),ue.stream=ve[K].join(`
`),je(U,ue),Cr.publish("endTilingPattern",ue),en.pop().restore()};var vt=f.__private__.newObject=function(){var U=he();return De(U,!0),U},he=f.__private__.newObjectDeferred=function(){return W++,te[W]=function(){return le},W},De=function(U,ue){return ue=typeof ue=="boolean"&&ue,te[U]=le,ue&&ae(U+" 0 obj"),U},Ve=f.__private__.newAdditionalObject=function(){var U={objId:he(),content:""};return be.push(U),U},Fe=he(),Ye=he(),gt=f.__private__.decodeColorString=function(U){var ue=U.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Le=parseFloat(ue[0]);ue=[Le,Le,Le,"r"]}for(var qe="#",lt=0;lt<3;lt++)qe+=("0"+Math.floor(255*parseFloat(ue[lt])).toString(16)).slice(-2);return qe},Ot=f.__private__.encodeColorString=function(U){var ue;typeof U=="string"&&(U={ch1:U});var Le=U.ch1,qe=U.ch2,lt=U.ch3,Bt=U.ch4,Ht=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var hr=new Yne(Le);if(hr.ok)Le=hr.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var Ir=parseInt(Le.substr(1),16);Le=Ir>>16&255,qe=Ir>>8&255,lt=255&Ir}if(qe===void 0||Bt===void 0&&Le===qe&&qe===lt)if(typeof Le=="string")ue=Le+" "+Ht[0];else switch(U.precision){case 2:ue=P(Le/255)+" "+Ht[0];break;case 3:default:ue=M(Le/255)+" "+Ht[0]}else if(Bt===void 0||pn(Bt)==="object"){if(Bt&&!isNaN(Bt.a)&&Bt.a===0)return ue=["1.","1.","1.",Ht[1]].join(" ");if(typeof Le=="string")ue=[Le,qe,lt,Ht[1]].join(" ");else switch(U.precision){case 2:ue=[P(Le/255),P(qe/255),P(lt/255),Ht[1]].join(" ");break;default:case 3:ue=[M(Le/255),M(qe/255),M(lt/255),Ht[1]].join(" ")}}else if(typeof Le=="string")ue=[Le,qe,lt,Bt,Ht[2]].join(" ");else switch(U.precision){case 2:ue=[P(Le),P(qe),P(lt),P(Bt),Ht[2]].join(" ");break;case 3:default:ue=[M(Le),M(qe),M(lt),M(Bt),Ht[2]].join(" ")}return ue},xt=f.__private__.getFilters=function(){return o},mt=f.__private__.putStream=function(U){var ue=(U=U||{}).data||"",Le=U.filters||xt(),qe=U.alreadyAppliedFilters||[],lt=U.addLength1||!1,Bt=ue.length,Ht=U.objectId,hr=function(Za){return Za};if(u!==null&&Ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(hr=Ja.encryptor(Ht,0));var Ir={};Le===!0&&(Le=["FlateEncode"]);var $r=U.additionalKeyValues||[],Ai=(Ir=Zr.API.processDataByFilters!==void 0?Zr.API.processDataByFilters(ue,Le):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(Ir.data.length!==0&&($r.push({key:"Length",value:Ir.data.length}),lt===!0&&$r.push({key:"Length1",value:Bt})),Ai.length!=0)if(Ai.split("/").length-1==1)$r.push({key:"Filter",value:Ai});else{$r.push({key:"Filter",value:"["+Ai+"]"});for(var Ei=0;Ei<$r.length;Ei+=1)if($r[Ei].key==="DecodeParms"){for(var Mi=[],Rn=0;Rn<Ir.reverseChain.split("/").length-1;Rn+=1)Mi.push("null");Mi.push($r[Ei].value),$r[Ei].value="["+Mi.join(" ")+"]"}}ae("<<");for(var aa=0;aa<$r.length;aa++)ae("/"+$r[aa].key+" "+$r[aa].value);ae(">>"),Ir.data.length!==0&&(ae("stream"),ae(hr(Ir.data)),ae("endstream"))},St=f.__private__.putPage=function(U){var ue=U.number,Le=U.data,qe=U.objId,lt=U.contentsObjId;De(qe,!0),ae("<</Type /Page"),ae("/Parent "+U.rootDictionaryObjId+" 0 R"),ae("/Resources "+U.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(C(U.mediaBox.bottomLeftX))+" "+parseFloat(C(U.mediaBox.bottomLeftY))+" "+C(U.mediaBox.topRightX)+" "+C(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&ae("/CropBox ["+C(U.cropBox.bottomLeftX)+" "+C(U.cropBox.bottomLeftY)+" "+C(U.cropBox.topRightX)+" "+C(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&ae("/BleedBox ["+C(U.bleedBox.bottomLeftX)+" "+C(U.bleedBox.bottomLeftY)+" "+C(U.bleedBox.topRightX)+" "+C(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&ae("/TrimBox ["+C(U.trimBox.bottomLeftX)+" "+C(U.trimBox.bottomLeftY)+" "+C(U.trimBox.topRightX)+" "+C(U.trimBox.topRightY)+"]"),U.artBox!==null&&ae("/ArtBox ["+C(U.artBox.bottomLeftX)+" "+C(U.artBox.bottomLeftY)+" "+C(U.artBox.topRightX)+" "+C(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&ae("/UserUnit "+U.userUnit),Cr.publish("putPage",{objId:qe,pageContext:qt[ue],pageNumber:ue,page:Le}),ae("/Contents "+lt+" 0 R"),ae(">>"),ae("endobj");var Bt=Le.join(`
`);return y===v.ADVANCED&&(Bt+=`
Q`),De(lt,!0),mt({data:Bt,filters:xt(),objectId:lt}),ae("endobj"),qe},Dt=f.__private__.putPages=function(){var U,ue,Le=[];for(U=1;U<=rr;U++)qt[U].objId=he(),qt[U].contentsObjId=he();for(U=1;U<=rr;U++)Le.push(St({number:U,data:ve[U],objId:qt[U].objId,contentsObjId:qt[U].contentsObjId,mediaBox:qt[U].mediaBox,cropBox:qt[U].cropBox,bleedBox:qt[U].bleedBox,trimBox:qt[U].trimBox,artBox:qt[U].artBox,userUnit:qt[U].userUnit,rootDictionaryObjId:Fe,resourceDictionaryObjId:Ye}));De(Fe,!0),ae("<</Type /Pages");var qe="/Kids [";for(ue=0;ue<rr;ue++)qe+=Le[ue]+" 0 R ";ae(qe+"]"),ae("/Count "+rr),ae(">>"),ae("endobj"),Cr.publish("postPutPages")},Jt=function(U){Cr.publish("putFont",{font:U,out:ae,newObject:vt,putStream:mt}),U.isAlreadyPutted!==!0&&(U.objectNumber=vt(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+ry(U.postScriptName)),ae("/Subtype /Type1"),typeof U.encoding=="string"&&ae("/Encoding /"+U.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Gt=function(){for(var U in Tt)Tt.hasOwnProperty(U)&&(d===!1||d===!0&&h.hasOwnProperty(U))&&Jt(Tt[U])},Sr=function(U){U.objectNumber=vt();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[C(U.x),C(U.y),C(U.x+U.width),C(U.y+U.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Le=U.pages[1].join(`
`);mt({data:Le,additionalKeyValues:ue,objectId:U.objectNumber}),ae("endobj")},ur=function(){for(var U in ci)ci.hasOwnProperty(U)&&Sr(ci[U])},Pr=function(U,ue){var Le,qe=[],lt=1/(ue-1);for(Le=0;Le<1;Le+=lt)qe.push(Le);if(qe.push(1),U[0].offset!=0){var Bt={offset:0,color:U[0].color};U.unshift(Bt)}if(U[U.length-1].offset!=1){var Ht={offset:1,color:U[U.length-1].color};U.push(Ht)}for(var hr="",Ir=0,$r=0;$r<qe.length;$r++){for(Le=qe[$r];Le>U[Ir+1].offset;)Ir++;var Ai=U[Ir].offset,Ei=(Le-Ai)/(U[Ir+1].offset-Ai),Mi=U[Ir].color,Rn=U[Ir+1].color;hr+=ee(Math.round((1-Ei)*Mi[0]+Ei*Rn[0]).toString(16))+ee(Math.round((1-Ei)*Mi[1]+Ei*Rn[1]).toString(16))+ee(Math.round((1-Ei)*Mi[2]+Ei*Rn[2]).toString(16))}return hr.trim()},Zt=function(U,ue){ue||(ue=21);var Le=vt(),qe=Pr(U.colors,ue),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+ue+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mt({data:qe,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),ae("endobj"),U.objectNumber=vt(),ae("<< /ShadingType "+U.type),ae("/ColorSpace /DeviceRGB");var Bt="/Coords ["+C(parseFloat(U.coords[0]))+" "+C(parseFloat(U.coords[1]))+" ";U.type===2?Bt+=C(parseFloat(U.coords[2]))+" "+C(parseFloat(U.coords[3])):Bt+=C(parseFloat(U.coords[2]))+" "+C(parseFloat(U.coords[3]))+" "+C(parseFloat(U.coords[4]))+" "+C(parseFloat(U.coords[5])),ae(Bt+="]"),U.matrix&&ae("/Matrix ["+U.matrix.toString()+"]"),ae("/Function "+Le+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},zt=function(U,ue){var Le=he(),qe=vt();ue.push({resourcesOid:Le,objectOid:qe}),U.objectNumber=qe;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+U.boundingBox.map(C).join(" ")+"]"}),lt.push({key:"XStep",value:C(U.xStep)}),lt.push({key:"YStep",value:C(U.yStep)}),lt.push({key:"Resources",value:Le+" 0 R"}),U.matrix&&lt.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),mt({data:U.stream,additionalKeyValues:lt,objectId:U.objectNumber}),ae("endobj")},Tr=function(U){var ue;for(ue in lr)lr.hasOwnProperty(ue)&&(lr[ue]instanceof fm?Zt(lr[ue]):lr[ue]instanceof By&&zt(lr[ue],U))},Kt=function(U){for(var ue in U.objectNumber=vt(),ae("<<"),U)switch(ue){case"opacity":ae("/ca "+P(U[ue]));break;case"stroke-opacity":ae("/CA "+P(U[ue]))}ae(">>"),ae("endobj")},er=function(){var U;for(U in At)At.hasOwnProperty(U)&&Kt(At[U])},Qt=function(){for(var U in ae("/XObject <<"),ci)ci.hasOwnProperty(U)&&ci[U].objectNumber>=0&&ae("/"+U+" "+ci[U].objectNumber+" 0 R");Cr.publish("putXobjectDict"),ae(">>")},Yr=function(){Ja.oid=vt(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Ja.v),ae("/R "+Ja.r),ae("/U <"+Ja.toHexString(Ja.U)+">"),ae("/O <"+Ja.toHexString(Ja.O)+">"),ae("/P "+Ja.P),ae(">>"),ae("endobj")},oi=function(){for(var U in ae("/Font <<"),Tt)Tt.hasOwnProperty(U)&&(d===!1||d===!0&&h.hasOwnProperty(U))&&ae("/"+U+" "+Tt[U].objectNumber+" 0 R");ae(">>")},ne=function(){if(Object.keys(lr).length>0){for(var U in ae("/Shading <<"),lr)lr.hasOwnProperty(U)&&lr[U]instanceof fm&&lr[U].objectNumber>=0&&ae("/"+U+" "+lr[U].objectNumber+" 0 R");Cr.publish("putShadingPatternDict"),ae(">>")}},pe=function(U){if(Object.keys(lr).length>0){for(var ue in ae("/Pattern <<"),lr)lr.hasOwnProperty(ue)&&lr[ue]instanceof f.TilingPattern&&lr[ue].objectNumber>=0&&lr[ue].objectNumber<U&&ae("/"+ue+" "+lr[ue].objectNumber+" 0 R");Cr.publish("putTilingPatternDict"),ae(">>")}},Ue=function(){if(Object.keys(At).length>0){var U;for(U in ae("/ExtGState <<"),At)At.hasOwnProperty(U)&&At[U].objectNumber>=0&&ae("/"+U+" "+At[U].objectNumber+" 0 R");Cr.publish("putGStateDict"),ae(">>")}},we=function(U){De(U.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oi(),ne(),pe(U.objectOid),Ue(),Qt(),ae(">>"),ae("endobj")},ze=function(){var U=[];Gt(),er(),ur(),Tr(U),Cr.publish("putResources"),U.forEach(we),we({resourcesOid:Ye,objectOid:Number.MAX_SAFE_INTEGER}),Cr.publish("postPutResources")},dt=function(){Cr.publish("putAdditionalObjects");for(var U=0;U<be.length;U++){var ue=be[U];De(ue.objId,!0),ae(ue.content),ae("endobj")}Cr.publish("postPutAdditionalObjects")},Er=function(U){Vt[U.fontName]=Vt[U.fontName]||{},Vt[U.fontName][U.fontStyle]=U.id},tr=function(U,ue,Le,qe,lt){var Bt={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:U,fontName:ue,fontStyle:Le,encoding:qe,isStandardFont:lt||!1,metadata:{}};return Cr.publish("addFont",{font:Bt,instance:this}),Tt[Bt.id]=Bt,Er(Bt),Bt.id},ti=function(U){for(var ue=0,Le=Ee.length;ue<Le;ue++){var qe=tr.call(this,U[ue][0],U[ue][1],U[ue][2],Ee[ue][3],!0);d===!1&&(h[qe]=!0);var lt=U[ue][0].split("-");Er({id:qe,fontName:lt[0],fontStyle:lt[1]||""})}Cr.publish("addFonts",{fonts:Tt,dictionary:Vt})},Wr=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(qe){var ue=qe.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Le="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+qe.message;if(!ei.console)throw new Error(Le);ei.console.error(Le,qe),ei.alert&&alert(Le)}},U.foo.bar=U,U.foo},mi=function(U,ue){var Le,qe,lt,Bt,Ht,hr,Ir,$r,Ai;if(lt=(ue=ue||{}).sourceEncoding||"Unicode",Ht=ue.outputEncoding,(ue.autoencode||Ht)&&Tt[Ze].metadata&&Tt[Ze].metadata[lt]&&Tt[Ze].metadata[lt].encoding&&(Bt=Tt[Ze].metadata[lt].encoding,!Ht&&Tt[Ze].encoding&&(Ht=Tt[Ze].encoding),!Ht&&Bt.codePages&&(Ht=Bt.codePages[0]),typeof Ht=="string"&&(Ht=Bt[Ht]),Ht)){for(Ir=!1,hr=[],Le=0,qe=U.length;Le<qe;Le++)($r=Ht[U.charCodeAt(Le)])?hr.push(String.fromCharCode($r)):hr.push(U[Le]),hr[Le].charCodeAt(0)>>8&&(Ir=!0);U=hr.join("")}for(Le=U.length;Ir===void 0&&Le!==0;)U.charCodeAt(Le-1)>>8&&(Ir=!0),Le--;if(!Ir)return U;for(hr=ue.noBOM?[]:[254,255],Le=0,qe=U.length;Le<qe;Le++){if((Ai=($r=U.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hr.push(Ai),hr.push($r-(Ai<<8))}return String.fromCharCode.apply(void 0,hr)},Wn=f.__private__.pdfEscape=f.pdfEscape=function(U,ue){return mi(U,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xc=f.__private__.beginPage=function(U){ve[++rr]=[],qt[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},O0(rr),ge(ve[K])},Jf=function(U,ue){var Le,qe,lt;switch(r=ue||r,typeof U=="string"&&(Le=p(U.toLowerCase()),Array.isArray(Le)&&(qe=Le[0],lt=Le[1])),Array.isArray(U)&&(qe=U[0]*ht,lt=U[1]*ht),isNaN(qe)&&(qe=n[0],lt=n[1]),(qe>14400||lt>14400)&&(Sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),lt=Math.min(14400,lt)),n=[qe,lt],r.substr(0,1)){case"l":lt>qe&&(n=[lt,qe]);break;case"p":qe>lt&&(n=[lt,qe])}xc(n),vg(mg),ae(Wl),cp!==0&&ae(cp+" J"),yg!==0&&ae(yg+" j"),Cr.publish("addPage",{pageNumber:rr})},P1=function(U){U>0&&U<=rr&&(ve.splice(U,1),qt.splice(U,1),rr--,K>rr&&(K=rr),this.setPage(K))},O0=function(U){U>0&&U<=rr&&(K=U)},T1=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ve.length-1},D0=function(U,ue,Le){var qe,lt=void 0;return Le=Le||{},U=U!==void 0?U:Tt[Ze].fontName,ue=ue!==void 0?ue:Tt[Ze].fontStyle,qe=U.toLowerCase(),Vt[qe]!==void 0&&Vt[qe][ue]!==void 0?lt=Vt[qe][ue]:Vt[U]!==void 0&&Vt[U][ue]!==void 0?lt=Vt[U][ue]:Le.disableWarning===!1&&Sn.warn("Unable to look up font label for font '"+U+"', '"+ue+"'. Refer to getFontList() for available fonts."),lt||Le.noFallback||(lt=Vt.times[ue])==null&&(lt=Vt.times.normal),lt},O1=f.__private__.putInfo=function(){var U=vt(),ue=function(qe){return qe};for(var Le in u!==null&&(ue=Ja.encryptor(U,0)),ae("<<"),ae("/Producer ("+Wn(ue("jsPDF "+Zr.version))+")"),ut)ut.hasOwnProperty(Le)&&ut[Le]&&ae("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Wn(ue(ut[Le]))+")");ae("/CreationDate ("+Wn(ue(V))+")"),ae(">>"),ae("endobj")},Zf=f.__private__.putCatalog=function(U){var ue=(U=U||{}).rootDictionaryObjId||Fe;switch(vt(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+ue+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+We;Le.substr(Le.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+P(We)+"]")}switch(ie||(ie="continuous"),ie){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Re&&ae("/PageMode /"+Re),Cr.publish("putCatalog"),ae(">>"),ae("endobj")},du=f.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(W+1)),ae("/Root "+W+" 0 R"),ae("/Info "+(W-1)+" 0 R"),u!==null&&ae("/Encrypt "+Ja.oid+" 0 R"),ae("/ID [ <"+Y+"> <"+Y+"> ]"),ae(">>")},ep=f.__private__.putHeader=function(){ae("%PDF-"+m),ae("%ºß¬à")},I0=f.__private__.putXRef=function(){var U="0000000000";ae("xref"),ae("0 "+(W+1)),ae("0000000000 65535 f ");for(var ue=1;ue<=W;ue++)typeof te[ue]=="function"?ae((U+te[ue]()).slice(-10)+" 00000 n "):te[ue]!==void 0?ae((U+te[ue]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Cc=f.__private__.buildDocument=function(){Be(),ge(oe),Cr.publish("buildDocument"),ep(),Dt(),dt(),ze(),u!==null&&Yr(),O1(),Zf();var U=le;return I0(),du(),ae("startxref"),ae(""+U),ae("%%EOF"),ge(ve[K]),oe.join(`
`)},_h=f.__private__.getBlob=function(U){return new Blob([Ie(U)],{type:"application/pdf"})},Sh=f.output=f.__private__.output=Wr(function(U,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",U){case void 0:return Cc();case"save":f.save(ue.filename);break;case"arraybuffer":return Ie(Cc());case"blob":return _h(Cc());case"bloburi":case"bloburl":if(ei.URL!==void 0&&typeof ei.URL.createObjectURL=="function")return ei.URL&&ei.URL.createObjectURL(_h(Cc()))||void 0;Sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",qe=Cc();try{Le=NL(qe)}catch{Le=NL(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ei)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(lt=ue.pdfObjectUrl,Bt="");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+Bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",hr=ei.open();return hr!==null&&hr.document.write(Ht),hr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ei)==="[object Window]"){var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',$r=ei.open();if($r!==null){$r.document.write(Ir);var Ai=this;$r.document.documentElement.querySelector("#pdfViewer").onload=function(){$r.document.title=ue.filename,$r.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ai.output("bloburl"))}}return $r}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ei)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Mi=ei.open();if(Mi!==null&&(Mi.document.write(Ei),Mi.document.title=ue.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return ei.document.location.href=this.output("datauristring",ue);default:return null}}),tp=function(U){return Array.isArray(Ui)===!0&&Ui.indexOf(U)>-1};switch(i){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=tp("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ht=i}var Ja=null;$(),R();var D1=function(U){return u!==null?Ja.encryptor(U,0):function(ue){return ue}},pg=f.__private__.getPageInfo=f.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[U].objId,pageNumber:U,pageContext:qt[U]}},Gr=f.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in qt)if(qt[ue].objId===U)break;return pg(ue)},I1=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:qt[K].objId,pageNumber:K,pageContext:qt[K]}};f.addPage=function(){return Jf.apply(this,arguments),this},f.setPage=function(){return O0.apply(this,arguments),ge.call(this,ve[K]),this},f.insertPage=function(U){return this.addPage(),this.movePage(K,U),this},f.movePage=function(U,ue){var Le,qe;if(U>ue){Le=ve[U],qe=qt[U];for(var lt=U;lt>ue;lt--)ve[lt]=ve[lt-1],qt[lt]=qt[lt-1];ve[ue]=Le,qt[ue]=qe,this.setPage(ue)}else if(U<ue){Le=ve[U],qe=qt[U];for(var Bt=U;Bt<ue;Bt++)ve[Bt]=ve[Bt+1],qt[Bt]=qt[Bt+1];ve[ue]=Le,qt[ue]=qe,this.setPage(ue)}return this},f.deletePage=function(){return P1.apply(this,arguments),this},f.__private__.text=f.text=function(U,ue,Le,qe,lt){var Bt,Ht,hr,Ir,$r,Ai,Ei,Mi,Rn,aa=(qe=qe||{}).scope||this;if(typeof U=="number"&&typeof ue=="number"&&(typeof Le=="string"||Array.isArray(Le))){var Za=Le;Le=ue,ue=U,U=Za}if(arguments[3]instanceof dr?(_("The transform parameter of text() with a Matrix value"),Rn=lt):(hr=arguments[4],Ir=arguments[5],pn(Ei=arguments[3])==="object"&&Ei!==null||(typeof hr=="string"&&(Ir=hr,hr=null),typeof Ei=="string"&&(Ir=Ei,Ei=null),typeof Ei=="number"&&(hr=Ei,Ei=null),qe={flags:Ei,angle:hr,align:Ir})),isNaN(ue)||isNaN(Le)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return aa;var Gn="",Gl=!1,Us=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:ud,fu=aa.internal.scaleFactor;function dp(ln){return ln=ln.split("	").join(Array(qe.TabLen||9).join(" ")),Wn(ln,Ei)}function Th(ln){for(var vn,$n=ln.concat(),ya=[],Yl=$n.length;Yl--;)typeof(vn=$n.shift())=="string"?ya.push(vn):Array.isArray(ln)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?ya.push(vn[0]):ya.push([vn[0],vn[1],vn[2]]);return ya}function xg(ln,vn){var $n;if(typeof ln=="string")$n=vn(ln)[0];else if(Array.isArray(ln)){for(var ya,Yl,vd=ln.concat(),Dh=[],Pg=vd.length;Pg--;)typeof(ya=vd.shift())=="string"?Dh.push(vn(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(Yl=vn(ya[0],ya[1],ya[2]),Dh.push([Yl[0],Yl[1],Yl[2]]));$n=Dh}return $n}var pd=!1,Cg=!0;if(typeof U=="string")pd=!0;else if(Array.isArray(U)){var hp=U.concat();Ht=[];for(var pu,vo=hp.length;vo--;)(typeof(pu=hp.shift())!="string"||Array.isArray(pu)&&typeof pu[0]!="string")&&(Cg=!1);pd=Cg}if(pd===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Oh=Qe/aa.internal.scaleFactor,fp=Oh*(Us-1);switch(qe.baseline){case"bottom":Le-=fp;break;case"top":Le+=Oh-fp;break;case"hanging":Le+=Oh-2*fp;break;case"middle":Le+=Oh/2-fp}if((Ai=qe.maxWidth||0)>0&&(typeof U=="string"?U=aa.splitTextToSize(U,Ai):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(ln,vn){return ln.concat(aa.splitTextToSize(vn,Ai))},[]))),Bt={text:U,x:ue,y:Le,options:qe,mutex:{pdfEscape:Wn,activeFontKey:Ze,fonts:Tt,activeFontSize:Qe}},Cr.publish("preProcessText",Bt),U=Bt.text,hr=(qe=Bt.options).angle,!(Rn instanceof dr)&&hr&&typeof hr=="number"){hr*=Math.PI/180,qe.rotationDirection===0&&(hr=-hr),y===v.ADVANCED&&(hr=-hr);var pp=Math.cos(hr),_g=Math.sin(hr);Rn=new dr(pp,_g,-_g,pp,0,0)}else hr&&hr instanceof dr&&(Rn=hr);y!==v.ADVANCED||Rn||(Rn=ot),($r=qe.charSpace||dd)!==void 0&&(Gn+=C(O($r))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=qe.horizontalScale)!==void 0&&(Gn+=C(100*Mi)+` Tz
`),qe.lang;var os=-1,Sg=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,Eg=aa.internal.getCurrentPageInfo().pageContext;switch(Sg){case 0:case!1:case"fill":os=0;break;case 1:case!0:case"stroke":os=1;break;case 2:case"fillThenStroke":os=2;break;case 3:case"invisible":os=3;break;case 4:case"fillAndAddForClipping":os=4;break;case 5:case"strokeAndAddPathForClipping":os=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":os=6;break;case 7:case"addToPathForClipping":os=7}var z0=Eg.usedRenderingMode!==void 0?Eg.usedRenderingMode:-1;os!==-1?Gn+=os+` Tr
`:z0!==-1&&(Gn+=`0 Tr
`),os!==-1&&(Eg.usedRenderingMode=os),Ir=qe.align||"left";var ql,Bg=Qe*Us,N1=aa.internal.pageSize.getWidth(),Au=Tt[Ze];$r=qe.charSpace||dd,Ai=qe.maxWidth||0,Ei=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var Ad=[];if(Object.prototype.toString.call(U)==="[object Array]"){var ss;Ht=Th(U),Ir!=="left"&&(ql=Ht.map(function(ln){return aa.getStringUnitWidth(ln,{font:Au,charSpace:$r,fontSize:Qe,doKerning:!1})*Qe/fu}));var pl,Ec=0;if(Ir==="right"){ue-=ql[0],U=[],vo=Ht.length;for(var Kl=0;Kl<vo;Kl++)Kl===0?(pl=Sc(ue),ss=Ql(Le)):(pl=O(Ec-ql[Kl]),ss=-Bg),U.push([Ht[Kl],pl,ss]),Ec=ql[Kl]}else if(Ir==="center"){ue-=ql[0]/2,U=[],vo=Ht.length;for(var Xl=0;Xl<vo;Xl++)Xl===0?(pl=Sc(ue),ss=Ql(Le)):(pl=O((Ec-ql[Xl])/2),ss=-Bg),U.push([Ht[Xl],pl,ss]),Ec=ql[Xl]}else if(Ir==="left"){U=[],vo=Ht.length;for(var Ap=0;Ap<vo;Ap++)U.push(Ht[Ap])}else{if(Ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');U=[],vo=Ht.length,Ai=Ai!==0?Ai:N1;for(var Al=0;Al<vo;Al++)ss=Al===0?Ql(Le):-Bg,pl=Al===0?Sc(ue):0,Al<vo-1?Ad.push(C(O((Ai-ql[Al])/(Ht[Al].split(" ").length-1)))):Ad.push(0),U.push([Ht[Al],pl,ss])}}var gp=typeof qe.R2L=="boolean"?qe.R2L:re;gp===!0&&(U=xg(U,function(ln,vn,$n){return[ln.split("").reverse().join(""),vn,$n]})),Bt={text:U,x:ue,y:Le,options:qe,mutex:{pdfEscape:Wn,activeFontKey:Ze,fonts:Tt,activeFontSize:Qe}},Cr.publish("postProcessText",Bt),U=Bt.text,Gl=Bt.mutex.isHex||!1;var ls=Tt[Ze].encoding;ls!=="WinAnsiEncoding"&&ls!=="StandardEncoding"||(U=xg(U,function(ln,vn,$n){return[dp(ln),vn,$n]})),Ht=Th(U),U=[];for(var gu,gl,Ns,gd=0,mp=1,md=Array.isArray(Ht[0])?mp:gd,ml="",Mg=function(ln,vn,$n){var ya="";return $n instanceof dr?($n=typeof qe.angle=="number"?Xe($n,new dr(1,0,0,1,ln,vn)):Xe(new dr(1,0,0,1,ln,vn),$n),y===v.ADVANCED&&($n=Xe(new dr(1,0,0,-1,0,0),$n)),ya=$n.join(" ")+` Tm
`):ya=C(ln)+" "+C(vn)+` Td
`,ya},ks=0;ks<Ht.length;ks++){switch(ml="",md){case mp:Ns=(Gl?"<":"(")+Ht[ks][0]+(Gl?">":")"),gu=parseFloat(Ht[ks][1]),gl=parseFloat(Ht[ks][2]);break;case gd:Ns=(Gl?"<":"(")+Ht[ks]+(Gl?">":")"),gu=Sc(ue),gl=Ql(Le)}Ad!==void 0&&Ad[ks]!==void 0&&(ml=Ad[ks]+` Tw
`),ks===0?U.push(ml+Mg(gu,gl,Rn)+Ns):md===gd?U.push(ml+Ns):md===mp&&U.push(ml+Mg(gu,gl,Rn)+Ns)}U=md===gd?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var mu=`BT
/`;return mu+=Ze+" "+Qe+` Tf
`,mu+=C(Qe*Us)+` TL
`,mu+=Rs+`
`,mu+=Gn,mu+=U,ae(mu+="ET"),h[Ze]=!0,aa};var F0=f.__private__.clip=f.clip=function(U){return ae(U==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return F0("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ae("n"),this};var fl=f.__private__.isValidStyle=function(U){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ue=!0),ue};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(U){return fl(U)&&(c=U),this};var rp=f.__private__.getStyle=f.getStyle=function(U){var ue=c;switch(U){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=U}return ue},ip=f.close=function(){return ae("h"),this};f.stroke=function(){return ae("S"),this},f.fill=function(U){return np("f",U),this},f.fillEvenOdd=function(U){return np("f*",U),this},f.fillStroke=function(U){return np("B",U),this},f.fillStrokeEvenOdd=function(U){return np("B*",U),this};var np=function(U,ue){pn(ue)==="object"?L1(ue,U):ae(U)},Ag=function(U){U===null||y===v.ADVANCED&&U===void 0||(U=rp(U),ae(U))};function F1(U,ue,Le,qe,lt){var Bt=new By(ue||this.boundingBox,Le||this.xStep,qe||this.yStep,this.gState,lt||this.matrix);Bt.stream=this.stream;var Ht=U+"$$"+this.cloneIndex+++"$$";return je(Ht,Bt),Bt}var L1=function(U,ue){var Le=Ge[U.key],qe=lr[Le];if(qe instanceof fm)ae("q"),ae(R1(ue)),qe.gState&&f.setGState(qe.gState),ae(U.matrix.toString()+" cm"),ae("/"+Le+" sh"),ae("Q");else if(qe instanceof By){var lt=new dr(1,0,0,-1,0,fd());U.matrix&&(lt=lt.multiply(U.matrix||ot),Le=F1.call(qe,U.key,U.boundingBox,U.xStep,U.yStep,lt).id),ae("q"),ae("/Pattern cs"),ae("/"+Le+" scn"),qe.gState&&f.setGState(qe.gState),ae(ue),ae("Q")}},R1=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gg=f.moveTo=function(U,ue){return ae(C(O(U))+" "+C(F(ue))+" m"),this},Eh=f.lineTo=function(U,ue){return ae(C(O(U))+" "+C(F(ue))+" l"),this},cd=f.curveTo=function(U,ue,Le,qe,lt,Bt){return ae([C(O(U)),C(F(ue)),C(O(Le)),C(F(qe)),C(O(lt)),C(F(Bt)),"c"].join(" ")),this};f.__private__.line=f.line=function(U,ue,Le,qe,lt){if(isNaN(U)||isNaN(ue)||isNaN(Le)||isNaN(qe)||!fl(lt))throw new Error("Invalid arguments passed to jsPDF.line");return y===v.COMPAT?this.lines([[Le-U,qe-ue]],U,ue,[1,1],lt||"S"):this.lines([[Le-U,qe-ue]],U,ue,[1,1]).stroke()},f.__private__.lines=f.lines=function(U,ue,Le,qe,lt,Bt){var Ht,hr,Ir,$r,Ai,Ei,Mi,Rn,aa,Za,Gn,Gl;if(typeof U=="number"&&(Gl=Le,Le=ue,ue=U,U=Gl),qe=qe||[1,1],Bt=Bt||!1,isNaN(ue)||isNaN(Le)||!Array.isArray(U)||!Array.isArray(qe)||!fl(lt)||typeof Bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gg(ue,Le),Ht=qe[0],hr=qe[1],$r=U.length,Za=ue,Gn=Le,Ir=0;Ir<$r;Ir++)(Ai=U[Ir]).length===2?(Za=Ai[0]*Ht+Za,Gn=Ai[1]*hr+Gn,Eh(Za,Gn)):(Ei=Ai[0]*Ht+Za,Mi=Ai[1]*hr+Gn,Rn=Ai[2]*Ht+Za,aa=Ai[3]*hr+Gn,Za=Ai[4]*Ht+Za,Gn=Ai[5]*hr+Gn,cd(Ei,Mi,Rn,aa,Za,Gn));return Bt&&ip(),Ag(lt),this},f.path=function(U){for(var ue=0;ue<U.length;ue++){var Le=U[ue],qe=Le.c;switch(Le.op){case"m":gg(qe[0],qe[1]);break;case"l":Eh(qe[0],qe[1]);break;case"c":cd.apply(this,qe);break;case"h":ip()}}return this},f.__private__.rect=f.rect=function(U,ue,Le,qe,lt){if(isNaN(U)||isNaN(ue)||isNaN(Le)||isNaN(qe)||!fl(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v.COMPAT&&(qe=-qe),ae([C(O(U)),C(F(ue)),C(O(Le)),C(O(qe)),"re"].join(" ")),Ag(lt),this},f.__private__.triangle=f.triangle=function(U,ue,Le,qe,lt,Bt,Ht){if(isNaN(U)||isNaN(ue)||isNaN(Le)||isNaN(qe)||isNaN(lt)||isNaN(Bt)||!fl(Ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-U,qe-ue],[lt-Le,Bt-qe],[U-lt,ue-Bt]],U,ue,[1,1],Ht,!0),this},f.__private__.roundedRect=f.roundedRect=function(U,ue,Le,qe,lt,Bt,Ht){if(isNaN(U)||isNaN(ue)||isNaN(Le)||isNaN(qe)||isNaN(lt)||isNaN(Bt)||!fl(Ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var hr=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*Le),Bt=Math.min(Bt,.5*qe),this.lines([[Le-2*lt,0],[lt*hr,0,lt,Bt-Bt*hr,lt,Bt],[0,qe-2*Bt],[0,Bt*hr,-lt*hr,Bt,-lt,Bt],[2*lt-Le,0],[-lt*hr,0,-lt,-Bt*hr,-lt,-Bt],[0,2*Bt-qe],[0,-Bt*hr,lt*hr,-Bt,lt,-Bt]],U+lt,ue,[1,1],Ht,!0),this},f.__private__.ellipse=f.ellipse=function(U,ue,Le,qe,lt){if(isNaN(U)||isNaN(ue)||isNaN(Le)||isNaN(qe)||!fl(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bt=4/3*(Math.SQRT2-1)*Le,Ht=4/3*(Math.SQRT2-1)*qe;return gg(U+Le,ue),cd(U+Le,ue-Ht,U+Bt,ue-qe,U,ue-qe),cd(U-Bt,ue-qe,U-Le,ue-Ht,U-Le,ue),cd(U-Le,ue+Ht,U-Bt,ue+qe,U,ue+qe),cd(U+Bt,ue+qe,U+Le,ue+Ht,U+Le,ue),Ag(lt),this},f.__private__.circle=f.circle=function(U,ue,Le,qe){if(isNaN(U)||isNaN(ue)||isNaN(Le)||!fl(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ue,Le,Le,qe)},f.setFont=function(U,ue,Le){return Le&&(ue=w(ue,Le)),Ze=D0(U,ue,{disableWarning:!1}),this};var _c=f.__private__.getFont=f.getFont=function(){return Tt[D0.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var U,ue,Le={};for(U in Vt)if(Vt.hasOwnProperty(U))for(ue in Le[U]=[],Vt[U])Vt[U].hasOwnProperty(ue)&&Le[U].push(ue);return Le},f.addFont=function(U,ue,Le,qe,lt){var Bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Bt.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&Bt.indexOf(arguments[3])==-1&&(Le=w(Le,qe)),lt=lt||"Identity-H",tr.call(this,U,ue,Le,lt)};var ud,mg=e.lineWidth||.200025,ap=f.__private__.getLineWidth=f.getLineWidth=function(){return mg},vg=f.__private__.setLineWidth=f.setLineWidth=function(U){return mg=U,ae(C(O(U))+" w"),this};f.__private__.setLineDash=Zr.API.setLineDash=Zr.API.setLineDashPattern=function(U,ue){if(U=U||[],ue=ue||0,isNaN(ue)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Le){return C(O(Le))}).join(" "),ue=C(O(ue)),ae("["+U+"] "+ue+" d"),this};var op=f.__private__.getLineHeight=f.getLineHeight=function(){return Qe*ud};f.__private__.getLineHeight=f.getLineHeight=function(){return Qe*ud};var L0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(ud=U),this},R0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ud};L0(e.lineHeight);var Sc=f.__private__.getHorizontalCoordinate=function(U){return O(U)},Ql=f.__private__.getVerticalCoordinate=function(U){return y===v.ADVANCED?U:qt[K].mediaBox.topRightY-qt[K].mediaBox.bottomLeftY-O(U)},U0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(U){return C(Sc(U))},hu=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(U){return C(Ql(U))},Wl=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return gt(Wl)},f.__private__.setStrokeColor=f.setDrawColor=function(U,ue,Le,qe){return Wl=Ot({ch1:U,ch2:ue,ch3:Le,ch4:qe,pdfColorType:"draw",precision:2}),ae(Wl),this};var sp=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return gt(sp)},f.__private__.setFillColor=f.setFillColor=function(U,ue,Le,qe){return sp=Ot({ch1:U,ch2:ue,ch3:Le,ch4:qe,pdfColorType:"fill",precision:2}),ae(sp),this};var Rs=e.textColor||"0 g",lp=f.__private__.getTextColor=f.getTextColor=function(){return gt(Rs)};f.__private__.setTextColor=f.setTextColor=function(U,ue,Le,qe){return Rs=Ot({ch1:U,ch2:ue,ch3:Le,ch4:qe,pdfColorType:"text",precision:3}),this};var dd=e.charSpace,U1=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(dd||0)};f.__private__.setCharSpace=f.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dd=U,this};var cp=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(U){var ue=f.CapJoinStyles[U];if(ue===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cp=ue,ae(ue+" J"),this};var yg=0;f.__private__.setLineJoin=f.setLineJoin=function(U){var ue=f.CapJoinStyles[U];if(ue===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yg=ue,ae(ue+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(C(O(U))+" M"),this},f.GState=kM,f.setGState=function(U){(U=typeof U=="string"?At[yt[U]]:N0(null,U)).equals(Wt)||(ae("/"+U.id+" gs"),Wt=U)};var N0=function(U,ue){if(!U||!yt[U]){var Le=!1;for(var qe in At)if(At.hasOwnProperty(qe)&&At[qe].equals(ue)){Le=!0;break}if(Le)ue=At[qe];else{var lt="GS"+(Object.keys(At).length+1).toString(10);At[lt]=ue,ue.id=lt}return U&&(yt[U]=ue.id),Cr.publish("addGState",ue),ue}};f.addGState=function(U,ue){return N0(U,ue),this},f.saveGraphicsState=function(){return ae("q"),Or.push({key:Ze,size:Qe,color:Rs}),this},f.restoreGraphicsState=function(){ae("Q");var U=Or.pop();return Ze=U.key,Qe=U.size,Rs=U.color,Wt=null,this},f.setCurrentTransformationMatrix=function(U){return ae(U.toString()+" cm"),this},f.comment=function(U){return ae("#"+U),this};var hd=function(U,ue){var Le=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Bt){isNaN(Bt)||(Le=parseFloat(Bt))}});var qe=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(Bt){isNaN(Bt)||(qe=parseFloat(Bt))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(Bt){lt=Bt.toString()}}),this},Bh=function(U,ue,Le,qe){hd.call(this,U,ue),this.type="rect";var lt=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(Ht){isNaN(Ht)||(lt=parseFloat(Ht))}});var Bt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bt},set:function(Ht){isNaN(Ht)||(Bt=parseFloat(Ht))}}),this},Mh=function(){this.page=rr,this.currentPage=K,this.pages=ve.slice(0),this.pagesContext=qt.slice(0),this.x=Mt,this.y=Pt,this.matrix=Yt,this.width=Ph(K),this.height=fd(K),this.outputDestination=ye,this.id="",this.objectNumber=-1};Mh.prototype.restore=function(){rr=this.page,K=this.currentPage,qt=this.pagesContext,ve=this.pages,Mt=this.x,Pt=this.y,Yt=this.matrix,bg(K,this.width),wg(K,this.height),ye=this.outputDestination};var k0=function(U,ue,Le,qe,lt){en.push(new Mh),rr=K=0,ve=[],Mt=U,Pt=ue,Yt=lt,xc([Le,qe])},j0=function(U){if(ii[U])en.pop().restore();else{var ue=new Mh,Le="Xo"+(Object.keys(ci).length+1).toString(10);ue.id=Le,ii[U]=Le,ci[Le]=ue,Cr.publish("addFormObject",ue),en.pop().restore()}};for(var up in f.beginFormObject=function(U,ue,Le,qe,lt){return k0(U,ue,Le,qe,lt),this},f.endFormObject=function(U){return j0(U),this},f.doFormObject=function(U,ue){var Le=ci[ii[U]];return ae("q"),ae(ue.toString()+" cm"),ae("/"+Le.id+" Do"),ae("Q"),this},f.getFormObject=function(U){var ue=ci[ii[U]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},f.save=function(U,ue){return U=U||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(sm(_h(Cc()),U),typeof sm.unload=="function"&&ei.setTimeout&&setTimeout(sm.unload,911),this):new Promise(function(Le,qe){try{var lt=sm(_h(Cc()),U);typeof sm.unload=="function"&&ei.setTimeout&&setTimeout(sm.unload,911),Le(lt)}catch(Bt){qe(Bt.message)}})},Zr.API)Zr.API.hasOwnProperty(up)&&(up==="events"&&Zr.API.events.length?function(U,ue){var Le,qe,lt;for(lt=ue.length-1;lt!==-1;lt--)Le=ue[lt][0],qe=ue[lt][1],U.subscribe.apply(U,[Le].concat(typeof qe=="function"?[qe]:qe))}(Cr,Zr.API.events):f[up]=Zr.API[up]);var Ph=f.getPageWidth=function(U){return(qt[U=U||K].mediaBox.topRightX-qt[U].mediaBox.bottomLeftX)/ht},bg=f.setPageWidth=function(U,ue){qt[U].mediaBox.topRightX=ue*ht+qt[U].mediaBox.bottomLeftX},fd=f.getPageHeight=function(U){return(qt[U=U||K].mediaBox.topRightY-qt[U].mediaBox.bottomLeftY)/ht},wg=f.setPageHeight=function(U,ue){qt[U].mediaBox.topRightY=ue*ht+qt[U].mediaBox.bottomLeftY};return f.internal={pdfEscape:Wn,getStyle:rp,getFont:_c,getFontSize:de,getCharSpace:U1,getTextColor:lp,getLineHeight:op,getLineHeightFactor:R0,getLineWidth:ap,write:Ne,getHorizontalCoordinate:Sc,getVerticalCoordinate:Ql,getCoordinateString:U0,getVerticalCoordinateString:hu,collections:{},newObject:vt,newAdditionalObject:Ve,newObjectDeferred:he,newObjectDeferredBegin:De,getFilters:xt,putStream:mt,events:Cr,scaleFactor:ht,pageSize:{getWidth:function(){return Ph(K)},setWidth:function(U){bg(K,U)},getHeight:function(){return fd(K)},setHeight:function(U){wg(K,U)}},encryptionOptions:u,encryption:Ja,getEncryptor:D1,output:Sh,getNumberOfPages:T1,pages:ve,out:ae,f2:P,f3:M,getPageInfo:pg,getPageInfoByObjId:Gr,getCurrentPageInfo:I1,getPDFVersion:A,Point:hd,Rectangle:Bh,Matrix:dr,hasHotfix:tp},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ph(K)},set:function(U){bg(K,U)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fd(K)},set:function(U){wg(K,U)},enumerable:!0,configurable:!0}),ti.call(f,Ee),Ze="F1",Jf(n,r),Cr.publish("initialized"),f}ty.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ty.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ty.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ty.prototype.processOwnerPassword=function(e,t){return jL(kL(t).substr(0,5),e)},ty.prototype.encryptor=function(e,t){var r=kL(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return jL(r,i)}},kM.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var i=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&i--;return i===0},Zr.API={events:[]},Zr.version="2.5.1";var da=Zr.API,Gj=1,_0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},di=function(e){return e.toFixed(2)},Ip=function(e){return e.toFixed(5)};da.__acroform__={};var zl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},d7=function(e){return e*Gj},kd=function(e){var t=new eae,r=_r.internal.getHeight(e)||0,i=_r.internal.getWidth(e)||0;return t.BBox=[0,0,Number(di(i)),Number(di(r))],t},LBe=da.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},RBe=da.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},UBe=da.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ma=da.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UBe(e,t-1)},Pa=da.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LBe(e,t-1)},Ta=da.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return RBe(e,t-1)},NBe=da.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=i(a+s)||0,l.upperRight_X=r(n+o)||0,l.upperRight_Y=i(a)||0,[Number(di(l.lowerLeft_X)),Number(di(l.lowerLeft_Y)),Number(di(l.upperRight_X)),Number(di(l.upperRight_Y))]},kBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,i=zL(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+di(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=kd(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},zL=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(M){return M.split(`
`)}):n.map(function(M){return[M]});var a=r,o=_r.internal.getHeight(e)||0;o=o<0?-o:o;var s=_r.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(M,O,I){if(M+1<n.length){var F=O+" "+n[M+1][0];return zS(F,e,I).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,d=zS("3",e,a).height,h=e.multiline?o-a:(o-d)/2,f=h+=2,m=0,A=0,g=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+zS(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var p="",v=0,y=0;y<n.length;y++)if(n.hasOwnProperty(y)){var b=!1;if(n[y].length!==1&&g!==n[y].length-1){if((d+2)*(v+2)+2>o)continue e;p+=n[y][g],b=!0,A=y,y--}else{p=(p+=n[y][g]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var x=parseInt(y),w=l(x,p,a),C=y>=n.length-1;if(w&&!C){p+=" ",g=0;continue}if(w||C){if(C)A=x;else if(e.multiline&&(d+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(v+2)+2>o)continue e;A=x}}for(var _="",B=m;B<=A;B++){var P=n[B];if(e.multiline){if(B===A){_+=P[g]+" ",g=(g+1)%P.length;continue}if(B===m){_+=P[P.length-1]+" ";continue}}_+=P[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=zS(_,e,a).width,e.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;case"left":default:c=2}t+=di(c)+" "+di(f)+` Td
`,t+="("+_0(_)+`) Tj
`,t+=-di(c)+` 0 Td
`,f=-(a+2),u=0,m=b?A:A+1,v++,p=""}break}return i.text=t,i.fontSize=a,i},zS=function(e,t,r){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},jBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zBe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},HBe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=r,n=e[r];t.internal.newObjectDeferredBegin(n.objId,!0),pn(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[i]}},VBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(nd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tae,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];a.objId=void 0,a.hasAnnotation&&zBe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(i,n){var a=!i;for(var o in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var s=i[o],l=[],c=s.Rect;if(s.Rect&&(s.Rect=NBe(s.Rect,n)),n.internal.newObjectDeferredBegin(s.objId,!0),s.DA=_r.createDefaultAppearanceStream(s),pn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=kBe(s);l.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var d="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var f=s.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(n,s)),d+="/"+o+" "+m+" ",n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(n,s)),d+="/"+o+" "+m,n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:s.objId}),n.internal.out("endobj")}a&&HBe(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Zne=da.__acroform__.arrayToPdfArray=function(e,t,r){var i=function(o){return o};if(Array.isArray(e)){for(var n="[",a=0;a<e.length;a++)switch(a!==0&&(n+=" "),pn(e[a])){case"boolean":case"number":case"object":n+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(i=r.internal.getEncryptor(t)),n+="("+_0(i(e[a].toString()))+")"):n+=e[a].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bD=function(e,t,r){var i=function(n){return n};return t!==void 0&&r&&(i=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+_0(i(e))+")"},th=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};th.prototype.toString=function(){return this.objId+" 0 R"},th.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},th.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var i=t[r],n=this[i];n&&(Array.isArray(n)?e.push({key:i,value:Zne(n,this.objId,this.scope)}):n instanceof th?(n.scope=this.scope,e.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:i,value:n}))}return e};var eae=function(){th.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};zl(eae,th);var tae=function(){th.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_0(r(e))+")"}},set:function(r){e=r}})};zl(tae,th);var nd=function e(){th.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ma(t,3)},set:function(p){p?this.F=Pa(t,3):this.F=Ta(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(p){i=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(p){i[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(p){i[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(p){i[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(p){i[3]=p}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof jM)return;a="FieldObject"+e.FieldNum++}var p=function(v){return v};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+_0(p(a))+")"},set:function(p){a=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(p){a=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(p){s=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Gj:c},set:function(p){c=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof jM||this instanceof zm))return bD(d,this.objId,this.scope)},set:function(p){p=p.toString(),d=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof So?h:bD(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof So?p:p.substr(0,1)==="("?fv(p.substr(1,p.length-2)):fv(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof So?fv(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof So?"/"+p:p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof So?f:bD(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=this instanceof So?p:p.substr(0,1)==="("?fv(p.substr(1,p.length-2)):fv(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof So?fv(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof So?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(p){p=!!p,A=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(p){m=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,1)},set:function(p){p?this.Ff=Pa(this.Ff,1):this.Ff=Ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,2)},set:function(p){p?this.Ff=Pa(this.Ff,2):this.Ff=Ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,3)},set:function(p){p?this.Ff=Pa(this.Ff,3):this.Ff=Ta(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');g=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(g){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};zl(nd,th);var Ky=function(){nd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Zne(t,this.objId,this.scope)},set:function(r){var i,n;n=[],typeof(i=r)=="string"&&(n=function(a,o,s){s||(s=1);for(var l,c=[];l=o.exec(a);)c.push(l[s]);return c}(i,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,18)},set:function(r){r?this.Ff=Pa(this.Ff,18):this.Ff=Ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Pa(this.Ff,19):this.Ff=Ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,20)},set:function(r){r?(this.Ff=Pa(this.Ff,20),t.sort()):this.Ff=Ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,22)},set:function(r){r?this.Ff=Pa(this.Ff,22):this.Ff=Ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(r){r?this.Ff=Pa(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,27)},set:function(r){r?this.Ff=Pa(this.Ff,27):this.Ff=Ta(this.Ff,27)}}),this.hasAppearanceStream=!1};zl(Ky,nd);var Xy=function(){Ky.call(this),this.fontName="helvetica",this.combo=!1};zl(Xy,Ky);var Yy=function(){Xy.call(this),this.combo=!0};zl(Yy,Xy);var C5=function(){Yy.call(this),this.edit=!0};zl(C5,Yy);var So=function(){nd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,15)},set:function(r){r?this.Ff=Pa(this.Ff,15):this.Ff=Ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,16)},set:function(r){r?this.Ff=Pa(this.Ff,16):this.Ff=Ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,17)},set:function(r){r?this.Ff=Pa(this.Ff,17):this.Ff=Ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(r){r?this.Ff=Pa(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,n=[];for(i in n.push("<<"),t)n.push("/"+i+" ("+_0(r(t[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};zl(So,nd);var _5=function(){So.call(this),this.pushButton=!0};zl(_5,So);var $y=function(){So.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zl($y,So);var jM=function(){var e,t;nd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),i)o.push("/"+a+" ("+_0(n(i[a]))+")");return o.push(">>"),o.join(`
`)},set:function(n){pn(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zl(jM,nd),$y.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$y.prototype.createOption=function(e){var t=new jM;return t.Parent=this,t.optionName=e,this.Kids.push(t),QBe.call(this.scope,t),t};var S5=function(){So.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};zl(S5,So);var zm=function(){nd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,13)},set:function(t){t?this.Ff=Pa(this.Ff,13):this.Ff=Ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,21)},set:function(t){t?this.Ff=Pa(this.Ff,21):this.Ff=Ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(t){t?this.Ff=Pa(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,24)},set:function(t){t?this.Ff=Pa(this.Ff,24):this.Ff=Ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,25)},set:function(t){t?this.Ff=Pa(this.Ff,25):this.Ff=Ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(t){t?this.Ff=Pa(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zl(zm,nd);var E5=function(){zm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,14)},set:function(e){e?this.Ff=Pa(this.Ff,14):this.Ff=Ta(this.Ff,14)}}),this.password=!0};zl(E5,zm);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=zL(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+di(_r.internal.getWidth(e))+" "+di(_r.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+di(a.fontSize)+" Tf "+n),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=kd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),n=[],a=_r.internal.getHeight(e),o=_r.internal.getWidth(e),s=zL(e,e.caption);return n.push("1 g"),n.push("0 0 "+di(o)+" "+di(a)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+di(o-1)+" "+di(a-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+di(s.fontSize)+" Tf "+i),n.push(s.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+di(_r.internal.getWidth(e))+" "+di(_r.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=_r.RadioButton.Circle.YesNormal,t.D[e]=_r.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=kd(e);t.scope=e.scope;var r=[],i=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=_r.internal.Bezier_C,a=Number((i*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ip(_r.internal.getWidth(e)/2)+" "+Ip(_r.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=[],i=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),a=Number((n*_r.internal.Bezier_C).toFixed(5)),o=Number((i*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(_r.internal.getWidth(e)/2)+" "+Ip(_r.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ip(_r.internal.getWidth(e)/2)+" "+Ip(_r.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=[],i=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),a=Number((n*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(_r.internal.getWidth(e)/2)+" "+Ip(_r.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=_r.RadioButton.Cross.YesNormal,t.D[e]=_r.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=kd(e);t.scope=e.scope;var r=[],i=_r.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+di(_r.internal.getWidth(e)-2)+" "+di(_r.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(di(i.x1.x)+" "+di(i.x1.y)+" m"),r.push(di(i.x2.x)+" "+di(i.x2.y)+" l"),r.push(di(i.x4.x)+" "+di(i.x4.y)+" m"),r.push(di(i.x3.x)+" "+di(i.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=_r.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+di(_r.internal.getWidth(e))+" "+di(_r.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+di(_r.internal.getWidth(e)-2)+" "+di(_r.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(di(r.x1.x)+" "+di(r.x1.y)+" m"),i.push(di(r.x2.x)+" "+di(r.x2.y)+" l"),i.push(di(r.x4.x)+" "+di(r.x4.y)+" m"),i.push(di(r.x3.x)+" "+di(r.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=kd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+di(_r.internal.getWidth(e))+" "+di(_r.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};_r.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=_r.internal.getWidth(e),r=_r.internal.getHeight(e),i=Math.min(t,r);return{x1:{x:(t-i)/2,y:(r-i)/2+i},x2:{x:(t-i)/2+i,y:(r-i)/2},x3:{x:(t-i)/2,y:(r-i)/2},x4:{x:(t-i)/2+i,y:(r-i)/2+i}}}},_r.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=d7(e.Rect[2])),t},_r.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=d7(e.Rect[3])),t};var QBe=da.addField=function(e){if(VBe(this,e),!(e instanceof nd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};da.AcroFormChoiceField=Ky,da.AcroFormListBox=Xy,da.AcroFormComboBox=Yy,da.AcroFormEditBox=C5,da.AcroFormButton=So,da.AcroFormPushButton=_5,da.AcroFormRadioButton=$y,da.AcroFormCheckBox=S5,da.AcroFormTextField=zm,da.AcroFormPasswordField=E5,da.AcroFormAppearance=_r,da.AcroForm={ChoiceField:Ky,ListBox:Xy,ComboBox:Yy,EditBox:C5,Button:So,PushButton:_5,RadioButton:$y,CheckBox:S5,TextField:zm,PasswordField:E5,Appearance:_r},Zr.AcroForm={ChoiceField:Ky,ListBox:Xy,ComboBox:Yy,EditBox:C5,Button:So,PushButton:_5,RadioButton:$y,CheckBox:S5,TextField:zm,PasswordField:E5,Appearance:_r};function rae(e){return e.reduce(function(t,r,i){return t[r]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(M,O){var I,F,V,Y,j,R=t;if((O=O||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(w(M))for(j in r)for(V=r[j],I=0;I<V.length;I+=1){for(Y=!0,F=0;F<V[I].length;F+=1)if(V[I][F]!==void 0&&V[I][F]!==M[F]){Y=!1;break}if(Y===!0){R=j;break}}else for(j in r)for(V=r[j],I=0;I<V.length;I+=1){for(Y=!0,F=0;F<V[I].length;F+=1)if(V[I][F]!==void 0&&V[I][F]!==M.charCodeAt(F)){Y=!1;break}if(Y===!0){R=j;break}}return R===t&&O!==t&&(R=O),R},n=function M(O){for(var I=this.internal.write,F=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var j="",R=0,H=O.transparency.length;R<H;R++)j+=O.transparency[R]+" "+O.transparency[R]+" ";Y.push({key:"Mask",value:"["+j+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var G=O.filter!==void 0?["/"+O.filter]:void 0;if(F({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:G,objectId:O.objectId}),I("endobj"),"sMask"in O&&O.sMask!==void 0){var $="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,L={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:$,data:O.sMask};"filter"in O&&(L.filter=O.filter),M.call(this,L)}if(O.colorSpace===g.INDEXED){var K=this.internal.newObject();F({data:_(new Uint8Array(O.palette)),objectId:K}),I("endobj")}},a=function(){var M=this.internal.collections.addImage_images;for(var O in M)n.call(this,M[O])},o=function(){var M,O=this.internal.collections.addImage_images,I=this.internal.write;for(var F in O)I("/I"+(M=O[F]).index,M.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var M=this.internal.collections.addImage_images;return s.call(this),M},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return typeof e["process"+M.toUpperCase()]=="function"},d=function(M){return pn(M)==="object"&&M.nodeType===1},h=function(M,O){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var I=""+M.getAttribute("src");if(I.indexOf("data:image/")===0)return l2(unescape(I).split("base64,").pop());var F=e.loadFile(I,!0);if(F!==void 0)return F}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var V;switch(O){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return l2(M.toDataURL(V,1).split("base64,").pop())}},f=function(M){var O=this.internal.collections.addImage_images;if(O){for(var I in O)if(M===O[I].alias)return O[I]}},m=function(M,O,I){return M||O||(M=-96,O=-96),M<0&&(M=-1*I.width*72/M/this.internal.scaleFactor),O<0&&(O=-1*I.height*72/O/this.internal.scaleFactor),M===0&&(M=O*I.width/I.height),O===0&&(O=M*I.height/I.width),[M,O]},A=function(M,O,I,F,V,Y){var j=m.call(this,I,F,V),R=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,G=l.call(this);if(I=j[0],F=j[1],G[V.index]=V,Y){Y*=Math.PI/180;var $=Math.cos(Y),L=Math.sin(Y),K=function(ee){return ee.toFixed(4)},X=[K($),K(L),K(-1*L),K($),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,R(M),H(O+F),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([R(I),"0","0",R(F),"0","0","cm"].join(" "))):this.internal.write([R(I),"0","0",R(F),R(M),H(O+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(M){var O,I,F=0;if(typeof M=="string")for(I=M.length,O=0;O<I;O++)F=(F<<5)-F+M.charCodeAt(O),F|=0;else if(w(M))for(I=M.byteLength/2,O=0;O<I;O++)F=(F<<5)-F+M[O],F|=0;return F},y=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var O=!0;return M.length===0&&(O=!1),M.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(O=!1),O},b=e.__addimage__.extractImageFromDataUrl=function(M){var O=(M=M||"").split("base64,"),I=null;if(O.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(F)&&(I={mimeType:F[1],charset:F[2],data:O[1]})}return I},x=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(M){return x()&&M instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(M){return x()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(M){for(var O=M.length,I=new Uint8Array(O),F=0;F<O;F++)I[F]=M.charCodeAt(F);return I},_=e.__addimage__.arrayBufferToBinaryString=function(M){for(var O="",I=w(M)?M:new Uint8Array(M),F=0;F<I.length;F+=8192)O+=String.fromCharCode.apply(null,I.subarray(F,F+8192));return O};e.addImage=function(){var M,O,I,F,V,Y,j,R,H;if(typeof arguments[1]=="number"?(O=t,I=arguments[1],F=arguments[2],V=arguments[3],Y=arguments[4],j=arguments[5],R=arguments[6],H=arguments[7]):(O=arguments[1],I=arguments[2],F=arguments[3],V=arguments[4],Y=arguments[5],j=arguments[6],R=arguments[7],H=arguments[8]),pn(M=arguments[0])==="object"&&!d(M)&&"imageData"in M){var G=M;M=G.imageData,O=G.format||O||t,I=G.x||I||0,F=G.y||F||0,V=G.w||G.width||V,Y=G.h||G.height||Y,j=G.alias||j,R=G.compression||R,H=G.rotation||G.angle||H}var $=this.internal.getFilters();if(R===void 0&&$.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(I)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=B.call(this,M,O,j,R);return A.call(this,I,F,V,Y,L,H),this};var B=function(M,O,I,F){var V,Y,j;if(typeof M=="string"&&i(M)===t){M=unescape(M);var R=P(M,!1);(R!==""||(R=e.loadFile(M,!0))!==void 0)&&(M=R)}if(d(M)&&(M=h(M,O)),O=i(M,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((j=I)==null||j.length===0)&&(I=function(H){return typeof H=="string"||w(H)?v(H):w(H.data)?v(H.data):null}(M)),(V=f.call(this,I))||(x()&&(M instanceof Uint8Array||O==="RGBA"||(Y=M,M=C(M))),V=this["process"+O.toUpperCase()](M,c.call(this),I,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in e.image_compression?H:p.NONE}(F),Y)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},P=e.__addimage__.convertBase64ToBinaryString=function(M,O){var I;O=typeof O!="boolean"||O;var F,V="";if(typeof M=="string"){F=(I=b(M))!==null?I.data:M;try{V=l2(F)}catch(Y){if(O)throw y(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(M){var O,I,F="";if(d(M)&&(M=h(M)),typeof M=="string"&&i(M)===t&&((F=P(M,!1))===""&&(F=e.loadFile(M)||""),M=F),I=i(M),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!x()||M instanceof Uint8Array||(M=C(M)),!(O=this["process"+I.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=I,O}})(Zr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var i,n,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){i=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(A.objId),v=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(i.bounds.x)+" "+s(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y)+"] ")+"/Contents ("+f(p(i.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(p(v))+") >>",A.content=a;var y=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(i.bounds.x+30)+" "+s(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+s(i.bounds.y)+"] ")+" /Parent "+y,i.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(A.objId,"0 R",g.objId,"0 R");break;case"freetext":n="/Rect ["+o(i.bounds.x)+" "+s(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y+i.bounds.h)+"] ";var b=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+f(m(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var x=this.annotations._nameMap[i.options.name];i.options.pageNumber=x.page,i.options.top=x.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var w=s(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+w+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},e.link=function(r,i,n,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:c(i),w:l(r+n),h:c(i+a)},options:o,type:"link"})},e.textWithLink=function(r,i,n,a){var o,s,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var u=this.splitTextToSize(r,s).length;o=Math.ceil(c*u)}else s=l,o=c;return this.text(r,i,n,a),n+=.2*c,a.align==="center"&&(i-=l/2),a.align==="right"&&(i-=l),this.link(i,n-c,s,o,a),l},e.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}(Zr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},s=e.__arabicParser__.isArabicEndLetter=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(A){return o(A)&&n.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(A){var g=0,p=r,v="",y=0;for(g=0;g<A.length;g+=1)p[A.charCodeAt(g)]!==void 0?(y++,typeof(p=p[A.charCodeAt(g)])=="number"&&(v+=String.fromCharCode(p),p=r,y=0),g===A.length-1&&(p=r,v+=A.charAt(g-(y-1)),g-=y-1,y=0)):(p=r,v+=A.charAt(g-y),g-=y,y=0);return v};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&i[A.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(A,g,p){return o(A)?a(A)===!1?-1:!c(A)||!o(g)&&!o(p)||!o(p)&&s(g)||s(A)&&!o(g)||s(A)&&l(g)||s(A)&&s(g)?0:u(A)&&o(g)&&!s(g)&&o(p)&&c(p)?3:s(A)||!o(p)?1:2:-1},f=function(A){var g=0,p=0,v=0,y="",b="",x="",w=(A=A||"").split("\\s+"),C=[];for(g=0;g<w.length;g+=1){for(C.push(""),p=0;p<w[g].length;p+=1)y=w[g][p],b=w[g][p-1],x=w[g][p+1],o(y)?(v=h(y,b,x),C[g]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):C[g]+=y;C[g]=d(C[g])}return C.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var A,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(g)){var v=0;for(p=[],v=0;v<g.length;v+=1)Array.isArray(g[v])?p.push([f(g[v][0]),g[v][1],g[v][2]]):p.push([f(g[v])]);A=p}else A=f(g);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",m])}(Zr.API),Zr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,i){var n;if((r=r||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(A){l=A}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(A){m=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,A=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=c.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(y,b){return y.concat(g.splitTextToSize(b,p))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)f<(A=this.getStringUnitWidth(l[v],{font:d})*u)&&(f=A);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var f,m,A,g,p=[],v=[],y=[],b={},x={},w=[],C=[],_=(h=h||{}).autoSize||!1,B=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,M=h.margins||Object.assign({width:this.getPageWidth()},t),O=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=F,this.setFontSize(P),d==null)v=p=Object.keys(u[0]),y=p.map(function(){return"left"});else if(Array.isArray(d)&&pn(d[0])==="object")for(p=d.map(function(G){return G.name}),v=d.map(function(G){return G.prompt||G.name||""}),y=d.map(function(G){return G.align||"left"}),f=0;f<d.length;f+=1)x[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(v=p=d,y=p.map(function(){return"left"}));if(_||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<p.length;f+=1){for(b[g=p[f]]=u.map(function(G){return G[g]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=b[g],this.setFont(void 0,"normal"),A=0;A<m.length;A+=1)w.push(this.getTextDimensions(m[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[g]=Math.max.apply(null,w)+O+O,w=[]}if(B){var V={};for(f=0;f<p.length;f+=1)V[p[f]]={},V[p[f]].text=v[f],V[p[f]].align=y[f];var Y=s.call(this,V,x);C=p.map(function(G){return new a(l,c,x[G],Y,V[G].text,void 0,V[G].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var j=d.reduce(function(G,$){return G[$.name]=$.align,G},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var R=s.call(this,u[f],x);for(A=0;A<p.length;A+=1){var H=u[f][p[A]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:A,data:H},this),o.call(this,new a(l,c,x[p[A]],R,H,f+2,j[p[A]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Zr.API);var iae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HL=rae(nae),aae=[100,200,300,400,500,600,700,800,900],WBe=rae(aae);function VL(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return iae[a=a||"normal"]?a:"normal"}(e.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(a){return typeof HL[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:i,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,i].join(" ")}}}function h7(e,t,r,i){var n;for(n=r;n>=0&&n<t.length;n+=i)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=i)if(e[t[n]])return e[t[n]]}var GBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},f7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function p7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function qBe(e,t,r){for(var i=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},GBe,r.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(n[(a=VL(t[s])).family]&&(a.family=n[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+p7(a)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=HL[l],d=u<=HL.normal?-1:1,h=h7(c,nae,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=iae[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=WBe[l],d=h7(c,aae,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+p7(a)+"'.");return o}function A7(e){return e.trimLeft()}function KBe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function XBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var HS,g7,m7,wD=["times"];(function(e){var t,r,i,n,a,o,s,l,c,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=L;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ge){X=!!ge}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ge){ee=!!ge}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(ge){isNaN(ge)||(W=ge)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(ge){isNaN(ge)||(te=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var ae;typeof ge=="number"?ae=[ge,ge,ge,ge]:((ae=new Array(4))[0]=ge[0],ae[1]=ge.length>=2?ge[1]:ae[0],ae[2]=ge.length>=3?ge[2]:ae[0],ae[3]=ge.length>=4?ge[3]:ae[1]),c.margin=ae}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(ge){oe=ge}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ge){le=ge}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(ge){be=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof u&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(ge){ve=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ae;ae=h(ge),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ae=h(ge);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var se=null;function ye(ge,ae){if(se===null){var Ne=function(Ie){var Ee=[];return Object.keys(Ie).forEach(function(Qe){Ie[Qe].forEach(function(We){var de=null;switch(We){case"bold":de={family:Qe,weight:"bold"};break;case"italic":de={family:Qe,style:"italic"};break;case"bolditalic":de={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":de={family:Qe}}de!==null&&(de.ref={name:Qe,style:We},Ee.push(de))})}),Ee}(ge.getFontList());se=function(Ie){for(var Ee={},Qe=0;Qe<Ie.length;++Qe){var We=VL(Ie[Qe]),de=We.family,re=We.stretch,Re=We.style,Ke=We.weight;Ee[de]=Ee[de]||{},Ee[de][re]=Ee[de][re]||{},Ee[de][re][Re]=Ee[de][re][Re]||{},Ee[de][re][Re][Ke]=We}return Ee}(Ne.concat(ae))}return se}var Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(ge){se=null,Be=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ae;if(this.ctx.font=ge,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ne=ae[1],Ie=(ae[2],ae[3]),Ee=ae[4],Qe=(ae[5],ae[6]),We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(We==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var de=function(ut){var Ze,ht,Mt=[],Pt=ut.trim();if(Pt==="")return wD;if(Pt in f7)return[f7[Pt]];for(;Pt!=="";){switch(ht=null,Ze=(Pt=A7(Pt)).charAt(0)){case'"':case"'":ht=KBe(Pt.substring(1),Ze);break;default:ht=XBe(Pt)}if(ht===null||(Mt.push(ht[0]),(Pt=A7(ht[1]))!==""&&Pt.charAt(0)!==","))return wD;Pt=Pt.replace(/^,/,"")}return Mt}(Qe);if(this.fontFaces){var re=qBe(ye(this.pdf,this.fontFaces),de.map(function(ut){return{family:ut,stretch:"normal",weight:Ie,style:Ne}}));this.pdf.setFont(re.ref.name,re.ref.style)}else{var Re="";(Ie==="bold"||parseInt(Ie,10)>=700||Ne==="bold")&&(Re="bold"),Ne==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Ke="",ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<de.length;st++){if(this.pdf.internal.getFont(de[st],Re,{noFallback:!0,disableWarning:!0})!==void 0){Ke=de[st];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(de[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=de[st],Re="bold";else if(this.pdf.internal.getFont(de[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=de[st],Re="normal";break}}if(Ke===""){for(var wt=0;wt<de.length;wt++)if(ie[de[wt]]){Ke=ie[de[wt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};d.prototype.setLineDash=function(L){this.lineDash=L},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){b.call(this,"fill",!1)},d.prototype.stroke=function(){b.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(L,K){if(isNaN(L)||isNaN(K))throw Sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(L,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(L,K)},d.prototype.closePath=function(){var L=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&pn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){L=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},d.prototype.lineTo=function(L,K){if(isNaN(L)||isNaN(K))throw Sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(L,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},d.prototype.quadraticCurveTo=function(L,K,X,ee){if(isNaN(X)||isNaN(ee)||isNaN(L)||isNaN(K))throw Sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new o(X,ee)),te=this.ctx.transform.applyToPoint(new o(L,K));this.path.push({type:"qct",x1:te.x,y1:te.y,x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},d.prototype.bezierCurveTo=function(L,K,X,ee,W,te){if(isNaN(W)||isNaN(te)||isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee))throw Sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(W,te)),le=this.ctx.transform.applyToPoint(new o(L,K)),be=this.ctx.transform.applyToPoint(new o(X,ee));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:be.x,y2:be.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},d.prototype.arc=function(L,K,X,ee,W,te){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee)||isNaN(W))throw Sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(L,K));L=oe.x,K=oe.y;var le=this.ctx.transform.applyToPoint(new o(0,X)),be=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(le.x-be.x,2)+Math.pow(le.y-be.y,2))}Math.abs(W-ee)>=2*Math.PI&&(ee=0,W=2*Math.PI),this.path.push({type:"arc",x:L,y:K,radius:X,startAngle:ee,endAngle:W,counterclockwise:te})},d.prototype.arcTo=function(L,K,X,ee,W){throw new Error("arcTo not implemented.")},d.prototype.rect=function(L,K,X,ee){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee))throw Sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,K),this.lineTo(L+X,K),this.lineTo(L+X,K+ee),this.lineTo(L,K+ee),this.lineTo(L,K),this.lineTo(L+X,K),this.lineTo(L,K)},d.prototype.fillRect=function(L,K,X,ee){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee))throw Sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,K,X,ee),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},d.prototype.strokeRect=function(L,K,X,ee){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee))throw Sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(L,K,X,ee),this.stroke())},d.prototype.clearRect=function(L,K,X,ee){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee))throw Sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,K,X,ee))},d.prototype.save=function(L){L=typeof L!="boolean"||L;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var K,X,ee,W;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))K=0,X=0,ee=0,W=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(te!==null)K=parseInt(te[1]),X=parseInt(te[2]),ee=parseInt(te[3]),W=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)K=parseInt(te[1]),X=parseInt(te[2]),ee=parseInt(te[3]),W=parseFloat(te[4]);else{if(W=1,typeof L=="string"&&L.charAt(0)!=="#"){var oe=new Yne(L);L=oe.ok?oe.toHex():"#000000"}L.length===4?(K=L.substring(1,2),K+=K,X=L.substring(2,3),X+=X,ee=L.substring(3,4),ee+=ee):(K=L.substring(1,3),X=L.substring(3,5),ee=L.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),ee=parseInt(ee,16)}}return{r:K,g:X,b:ee,a:W,style:L}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(L,K,X,ee){if(isNaN(K)||isNaN(X)||typeof L!="string")throw Sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!f.call(this)){var W=R(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;O.call(this,{text:L,x:K,y:X,scale:te,angle:W,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(L,K,X,ee){if(isNaN(K)||isNaN(X)||typeof L!="string")throw Sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ee=isNaN(ee)?void 0:ee;var W=R(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;O.call(this,{text:L,x:K,y:X,scale:te,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(L){if(typeof L!="string")throw Sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),W=K.getStringUnitWidth(L)*ee/K.internal.scaleFactor,te=function(oe){var le=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new te({width:W*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(L,K){if(isNaN(L)||isNaN(K))throw Sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(L,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(L){if(isNaN(L))throw Sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(L,K){if(isNaN(L)||isNaN(K))throw Sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,L,K);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(L,K,X,ee,W,te){if(isNaN(L)||isNaN(K)||isNaN(X)||isNaN(ee)||isNaN(W)||isNaN(te))throw Sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(L,K,X,ee,W,te);this.ctx.transform=this.ctx.transform.multiply(oe)},d.prototype.setTransform=function(L,K,X,ee,W,te){L=isNaN(L)?1:L,K=isNaN(K)?0:K,X=isNaN(X)?0:X,ee=isNaN(ee)?1:ee,W=isNaN(W)?0:W,te=isNaN(te)?0:te,this.ctx.transform=new l(L,K,X,ee,W,te)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(L,K,X,ee,W,te,oe,le,be){var ve=this.pdf.getImageProperties(L),se=1,ye=1,Be=1,ge=1;ee!==void 0&&le!==void 0&&(Be=le/ee,ge=be/W,se=ve.width/ee*le/ee,ye=ve.height/W*be/W),te===void 0&&(te=K,oe=X,K=0,X=0),ee!==void 0&&le===void 0&&(le=ee,be=W),ee===void 0&&le===void 0&&(le=ve.width,be=ve.height);for(var ae,Ne=this.ctx.transform.decompose(),Ie=R(Ne.rotate.shx),Ee=new l,Qe=(Ee=(Ee=(Ee=Ee.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new s(te-K*Be,oe-X*ge,ee*se,W*ye)),We=g.call(this,Qe),de=[],re=0;re<We.length;re+=1)de.indexOf(We[re])===-1&&de.push(We[re]);if(y(de),this.autoPaging)for(var Re=de[0],Ke=de[de.length-1],ie=Re;ie<Ke+1;ie++){this.pdf.setPage(ie);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ie===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=ie===1?0:ut+(ie-2)*Ze;if(this.ctx.clip_path.length!==0){var Mt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ae,this.posX+this.margin[3],-ht+wt+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=Mt}var Pt=JSON.parse(JSON.stringify(Qe));Pt=v([Pt],this.posX+this.margin[3],-ht+wt+this.ctx.prevPageLastElemOffset)[0];var Yt=(ie>Re||ie<Ke)&&A.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ze,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Ie),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ie)};var g=function(L,K,X){var ee=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ee.push(Math.floor((L.y+W)/X)+1);break;case"arc":ee.push(Math.floor((L.y+W-L.radius)/X)+1),ee.push(Math.floor((L.y+W+L.radius)/X)+1);break;case"qct":var te=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ee.push(Math.floor((te.y+W)/X)+1),ee.push(Math.floor((te.y+te.h+W)/X)+1);break;case"bct":var oe=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ee.push(Math.floor((oe.y+W)/X)+1),ee.push(Math.floor((oe.y+oe.h+W)/X)+1);break;case"rect":ee.push(Math.floor((L.y+W)/X)+1),ee.push(Math.floor((L.y+L.h+W)/X)+1)}for(var le=0;le<ee.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<ee[le];)p.call(this);return ee},p=function(){var L=this.fillStyle,K=this.strokeStyle,X=this.font,ee=this.lineCap,W=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=K,this.font=X,this.lineCap=ee,this.lineWidth=W,this.lineJoin=te},v=function(L,K,X){for(var ee=0;ee<L.length;ee++)switch(L[ee].type){case"bct":L[ee].x2+=K,L[ee].y2+=X;case"qct":L[ee].x1+=K,L[ee].y1+=X;case"mt":case"lt":case"arc":default:L[ee].x+=K,L[ee].y+=X}return L},y=function(L){return L.sort(function(K,X){return K-X})},b=function(L,K){for(var X,ee,W=this.fillStyle,te=this.strokeStyle,oe=this.lineCap,le=this.lineWidth,be=Math.abs(le*this.ctx.transform.scaleX),ve=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),Be=[],ge=0;ge<ye.length;ge++)if(ye[ge].x!==void 0)for(var ae=g.call(this,ye[ge]),Ne=0;Ne<ae.length;Ne+=1)Be.indexOf(ae[Ne])===-1&&Be.push(ae[Ne]);for(var Ie=0;Ie<Be.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<Be[Ie];)p.call(this);if(y(Be),this.autoPaging)for(var Ee=Be[0],Qe=Be[Be.length-1],We=Ee;We<Qe+1;We++){this.pdf.setPage(We),this.fillStyle=W,this.strokeStyle=te,this.lineCap=oe,this.lineWidth=be,this.lineJoin=ve;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],re=We===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ie=We===1?0:Re+(We-2)*Ke;if(this.ctx.clip_path.length!==0){var st=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(X,this.posX+this.margin[3],-ie+re+this.ctx.prevPageLastElemOffset),x.call(this,L,!0),this.path=st}if(ee=JSON.parse(JSON.stringify(se)),this.path=v(ee,this.posX+this.margin[3],-ie+re+this.ctx.prevPageLastElemOffset),K===!1||We===0){var wt=(We>Ee||We<Qe)&&A.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,Ke,null).clip().discardPath()),x.call(this,L,K),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=be,x.call(this,L,K),this.lineWidth=le;this.path=se},x=function(L,K){if((L!=="stroke"||K||!m.call(this))&&(L==="stroke"||K||!f.call(this))){for(var X,ee,W=[],te=this.path,oe=0;oe<te.length;oe++){var le=te[oe];switch(le.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:le,deltas:[],abs:[]});break;case"lt":var be=W.length;if(te[oe-1]&&!isNaN(te[oe-1].x)&&(X=[le.x-te[oe-1].x,le.y-te[oe-1].y],be>0)){for(;be>=0;be--)if(W[be-1].close!==!0&&W[be-1].begin!==!0){W[be-1].deltas.push(X),W[be-1].abs.push(le);break}}break;case"bct":X=[le.x1-te[oe-1].x,le.y1-te[oe-1].y,le.x2-te[oe-1].x,le.y2-te[oe-1].y,le.x-te[oe-1].x,le.y-te[oe-1].y],W[W.length-1].deltas.push(X);break;case"qct":var ve=te[oe-1].x+2/3*(le.x1-te[oe-1].x),se=te[oe-1].y+2/3*(le.y1-te[oe-1].y),ye=le.x+2/3*(le.x1-le.x),Be=le.y+2/3*(le.y1-le.y),ge=le.x,ae=le.y;X=[ve-te[oe-1].x,se-te[oe-1].y,ye-te[oe-1].x,Be-te[oe-1].y,ge-te[oe-1].x,ae-te[oe-1].y],W[W.length-1].deltas.push(X);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(le)}}ee=K?null:L==="stroke"?"stroke":"fill";for(var Ne=!1,Ie=0;Ie<W.length;Ie++)if(W[Ie].arc)for(var Ee=W[Ie].abs,Qe=0;Qe<Ee.length;Qe++){var We=Ee[Qe];We.type==="arc"?_.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,K,!Ne):I.call(this,We.x,We.y),Ne=!0}else if(W[Ie].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(W[Ie].begin!==!0){var de=W[Ie].start.x,re=W[Ie].start.y;F.call(this,W[Ie].deltas,de,re),Ne=!0}ee&&B.call(this,ee),K&&P.call(this)}},w=function(L){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-X;case"top":return L+K-X;case"hanging":return L+K-2*X;case"middle":return L+K/2-X;case"ideographic":return L;case"alphabetic":default:return L}},C=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(K,X){this.colorStops.push([K,X])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(L,K,X,ee,W,te,oe,le,be){for(var ve=Y.call(this,X,ee,W,te),se=0;se<ve.length;se++){var ye=ve[se];se===0&&(be?M.call(this,ye.x1+L,ye.y1+K):I.call(this,ye.x1+L,ye.y1+K)),V.call(this,L,K,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}le?P.call(this):B.call(this,oe)},B=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(L,K){this.pdf.internal.out(r(L)+" "+i(K)+" m")},O=function(L){var K;switch(L.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var X=this.pdf.getTextDimensions(L.text),ee=w.call(this,L.y),W=C.call(this,ee)-X.h,te=this.ctx.transform.applyToPoint(new o(L.x,ee)),oe=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var be,ve,se,ye=this.ctx.transform.applyToRectangle(new s(L.x,ee,X.w,X.h)),Be=le.applyToRectangle(new s(L.x,W,X.w,X.h)),ge=g.call(this,Be),ae=[],Ne=0;Ne<ge.length;Ne+=1)ae.indexOf(ge[Ne])===-1&&ae.push(ge[Ne]);if(y(ae),this.autoPaging)for(var Ie=ae[0],Ee=ae[ae.length-1],Qe=Ie;Qe<Ee+1;Qe++){this.pdf.setPage(Qe);var We=Qe===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],re=this.pdf.internal.pageSize.height-this.margin[2],Re=re-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],ie=Ke-this.margin[3],st=Qe===1?0:de+(Qe-2)*Re;if(this.ctx.clip_path.length!==0){var wt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(be,this.posX+this.margin[3],-1*st+We),x.call(this,"fill",!0),this.path=wt}var ut=v([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-st+We+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale);var Ze=this.autoPaging!=="text";if(Ze||ut.y+ut.h<=re){if(Ze||ut.y>=We&&ut.x<=Ke){var ht=Ze?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ke-ut.x)[0],Mt=v([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-st+We+this.ctx.prevPageLastElemOffset)[0],Pt=Ze&&(Qe>Ie||Qe<Ee)&&A.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ie,Re,null).clip().discardPath()),this.pdf.text(ht,Mt.x,Mt.y,{angle:L.angle,align:K,renderingMode:L.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else ut.y<re&&(this.ctx.prevPageLastElemOffset+=re-ut.y);L.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=se)}else L.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale),this.pdf.text(L.text,te.x+this.posX,te.y+this.posY,{angle:L.angle,align:K,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=se)},I=function(L,K,X,ee){X=X||0,ee=ee||0,this.pdf.internal.out(r(L+X)+" "+i(K+ee)+" l")},F=function(L,K,X){return this.pdf.lines(L,K,X,null,null)},V=function(L,K,X,ee,W,te,oe,le){this.pdf.internal.out([t(n(X+L)),t(a(ee+K)),t(n(W+L)),t(a(te+K)),t(n(oe+L)),t(a(le+K)),"c"].join(" "))},Y=function(L,K,X,ee){for(var W=2*Math.PI,te=Math.PI/2;K>X;)K-=W;var oe=Math.abs(X-K);oe<W&&ee&&(oe=W-oe);for(var le=[],be=ee?-1:1,ve=K;oe>1e-5;){var se=ve+be*Math.min(oe,te);le.push(j.call(this,L,ve,se)),oe-=Math.abs(se-ve),ve=se}return le},j=function(L,K,X){var ee=(X-K)/2,W=L*Math.cos(ee),te=L*Math.sin(ee),oe=W,le=-te,be=oe*oe+le*le,ve=be+oe*W+le*te,se=4/3*(Math.sqrt(2*be*ve)-ve)/(oe*te-le*W),ye=oe-se*le,Be=le+se*oe,ge=ye,ae=-Be,Ne=ee+K,Ie=Math.cos(Ne),Ee=Math.sin(Ne);return{x1:L*Math.cos(K),y1:L*Math.sin(K),x2:ye*Ie-Be*Ee,y2:ye*Ee+Be*Ie,x3:ge*Ie-ae*Ee,y3:ge*Ee+ae*Ie,x4:L*Math.cos(X),y4:L*Math.sin(X)}},R=function(L){return 180*L/Math.PI},H=function(L,K,X,ee,W,te){var oe=L+.5*(X-L),le=K+.5*(ee-K),be=W+.5*(X-W),ve=te+.5*(ee-te),se=Math.min(L,W,oe,be),ye=Math.max(L,W,oe,be),Be=Math.min(K,te,le,ve),ge=Math.max(K,te,le,ve);return new s(se,Be,ye-se,ge-Be)},G=function(L,K,X,ee,W,te,oe,le){var be,ve,se,ye,Be,ge,ae,Ne,Ie,Ee,Qe,We,de,re,Re=X-L,Ke=ee-K,ie=W-X,st=te-ee,wt=oe-W,ut=le-te;for(ve=0;ve<41;ve++)Ie=(ae=(se=L+(be=ve/40)*Re)+be*((Be=X+be*ie)-se))+be*(Be+be*(W+be*wt-Be)-ae),Ee=(Ne=(ye=K+be*Ke)+be*((ge=ee+be*st)-ye))+be*(ge+be*(te+be*ut-ge)-Ne),ve==0?(Qe=Ie,We=Ee,de=Ie,re=Ee):(Qe=Math.min(Qe,Ie),We=Math.min(We,Ee),de=Math.max(de,Ie),re=Math.max(re,Ee));return new s(Math.round(Qe),Math.round(We),Math.round(de-Qe),Math.round(re-We))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,K,X=(L=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Zr.API),function(e){var t=function(a){var o,s,l,c,u,d,h,f,m,A;for(s=[],l=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(u=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(A=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,s.push(d+33,h+33,f+33,m+33,A+33)):s.push(122);return function(g,p){for(var v=p;v>0;v--)g.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(a){var o,s,l,c,u,d=String,h="length",f=255,m="charCodeAt",A="slice",g="replace";for(a[A](-2),a=a[A](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,u=(a+=o="uuuuu"[A](a[h]%5||5))[h];u>c;c+=5)s=52200625*(a[m](c)-33)+614125*(a[m](c+1)-33)+7225*(a[m](c+2)-33)+85*(a[m](c+3)-33)+(a[m](c+4)-33),l.push(f&s>>24,f&s>>16,f&s>>8,f&s);return function(p,v){for(var y=v;y>0;y--)p.pop()}(l,o[h]),d.fromCharCode.apply(d,l)},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},n=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=UL(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,o){var s=0,l=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Zr.API),function(e){e.loadFile=function(t,r,i){return function(n,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(m){var A=m.length,g=[],p=String.fromCharCode;for(h=0;h<A;h+=1)g.push(p(255&m.charCodeAt(h)));return g.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(n,a,o)}catch{}return s}(t,r,i)},e.loadImageFile=e.loadFile}(Zr.API),function(e){function t(){return(ei.html2canvas?Promise.resolve(ei.html2canvas):Zu(()=>Promise.resolve().then(()=>UOe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ei.DOMPurify?Promise.resolve(ei.DOMPurify):Zu(()=>import("./purify.es-f47f2ec0.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var s=pn(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},n=function(o,s){var l=document.createElement(o);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:n("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],m=f.src.find(function(A){return A.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),s(this.prop.container,d)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Zr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,c){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,c){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,s);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Zr.getPageSize=function(o,s,l){if(pn(o)==="object"){var c=o;o=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+s}var f,m=0,A=0;if(h.hasOwnProperty(d))m=h[d][1]/u,A=h[d][0]/u;else try{m=l[1],A=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",A>m&&(f=A,A=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>A&&(f=A,A=m,m=f)}return{width:A,height:m,unit:s,k:u,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(VL):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(Zr.API),Zr.API.addJS=function(e){return m7=e,this.internal.events.subscribe("postPutResources",function(){HS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(HS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),g7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+m7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){HS!==void 0&&g7!==void 0&&this.internal.out("/Names <</JavaScript "+HS+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),a=0;a<n.length;a++){var o=n[a],s=i.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,n,a){var o={title:n,options:a,children:[]};return i==null&&(i=this.root),i.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var o=i.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,n){for(var a=0;a<n.children.length;a++)i.count++,this.count_r(i,n.children[a]);return i.count}}])}(Zr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,i,n,a,o,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,A={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=f,t.indexOf(d.charCodeAt(g+1))!==-1){h=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),A={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:h,numcomponents:d.charCodeAt(g+9)};break}f=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return A}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:i,alias:n}}return u}}(Zr.API);var pv,VS,v7,y7,b7,YBe=function(){var e,t,r;function i(a){var o,s,l,c,u,d,h,f,m,A,g,p,v,y;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=function(){var b,x;for(x=[],b=0;b<4;++b)x.push(String.fromCharCode(this.data[this.pos++]));return x}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(d!=null?d.data:void 0)||this.imgData,p=0;0<=o?p<o:p>o;0<=o?++p:--p)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((A=l-this.transparency.indexed.length)>0)for(v=0;0<=A?v<A:v>A;0<=A?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(g=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,g.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,g.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(d,h,f,m){var A,g,p,v,y,b,x,w,C,_,B,P,M,O,I,F,V,Y,j,R,H,G=Math.ceil((c.width-d)/f),$=Math.ceil((c.height-h)/m),L=c.width==G&&c.height==$;for(O=o*G,P=L?s:new Uint8Array(O*$),b=a.length,M=0,g=0;M<$&&l<b;){switch(a[l++]){case 0:for(v=V=0;V<O;v=V+=1)P[g++]=a[l++];break;case 1:for(v=Y=0;Y<O;v=Y+=1)A=a[l++],y=v<o?0:P[g-o],P[g++]=(A+y)%256;break;case 2:for(v=j=0;j<O;v=j+=1)A=a[l++],p=(v-v%o)/o,I=M&&P[(M-1)*O+p*o+v%o],P[g++]=(I+A)%256;break;case 3:for(v=R=0;R<O;v=R+=1)A=a[l++],p=(v-v%o)/o,y=v<o?0:P[g-o],I=M&&P[(M-1)*O+p*o+v%o],P[g++]=(A+Math.floor((y+I)/2))%256;break;case 4:for(v=H=0;H<O;v=H+=1)A=a[l++],p=(v-v%o)/o,y=v<o?0:P[g-o],M===0?I=F=0:(I=P[(M-1)*O+p*o+v%o],F=p&&P[(M-1)*O+(p-1)*o+v%o]),x=y+I-F,w=Math.abs(x-y),_=Math.abs(x-I),B=Math.abs(x-F),C=w<=_&&w<=B?y:_<=B?I:F,P[g++]=(A+C)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!L){var K=((h+M*m)*c.width+d)*o,X=M*O;for(v=0;v<G;v+=1){for(var ee=0;ee<o;ee+=1)s[K++]=P[X++];K+=(f-1)*o}}M++}}return a=TBe(a),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),s},i.prototype.decodePalette=function(){var a,o,s,l,c,u,d,h,f;for(s=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+s.length),l=0,a=0,o=d=0,h=s.length;d<h;o=d+=3)c[l++]=s[o],c[l++]=s[o+1],c[l++]=s[o+2],c[l++]=(f=u[a++])!=null?f:255;return c},i.prototype.copyToImageData=function(a,o){var s,l,c,u,d,h,f,m,A,g,p;if(l=this.colors,A=null,s=this.hasAlphaChannel,this.palette.length&&(A=(p=this._decodedPalette)!=null?p:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(c=a.data||a).length,d=A||o,u=h=0,l===1)for(;u<m;)f=A?4*o[u/4]:h,g=d[f++],c[u++]=g,c[u++]=g,c[u++]=g,c[u++]=s?d[f++]:255,h=f;else for(;u<m;)f=A?4*o[u/4]:h,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=s?d[f++]:255,h=f},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var n=function(){if(Object.prototype.toString.call(ei)==="[object Window]"){try{t=ei.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(a){var o;if(n()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var o,s,l,c,u,d,h,f;if(this.animation){for(f=[],s=u=0,d=(h=this.animation.frames).length;u<d;s=++u)o=h[s],l=a.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=e(l));return f}},i.prototype.renderFrame=function(a,o){var s,l,c;return s=(l=this.animation.frames)[o],c=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},i.prototype.animate=function(a){var o,s,l,c,u,d,h=this;return s=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,m;if(f=s++%c,m=l[f],h.renderFrame(a,f),c>1&&s/c<u)return h.animation._timeout=setTimeout(o,m.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $Be(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,n=e[t++],a=n>>7,o=1<<(7&n)+1;e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var c=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=r,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&A)&&(h=null),f=A>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++],x=b>>6&1,w=1<<(7&b)+1,C=s,_=l,B=!1;b>>7&&(B=!0,C=t,_=w,t+=3*w);var P=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}u.push({x:g,y:p,width:v,height:y,has_local_palette:B,palette_offset:C,palette_size:_,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!x,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,I){var F=this.frameInfo(O),V=F.width*F.height,Y=new Uint8Array(V);w7(e,F.data_offset,Y,V);var j=F.palette_offset,R=F.transparent_index;R===null&&(R=256);var H=F.width,G=r-H,$=H,L=4*(F.y*r+F.x),K=4*((F.y+F.height)*r+F.x),X=L,ee=4*G;F.interlaced===!0&&(ee+=4*r*7);for(var W=8,te=0,oe=Y.length;te<oe;++te){var le=Y[te];if($===0&&($=H,(X+=ee)>=K&&(ee=4*G+4*r*(W-1),X=L+(H+G)*(W<<1),W>>=1)),le===R)X+=4;else{var be=e[j+3*le],ve=e[j+3*le+1],se=e[j+3*le+2];I[X++]=se,I[X++]=ve,I[X++]=be,I[X++]=255}--$}},this.decodeAndBlitFrameRGBA=function(O,I){var F=this.frameInfo(O),V=F.width*F.height,Y=new Uint8Array(V);w7(e,F.data_offset,Y,V);var j=F.palette_offset,R=F.transparent_index;R===null&&(R=256);var H=F.width,G=r-H,$=H,L=4*(F.y*r+F.x),K=4*((F.y+F.height)*r+F.x),X=L,ee=4*G;F.interlaced===!0&&(ee+=4*r*7);for(var W=8,te=0,oe=Y.length;te<oe;++te){var le=Y[te];if($===0&&($=H,(X+=ee)>=K&&(ee=4*G+4*r*(W-1),X=L+(H+G)*(W<<1),W>>=1)),le===R)X+=4;else{var be=e[j+3*le],ve=e[j+3*le+1],se=e[j+3*le+2];I[X++]=be,I[X++]=ve,I[X++]=se,I[X++]=255}--$}}}function w7(e,t,r,i){for(var n=e[t++],a=1<<n,o=a+1,s=o+1,l=n+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],m=new Int32Array(4096),A=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==a){if(g===o)break;for(var p=g<s?g:A,v=0,y=p;y>a;)y=m[y]>>8,++v;var b=y;if(h+v+(p!==g?1:0)>i)return void Sn.log("Warning, gif stream longer than expected.");r[h++]=b;var x=h+=v;for(p!==g&&(r[h++]=b),y=p;v--;)y=m[y],r[--x]=255&y,y>>=8;A!==null&&s<4096&&(m[s++]=A<<8|b,s>=c+1&&l<12&&(++l,c=c<<1|1)),A=g}else s=o+1,c=(1<<(l=n+1))-1,A=null}return h!==i&&Sn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xD(e){var t,r,i,n,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),A=[],g=0,p=7,v=new Array(64),y=new Array(64),b=new Array(64),x=new Array(256),w=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(L,K){for(var X=0,ee=0,W=new Array,te=1;te<=16;te++){for(var oe=1;oe<=L[te];oe++)W[K[ee]]=[],W[K[ee]][0]=X,W[K[ee]][1]=te,ee++,X++;X*=2}return W}function j(L){for(var K=L[0],X=L[1]-1;X>=0;)K&1<<X&&(g|=1<<p),X--,--p<0&&(g==255?(R(255),R(0)):R(g),p=7,g=0)}function R(L){A.push(L)}function H(L){R(L>>8&255),R(255&L)}function G(L,K,X,ee,W){for(var te,oe=W[0],le=W[240],be=function(Ee,Qe){var We,de,re,Re,Ke,ie,st,wt,ut,Ze,ht=0;for(ut=0;ut<8;++ut){We=Ee[ht],de=Ee[ht+1],re=Ee[ht+2],Re=Ee[ht+3],Ke=Ee[ht+4],ie=Ee[ht+5],st=Ee[ht+6];var Mt=We+(wt=Ee[ht+7]),Pt=We-wt,Yt=de+st,Tt=de-st,Vt=re+ie,Or=re-ie,lr=Re+Ke,Ge=Re-Ke,At=Mt+lr,yt=Mt-lr,Wt=Yt+Vt,rr=Yt-Vt;Ee[ht]=At+Wt,Ee[ht+4]=At-Wt;var qt=.707106781*(rr+yt);Ee[ht+2]=yt+qt,Ee[ht+6]=yt-qt;var Cr=.382683433*((At=Ge+Or)-(rr=Tt+Pt)),Ui=.5411961*At+Cr,ci=1.306562965*rr+Cr,ii=.707106781*(Wt=Or+Tt),en=Pt+ii,dr=Pt-ii;Ee[ht+5]=dr+Ui,Ee[ht+3]=dr-Ui,Ee[ht+1]=en+ci,Ee[ht+7]=en-ci,ht+=8}for(ht=0,ut=0;ut<8;++ut){We=Ee[ht],de=Ee[ht+8],re=Ee[ht+16],Re=Ee[ht+24],Ke=Ee[ht+32],ie=Ee[ht+40],st=Ee[ht+48];var Xe=We+(wt=Ee[ht+56]),ot=We-wt,je=de+st,vt=de-st,he=re+ie,De=re-ie,Ve=Re+Ke,Fe=Re-Ke,Ye=Xe+Ve,gt=Xe-Ve,Ot=je+he,xt=je-he;Ee[ht]=Ye+Ot,Ee[ht+32]=Ye-Ot;var mt=.707106781*(xt+gt);Ee[ht+16]=gt+mt,Ee[ht+48]=gt-mt;var St=.382683433*((Ye=Fe+De)-(xt=vt+ot)),Dt=.5411961*Ye+St,Jt=1.306562965*xt+St,Gt=.707106781*(Ot=De+vt),Sr=ot+Gt,ur=ot-Gt;Ee[ht+40]=ur+Dt,Ee[ht+24]=ur-Dt,Ee[ht+8]=Sr+Jt,Ee[ht+56]=Sr-Jt,ht++}for(ut=0;ut<64;++ut)Ze=Ee[ut]*Qe[ut],f[ut]=Ze>0?Ze+.5|0:Ze-.5|0;return f}(L,K),ve=0;ve<64;++ve)m[C[ve]]=be[ve];var se=m[0]-X;X=m[0],se==0?j(ee[0]):(j(ee[h[te=32767+se]]),j(d[te]));for(var ye=63;ye>0&&m[ye]==0;)ye--;if(ye==0)return j(oe),X;for(var Be,ge=1;ge<=ye;){for(var ae=ge;m[ge]==0&&ge<=ye;)++ge;var Ne=ge-ae;if(Ne>=16){Be=Ne>>4;for(var Ie=1;Ie<=Be;++Ie)j(le);Ne&=15}te=32767+m[ge],j(W[(Ne<<4)+h[te]]),j(d[te]),ge++}return ye!=63&&j(oe),X}function $(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var W=o((X[ee]*K+50)/100);W=Math.min(Math.max(W,1),255),s[C[ee]]=W}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var le=o((te[oe]*K+50)/100);le=Math.min(Math.max(le,1),255),l[C[oe]]=le}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,se=0;se<8;se++)for(var ye=0;ye<8;ye++)c[ve]=1/(s[C[ve]]*be[se]*be[ye]*8),u[ve]=1/(l[C[ve]]*be[se]*be[ye]*8),ve++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,K){K&&$(K),A=new Array,g=0,p=7,H(65496),H(65504),H(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),H(1),H(1),R(0),R(0),function(){H(65499),H(132),R(0);for(var de=0;de<64;de++)R(s[de]);R(1);for(var re=0;re<64;re++)R(l[re])}(),function(de,re){H(65472),H(17),R(8),H(re),H(de),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(L.width,L.height),function(){H(65476),H(418),R(0);for(var de=0;de<16;de++)R(_[de+1]);for(var re=0;re<=11;re++)R(B[re]);R(16);for(var Re=0;Re<16;Re++)R(P[Re+1]);for(var Ke=0;Ke<=161;Ke++)R(M[Ke]);R(1);for(var ie=0;ie<16;ie++)R(O[ie+1]);for(var st=0;st<=11;st++)R(I[st]);R(17);for(var wt=0;wt<16;wt++)R(F[wt+1]);for(var ut=0;ut<=161;ut++)R(V[ut])}(),H(65498),H(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var X=0,ee=0,W=0;g=0,p=7,this.encode.displayName="_encode_";for(var te,oe,le,be,ve,se,ye,Be,ge,ae=L.data,Ne=L.width,Ie=L.height,Ee=4*Ne,Qe=0;Qe<Ie;){for(te=0;te<Ee;){for(ve=Ee*Qe+te,ye=-1,Be=0,ge=0;ge<64;ge++)se=ve+(Be=ge>>3)*Ee+(ye=4*(7&ge)),Qe+Be>=Ie&&(se-=Ee*(Qe+1+Be-Ie)),te+ye>=Ee&&(se-=te+ye-Ee+4),oe=ae[se++],le=ae[se++],be=ae[se++],v[ge]=(w[oe]+w[le+256>>0]+w[be+512>>0]>>16)-128,y[ge]=(w[oe+768>>0]+w[le+1024>>0]+w[be+1280>>0]>>16)-128,b[ge]=(w[oe+1280>>0]+w[le+1536>>0]+w[be+1792>>0]>>16)-128;X=G(v,c,X,t,i),ee=G(y,u,ee,r,n),W=G(b,u,W,r,n),te+=32}Qe+=8}if(p>=0){var We=[];We[1]=p+1,We[0]=(1<<p+1)-1,j(We)}return H(65497),new Uint8Array(A)},e=e||50,function(){for(var L=String.fromCharCode,K=0;K<256;K++)x[K]=L(K)}(),t=Y(_,B),r=Y(O,I),i=Y(P,M),n=Y(F,V),function(){for(var L=1,K=2,X=1;X<=15;X++){for(var ee=L;ee<K;ee++)h[32767+ee]=X,d[32767+ee]=[],d[32767+ee][1]=X,d[32767+ee][0]=ee;for(var W=-(K-1);W<=-L;W++)h[32767+W]=X,d[32767+W]=[],d[32767+W][1]=X,d[32767+W][0]=K-1+W;L<<=1,K<<=1}}(),function(){for(var L=0;L<256;L++)w[L]=19595*L,w[L+256>>0]=38470*L,w[L+512>>0]=7471*L+32768,w[L+768>>0]=-11059*L,w[L+1024>>0]=-21709*L,w[L+1280>>0]=32768*L+8421375,w[L+1536>>0]=-27439*L,w[L+1792>>0]=-5329*L}(),$(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function x7(e){function t(_){if(!_)throw Error("assert :P")}function r(_,B,P){for(var M=0;4>M;M++)if(_[B+M]!=P.charCodeAt(M))return!0;return!1}function i(_,B,P,M,O){for(var I=0;I<O;I++)_[B+I]=P[M+I]}function n(_,B,P,M){for(var O=0;O<M;O++)_[B+O]=P}function a(_){return new Int32Array(_)}function o(_,B){for(var P=[],M=0;M<_;M++)P.push(new B);return P}function s(_,B){var P=[];return function M(O,I,F){for(var V=F[I],Y=0;Y<V&&(O.push(F.length>I+1?[]:new B),!(F.length<I+1));Y++)M(O[Y],I+1,F)}(P,0,_),P}var l=function(){var _=this;function B(E,D){for(var z=1<<D-1>>>0;E&z;)z>>>=1;return z?(E&z-1)+z:E}function P(E,D,z,J,ce){t(!(J%z));do E[D+(J-=z)]=ce;while(0<J)}function M(E,D,z,J,ce){if(t(2328>=ce),512>=ce)var Ae=a(512);else if((Ae=a(ce))==null)return 0;return function(me,Ce,Se,Pe,$e,pt){var ct,it,Nt=Ce,Ct=1<<Se,Je=a(16),rt=a(16);for(t($e!=0),t(Pe!=null),t(me!=null),t(0<Se),it=0;it<$e;++it){if(15<Pe[it])return 0;++Je[Pe[it]]}if(Je[0]==$e)return 0;for(rt[1]=0,ct=1;15>ct;++ct){if(Je[ct]>1<<ct)return 0;rt[ct+1]=rt[ct]+Je[ct]}for(it=0;it<$e;++it)ct=Pe[it],0<Pe[it]&&(pt[rt[ct]++]=it);if(rt[15]==1)return(Pe=new O).g=0,Pe.value=pt[0],P(me,Nt,1,Ct,Pe),Ct;var Ft,jt=-1,Rt=Ct-1,pr=0,ar=1,Ur=1,cr=1<<Se;for(it=0,ct=1,$e=2;ct<=Se;++ct,$e<<=1){if(ar+=Ur<<=1,0>(Ur-=Je[ct]))return 0;for(;0<Je[ct];--Je[ct])(Pe=new O).g=ct,Pe.value=pt[it++],P(me,Nt+pr,$e,cr,Pe),pr=B(pr,ct)}for(ct=Se+1,$e=2;15>=ct;++ct,$e<<=1){if(ar+=Ur<<=1,0>(Ur-=Je[ct]))return 0;for(;0<Je[ct];--Je[ct]){if(Pe=new O,(pr&Rt)!=jt){for(Nt+=cr,Ft=1<<(jt=ct)-Se;15>jt&&!(0>=(Ft-=Je[jt]));)++jt,Ft<<=1;Ct+=cr=1<<(Ft=jt-Se),me[Ce+(jt=pr&Rt)].g=Ft+Se,me[Ce+jt].value=Nt-Ce-jt}Pe.g=ct-Se,Pe.value=pt[it++],P(me,Nt+(pr>>Se),$e,cr,Pe),pr=B(pr,ct)}}return ar!=2*rt[15]-1?0:Ct}(E,D,z,J,ce,Ae)}function O(){this.value=this.g=0}function I(){this.value=this.g=0}function F(){this.G=o(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(vo,I)}function V(E,D,z,J){t(E!=null),t(D!=null),t(2147483648>J),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=D,E.pa=z,E.Jd=D,E.Yc=z+J,E.Zc=4<=J?z+J-4+1:z,te(E)}function Y(E,D){for(var z=0;0<D--;)z|=le(E,128)<<D;return z}function j(E,D){var z=Y(E,D);return oe(E)?-z:z}function R(E,D,z,J){var ce,Ae=0;for(t(E!=null),t(D!=null),t(4294967288>J),E.Sb=J,E.Ra=0,E.u=0,E.h=0,4<J&&(J=4),ce=0;ce<J;++ce)Ae+=D[z+ce]<<8*ce;E.Ra=Ae,E.bb=J,E.oa=D,E.pa=z}function H(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<pp-8>>>0,++E.bb,E.u-=8;X(E)&&(E.h=1,E.u=0)}function G(E,D){if(t(0<=D),!E.h&&D<=fp){var z=K(E)&Oh[D];return E.u+=D,H(E),z}return E.h=1,E.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(E){return E.Ra>>>(E.u&pp-1)>>>0}function X(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>pp}function ee(E,D){E.u=D,E.h=X(E)}function W(E){E.u>=_g&&(t(E.u>=_g),H(E))}function te(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function oe(E){return Y(E,1)}function le(E,D){var z=E.Ca;0>E.b&&te(E);var J=E.b,ce=z*D>>>8,Ae=(E.I>>>J>ce)+0;for(Ae?(z-=ce,E.I-=ce+1<<J>>>0):z=ce+1,J=z,ce=0;256<=J;)ce+=8,J>>=8;return J=7^ce+os[J],E.b-=J,E.Ca=(z<<J)-1,Ae}function be(E,D,z){E[D+0]=z>>24&255,E[D+1]=z>>16&255,E[D+2]=z>>8&255,E[D+3]=z>>0&255}function ve(E,D){return E[D+0]<<0|E[D+1]<<8}function se(E,D){return ve(E,D)|E[D+2]<<16}function ye(E,D){return ve(E,D)|ve(E,D+2)<<16}function Be(E,D){var z=1<<D;return t(E!=null),t(0<D),E.X=a(z),E.X==null?0:(E.Mb=32-D,E.Xa=D,1)}function ge(E,D){t(E!=null),t(D!=null),t(E.Xa==D.Xa),i(D.X,0,E.X,0,1<<D.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ne(E,D,z,J){t(z!=null),t(J!=null);var ce=z[0],Ae=J[0];return ce==0&&(ce=(E*Ae+D/2)/D),Ae==0&&(Ae=(D*ce+E/2)/E),0>=ce||0>=Ae?0:(z[0]=ce,J[0]=Ae,1)}function Ie(E,D){return E+(1<<D)-1>>>D}function Ee(E,D){return((4278255360&E)+(4278255360&D)>>>0&4278255360)+((16711935&E)+(16711935&D)>>>0&16711935)>>>0}function Qe(E,D){_[D]=function(z,J,ce,Ae,me,Ce,Se){var Pe;for(Pe=0;Pe<me;++Pe){var $e=_[E](Ce[Se+Pe-1],ce,Ae+Pe);Ce[Se+Pe]=Ee(z[J+Pe],$e)}}}function We(){this.ud=this.hd=this.jd=0}function de(E,D){return((4278124286&(E^D))>>>1)+(E&D)>>>0}function re(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Re(E,D){return re(E+(E-D+.5>>1))}function Ke(E,D,z){return Math.abs(D-z)-Math.abs(E-z)}function ie(E,D,z,J,ce,Ae,me){for(J=Ae[me-1],z=0;z<ce;++z)Ae[me+z]=J=Ee(E[D+z],J)}function st(E,D,z,J,ce){var Ae;for(Ae=0;Ae<z;++Ae){var me=E[D+Ae],Ce=me>>8&255,Se=16711935&(Se=(Se=16711935&me)+((Ce<<16)+Ce));J[ce+Ae]=(4278255360&me)+Se>>>0}}function wt(E,D){D.jd=E>>0&255,D.hd=E>>8&255,D.ud=E>>16&255}function ut(E,D,z,J,ce,Ae){var me;for(me=0;me<J;++me){var Ce=D[z+me],Se=Ce>>>8,Pe=Ce,$e=255&($e=($e=Ce>>>16)+((E.jd<<24>>24)*(Se<<24>>24)>>>5));Pe=255&(Pe=(Pe=Pe+((E.hd<<24>>24)*(Se<<24>>24)>>>5))+((E.ud<<24>>24)*($e<<24>>24)>>>5)),ce[Ae+me]=(4278255360&Ce)+($e<<16)+Pe}}function Ze(E,D,z,J,ce){_[D]=function(Ae,me,Ce,Se,Pe,$e,pt,ct,it){for(Se=pt;Se<ct;++Se)for(pt=0;pt<it;++pt)Pe[$e++]=ce(Ce[J(Ae[me++])])},_[E]=function(Ae,me,Ce,Se,Pe,$e,pt){var ct=8>>Ae.b,it=Ae.Ea,Nt=Ae.K[0],Ct=Ae.w;if(8>ct)for(Ae=(1<<Ae.b)-1,Ct=(1<<ct)-1;me<Ce;++me){var Je,rt=0;for(Je=0;Je<it;++Je)Je&Ae||(rt=J(Se[Pe++])),$e[pt++]=ce(Nt[rt&Ct]),rt>>=ct}else _["VP8LMapColor"+z](Se,Pe,Nt,Ct,$e,pt,me,Ce,it)}}function ht(E,D,z,J,ce){for(z=D+z;D<z;){var Ae=E[D++];J[ce++]=Ae>>16&255,J[ce++]=Ae>>8&255,J[ce++]=Ae>>0&255}}function Mt(E,D,z,J,ce){for(z=D+z;D<z;){var Ae=E[D++];J[ce++]=Ae>>16&255,J[ce++]=Ae>>8&255,J[ce++]=Ae>>0&255,J[ce++]=Ae>>24&255}}function Pt(E,D,z,J,ce){for(z=D+z;D<z;){var Ae=(me=E[D++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;J[ce++]=Ae,J[ce++]=me}}function Yt(E,D,z,J,ce){for(z=D+z;D<z;){var Ae=(me=E[D++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;J[ce++]=Ae,J[ce++]=me}}function Tt(E,D,z,J,ce){for(z=D+z;D<z;){var Ae=E[D++];J[ce++]=Ae>>0&255,J[ce++]=Ae>>8&255,J[ce++]=Ae>>16&255}}function Vt(E,D,z,J,ce,Ae){if(Ae==0)for(z=D+z;D<z;)be(J,((Ae=E[D++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ce+=32;else i(J,ce,E,D,z)}function Or(E,D){_[D][0]=_[E+"0"],_[D][1]=_[E+"1"],_[D][2]=_[E+"2"],_[D][3]=_[E+"3"],_[D][4]=_[E+"4"],_[D][5]=_[E+"5"],_[D][6]=_[E+"6"],_[D][7]=_[E+"7"],_[D][8]=_[E+"8"],_[D][9]=_[E+"9"],_[D][10]=_[E+"10"],_[D][11]=_[E+"11"],_[D][12]=_[E+"12"],_[D][13]=_[E+"13"],_[D][14]=_[E+"0"],_[D][15]=_[E+"0"]}function lr(E){return E==Bc||E==Q0||E==W0||E==V1}function Ge(){this.eb=[],this.size=this.A=this.fb=0}function At(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ge,this.f.kb=new At,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Cr(E,D){var z=E.T,J=D.ba.f.RGBA,ce=J.eb,Ae=J.fb+E.ka*J.A,me=vl[D.ba.S],Ce=E.y,Se=E.O,Pe=E.f,$e=E.N,pt=E.ea,ct=E.W,it=D.cc,Nt=D.dc,Ct=D.Mc,Je=D.Nc,rt=E.ka,Ft=E.ka+E.T,jt=E.U,Rt=jt+1>>1;for(rt==0?me(Ce,Se,null,null,Pe,$e,pt,ct,Pe,$e,pt,ct,ce,Ae,null,null,jt):(me(D.ec,D.fc,Ce,Se,it,Nt,Ct,Je,Pe,$e,pt,ct,ce,Ae-J.A,ce,Ae,jt),++z);rt+2<Ft;rt+=2)it=Pe,Nt=$e,Ct=pt,Je=ct,$e+=E.Rc,ct+=E.Rc,Ae+=2*J.A,me(Ce,(Se+=2*E.fa)-E.fa,Ce,Se,it,Nt,Ct,Je,Pe,$e,pt,ct,ce,Ae-J.A,ce,Ae,jt);return Se+=E.fa,E.j+Ft<E.o?(i(D.ec,D.fc,Ce,Se,jt),i(D.cc,D.dc,Pe,$e,Rt),i(D.Mc,D.Nc,pt,ct,Rt),z--):1&Ft||me(Ce,Se,null,null,Pe,$e,pt,ct,Pe,$e,pt,ct,ce,Ae+J.A,null,null,jt),z}function Ui(E,D,z){var J=E.F,ce=[E.J];if(J!=null){var Ae=E.U,me=D.ba.S,Ce=me==yp||me==W0;D=D.ba.f.RGBA;var Se=[0],Pe=E.ka;Se[0]=E.T,E.Kb&&(Pe==0?--Se[0]:(--Pe,ce[0]-=E.width),E.j+E.ka+E.T==E.o&&(Se[0]=E.o-E.j-Pe));var $e=D.eb;Pe=D.fb+Pe*D.A,E=Pg(J,ce[0],E.width,Ae,Se,$e,Pe+(Ce?0:3),D.A),t(z==Se),E&&lr(me)&&vd($e,Pe,Ce,Ae,Se,D.A)}return 0}function ci(E){var D=E.ma,z=D.ba.S,J=11>z,ce=z==Tg||z==Dg||z==yp||z==V0||z==12||lr(z);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Cg(D.Oa,E,ce?11:12))return 0;if(ce&&lr(z)&&Ht(),E.da)alert("todo:use_scaling");else{if(J){if(D.Ib=qt,E.Kb){if(z=E.U+1>>1,D.memory=a(E.U+2*z),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+E.U,D.Mc=D.cc,D.Nc=D.dc+z,D.Ib=Cr,Ht()}}else alert("todo:EmitYUV");ce&&(D.Jb=Ui,J&&lt())}if(J&&!k_){for(E=0;256>E;++E)j_[E]=89858*(E-128)+Fg>>X0,Y1[E]=-22014*(E-128)+Fg,tO[E]=-45773*(E-128),eO[E]=113618*(E-128)+Fg>>X0;for(E=Lg;E<X1;++E)D=76283*(E-16)+Fg>>X0,z_[E-Lg]=Us(D,255),Rg[E-Lg]=Us(D+8>>4,15);k_=1}return 1}function ii(E){var D=E.ma,z=E.U,J=E.T;return t(!(1&E.ka)),0>=z||0>=J?0:(z=D.Ib(E,D),D.Jb!=null&&D.Jb(E,D,z),D.Dc+=z,1)}function en(E){E.ma.memory=null}function dr(E,D,z,J){return G(E,8)!=47?0:(D[0]=G(E,14)+1,z[0]=G(E,14)+1,J[0]=G(E,1),G(E,3)!=0?0:!E.h)}function Xe(E,D){if(4>E)return E+1;var z=E-2>>1;return(2+(1&E)<<z)+G(D,z)+1}function ot(E,D){return 120<D?D-120:1<=(z=((z=G0[D-1])>>4)*E+(8-(15&z)))?z:1;var z}function je(E,D,z){var J=K(z),ce=E[D+=255&J].g-8;return 0<ce&&(ee(z,z.u+8),J=K(z),D+=E[D].value,D+=J&(1<<ce)-1),ee(z,z.u+E[D].g),E[D].value}function vt(E,D,z){return z.g+=E.g,z.value+=E.value<<D>>>0,t(8>=z.g),E.g}function he(E,D,z){var J=E.xc;return t((D=J==0?0:E.vc[E.md*(z>>J)+(D>>J)])<E.Wb),E.Ya[D]}function De(E,D,z,J){var ce=E.ab,Ae=E.c*D,me=E.C;D=me+D;var Ce=z,Se=J;for(J=E.Ta,z=E.Ua;0<ce--;){var Pe=E.gc[ce],$e=me,pt=D,ct=Ce,it=Se,Nt=(Se=J,Ce=z,Pe.Ea);switch(t($e<pt),t(pt<=Pe.nc),Pe.hc){case 2:z0(ct,it,(pt-$e)*Nt,Se,Ce);break;case 0:var Ct=$e,Je=pt,rt=Se,Ft=Ce,jt=(cr=Pe).Ea;Ct==0&&(Sg(ct,it,null,null,1,rt,Ft),ie(ct,it+1,0,0,jt-1,rt,Ft+1),it+=jt,Ft+=jt,++Ct);for(var Rt=1<<cr.b,pr=Rt-1,ar=Ie(jt,cr.b),Ur=cr.K,cr=cr.w+(Ct>>cr.b)*ar;Ct<Je;){var ji=Ur,Gi=cr,Pi=1;for(Eg(ct,it,rt,Ft-jt,1,rt,Ft);Pi<jt;){var xi=(Pi&~pr)+Rt;xi>jt&&(xi=jt),(0,Ad[ji[Gi++]>>8&15])(ct,it+ +Pi,rt,Ft+Pi-jt,xi-Pi,rt,Ft+Pi),Pi=xi}it+=jt,Ft+=jt,++Ct&pr||(cr+=ar)}pt!=Pe.nc&&i(Se,Ce-Nt,Se,Ce+(pt-$e-1)*Nt,Nt);break;case 1:for(Nt=ct,Je=it,jt=(ct=Pe.Ea)-(Ft=ct&~(rt=(it=1<<Pe.b)-1)),Ct=Ie(ct,Pe.b),Rt=Pe.K,Pe=Pe.w+($e>>Pe.b)*Ct;$e<pt;){for(pr=Rt,ar=Pe,Ur=new We,cr=Je+Ft,ji=Je+ct;Je<cr;)wt(pr[ar++],Ur),ss(Ur,Nt,Je,it,Se,Ce),Je+=it,Ce+=it;Je<ji&&(wt(pr[ar++],Ur),ss(Ur,Nt,Je,jt,Se,Ce),Je+=jt,Ce+=jt),++$e&rt||(Pe+=Ct)}break;case 3:if(ct==Se&&it==Ce&&0<Pe.b){for(Je=Se,ct=Nt=Ce+(pt-$e)*Nt-(Ft=(pt-$e)*Ie(Pe.Ea,Pe.b)),it=Se,rt=Ce,Ct=[],Ft=(jt=Ft)-1;0<=Ft;--Ft)Ct[Ft]=it[rt+Ft];for(Ft=jt-1;0<=Ft;--Ft)Je[ct+Ft]=Ct[Ft];ql(Pe,$e,pt,Se,Nt,Se,Ce)}else ql(Pe,$e,pt,ct,it,Se,Ce)}Ce=J,Se=z}Se!=z&&i(J,z,Ce,Se,Ae)}function Ve(E,D){var z=E.V,J=E.Ba+E.c*E.C,ce=D-E.C;if(t(D<=E.l.o),t(16>=ce),0<ce){var Ae=E.l,me=E.Ta,Ce=E.Ua,Se=Ae.width;if(De(E,ce,z,J),ce=Ce=[Ce],t((z=E.C)<(J=D)),t(Ae.v<Ae.va),J>Ae.o&&(J=Ae.o),z<Ae.j){var Pe=Ae.j-z;z=Ae.j,ce[0]+=Pe*Se}if(z>=J?z=0:(ce[0]+=4*Ae.v,Ae.ka=z-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=J-z,z=1),z){if(Ce=Ce[0],11>(z=E.ca).S){var $e=z.f.RGBA,pt=(J=z.S,ce=Ae.U,Ae=Ae.T,Pe=$e.eb,$e.A),ct=Ae;for($e=$e.fb+E.Ma*$e.A;0<ct--;){var it=me,Nt=Ce,Ct=ce,Je=Pe,rt=$e;switch(J){case Jl:pl(it,Nt,Ct,Je,rt);break;case Tg:Ec(it,Nt,Ct,Je,rt);break;case Bc:Ec(it,Nt,Ct,Je,rt),vd(Je,rt,0,Ct,1,0);break;case Og:Ap(it,Nt,Ct,Je,rt);break;case Dg:Vt(it,Nt,Ct,Je,rt,1);break;case Q0:Vt(it,Nt,Ct,Je,rt,1),vd(Je,rt,0,Ct,1,0);break;case yp:Vt(it,Nt,Ct,Je,rt,0);break;case W0:Vt(it,Nt,Ct,Je,rt,0),vd(Je,rt,1,Ct,1,0);break;case V0:Kl(it,Nt,Ct,Je,rt);break;case V1:Kl(it,Nt,Ct,Je,rt),Dh(Je,rt,Ct,1,0);break;case T_:Xl(it,Nt,Ct,Je,rt);break;default:t(0)}Ce+=Se,$e+=pt}E.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=z.height)}}E.C=D,t(E.C<=E.i)}function Fe(E){var D;if(0<E.ua)return 0;for(D=0;D<E.Wb;++D){var z=E.Ya[D].G,J=E.Ya[D].H;if(0<z[1][J[1]+0].g||0<z[2][J[2]+0].g||0<z[3][J[3]+0].g)return 0}return 1}function Ye(E,D,z,J,ce,Ae){if(E.Z!=0){var me=E.qd,Ce=E.rd;for(t(vu[E.Z]!=null);D<z;++D)vu[E.Z](me,Ce,J,ce,J,ce,Ae),me=J,Ce=ce,ce+=Ae;E.qd=me,E.rd=Ce}}function gt(E,D){var z=E.l.ma,J=z.Z==0||z.Z==1?E.l.j:E.C;if(J=E.C<J?J:E.C,t(D<=E.l.o),D>J){var ce=E.l.width,Ae=z.ca,me=z.tb+ce*J,Ce=E.V,Se=E.Ba+E.c*J,Pe=E.gc;t(E.ab==1),t(Pe[0].hc==3),N1(Pe[0],J,D,Ce,Se,Ae,me),Ye(z,J,D,Ae,me,ce)}E.C=E.Ma=D}function Ot(E,D,z,J,ce,Ae,me){var Ce=E.$/J,Se=E.$%J,Pe=E.m,$e=E.s,pt=z+E.$,ct=pt;ce=z+J*ce;var it=z+J*Ae,Nt=280+$e.ua,Ct=E.Pb?Ce:16777216,Je=0<$e.ua?$e.Wa:null,rt=$e.wc,Ft=pt<it?he($e,Se,Ce):null;t(E.C<Ae),t(it<=ce);var jt=!1;e:for(;;){for(;jt||pt<it;){var Rt=0;if(Ce>=Ct){var pr=pt-z;t((Ct=E).Pb),Ct.wd=Ct.m,Ct.xd=pr,0<Ct.s.ua&&ge(Ct.s.Wa,Ct.s.vb),Ct=Ce+q3}if(Se&rt||(Ft=he($e,Se,Ce)),t(Ft!=null),Ft.Qb&&(D[pt]=Ft.qb,jt=!0),!jt)if(W(Pe),Ft.jc){Rt=Pe,pr=D;var ar=pt,Ur=Ft.pd[K(Rt)&vo-1];t(Ft.jc),256>Ur.g?(ee(Rt,Rt.u+Ur.g),pr[ar]=Ur.value,Rt=0):(ee(Rt,Rt.u+Ur.g-256),t(256<=Ur.value),Rt=Ur.value),Rt==0&&(jt=!0)}else Rt=je(Ft.G[0],Ft.H[0],Pe);if(Pe.h)break;if(jt||256>Rt){if(!jt)if(Ft.nd)D[pt]=(Ft.qb|Rt<<8)>>>0;else{if(W(Pe),jt=je(Ft.G[1],Ft.H[1],Pe),W(Pe),pr=je(Ft.G[2],Ft.H[2],Pe),ar=je(Ft.G[3],Ft.H[3],Pe),Pe.h)break;D[pt]=(ar<<24|jt<<16|Rt<<8|pr)>>>0}if(jt=!1,++pt,++Se>=J&&(Se=0,++Ce,me!=null&&Ce<=Ae&&!(Ce%16)&&me(E,Ce),Je!=null))for(;ct<pt;)Rt=D[ct++],Je.X[(506832829*Rt&4294967295)>>>Je.Mb]=Rt}else if(280>Rt){if(Rt=Xe(Rt-256,Pe),pr=je(Ft.G[4],Ft.H[4],Pe),W(Pe),pr=ot(J,pr=Xe(pr,Pe)),Pe.h)break;if(pt-z<pr||ce-pt<Rt)break e;for(ar=0;ar<Rt;++ar)D[pt+ar]=D[pt+ar-pr];for(pt+=Rt,Se+=Rt;Se>=J;)Se-=J,++Ce,me!=null&&Ce<=Ae&&!(Ce%16)&&me(E,Ce);if(t(pt<=ce),Se&rt&&(Ft=he($e,Se,Ce)),Je!=null)for(;ct<pt;)Rt=D[ct++],Je.X[(506832829*Rt&4294967295)>>>Je.Mb]=Rt}else{if(!(Rt<Nt))break e;for(jt=Rt-280,t(Je!=null);ct<pt;)Rt=D[ct++],Je.X[(506832829*Rt&4294967295)>>>Je.Mb]=Rt;Rt=pt,t(!(jt>>>(pr=Je).Xa)),D[Rt]=pr.X[jt],jt=!0}jt||t(Pe.h==X(Pe))}if(E.Pb&&Pe.h&&pt<ce)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&ge(E.s.vb,E.s.Wa);else{if(Pe.h)break e;me!=null&&me(E,Ce>Ae?Ae:Ce),E.a=0,E.$=pt-z}return 1}return E.a=3,0}function xt(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var D=E.Wa;D!=null&&(D.X=null),E.vb=null,t(E!=null)}function mt(){var E=new j0;return E==null?null:(E.a=0,E.xb=L_,Or("Predictor","VP8LPredictors"),Or("Predictor","VP8LPredictors_C"),Or("PredictorAdd","VP8LPredictorsAdd"),Or("PredictorAdd","VP8LPredictorsAdd_C"),z0=st,ss=ut,pl=ht,Ec=Mt,Kl=Pt,Xl=Yt,Ap=Tt,_.VP8LMapColor32b=Bg,_.VP8LMapColor8b=Au,E)}function St(E,D,z,J,ce){var Ae=1,me=[E],Ce=[D],Se=J.m,Pe=J.s,$e=null,pt=0;e:for(;;){if(z)for(;Ae&&G(Se,1);){var ct=me,it=Ce,Nt=J,Ct=1,Je=Nt.m,rt=Nt.gc[Nt.ab],Ft=G(Je,2);if(Nt.Oc&1<<Ft)Ae=0;else{switch(Nt.Oc|=1<<Ft,rt.hc=Ft,rt.Ea=ct[0],rt.nc=it[0],rt.K=[null],++Nt.ab,t(4>=Nt.ab),Ft){case 0:case 1:rt.b=G(Je,3)+2,Ct=St(Ie(rt.Ea,rt.b),Ie(rt.nc,rt.b),0,Nt,rt.K),rt.K=rt.K[0];break;case 3:var jt,Rt=G(Je,8)+1,pr=16<Rt?0:4<Rt?1:2<Rt?2:3;if(ct[0]=Ie(rt.Ea,pr),rt.b=pr,jt=Ct=St(Rt,1,0,Nt,rt.K)){var ar,Ur=Rt,cr=rt,ji=1<<(8>>cr.b),Gi=a(ji);if(Gi==null)jt=0;else{var Pi=cr.K[0],xi=cr.w;for(Gi[0]=cr.K[0][0],ar=1;ar<1*Ur;++ar)Gi[ar]=Ee(Pi[xi+ar],Gi[ar-1]);for(;ar<4*ji;++ar)Gi[ar]=0;cr.K[0]=null,cr.K[0]=Gi,jt=1}}Ct=jt;break;case 2:break;default:t(0)}Ae=Ct}}if(me=me[0],Ce=Ce[0],Ae&&G(Se,1)&&!(Ae=1<=(pt=G(Se,4))&&11>=pt)){J.a=3;break e}var cn;if(cn=Ae)t:{var tn,ui,Jn,cs=J,oa=me,us=Ce,Xi=pt,zs=z,Hs=cs.m,wa=cs.s,Na=[null],zo=1,yl=0,Mc=G3[Xi];r:for(;;){if(zs&&G(Hs,1)){var ka=G(Hs,3)+2,Pc=Ie(oa,ka),wd=Ie(us,ka),wp=Pc*wd;if(!St(Pc,wd,0,cs,Na))break r;for(Na=Na[0],wa.xc=ka,tn=0;tn<wp;++tn){var ds=Na[tn]>>8&65535;Na[tn]=ds,ds>=zo&&(zo=ds+1)}}if(Hs.h)break r;for(ui=0;5>ui;++ui){var Bn=D_[ui];!ui&&0<Xi&&(Bn+=1<<Xi),yl<Bn&&(yl=Bn)}var $0=o(zo*Mc,O),J0=zo,V_=o(J0,F);if(V_==null)var Z0=null;else t(65536>=J0),Z0=V_;var xp=a(yl);if(Z0==null||xp==null||$0==null){cs.a=1;break r}var Ih=$0;for(tn=Jn=0;tn<zo;++tn){var Vs=Z0[tn],Cp=Vs.G,tc=Vs.H,Q_=0,ev=1,W_=0;for(ui=0;5>ui;++ui){Bn=D_[ui],Cp[ui]=Ih,tc[ui]=Jn,!ui&&0<Xi&&(Bn+=1<<Xi);n:{var Ug,J1=Bn,Ng=cs,_p=xp,nO=Ih,G_=Jn,Z1=0,xd=Ng.m,aO=G(xd,1);if(n(_p,0,0,J1),aO){var oO=G(xd,1)+1,ew=G(xd,1),tw=G(xd,ew==0?1:8);_p[tw]=1,oO==2&&(_p[tw=G(xd,8)]=1);var tv=1}else{var q_=a(19),K_=G(xd,4)+4;if(19<K_){Ng.a=3;var rv=0;break n}for(Ug=0;Ug<K_;++Ug)q_[W3[Ug]]=G(xd,3);var rw=void 0,bl=void 0,X_=Ng,sO=q_,kg=J1,Y_=_p,iw=0,yu=X_.m,jg=8,nw=o(128,O);i:for(;M(nw,0,7,sO,19);){if(G(yu,1)){var $_=2+2*G(yu,3);if((rw=2+G(yu,$_))>kg)break i}else rw=kg;for(bl=0;bl<kg&&rw--;){W(yu);var J_=nw[0+(127&K(yu))];ee(yu,yu.u+J_.g);var Sp=J_.value;if(16>Sp)Y_[bl++]=Sp,Sp!=0&&(jg=Sp);else{var lO=Sp==16,aw=Sp-16,cO=O_[aw],Z_=G(yu,bp[aw])+cO;if(bl+Z_>kg)break i;for(var uO=lO?jg:0;0<Z_--;)Y_[bl++]=uO}}iw=1;break i}iw||(X_.a=3),tv=iw}(tv=tv&&!xd.h)&&(Z1=M(nO,G_,8,_p,J1)),tv&&Z1!=0?rv=Z1:(Ng.a=3,rv=0)}if(rv==0)break r;if(ev&&Q3[ui]==1&&(ev=Ih[Jn].g==0),Q_+=Ih[Jn].g,Jn+=rv,3>=ui){var zg,ow=xp[0];for(zg=1;zg<Bn;++zg)xp[zg]>ow&&(ow=xp[zg]);W_+=ow}}if(Vs.nd=ev,Vs.Qb=0,ev&&(Vs.qb=(Cp[3][tc[3]+0].value<<24|Cp[1][tc[1]+0].value<<16|Cp[2][tc[2]+0].value)>>>0,Q_==0&&256>Cp[0][tc[0]+0].value&&(Vs.Qb=1,Vs.qb+=Cp[0][tc[0]+0].value<<8)),Vs.jc=!Vs.Qb&&6>W_,Vs.jc){var Ep,bu=Vs;for(Ep=0;Ep<vo;++Ep){var Cd=Ep,_d=bu.pd[Cd],Hg=bu.G[0][bu.H[0]+Cd];256<=Hg.value?(_d.g=Hg.g+256,_d.value=Hg.value):(_d.g=0,_d.value=0,Cd>>=vt(Hg,8,_d),Cd>>=vt(bu.G[1][bu.H[1]+Cd],16,_d),Cd>>=vt(bu.G[2][bu.H[2]+Cd],0,_d),vt(bu.G[3][bu.H[3]+Cd],24,_d))}}}wa.vc=Na,wa.Wb=zo,wa.Ya=Z0,wa.yc=$0,cn=1;break t}cn=0}if(!(Ae=cn)){J.a=3;break e}if(0<pt){if(Pe.ua=1<<pt,!Be(Pe.Wa,pt)){J.a=1,Ae=0;break e}}else Pe.ua=0;var sw=J,lw=me,eS=Ce,cw=sw.s,uw=cw.xc;if(sw.c=lw,sw.i=eS,cw.md=Ie(lw,uw),cw.wc=uw==0?-1:(1<<uw)-1,z){J.xb=$3;break e}if(($e=a(me*Ce))==null){J.a=1,Ae=0;break e}Ae=(Ae=Ot(J,$e,0,me,Ce,Ce,null))&&!Se.h;break e}return Ae?(ce!=null?ce[0]=$e:(t($e==null),t(z)),J.$=0,z||xt(Pe)):xt(Pe),Ae}function Dt(E,D){var z=E.c*E.i,J=z+D+16*D;return t(E.c<=D),E.V=a(J),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+z+D,1)}function Jt(E,D){var z=E.C,J=D-z,ce=E.V,Ae=E.Ba+E.c*z;for(t(D<=E.l.o);0<J;){var me=16<J?16:J,Ce=E.l.ma,Se=E.l.width,Pe=Se*me,$e=Ce.ca,pt=Ce.tb+Se*z,ct=E.Ta,it=E.Ua;De(E,me,ce,Ae),k1(ct,it,$e,pt,Pe),Ye(Ce,z,z+me,$e,pt,Se),J-=me,ce+=me*E.c,z+=me}t(z==D),E.C=E.Ma=D}function Gt(){this.ub=this.yd=this.td=this.Rb=0}function Sr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ur(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Pr(){this.Yb=function(){var E=[];return function D(z,J,ce){for(var Ae=ce[J],me=0;me<Ae&&(z.push(ce.length>J+1?[]:0),!(ce.length<J+1));me++)D(z[me],J+1,ce)}(E,0,[3,11]),E}()}function Zt(){this.jb=a(3),this.Wc=s([4,8],Pr),this.Xc=s([4,17],Pr)}function zt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Tr(){this.ld=this.La=this.dd=this.tc=0}function Kt(){this.Na=this.la=0}function er(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tr),this.Y=0,this.ya=Array(new Qt),this.aa=0,this.l=new pe}function oi(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ne(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Gt,this.Kc=new Sr,this.ed=new zt,this.Qa=new ur,this.Ic=this.$c=this.Aa=0,this.D=new Yr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,er),this.Pa=new Zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oi),this.Hd=0,this.rb=Array(new Kt),this.sb=0,this.wa=Array(new Tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qt),this.L=this.aa=0,this.gd=s([4,2],Tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ue(){var E=new ne;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,yd||(yd=Er)),E}function we(E,D,z){return E.a==0&&(E.a=D,E.sc=z,E.cb=0),0}function ze(E,D,z){return 3<=z&&E[D+0]==157&&E[D+1]==1&&E[D+2]==42}function dt(E,D){if(E==null)return 0;if(E.a=0,E.sc="OK",D==null)return we(E,2,"null VP8Io passed to VP8GetHeaders()");var z=D.data,J=D.w,ce=D.ha;if(4>ce)return we(E,7,"Truncated header.");var Ae=z[J+0]|z[J+1]<<8|z[J+2]<<16,me=E.Od;if(me.Rb=!(1&Ae),me.td=Ae>>1&7,me.yd=Ae>>4&1,me.ub=Ae>>5,3<me.td)return we(E,3,"Incorrect keyframe parameters.");if(!me.yd)return we(E,4,"Frame not displayable.");J+=3,ce-=3;var Ce=E.Kc;if(me.Rb){if(7>ce)return we(E,7,"cannot parse picture header");if(!ze(z,J,ce))return we(E,3,"Bad code word");Ce.c=16383&(z[J+4]<<8|z[J+3]),Ce.Td=z[J+4]>>6,Ce.i=16383&(z[J+6]<<8|z[J+5]),Ce.Ud=z[J+6]>>6,J+=7,ce-=7,E.za=Ce.c+15>>4,E.Ub=Ce.i+15>>4,D.width=Ce.c,D.height=Ce.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,n((Ae=E.Pa).jb,0,255,Ae.jb.length),t((Ae=E.Qa)!=null),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,n(Ae.Zb,0,0,Ae.Zb.length),n(Ae.Lb,0,0,Ae.Lb)}if(me.ub>ce)return we(E,7,"bad partition length");V(Ae=E.m,z,J,me.ub),J+=me.ub,ce-=me.ub,me.Rb&&(Ce.Ld=oe(Ae),Ce.Kd=oe(Ae)),Ce=E.Qa;var Se,Pe=E.Pa;if(t(Ae!=null),t(Ce!=null),Ce.Cb=oe(Ae),Ce.Cb){if(Ce.Bb=oe(Ae),oe(Ae)){for(Ce.Fb=oe(Ae),Se=0;4>Se;++Se)Ce.Zb[Se]=oe(Ae)?j(Ae,7):0;for(Se=0;4>Se;++Se)Ce.Lb[Se]=oe(Ae)?j(Ae,6):0}if(Ce.Bb)for(Se=0;3>Se;++Se)Pe.jb[Se]=oe(Ae)?Y(Ae,8):255}else Ce.Bb=0;if(Ae.Ka)return we(E,3,"cannot parse segment header");if((Ce=E.ed).zd=oe(Ae),Ce.Tb=Y(Ae,6),Ce.wb=Y(Ae,3),Ce.Pc=oe(Ae),Ce.Pc&&oe(Ae)){for(Pe=0;4>Pe;++Pe)oe(Ae)&&(Ce.vd[Pe]=j(Ae,6));for(Pe=0;4>Pe;++Pe)oe(Ae)&&(Ce.od[Pe]=j(Ae,6))}if(E.L=Ce.Tb==0?0:Ce.zd?1:2,Ae.Ka)return we(E,3,"cannot parse filter header");var $e=ce;if(ce=Se=J,J=Se+$e,Ce=$e,E.Xb=(1<<Y(E.m,2))-1,$e<3*(Pe=E.Xb))z=7;else{for(Se+=3*Pe,Ce-=3*Pe,$e=0;$e<Pe;++$e){var pt=z[ce+0]|z[ce+1]<<8|z[ce+2]<<16;pt>Ce&&(pt=Ce),V(E.Jc[+$e],z,Se,pt),Se+=pt,Ce-=pt,ce+=3}V(E.Jc[+Pe],z,Se,Ce),z=Se<J?0:5}if(z!=0)return we(E,z,"cannot parse partitions");for(z=Y(Se=E.m,7),ce=oe(Se)?j(Se,4):0,J=oe(Se)?j(Se,4):0,Ce=oe(Se)?j(Se,4):0,Pe=oe(Se)?j(Se,4):0,Se=oe(Se)?j(Se,4):0,$e=E.Qa,pt=0;4>pt;++pt){if($e.Cb){var ct=$e.Zb[pt];$e.Fb||(ct+=z)}else{if(0<pt){E.pb[pt]=E.pb[0];continue}ct=z}var it=E.pb[pt];it.Sc[0]=Q1[Us(ct+ce,127)],it.Sc[1]=q0[Us(ct+0,127)],it.Eb[0]=2*Q1[Us(ct+J,127)],it.Eb[1]=101581*q0[Us(ct+Ce,127)]>>16,8>it.Eb[1]&&(it.Eb[1]=8),it.Qc[0]=Q1[Us(ct+Pe,117)],it.Qc[1]=q0[Us(ct+Se,127)],it.lc=ct+Se}if(!me.Rb)return we(E,4,"Not a key frame.");for(oe(Ae),me=E.Pa,z=0;4>z;++z){for(ce=0;8>ce;++ce)for(J=0;3>J;++J)for(Ce=0;11>Ce;++Ce)Pe=le(Ae,W1[z][ce][J][Ce])?Y(Ae,8):I_[z][ce][J][Ce],me.Wc[z][ce].Yb[J][Ce]=Pe;for(ce=0;17>ce;++ce)me.Xc[z][ce]=me.Wc[z][F_[ce]]}return E.kc=oe(Ae),E.kc&&(E.Bd=Y(Ae,8)),E.cb=1}function Er(E,D,z,J,ce,Ae,me){var Ce=D[ce].Yb[z];for(z=0;16>ce;++ce){if(!le(E,Ce[z+0]))return ce;for(;!le(E,Ce[z+1]);)if(Ce=D[++ce].Yb[0],z=0,ce==16)return 16;var Se=D[ce+1].Yb;if(le(E,Ce[z+2])){var Pe=E,$e=0;if(le(Pe,(ct=Ce)[(pt=z)+3]))if(le(Pe,ct[pt+6])){for(Ce=0,pt=2*($e=le(Pe,ct[pt+8]))+(ct=le(Pe,ct[pt+9+$e])),$e=0,ct=K3[pt];ct[Ce];++Ce)$e+=$e+le(Pe,ct[Ce]);$e+=3+(8<<pt)}else le(Pe,ct[pt+7])?($e=7+2*le(Pe,165),$e+=le(Pe,145)):$e=5+le(Pe,159);else $e=le(Pe,ct[pt+4])?3+le(Pe,ct[pt+5]):2;Ce=Se[2]}else $e=1,Ce=Se[1];Se=me+X3[ce],0>(Pe=E).b&&te(Pe);var pt,ct=Pe.b,it=(pt=Pe.Ca>>1)-(Pe.I>>ct)>>31;--Pe.b,Pe.Ca+=it,Pe.Ca|=1,Pe.I-=(pt+1&it)<<ct,Ae[Se]=(($e^it)-it)*J[(0<ce)+0]}return 16}function tr(E){var D=E.rb[E.sb-1];D.la=0,D.Na=0,n(E.zc,0,0,E.zc.length),E.ja=0}function ti(E,D){if(E==null)return 0;if(D==null)return we(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!dt(E,D))return 0;if(t(E.cb),D.ac==null||D.ac(D)){D.ob&&(E.L=0);var z=Y0[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=D.v-z>>4,E.zb=D.j-z>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=D.o+15+z>>4,E.Hb=D.va+15+z>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var J=E.ed;for(z=0;4>z;++z){var ce;if(E.Qa.Cb){var Ae=E.Qa.Lb[z];E.Qa.Fb||(Ae+=J.Tb)}else Ae=J.Tb;for(ce=0;1>=ce;++ce){var me=E.gd[z][ce],Ce=Ae;if(J.Pc&&(Ce+=J.vd[0],ce&&(Ce+=J.od[0])),0<(Ce=0>Ce?0:63<Ce?63:Ce)){var Se=Ce;0<J.wb&&(Se=4<J.wb?Se>>2:Se>>1)>9-J.wb&&(Se=9-J.wb),1>Se&&(Se=1),me.dd=Se,me.tc=2*Ce+Se,me.ld=40<=Ce?2:15<=Ce?1:0}else me.tc=0;me.La=ce}}}z=0}else we(E,6,"Frame setup failed"),z=E.a;if(z=z==0){if(z){E.$c=0,0<E.Aa||(E.Ic=iO);e:{z=E.Ic,J=4*(Se=E.za);var Pe=32*Se,$e=Se+1,pt=0<E.L?Se*(0<E.Aa?2:1):0,ct=(E.Aa==2?2:1)*Se;if((me=J+832+(ce=3*(16*z+Y0[E.L])/2*Pe)+(Ae=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=me)z=0;else{if(me>E.Vb){if(E.Vb=0,E.Ec=a(me),E.Fc=0,E.Ec==null){z=we(E,1,"no memory during frame initialization.");break e}E.Vb=me}me=E.Ec,Ce=E.Fc,E.Ac=me,E.Bc=Ce,Ce+=J,E.Gd=o(Pe,oi),E.Hd=0,E.rb=o($e+1,Kt),E.sb=1,E.wa=pt?o(pt,Tr):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=Se),t(!0),E.oc=me,E.pc=Ce,Ce+=832,E.ya=o(ct,Qt),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=Se),E.R=16*Se,E.B=8*Se,Se=(Pe=Y0[E.L])*E.R,Pe=Pe/2*E.B,E.sa=me,E.ta=Ce+Se,E.qa=E.sa,E.ra=E.ta+16*z*E.R+Pe,E.Ha=E.qa,E.Ia=E.ra+8*z*E.B+Pe,E.$c=0,Ce+=ce,E.mb=Ae?me:null,E.nb=Ae?Ce:null,t(Ce+Ae<=E.Fc+E.Vb),tr(E),n(E.Ac,E.Bc,0,J),z=1}}if(z){if(D.ka=0,D.y=E.sa,D.O=E.ta,D.f=E.qa,D.N=E.ra,D.ea=E.Ha,D.Vd=E.Ia,D.fa=E.R,D.Rc=E.B,D.F=null,D.J=0,!z1){for(z=-255;255>=z;++z)vp[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)j1[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)ba[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)$l[255+z]=0>z?0:255<z?255:z;z1=1}Al=O1,gp=P1,gu=O0,gl=T1,Ns=D0,ls=Jf,gd=sp,mp=Rs,md=U1,ml=cp,Mg=lp,ks=dd,mu=yg,ln=N0,vn=R0,$n=Sc,ya=Ql,Yl=U0,Zl[0]=fl,Zl[1]=du,Zl[2]=I1,Zl[3]=F0,Zl[4]=rp,Zl[5]=np,Zl[6]=ip,Zl[7]=Ag,Zl[8]=L1,Zl[9]=F1,bd[0]=tp,bd[1]=I0,bd[2]=Cc,bd[3]=_h,bd[4]=Ja,bd[5]=D1,bd[6]=pg,ec[0]=cd,ec[1]=ep,ec[2]=R1,ec[3]=gg,ec[4]=ud,ec[5]=_c,ec[6]=mg,z=1}else z=0}z&&(z=function(it,Nt){for(it.M=0;it.M<it.Va;++it.M){var Ct,Je=it.Jc[it.M&it.Xb],rt=it.m,Ft=it;for(Ct=0;Ct<Ft.za;++Ct){var jt=rt,Rt=Ft,pr=Rt.Ac,ar=Rt.Bc+4*Ct,Ur=Rt.zc,cr=Rt.ya[Rt.aa+Ct];if(Rt.Qa.Bb?cr.$b=le(jt,Rt.Pa.jb[0])?2+le(jt,Rt.Pa.jb[2]):le(jt,Rt.Pa.jb[1]):cr.$b=0,Rt.kc&&(cr.Ad=le(jt,Rt.Bd)),cr.Za=!le(jt,145)+0,cr.Za){var ji=cr.Ob,Gi=0;for(Rt=0;4>Rt;++Rt){var Pi,xi=Ur[0+Rt];for(Pi=0;4>Pi;++Pi){xi=Y3[pr[ar+Pi]][xi];for(var cn=Ig[le(jt,xi[0])];0<cn;)cn=Ig[2*cn+le(jt,xi[cn])];xi=-cn,pr[ar+Pi]=xi}i(ji,Gi,pr,ar,4),Gi+=4,Ur[0+Rt]=xi}}else xi=le(jt,156)?le(jt,128)?1:3:le(jt,163)?2:0,cr.Ob[0]=xi,n(pr,ar,xi,4),n(Ur,0,xi,4);cr.Dd=le(jt,142)?le(jt,114)?le(jt,183)?1:3:2:0}if(Ft.m.Ka)return we(it,7,"Premature end-of-partition0 encountered.");for(;it.ja<it.za;++it.ja){if(Ft=Je,jt=(rt=it).rb[rt.sb-1],pr=rt.rb[rt.sb+rt.ja],Ct=rt.ya[rt.aa+rt.ja],ar=rt.kc?Ct.Ad:0)jt.la=pr.la=0,Ct.Za||(jt.Na=pr.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var tn,ui;if(jt=pr,pr=Ft,ar=rt.Pa.Xc,Ur=rt.ya[rt.aa+rt.ja],cr=rt.pb[Ur.$b],Rt=Ur.ad,ji=0,Gi=rt.rb[rt.sb-1],xi=Pi=0,n(Rt,ji,0,384),Ur.Za)var Jn=0,cs=ar[3];else{cn=a(16);var oa=jt.Na+Gi.Na;if(oa=yd(pr,ar[1],oa,cr.Eb,0,cn,0),jt.Na=Gi.Na=(0<oa)+0,1<oa)Al(cn,0,Rt,ji);else{var us=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Rt[ji+cn]=us}Jn=1,cs=ar[0]}var Xi=15&jt.la,zs=15&Gi.la;for(cn=0;4>cn;++cn){var Hs=1&zs;for(us=ui=0;4>us;++us)Xi=Xi>>1|(Hs=(oa=yd(pr,cs,oa=Hs+(1&Xi),cr.Sc,Jn,Rt,ji))>Jn)<<7,ui=ui<<2|(3<oa?3:1<oa?2:Rt[ji+0]!=0),ji+=16;Xi>>=4,zs=zs>>1|Hs<<7,Pi=(Pi<<8|ui)>>>0}for(cs=Xi,Jn=zs>>4,tn=0;4>tn;tn+=2){for(ui=0,Xi=jt.la>>4+tn,zs=Gi.la>>4+tn,cn=0;2>cn;++cn){for(Hs=1&zs,us=0;2>us;++us)oa=Hs+(1&Xi),Xi=Xi>>1|(Hs=0<(oa=yd(pr,ar[2],oa,cr.Qc,0,Rt,ji)))<<3,ui=ui<<2|(3<oa?3:1<oa?2:Rt[ji+0]!=0),ji+=16;Xi>>=2,zs=zs>>1|Hs<<5}xi|=ui<<4*tn,cs|=Xi<<4<<tn,Jn|=(240&zs)<<tn}jt.la=cs,Gi.la=Jn,Ur.Hc=Pi,Ur.Gc=xi,Ur.ia=43690&xi?0:cr.ia,ar=!(Pi|xi)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Ct.$b][Ct.Za],rt.wa[rt.Y+rt.ja].La|=!ar),Ft.Ka)return we(it,7,"Premature end-of-file encountered.")}if(tr(it),rt=Nt,Ft=1,Ct=(Je=it).D,jt=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)e:{if(Ct.M=Je.M,Ct.uc=jt,xg(Je,Ct),Ft=1,Ct=(ui=Je.D).Nb,jt=(xi=Y0[Je.L])*Je.R,pr=xi/2*Je.B,cn=16*Ct*Je.R,us=8*Ct*Je.B,ar=Je.sa,Ur=Je.ta-jt+cn,cr=Je.qa,Rt=Je.ra-pr+us,ji=Je.Ha,Gi=Je.Ia-pr+us,zs=(Xi=ui.M)==0,Pi=Xi>=Je.Va-1,Je.Aa==2&&xg(Je,ui),ui.uc)for(Hs=(oa=Je).D.M,t(oa.D.uc),ui=oa.yb;ui<oa.Hb;++ui){Jn=ui,cs=Hs;var wa=(Na=(Bn=oa).D).Nb;tn=Bn.R;var Na=Na.wa[Na.Y+Jn],zo=Bn.sa,yl=Bn.ta+16*wa*tn+16*Jn,Mc=Na.dd,ka=Na.tc;if(ka!=0)if(t(3<=ka),Bn.L==1)0<Jn&&$n(zo,yl,tn,ka+4),Na.La&&Yl(zo,yl,tn,ka),0<cs&&vn(zo,yl,tn,ka+4),Na.La&&ya(zo,yl,tn,ka);else{var Pc=Bn.B,wd=Bn.qa,wp=Bn.ra+8*wa*Pc+8*Jn,ds=Bn.Ha,Bn=Bn.Ia+8*wa*Pc+8*Jn;wa=Na.ld,0<Jn&&(mp(zo,yl,tn,ka+4,Mc,wa),ml(wd,wp,ds,Bn,Pc,ka+4,Mc,wa)),Na.La&&(ks(zo,yl,tn,ka,Mc,wa),ln(wd,wp,ds,Bn,Pc,ka,Mc,wa)),0<cs&&(gd(zo,yl,tn,ka+4,Mc,wa),md(wd,wp,ds,Bn,Pc,ka+4,Mc,wa)),Na.La&&(Mg(zo,yl,tn,ka,Mc,wa),mu(wd,wp,ds,Bn,Pc,ka,Mc,wa))}}if(Je.ia&&alert("todo:DitherRow"),rt.put!=null){if(ui=16*Xi,Xi=16*(Xi+1),zs?(rt.y=Je.sa,rt.O=Je.ta+cn,rt.f=Je.qa,rt.N=Je.ra+us,rt.ea=Je.Ha,rt.W=Je.Ia+us):(ui-=xi,rt.y=ar,rt.O=Ur,rt.f=cr,rt.N=Rt,rt.ea=ji,rt.W=Gi),Pi||(Xi-=xi),Xi>rt.o&&(Xi=rt.o),rt.F=null,rt.J=null,Je.Fa!=null&&0<Je.Fa.length&&ui<Xi&&(rt.J=wg(Je,rt,ui,Xi-ui),rt.F=Je.mb,rt.F==null&&rt.F.length==0)){Ft=we(Je,3,"Could not decode alpha data.");break e}ui<rt.j&&(xi=rt.j-ui,ui=rt.j,t(!(1&xi)),rt.O+=Je.R*xi,rt.N+=Je.B*(xi>>1),rt.W+=Je.B*(xi>>1),rt.F!=null&&(rt.J+=rt.width*xi)),ui<Xi&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=ui-rt.j,rt.U=rt.va-rt.v,rt.T=Xi-ui,Ft=rt.put(rt))}Ct+1!=Je.Ic||Pi||(i(Je.sa,Je.ta-jt,ar,Ur+16*Je.R,jt),i(Je.qa,Je.ra-pr,cr,Rt+8*Je.B,pr),i(Je.Ha,Je.Ia-pr,ji,Gi+8*Je.B,pr))}if(!Ft)return we(it,6,"Output aborted.")}return 1}(E,D)),D.bc!=null&&D.bc(D),z&=1}return z?(E.cb=0,z):0}function Wr(E,D,z,J,ce){ce=E[D+z+32*J]+(ce>>3),E[D+z+32*J]=-256&ce?0>ce?0:255:ce}function mi(E,D,z,J,ce,Ae){Wr(E,D,0,z,J+ce),Wr(E,D,1,z,J+Ae),Wr(E,D,2,z,J-Ae),Wr(E,D,3,z,J-ce)}function Wn(E){return(20091*E>>16)+E}function xc(E,D,z,J){var ce,Ae=0,me=a(16);for(ce=0;4>ce;++ce){var Ce=E[D+0]+E[D+8],Se=E[D+0]-E[D+8],Pe=(35468*E[D+4]>>16)-Wn(E[D+12]),$e=Wn(E[D+4])+(35468*E[D+12]>>16);me[Ae+0]=Ce+$e,me[Ae+1]=Se+Pe,me[Ae+2]=Se-Pe,me[Ae+3]=Ce-$e,Ae+=4,D++}for(ce=Ae=0;4>ce;++ce)Ce=(E=me[Ae+0]+4)+me[Ae+8],Se=E-me[Ae+8],Pe=(35468*me[Ae+4]>>16)-Wn(me[Ae+12]),Wr(z,J,0,0,Ce+($e=Wn(me[Ae+4])+(35468*me[Ae+12]>>16))),Wr(z,J,1,0,Se+Pe),Wr(z,J,2,0,Se-Pe),Wr(z,J,3,0,Ce-$e),Ae++,J+=32}function Jf(E,D,z,J){var ce=E[D+0]+4,Ae=35468*E[D+4]>>16,me=Wn(E[D+4]),Ce=35468*E[D+1]>>16;mi(z,J,0,ce+me,E=Wn(E[D+1]),Ce),mi(z,J,1,ce+Ae,E,Ce),mi(z,J,2,ce-Ae,E,Ce),mi(z,J,3,ce-me,E,Ce)}function P1(E,D,z,J,ce){xc(E,D,z,J),ce&&xc(E,D+16,z,J+4)}function O0(E,D,z,J){gp(E,D+0,z,J,1),gp(E,D+32,z,J+128,1)}function T1(E,D,z,J){var ce;for(E=E[D+0]+4,ce=0;4>ce;++ce)for(D=0;4>D;++D)Wr(z,J,D,ce,E)}function D0(E,D,z,J){E[D+0]&&gl(E,D+0,z,J),E[D+16]&&gl(E,D+16,z,J+4),E[D+32]&&gl(E,D+32,z,J+128),E[D+48]&&gl(E,D+48,z,J+128+4)}function O1(E,D,z,J){var ce,Ae=a(16);for(ce=0;4>ce;++ce){var me=E[D+0+ce]+E[D+12+ce],Ce=E[D+4+ce]+E[D+8+ce],Se=E[D+4+ce]-E[D+8+ce],Pe=E[D+0+ce]-E[D+12+ce];Ae[0+ce]=me+Ce,Ae[8+ce]=me-Ce,Ae[4+ce]=Pe+Se,Ae[12+ce]=Pe-Se}for(ce=0;4>ce;++ce)me=(E=Ae[0+4*ce]+3)+Ae[3+4*ce],Ce=Ae[1+4*ce]+Ae[2+4*ce],Se=Ae[1+4*ce]-Ae[2+4*ce],Pe=E-Ae[3+4*ce],z[J+0]=me+Ce>>3,z[J+16]=Pe+Se>>3,z[J+32]=me-Ce>>3,z[J+48]=Pe-Se>>3,J+=64}function Zf(E,D,z){var J,ce=D-32,Ae=jo,me=255-E[ce-1];for(J=0;J<z;++J){var Ce,Se=Ae,Pe=me+E[D-1];for(Ce=0;Ce<z;++Ce)E[D+Ce]=Se[Pe+E[ce+Ce]];D+=32}}function du(E,D){Zf(E,D,4)}function ep(E,D){Zf(E,D,8)}function I0(E,D){Zf(E,D,16)}function Cc(E,D){var z;for(z=0;16>z;++z)i(E,D+32*z,E,D-32,16)}function _h(E,D){var z;for(z=16;0<z;--z)n(E,D,E[D-1],16),D+=32}function Sh(E,D,z){var J;for(J=0;16>J;++J)n(D,z+32*J,E,16)}function tp(E,D){var z,J=16;for(z=0;16>z;++z)J+=E[D-1+32*z]+E[D+z-32];Sh(J>>5,E,D)}function Ja(E,D){var z,J=8;for(z=0;16>z;++z)J+=E[D-1+32*z];Sh(J>>4,E,D)}function D1(E,D){var z,J=8;for(z=0;16>z;++z)J+=E[D+z-32];Sh(J>>4,E,D)}function pg(E,D){Sh(128,E,D)}function Gr(E,D,z){return E+2*D+z+2>>2}function I1(E,D){var z,J=D-32;for(J=new Uint8Array([Gr(E[J-1],E[J+0],E[J+1]),Gr(E[J+0],E[J+1],E[J+2]),Gr(E[J+1],E[J+2],E[J+3]),Gr(E[J+2],E[J+3],E[J+4])]),z=0;4>z;++z)i(E,D+32*z,J,0,J.length)}function F0(E,D){var z=E[D-1],J=E[D-1+32],ce=E[D-1+64],Ae=E[D-1+96];be(E,D+0,16843009*Gr(E[D-1-32],z,J)),be(E,D+32,16843009*Gr(z,J,ce)),be(E,D+64,16843009*Gr(J,ce,Ae)),be(E,D+96,16843009*Gr(ce,Ae,Ae))}function fl(E,D){var z,J=4;for(z=0;4>z;++z)J+=E[D+z-32]+E[D-1+32*z];for(J>>=3,z=0;4>z;++z)n(E,D+32*z,J,4)}function rp(E,D){var z=E[D-1+0],J=E[D-1+32],ce=E[D-1+64],Ae=E[D-1-32],me=E[D+0-32],Ce=E[D+1-32],Se=E[D+2-32],Pe=E[D+3-32];E[D+0+96]=Gr(J,ce,E[D-1+96]),E[D+1+96]=E[D+0+64]=Gr(z,J,ce),E[D+2+96]=E[D+1+64]=E[D+0+32]=Gr(Ae,z,J),E[D+3+96]=E[D+2+64]=E[D+1+32]=E[D+0+0]=Gr(me,Ae,z),E[D+3+64]=E[D+2+32]=E[D+1+0]=Gr(Ce,me,Ae),E[D+3+32]=E[D+2+0]=Gr(Se,Ce,me),E[D+3+0]=Gr(Pe,Se,Ce)}function ip(E,D){var z=E[D+1-32],J=E[D+2-32],ce=E[D+3-32],Ae=E[D+4-32],me=E[D+5-32],Ce=E[D+6-32],Se=E[D+7-32];E[D+0+0]=Gr(E[D+0-32],z,J),E[D+1+0]=E[D+0+32]=Gr(z,J,ce),E[D+2+0]=E[D+1+32]=E[D+0+64]=Gr(J,ce,Ae),E[D+3+0]=E[D+2+32]=E[D+1+64]=E[D+0+96]=Gr(ce,Ae,me),E[D+3+32]=E[D+2+64]=E[D+1+96]=Gr(Ae,me,Ce),E[D+3+64]=E[D+2+96]=Gr(me,Ce,Se),E[D+3+96]=Gr(Ce,Se,Se)}function np(E,D){var z=E[D-1+0],J=E[D-1+32],ce=E[D-1+64],Ae=E[D-1-32],me=E[D+0-32],Ce=E[D+1-32],Se=E[D+2-32],Pe=E[D+3-32];E[D+0+0]=E[D+1+64]=Ae+me+1>>1,E[D+1+0]=E[D+2+64]=me+Ce+1>>1,E[D+2+0]=E[D+3+64]=Ce+Se+1>>1,E[D+3+0]=Se+Pe+1>>1,E[D+0+96]=Gr(ce,J,z),E[D+0+64]=Gr(J,z,Ae),E[D+0+32]=E[D+1+96]=Gr(z,Ae,me),E[D+1+32]=E[D+2+96]=Gr(Ae,me,Ce),E[D+2+32]=E[D+3+96]=Gr(me,Ce,Se),E[D+3+32]=Gr(Ce,Se,Pe)}function Ag(E,D){var z=E[D+0-32],J=E[D+1-32],ce=E[D+2-32],Ae=E[D+3-32],me=E[D+4-32],Ce=E[D+5-32],Se=E[D+6-32],Pe=E[D+7-32];E[D+0+0]=z+J+1>>1,E[D+1+0]=E[D+0+64]=J+ce+1>>1,E[D+2+0]=E[D+1+64]=ce+Ae+1>>1,E[D+3+0]=E[D+2+64]=Ae+me+1>>1,E[D+0+32]=Gr(z,J,ce),E[D+1+32]=E[D+0+96]=Gr(J,ce,Ae),E[D+2+32]=E[D+1+96]=Gr(ce,Ae,me),E[D+3+32]=E[D+2+96]=Gr(Ae,me,Ce),E[D+3+64]=Gr(me,Ce,Se),E[D+3+96]=Gr(Ce,Se,Pe)}function F1(E,D){var z=E[D-1+0],J=E[D-1+32],ce=E[D-1+64],Ae=E[D-1+96];E[D+0+0]=z+J+1>>1,E[D+2+0]=E[D+0+32]=J+ce+1>>1,E[D+2+32]=E[D+0+64]=ce+Ae+1>>1,E[D+1+0]=Gr(z,J,ce),E[D+3+0]=E[D+1+32]=Gr(J,ce,Ae),E[D+3+32]=E[D+1+64]=Gr(ce,Ae,Ae),E[D+3+64]=E[D+2+64]=E[D+0+96]=E[D+1+96]=E[D+2+96]=E[D+3+96]=Ae}function L1(E,D){var z=E[D-1+0],J=E[D-1+32],ce=E[D-1+64],Ae=E[D-1+96],me=E[D-1-32],Ce=E[D+0-32],Se=E[D+1-32],Pe=E[D+2-32];E[D+0+0]=E[D+2+32]=z+me+1>>1,E[D+0+32]=E[D+2+64]=J+z+1>>1,E[D+0+64]=E[D+2+96]=ce+J+1>>1,E[D+0+96]=Ae+ce+1>>1,E[D+3+0]=Gr(Ce,Se,Pe),E[D+2+0]=Gr(me,Ce,Se),E[D+1+0]=E[D+3+32]=Gr(z,me,Ce),E[D+1+32]=E[D+3+64]=Gr(J,z,me),E[D+1+64]=E[D+3+96]=Gr(ce,J,z),E[D+1+96]=Gr(Ae,ce,J)}function R1(E,D){var z;for(z=0;8>z;++z)i(E,D+32*z,E,D-32,8)}function gg(E,D){var z;for(z=0;8>z;++z)n(E,D,E[D-1],8),D+=32}function Eh(E,D,z){var J;for(J=0;8>J;++J)n(D,z+32*J,E,8)}function cd(E,D){var z,J=8;for(z=0;8>z;++z)J+=E[D+z-32]+E[D-1+32*z];Eh(J>>4,E,D)}function _c(E,D){var z,J=4;for(z=0;8>z;++z)J+=E[D+z-32];Eh(J>>3,E,D)}function ud(E,D){var z,J=4;for(z=0;8>z;++z)J+=E[D-1+32*z];Eh(J>>3,E,D)}function mg(E,D){Eh(128,E,D)}function ap(E,D,z){var J=E[D-z],ce=E[D+0],Ae=3*(ce-J)+H1[1020+E[D-2*z]-E[D+z]],me=H0[112+(Ae+4>>3)];E[D-z]=jo[255+J+H0[112+(Ae+3>>3)]],E[D+0]=jo[255+ce-me]}function vg(E,D,z,J){var ce=E[D+0],Ae=E[D+z];return js[255+E[D-2*z]-E[D-z]]>J||js[255+Ae-ce]>J}function op(E,D,z,J){return 4*js[255+E[D-z]-E[D+0]]+js[255+E[D-2*z]-E[D+z]]<=J}function L0(E,D,z,J,ce){var Ae=E[D-3*z],me=E[D-2*z],Ce=E[D-z],Se=E[D+0],Pe=E[D+z],$e=E[D+2*z],pt=E[D+3*z];return 4*js[255+Ce-Se]+js[255+me-Pe]>J?0:js[255+E[D-4*z]-Ae]<=ce&&js[255+Ae-me]<=ce&&js[255+me-Ce]<=ce&&js[255+pt-$e]<=ce&&js[255+$e-Pe]<=ce&&js[255+Pe-Se]<=ce}function R0(E,D,z,J){var ce=2*J+1;for(J=0;16>J;++J)op(E,D+J,z,ce)&&ap(E,D+J,z)}function Sc(E,D,z,J){var ce=2*J+1;for(J=0;16>J;++J)op(E,D+J*z,1,ce)&&ap(E,D+J*z,1)}function Ql(E,D,z,J){var ce;for(ce=3;0<ce;--ce)R0(E,D+=4*z,z,J)}function U0(E,D,z,J){var ce;for(ce=3;0<ce;--ce)Sc(E,D+=4,z,J)}function hu(E,D,z,J,ce,Ae,me,Ce){for(Ae=2*Ae+1;0<ce--;){if(L0(E,D,z,Ae,me))if(vg(E,D,z,Ce))ap(E,D,z);else{var Se=E,Pe=D,$e=z,pt=Se[Pe-2*$e],ct=Se[Pe-$e],it=Se[Pe+0],Nt=Se[Pe+$e],Ct=Se[Pe+2*$e],Je=27*(Ft=H1[1020+3*(it-ct)+H1[1020+pt-Nt]])+63>>7,rt=18*Ft+63>>7,Ft=9*Ft+63>>7;Se[Pe-3*$e]=jo[255+Se[Pe-3*$e]+Ft],Se[Pe-2*$e]=jo[255+pt+rt],Se[Pe-$e]=jo[255+ct+Je],Se[Pe+0]=jo[255+it-Je],Se[Pe+$e]=jo[255+Nt-rt],Se[Pe+2*$e]=jo[255+Ct-Ft]}D+=J}}function Wl(E,D,z,J,ce,Ae,me,Ce){for(Ae=2*Ae+1;0<ce--;){if(L0(E,D,z,Ae,me))if(vg(E,D,z,Ce))ap(E,D,z);else{var Se=E,Pe=D,$e=z,pt=Se[Pe-$e],ct=Se[Pe+0],it=Se[Pe+$e],Nt=H0[112+((Ct=3*(ct-pt))+4>>3)],Ct=H0[112+(Ct+3>>3)],Je=Nt+1>>1;Se[Pe-2*$e]=jo[255+Se[Pe-2*$e]+Je],Se[Pe-$e]=jo[255+pt+Ct],Se[Pe+0]=jo[255+ct-Nt],Se[Pe+$e]=jo[255+it-Je]}D+=J}}function sp(E,D,z,J,ce,Ae){hu(E,D,z,1,16,J,ce,Ae)}function Rs(E,D,z,J,ce,Ae){hu(E,D,1,z,16,J,ce,Ae)}function lp(E,D,z,J,ce,Ae){var me;for(me=3;0<me;--me)Wl(E,D+=4*z,z,1,16,J,ce,Ae)}function dd(E,D,z,J,ce,Ae){var me;for(me=3;0<me;--me)Wl(E,D+=4,1,z,16,J,ce,Ae)}function U1(E,D,z,J,ce,Ae,me,Ce){hu(E,D,ce,1,8,Ae,me,Ce),hu(z,J,ce,1,8,Ae,me,Ce)}function cp(E,D,z,J,ce,Ae,me,Ce){hu(E,D,1,ce,8,Ae,me,Ce),hu(z,J,1,ce,8,Ae,me,Ce)}function yg(E,D,z,J,ce,Ae,me,Ce){Wl(E,D+4*ce,ce,1,8,Ae,me,Ce),Wl(z,J+4*ce,ce,1,8,Ae,me,Ce)}function N0(E,D,z,J,ce,Ae,me,Ce){Wl(E,D+4,1,ce,8,Ae,me,Ce),Wl(z,J+4,1,ce,8,Ae,me,Ce)}function hd(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function k0(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new O}function j0(){this.xb=this.a=0,this.l=new pe,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new k0,this.ab=0,this.gc=o(4,Mh),this.Oc=0}function up(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ph(E,D,z,J,ce,Ae,me){for(E=E==null?0:E[D+0],D=0;D<me;++D)ce[Ae+D]=E+z[J+D]&255,E=ce[Ae+D]}function bg(E,D,z,J,ce,Ae,me){var Ce;if(E==null)Ph(null,null,z,J,ce,Ae,me);else for(Ce=0;Ce<me;++Ce)ce[Ae+Ce]=E[D+Ce]+z[J+Ce]&255}function fd(E,D,z,J,ce,Ae,me){if(E==null)Ph(null,null,z,J,ce,Ae,me);else{var Ce,Se=E[D+0],Pe=Se,$e=Se;for(Ce=0;Ce<me;++Ce)Pe=$e+(Se=E[D+Ce])-Pe,$e=z[J+Ce]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Se,ce[Ae+Ce]=$e}}function wg(E,D,z,J){var ce=D.width,Ae=D.o;if(t(E!=null&&D!=null),0>z||0>=J||z+J>Ae)return null;if(!E.Cc){if(E.ga==null){var me;if(E.ga=new up,(me=E.ga==null)||(me=D.width*D.o,t(E.Gb.length==0),E.Gb=a(me),E.Uc=0,E.Gb==null?me=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,me=1),me=!me),!me){me=E.ga;var Ce=E.Fa,Se=E.P,Pe=E.qc,$e=E.mb,pt=E.nb,ct=Se+1,it=Pe-1,Nt=me.l;if(t(Ce!=null&&$e!=null&&D!=null),vu[0]=null,vu[1]=Ph,vu[2]=bg,vu[3]=fd,me.ca=$e,me.tb=pt,me.c=D.width,me.i=D.height,t(0<me.c&&0<me.i),1>=Pe)D=0;else if(me.$a=Ce[Se+0]>>0&3,me.Z=Ce[Se+0]>>2&3,me.Lc=Ce[Se+0]>>4&3,Se=Ce[Se+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||Se)D=0;else if(Nt.put=ii,Nt.ac=ci,Nt.bc=en,Nt.ma=me,Nt.width=D.width,Nt.height=D.height,Nt.Da=D.Da,Nt.v=D.v,Nt.va=D.va,Nt.j=D.j,Nt.o=D.o,me.$a)e:{t(me.$a==1),D=mt();t:for(;;){if(D==null){D=0;break e}if(t(me!=null),me.mc=D,D.c=me.c,D.i=me.i,D.l=me.l,D.l.ma=me,D.l.width=me.c,D.l.height=me.i,D.a=0,R(D.m,Ce,ct,it),!St(me.c,me.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Fe(D.s)?(me.ic=1,Ce=D.c*D.i,D.Ta=null,D.Ua=0,D.V=a(Ce),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(me.ic=0,D=Dt(D,me.c)),!D))break t;D=1;break e}me.mc=null,D=0}else D=it>=me.c*me.i;me=!D}if(me)return null;E.ga.Lc!=1?E.Ga=0:J=Ae-z}t(E.ga!=null),t(z+J<=Ae);e:{if(D=(Ce=E.ga).c,Ae=Ce.l.o,Ce.$a==0){if(ct=E.rc,it=E.Vc,Nt=E.Fa,Se=E.P+1+z*D,Pe=E.mb,$e=E.nb+z*D,t(Se<=E.P+E.qc),Ce.Z!=0)for(t(vu[Ce.Z]!=null),me=0;me<J;++me)vu[Ce.Z](ct,it,Nt,Se,Pe,$e,D),ct=Pe,it=$e,$e+=D,Se+=D;else for(me=0;me<J;++me)i(Pe,$e,Nt,Se,D),ct=Pe,it=$e,$e+=D,Se+=D;E.rc=ct,E.Vc=it}else{if(t(Ce.mc!=null),D=z+J,t((me=Ce.mc)!=null),t(D<=me.i),me.C>=D)D=1;else if(Ce.ic||lt(),Ce.ic){Ce=me.V,ct=me.Ba,it=me.c;var Ct=me.i,Je=(Nt=1,Se=me.$/it,Pe=me.$%it,$e=me.m,pt=me.s,me.$),rt=it*Ct,Ft=it*D,jt=pt.wc,Rt=Je<Ft?he(pt,Pe,Se):null;t(Je<=rt),t(D<=Ct),t(Fe(pt));t:for(;;){for(;!$e.h&&Je<Ft;){if(Pe&jt||(Rt=he(pt,Pe,Se)),t(Rt!=null),W($e),256>(Ct=je(Rt.G[0],Rt.H[0],$e)))Ce[ct+Je]=Ct,++Je,++Pe>=it&&(Pe=0,++Se<=D&&!(Se%16)&&gt(me,Se));else{if(!(280>Ct)){Nt=0;break t}Ct=Xe(Ct-256,$e);var pr,ar=je(Rt.G[4],Rt.H[4],$e);if(W($e),!(Je>=(ar=ot(it,ar=Xe(ar,$e)))&&rt-Je>=Ct)){Nt=0;break t}for(pr=0;pr<Ct;++pr)Ce[ct+Je+pr]=Ce[ct+Je+pr-ar];for(Je+=Ct,Pe+=Ct;Pe>=it;)Pe-=it,++Se<=D&&!(Se%16)&&gt(me,Se);Je<Ft&&Pe&jt&&(Rt=he(pt,Pe,Se))}t($e.h==X($e))}gt(me,Se>D?D:Se);break t}!Nt||$e.h&&Je<rt?(Nt=0,me.a=$e.h?5:3):me.$=Je,D=Nt}else D=Ot(me,me.V,me.Ba,me.c,me.i,D,Jt);if(!D){J=0;break e}}z+J>=Ae&&(E.Cc=1),J=1}if(!J)return null;if(E.Cc&&((J=E.ga)!=null&&(J.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+z*ce}function U(E,D,z,J,ce,Ae){for(;0<ce--;){var me,Ce=E,Se=D+(z?1:0),Pe=E,$e=D+(z?0:3);for(me=0;me<J;++me){var pt=Pe[$e+4*me];pt!=255&&(pt*=32897,Ce[Se+4*me+0]=Ce[Se+4*me+0]*pt>>23,Ce[Se+4*me+1]=Ce[Se+4*me+1]*pt>>23,Ce[Se+4*me+2]=Ce[Se+4*me+2]*pt>>23)}D+=Ae}}function ue(E,D,z,J,ce){for(;0<J--;){var Ae;for(Ae=0;Ae<z;++Ae){var me=E[D+2*Ae+0],Ce=15&(Pe=E[D+2*Ae+1]),Se=4369*Ce,Pe=(240&Pe|Pe>>4)*Se>>16;E[D+2*Ae+0]=(240&me|me>>4)*Se>>16&240|(15&me|me<<4)*Se>>16>>4&15,E[D+2*Ae+1]=240&Pe|Ce}D+=ce}}function Le(E,D,z,J,ce,Ae,me,Ce){var Se,Pe,$e=255;for(Pe=0;Pe<ce;++Pe){for(Se=0;Se<J;++Se){var pt=E[D+Se];Ae[me+4*Se]=pt,$e&=pt}D+=z,me+=Ce}return $e!=255}function qe(E,D,z,J,ce){var Ae;for(Ae=0;Ae<ce;++Ae)z[J+Ae]=E[D+Ae]>>8}function lt(){vd=U,Dh=ue,Pg=Le,k1=qe}function Bt(E,D,z){_[E]=function(J,ce,Ae,me,Ce,Se,Pe,$e,pt,ct,it,Nt,Ct,Je,rt,Ft,jt){var Rt,pr=jt-1>>1,ar=Ce[Se+0]|Pe[$e+0]<<16,Ur=pt[ct+0]|it[Nt+0]<<16;t(J!=null);var cr=3*ar+Ur+131074>>2;for(D(J[ce+0],255&cr,cr>>16,Ct,Je),Ae!=null&&(cr=3*Ur+ar+131074>>2,D(Ae[me+0],255&cr,cr>>16,rt,Ft)),Rt=1;Rt<=pr;++Rt){var ji=Ce[Se+Rt]|Pe[$e+Rt]<<16,Gi=pt[ct+Rt]|it[Nt+Rt]<<16,Pi=ar+ji+Ur+Gi+524296,xi=Pi+2*(ji+Ur)>>3;cr=xi+ar>>1,ar=(Pi=Pi+2*(ar+Gi)>>3)+ji>>1,D(J[ce+2*Rt-1],255&cr,cr>>16,Ct,Je+(2*Rt-1)*z),D(J[ce+2*Rt-0],255&ar,ar>>16,Ct,Je+(2*Rt-0)*z),Ae!=null&&(cr=Pi+Ur>>1,ar=xi+Gi>>1,D(Ae[me+2*Rt-1],255&cr,cr>>16,rt,Ft+(2*Rt-1)*z),D(Ae[me+2*Rt+0],255&ar,ar>>16,rt,Ft+(2*Rt+0)*z)),ar=ji,Ur=Gi}1&jt||(cr=3*ar+Ur+131074>>2,D(J[ce+jt-1],255&cr,cr>>16,Ct,Je+(jt-1)*z),Ae!=null&&(cr=3*Ur+ar+131074>>2,D(Ae[me+jt-1],255&cr,cr>>16,rt,Ft+(jt-1)*z)))}}function Ht(){vl[Jl]=R_,vl[Tg]=G1,vl[Og]=K0,vl[Dg]=q1,vl[yp]=K1,vl[V0]=U_,vl[T_]=J3,vl[Bc]=G1,vl[Q0]=q1,vl[W0]=K1,vl[V1]=U_}function hr(E){return E&~Z3?0>E?0:255:E>>N_}function Ir(E,D){return hr((19077*E>>8)+(26149*D>>8)-14234)}function $r(E,D,z){return hr((19077*E>>8)-(6419*D>>8)-(13320*z>>8)+8708)}function Ai(E,D){return hr((19077*E>>8)+(33050*D>>8)-17685)}function Ei(E,D,z,J,ce){J[ce+0]=Ir(E,z),J[ce+1]=$r(E,D,z),J[ce+2]=Ai(E,D)}function Mi(E,D,z,J,ce){J[ce+0]=Ai(E,D),J[ce+1]=$r(E,D,z),J[ce+2]=Ir(E,z)}function Rn(E,D,z,J,ce){var Ae=$r(E,D,z);D=Ae<<3&224|Ai(E,D)>>3,J[ce+0]=248&Ir(E,z)|Ae>>5,J[ce+1]=D}function aa(E,D,z,J,ce){var Ae=240&Ai(E,D)|15;J[ce+0]=240&Ir(E,z)|$r(E,D,z)>>4,J[ce+1]=Ae}function Za(E,D,z,J,ce){J[ce+0]=255,Ei(E,D,z,J,ce+1)}function Gn(E,D,z,J,ce){Mi(E,D,z,J,ce),J[ce+3]=255}function Gl(E,D,z,J,ce){Ei(E,D,z,J,ce),J[ce+3]=255}function Us(E,D){return 0>E?0:E>D?D:E}function fu(E,D,z){_[E]=function(J,ce,Ae,me,Ce,Se,Pe,$e,pt){for(var ct=$e+(-2&pt)*z;$e!=ct;)D(J[ce+0],Ae[me+0],Ce[Se+0],Pe,$e),D(J[ce+1],Ae[me+0],Ce[Se+0],Pe,$e+z),ce+=2,++me,++Se,$e+=2*z;1&pt&&D(J[ce+0],Ae[me+0],Ce[Se+0],Pe,$e)}}function dp(E,D,z){return z==0?E==0?D==0?6:5:D==0?4:0:z}function Th(E,D,z,J,ce){switch(E>>>30){case 3:gp(D,z,J,ce,0);break;case 2:ls(D,z,J,ce);break;case 1:gl(D,z,J,ce)}}function xg(E,D){var z,J,ce=D.M,Ae=D.Nb,me=E.oc,Ce=E.pc+40,Se=E.oc,Pe=E.pc+584,$e=E.oc,pt=E.pc+600;for(z=0;16>z;++z)me[Ce+32*z-1]=129;for(z=0;8>z;++z)Se[Pe+32*z-1]=129,$e[pt+32*z-1]=129;for(0<ce?me[Ce-1-32]=Se[Pe-1-32]=$e[pt-1-32]=129:(n(me,Ce-32-1,127,21),n(Se,Pe-32-1,127,9),n($e,pt-32-1,127,9)),J=0;J<E.za;++J){var ct=D.ya[D.aa+J];if(0<J){for(z=-1;16>z;++z)i(me,Ce+32*z-4,me,Ce+32*z+12,4);for(z=-1;8>z;++z)i(Se,Pe+32*z-4,Se,Pe+32*z+4,4),i($e,pt+32*z-4,$e,pt+32*z+4,4)}var it=E.Gd,Nt=E.Hd+J,Ct=ct.ad,Je=ct.Hc;if(0<ce&&(i(me,Ce-32,it[Nt].y,0,16),i(Se,Pe-32,it[Nt].f,0,8),i($e,pt-32,it[Nt].ea,0,8)),ct.Za){var rt=me,Ft=Ce-32+16;for(0<ce&&(J>=E.za-1?n(rt,Ft,it[Nt].y[15],4):i(rt,Ft,it[Nt+1].y,0,4)),z=0;4>z;z++)rt[Ft+128+z]=rt[Ft+256+z]=rt[Ft+384+z]=rt[Ft+0+z];for(z=0;16>z;++z,Je<<=2)rt=me,Ft=Ce+$1[z],Zl[ct.Ob[z]](rt,Ft),Th(Je,Ct,16*+z,rt,Ft)}else if(rt=dp(J,ce,ct.Ob[0]),bd[rt](me,Ce),Je!=0)for(z=0;16>z;++z,Je<<=2)Th(Je,Ct,16*+z,me,Ce+$1[z]);for(z=ct.Gc,rt=dp(J,ce,ct.Dd),ec[rt](Se,Pe),ec[rt]($e,pt),Je=Ct,rt=Se,Ft=Pe,255&(ct=z>>0)&&(170&ct?gu(Je,256,rt,Ft):Ns(Je,256,rt,Ft)),ct=$e,Je=pt,255&(z>>=8)&&(170&z?gu(Ct,320,ct,Je):Ns(Ct,320,ct,Je)),ce<E.Ub-1&&(i(it[Nt].y,0,me,Ce+480,16),i(it[Nt].f,0,Se,Pe+224,8),i(it[Nt].ea,0,$e,pt+224,8)),z=8*Ae*E.B,it=E.sa,Nt=E.ta+16*J+16*Ae*E.R,Ct=E.qa,ct=E.ra+8*J+z,Je=E.Ha,rt=E.Ia+8*J+z,z=0;16>z;++z)i(it,Nt+z*E.R,me,Ce+32*z,16);for(z=0;8>z;++z)i(Ct,ct+z*E.B,Se,Pe+32*z,8),i(Je,rt+z*E.B,$e,pt+32*z,8)}}function pd(E,D,z,J,ce,Ae,me,Ce,Se){var Pe=[0],$e=[0],pt=0,ct=Se!=null?Se.kd:0,it=Se??new Bh;if(E==null||12>z)return 7;it.data=E,it.w=D,it.ha=z,D=[D],z=[z],it.gb=[it.gb];e:{var Nt=D,Ct=z,Je=it.gb;if(t(E!=null),t(Ct!=null),t(Je!=null),Je[0]=0,12<=Ct[0]&&!r(E,Nt[0],"RIFF")){if(r(E,Nt[0]+8,"WEBP")){Je=3;break e}var rt=ye(E,Nt[0]+4);if(12>rt||4294967286<rt){Je=3;break e}if(ct&&rt>Ct[0]-8){Je=7;break e}Je[0]=rt,Nt[0]+=12,Ct[0]-=12}Je=0}if(Je!=0)return Je;for(rt=0<it.gb[0],z=z[0];;){e:{var Ft=E;Ct=D,Je=z;var jt=Pe,Rt=$e,pr=Nt=[0];if((cr=pt=[pt])[0]=0,8>Je[0])Je=7;else{if(!r(Ft,Ct[0],"VP8X")){if(ye(Ft,Ct[0]+4)!=10){Je=3;break e}if(18>Je[0]){Je=7;break e}var ar=ye(Ft,Ct[0]+8),Ur=1+se(Ft,Ct[0]+12);if(2147483648<=Ur*(Ft=1+se(Ft,Ct[0]+15))){Je=3;break e}pr!=null&&(pr[0]=ar),jt!=null&&(jt[0]=Ur),Rt!=null&&(Rt[0]=Ft),Ct[0]+=18,Je[0]-=18,cr[0]=1}Je=0}}if(pt=pt[0],Nt=Nt[0],Je!=0)return Je;if(Ct=!!(2&Nt),!rt&&pt)return 3;if(Ae!=null&&(Ae[0]=!!(16&Nt)),me!=null&&(me[0]=Ct),Ce!=null&&(Ce[0]=0),me=Pe[0],Nt=$e[0],pt&&Ct&&Se==null){Je=0;break}if(4>z){Je=7;break}if(rt&&pt||!rt&&!pt&&!r(E,D[0],"ALPH")){z=[z],it.na=[it.na],it.P=[it.P],it.Sa=[it.Sa];e:{ar=E,Je=D,rt=z;var cr=it.gb;jt=it.na,Rt=it.P,pr=it.Sa,Ur=22,t(ar!=null),t(rt!=null),Ft=Je[0];var ji=rt[0];for(t(jt!=null),t(pr!=null),jt[0]=null,Rt[0]=null,pr[0]=0;;){if(Je[0]=Ft,rt[0]=ji,8>ji){Je=7;break e}var Gi=ye(ar,Ft+4);if(4294967286<Gi){Je=3;break e}var Pi=8+Gi+1&-2;if(Ur+=Pi,0<cr&&Ur>cr){Je=3;break e}if(!r(ar,Ft,"VP8 ")||!r(ar,Ft,"VP8L")){Je=0;break e}if(ji[0]<Pi){Je=7;break e}r(ar,Ft,"ALPH")||(jt[0]=ar,Rt[0]=Ft+8,pr[0]=Gi),Ft+=Pi,ji-=Pi}}if(z=z[0],it.na=it.na[0],it.P=it.P[0],it.Sa=it.Sa[0],Je!=0)break}z=[z],it.Ja=[it.Ja],it.xa=[it.xa];e:if(cr=E,Je=D,rt=z,jt=it.gb[0],Rt=it.Ja,pr=it.xa,ar=Je[0],Ft=!r(cr,ar,"VP8 "),Ur=!r(cr,ar,"VP8L"),t(cr!=null),t(rt!=null),t(Rt!=null),t(pr!=null),8>rt[0])Je=7;else{if(Ft||Ur){if(cr=ye(cr,ar+4),12<=jt&&cr>jt-12){Je=3;break e}if(ct&&cr>rt[0]-8){Je=7;break e}Rt[0]=cr,Je[0]+=8,rt[0]-=8,pr[0]=Ur}else pr[0]=5<=rt[0]&&cr[ar+0]==47&&!(cr[ar+4]>>5),Rt[0]=rt[0];Je=0}if(z=z[0],it.Ja=it.Ja[0],it.xa=it.xa[0],D=D[0],Je!=0)break;if(4294967286<it.Ja)return 3;if(Ce==null||Ct||(Ce[0]=it.xa?2:1),me=[me],Nt=[Nt],it.xa){if(5>z){Je=7;break}Ce=me,ct=Nt,Ct=Ae,E==null||5>z?E=0:5<=z&&E[D+0]==47&&!(E[D+4]>>5)?(rt=[0],cr=[0],jt=[0],R(Rt=new L,E,D,z),dr(Rt,rt,cr,jt)?(Ce!=null&&(Ce[0]=rt[0]),ct!=null&&(ct[0]=cr[0]),Ct!=null&&(Ct[0]=jt[0]),E=1):E=0):E=0}else{if(10>z){Je=7;break}Ce=Nt,E==null||10>z||!ze(E,D+3,z-3)?E=0:(ct=E[D+0]|E[D+1]<<8|E[D+2]<<16,Ct=16383&(E[D+7]<<8|E[D+6]),E=16383&(E[D+9]<<8|E[D+8]),1&ct||3<(ct>>1&7)||!(ct>>4&1)||ct>>5>=it.Ja||!Ct||!E?E=0:(me&&(me[0]=Ct),Ce&&(Ce[0]=E),E=1))}if(!E||(me=me[0],Nt=Nt[0],pt&&(Pe[0]!=me||$e[0]!=Nt)))return 3;Se!=null&&(Se[0]=it,Se.offset=D-Se.w,t(4294967286>D-Se.w),t(Se.offset==Se.ha-z));break}return Je==0||Je==7&&pt&&Se==null?(Ae!=null&&(Ae[0]|=it.na!=null&&0<it.na.length),J!=null&&(J[0]=me),ce!=null&&(ce[0]=Nt),0):Je}function Cg(E,D,z){var J=D.width,ce=D.height,Ae=0,me=0,Ce=J,Se=ce;if(D.Da=E!=null&&0<E.Da,D.Da&&(Ce=E.cd,Se=E.bd,Ae=E.v,me=E.j,11>z||(Ae&=-2,me&=-2),0>Ae||0>me||0>=Ce||0>=Se||Ae+Ce>J||me+Se>ce))return 0;if(D.v=Ae,D.j=me,D.va=Ae+Ce,D.o=me+Se,D.U=Ce,D.T=Se,D.da=E!=null&&0<E.da,D.da){if(!Ne(Ce,Se,z=[E.ib],Ae=[E.hb]))return 0;D.ib=z[0],D.hb=Ae[0]}return D.ob=E!=null&&E.ob,D.Kb=E==null||!E.Sd,D.da&&(D.ob=D.ib<3*J/4&&D.hb<3*ce/4,D.Kb=0),1}function hp(E){if(E==null)return 2;if(11>E.S){var D=E.f.RGBA;D.fb+=(E.height-1)*D.A,D.A=-D.A}else D=E.f.kb,E=E.height,D.O+=(E-1)*D.fa,D.fa=-D.fa,D.N+=(E-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(E-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(E-1)*D.lb,D.lb=-D.lb);return 0}function pu(E,D,z,J){if(J==null||0>=E||0>=D)return 2;if(z!=null){if(z.Da){var ce=z.cd,Ae=z.bd,me=-2&z.v,Ce=-2&z.j;if(0>me||0>Ce||0>=ce||0>=Ae||me+ce>E||Ce+Ae>D)return 2;E=ce,D=Ae}if(z.da){if(!Ne(E,D,ce=[z.ib],Ae=[z.hb]))return 2;E=ce[0],D=Ae[0]}}J.width=E,J.height=D;e:{var Se=J.width,Pe=J.height;if(E=J.S,0>=Se||0>=Pe||!(E>=Jl&&13>E))E=2;else{if(0>=J.Rd&&J.sd==null){me=Ae=ce=D=0;var $e=(Ce=Se*H_[E])*Pe;if(11>E||(Ae=(Pe+1)/2*(D=(Se+1)/2),E==12&&(me=(ce=Se)*Pe)),(Pe=a($e+2*Ae+me))==null){E=1;break e}J.sd=Pe,11>E?((Se=J.f.RGBA).eb=Pe,Se.fb=0,Se.A=Ce,Se.size=$e):((Se=J.f.kb).y=Pe,Se.O=0,Se.fa=Ce,Se.Fd=$e,Se.f=Pe,Se.N=0+$e,Se.Ab=D,Se.Cd=Ae,Se.ea=Pe,Se.W=0+$e+Ae,Se.Db=D,Se.Ed=Ae,E==12&&(Se.F=Pe,Se.J=0+$e+2*Ae),Se.Tc=me,Se.lb=ce)}if(D=1,ce=J.S,Ae=J.width,me=J.height,ce>=Jl&&13>ce)if(11>ce)E=J.f.RGBA,D&=(Ce=Math.abs(E.A))*(me-1)+Ae<=E.size,D&=Ce>=Ae*H_[ce],D&=E.eb!=null;else{E=J.f.kb,Ce=(Ae+1)/2,$e=(me+1)/2,Se=Math.abs(E.fa),Pe=Math.abs(E.Ab);var pt=Math.abs(E.Db),ct=Math.abs(E.lb),it=ct*(me-1)+Ae;D&=Se*(me-1)+Ae<=E.Fd,D&=Pe*($e-1)+Ce<=E.Cd,D=(D&=pt*($e-1)+Ce<=E.Ed)&Se>=Ae&Pe>=Ce&pt>=Ce,D&=E.y!=null,D&=E.f!=null,D&=E.ea!=null,ce==12&&(D&=ct>=Ae,D&=it<=E.Tc,D&=E.F!=null)}else D=0;E=D?0:2}}return E!=0||z!=null&&z.fd&&(E=hp(J)),E}var vo=64,Oh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fp=24,pp=32,_g=8,os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(E){return E},_.Predictor2=function(E,D,z){return D[z+0]},_.Predictor3=function(E,D,z){return D[z+1]},_.Predictor4=function(E,D,z){return D[z-1]},_.Predictor5=function(E,D,z){return de(de(E,D[z+1]),D[z+0])},_.Predictor6=function(E,D,z){return de(E,D[z-1])},_.Predictor7=function(E,D,z){return de(E,D[z+0])},_.Predictor8=function(E,D,z){return de(D[z-1],D[z+0])},_.Predictor9=function(E,D,z){return de(D[z+0],D[z+1])},_.Predictor10=function(E,D,z){return de(de(E,D[z-1]),de(D[z+0],D[z+1]))},_.Predictor11=function(E,D,z){var J=D[z+0];return 0>=Ke(J>>24&255,E>>24&255,(D=D[z-1])>>24&255)+Ke(J>>16&255,E>>16&255,D>>16&255)+Ke(J>>8&255,E>>8&255,D>>8&255)+Ke(255&J,255&E,255&D)?J:E},_.Predictor12=function(E,D,z){var J=D[z+0];return(re((E>>24&255)+(J>>24&255)-((D=D[z-1])>>24&255))<<24|re((E>>16&255)+(J>>16&255)-(D>>16&255))<<16|re((E>>8&255)+(J>>8&255)-(D>>8&255))<<8|re((255&E)+(255&J)-(255&D)))>>>0},_.Predictor13=function(E,D,z){var J=D[z-1];return(Re((E=de(E,D[z+0]))>>24&255,J>>24&255)<<24|Re(E>>16&255,J>>16&255)<<16|Re(E>>8&255,J>>8&255)<<8|Re(E>>0&255,J>>0&255))>>>0};var Sg=_.PredictorAdd0;_.PredictorAdd1=ie,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Eg=_.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var z0,ql=_.ColorIndexInverseTransform,Bg=_.MapARGB,N1=_.VP8LColorIndexInverseTransformAlpha,Au=_.MapAlpha,Ad=_.VP8LPredictorsAdd=[];Ad.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var ss,pl,Ec,Kl,Xl,Ap,Al,gp,ls,gu,gl,Ns,gd,mp,md,ml,Mg,ks,mu,ln,vn,$n,ya,Yl,vd,Dh,Pg,k1,vp=a(511),j1=a(2041),ba=a(225),$l=a(767),z1=0,H1=j1,H0=ba,jo=$l,js=vp,Jl=0,Tg=1,Og=2,Dg=3,yp=4,V0=5,T_=6,Bc=7,Q0=8,W0=9,V1=10,bp=[2,3,7],O_=[3,3,11],D_=[280,256,256,256,40],Q3=[0,1,1,1,0],W3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],G0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],G3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],q3=8,Q1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],q0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yd=null,K3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],X3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ig=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],I_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],W1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],F_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bd=[],Zl=[],ec=[],$3=1,L_=2,vu=[],vl=[];Bt("UpsampleRgbLinePair",Ei,3),Bt("UpsampleBgrLinePair",Mi,3),Bt("UpsampleRgbaLinePair",Gl,4),Bt("UpsampleBgraLinePair",Gn,4),Bt("UpsampleArgbLinePair",Za,4),Bt("UpsampleRgba4444LinePair",aa,2),Bt("UpsampleRgb565LinePair",Rn,2);var R_=_.UpsampleRgbLinePair,K0=_.UpsampleBgrLinePair,G1=_.UpsampleRgbaLinePair,q1=_.UpsampleBgraLinePair,K1=_.UpsampleArgbLinePair,U_=_.UpsampleRgba4444LinePair,J3=_.UpsampleRgb565LinePair,X0=16,Fg=1<<X0-1,Lg=-227,X1=482,N_=6,Z3=(256<<N_)-1,k_=0,j_=a(256),eO=a(256),tO=a(256),Y1=a(256),z_=a(X1-Lg),Rg=a(X1-Lg);fu("YuvToRgbRow",Ei,3),fu("YuvToBgrRow",Mi,3),fu("YuvToRgbaRow",Gl,4),fu("YuvToBgraRow",Gn,4),fu("YuvToArgbRow",Za,4),fu("YuvToRgba4444Row",aa,2),fu("YuvToRgb565Row",Rn,2);var $1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Y0=[0,2,8],rO=[8,7,6,4,4,2,2,2,1,1,1,1],iO=1;this.WebPDecodeRGBA=function(E,D,z,J,ce){var Ae=Tg,me=new hd,Ce=new yt;me.ba=Ce,Ce.S=Ae,Ce.width=[Ce.width],Ce.height=[Ce.height];var Se=Ce.width,Pe=Ce.height,$e=new Wt;if($e==null||E==null)var pt=2;else t($e!=null),pt=pd(E,D,z,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(pt!=0?Se=0:(Se!=null&&(Se[0]=$e.width[0]),Pe!=null&&(Pe[0]=$e.height[0]),Se=1),Se){Ce.width=Ce.width[0],Ce.height=Ce.height[0],J!=null&&(J[0]=Ce.width),ce!=null&&(ce[0]=Ce.height);e:{if(J=new pe,(ce=new Bh).data=E,ce.w=D,ce.ha=z,ce.kd=1,D=[0],t(ce!=null),((E=pd(ce.data,ce.w,ce.ha,null,null,null,D,null,ce))==0||E==7)&&D[0]&&(E=4),(D=E)==0){if(t(me!=null),J.data=ce.data,J.w=ce.w+ce.offset,J.ha=ce.ha-ce.offset,J.put=ii,J.ac=ci,J.bc=en,J.ma=me,ce.xa){if((E=mt())==null){me=1;break e}if(function(ct,it){var Nt=[0],Ct=[0],Je=[0];t:for(;;){if(ct==null)return 0;if(it==null)return ct.a=2,0;if(ct.l=it,ct.a=0,R(ct.m,it.data,it.w,it.ha),!dr(ct.m,Nt,Ct,Je)){ct.a=3;break t}if(ct.xb=L_,it.width=Nt[0],it.height=Ct[0],!St(Nt[0],Ct[0],1,ct,null))break t;return 1}return t(ct.a!=0),0}(E,J)){if(J=(D=pu(J.width,J.height,me.Oa,me.ba))==0){t:{J=E;r:for(;;){if(J==null){J=0;break t}if(t(J.s.yc!=null),t(J.s.Ya!=null),t(0<J.s.Wb),t((z=J.l)!=null),t((ce=z.ma)!=null),J.xb!=0){if(J.ca=ce.ba,J.tb=ce.tb,t(J.ca!=null),!Cg(ce.Oa,z,Dg)){J.a=2;break r}if(!Dt(J,z.width)||z.da)break r;if((z.da||lr(J.ca.S))&&lt(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&lt()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!Be(J.s.vb,J.s.Wa.Xa)){J.a=1;break r}J.xb=0}if(!Ot(J,J.V,J.Ba,J.c,J.i,z.o,Ve))break r;ce.Dc=J.Ma,J=1;break t}t(J.a!=0),J=0}J=!J}J&&(D=E.a)}else D=E.a}else{if((E=new Ue)==null){me=1;break e}if(E.Fa=ce.na,E.P=ce.P,E.qc=ce.Sa,dt(E,J)){if((D=pu(J.width,J.height,me.Oa,me.ba))==0){if(E.Aa=0,z=me.Oa,t((ce=E)!=null),z!=null){if(0<(Se=0>(Se=z.Md)?0:100<Se?255:255*Se/100)){for(Pe=$e=0;4>Pe;++Pe)12>(pt=ce.pb[Pe]).lc&&(pt.ia=Se*rO[0>pt.lc?0:pt.lc]>>3),$e|=pt.ia;$e&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=z.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}ti(E,J)||(D=E.a)}}else D=E.a}D==0&&me.Oa!=null&&me.Oa.fd&&(D=hp(me.ba))}me=D}Ae=me!=0?null:11>Ae?Ce.f.RGBA.eb:Ce.f.kb.y}else Ae=null;return Ae};var H_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,B){for(var P="",M=0;M<4;M++)P+=String.fromCharCode(_[B++]);return P}function u(_,B){return(_[B+0]<<0|_[B+1]<<8|_[B+2]<<16)>>>0}function d(_,B){return(_[B+0]<<0|_[B+1]<<8|_[B+2]<<16|_[B+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],A=new l,g=e,p=function(_,B){var P={},M=0,O=!1,I=0,F=0;if(P.frames=[],!function(K,X,ee,W){for(var te=0;te<W;te++)if(K[X+te]!=ee.charCodeAt(te))return!0;return!1}(_,B,"RIFF",4)){var V,Y;for(d(_,B+=4),B+=8;B<_.length;){var j=c(_,B),R=d(_,B+=4);B+=4;var H=R+(1&R);switch(j){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(L=P.frames[M]).src_off=O?F:B-8,L.src_size=I+R+8,M++,O&&(O=!1,I=0,F=0);break;case"VP8X":(L=P.header={}).feature_flags=_[B];var G=B+4;L.canvas_width=1+u(_,G),G+=3,L.canvas_height=1+u(_,G),G+=3;break;case"ALPH":O=!0,I=H+8,F=B-8;break;case"ANIM":(L=P.header).bgcolor=d(_,B),G=B+4,L.loop_count=(V=_)[(Y=G)+0]<<0|V[Y+1]<<8,G+=2;break;case"ANMF":var $,L;(L=P.frames[M]={}).offset_x=2*u(_,B),B+=3,L.offset_y=2*u(_,B),B+=3,L.width=1+u(_,B),B+=3,L.height=1+u(_,B),B+=3,L.duration=u(_,B),B+=3,$=_[B++],L.dispose=1&$,L.blend=$>>1&1}j!="ANMF"&&(B+=H)}return P}}(g,0);p.response=g,p.rgbaoutput=!0,p.dataurl=!1;var v=p.header?p.header:null,y=p.frames?p.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],f=[v.canvas_width];for(var b=0;b<y.length&&y[b].blend!=0;b++);}var x=y[0],w=A.WebPDecodeRGBA(g,x.src_off,x.src_size,f,h);x.rgba=w,x.imgwidth=f[0],x.imgheight=h[0];for(var C=0;C<f[0]*h[0]*4;C++)m[C]=w[C];return this.width=f,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof UL=="function"},r=function(h,f,m,A){var g=4,p=o;switch(A){case e.image_compression.FAST:g=1,p=a;break;case e.image_compression.MEDIUM:g=6,p=s;break;case e.image_compression.SLOW:g=9,p=l}h=i(h,f,m,p);var v=UL(h,{level:g});return e.__addimage__.arrayBufferToBinaryString(v)},i=function(h,f,m,A){for(var g,p,v,y=h.length/f,b=new Uint8Array(h.length+y),x=u(),w=0;w<y;w+=1){if(v=w*f,g=h.subarray(v,v+f),A)b.set(A(g,m,p),v+w);else{for(var C,_=x.length,B=[];C<_;C+=1)B[C]=x[C](g,m,p);var P=d(B.concat());b.set(B[P],v+w)}p=g}return b},n=function(h){var f=Array.apply([],h);return f.unshift(0),f},a=function(h,f){var m,A=[],g=h.length;A[0]=1;for(var p=0;p<g;p+=1)m=h[p-f]||0,A[p+1]=h[p]-m+256&255;return A},o=function(h,f,m){var A,g=[],p=h.length;g[0]=2;for(var v=0;v<p;v+=1)A=m&&m[v]||0,g[v+1]=h[v]-A+256&255;return g},s=function(h,f,m){var A,g,p=[],v=h.length;p[0]=3;for(var y=0;y<v;y+=1)A=h[y-f]||0,g=m&&m[y]||0,p[y+1]=h[y]+256-(A+g>>>1)&255;return p},l=function(h,f,m){var A,g,p,v,y=[],b=h.length;y[0]=4;for(var x=0;x<b;x+=1)A=h[x-f]||0,g=m&&m[x]||0,p=m&&m[x-f]||0,v=c(A,g,p),y[x+1]=h[x]-v+256&255;return y},c=function(h,f,m){if(h===f&&f===m)return h;var A=Math.abs(f-m),g=Math.abs(h-m),p=Math.abs(h+f-m-m);return A<=g&&A<=p?h:g<=p?f:m},u=function(){return[n,a,o,s,l]},d=function(h){var f=h.map(function(m){return m.reduce(function(A,g){return A+Math.abs(g)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(h,f,m,A){var g,p,v,y,b,x,w,C,_,B,P,M,O,I,F,V=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(v=new YBe(h)).imgData,p=v.bits,g=v.colorSpace,b=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){_=(C=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,P=new Uint8Array(_*v.colors),B=new Uint8Array(_);var j,R=v.pixelBitlength-v.bits;for(I=0,F=0;I<_;I++){for(O=C[I],j=0;j<R;)P[F++]=O>>>j&255,j+=v.bits;B[I]=O>>>j&255}}if(v.bits===16){_=(C=new Uint32Array(v.decodePixels().buffer)).length,P=new Uint8Array(_*(32/v.pixelBitlength)*v.colors),B=new Uint8Array(_*(32/v.pixelBitlength)),M=v.colors>1,I=0,F=0;for(var H=0;I<_;)O=C[I++],P[F++]=O>>>0&255,M&&(P[F++]=O>>>16&255,O=C[I++],P[F++]=O>>>0&255),B[H++]=O>>>16&255;p=8}A!==e.image_compression.NONE&&t()?(h=r(P,v.width*v.colors,v.colors,A),w=r(B,v.width,1,A)):(h=P,w=B,V=void 0)}if(v.colorType===3&&(g=this.color_spaces.INDEXED,x=v.palette,v.transparency.indexed)){var G=v.transparency.indexed,$=0;for(I=0,_=G.length;I<_;++I)$+=G[I];if(($/=255)===_-1&&G.indexOf(0)!==-1)y=[G.indexOf(0)];else if($!==_){for(C=v.decodePixels(),B=new Uint8Array(C.length),I=0,_=C.length;I<_;I++)B[I]=G[C[I]];w=r(B,v.width,1)}}var L=function(K){var X;switch(K){case e.image_compression.FAST:X=11;break;case e.image_compression.MEDIUM:X=13;break;case e.image_compression.SLOW:X=14;break;default:X=12}return X}(A);return V===this.decode.FLATE_DECODE&&(Y="/Predictor "+L+" "),Y+="/Colors "+b+" /BitsPerComponent "+p+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:m,data:h,index:f,filter:V,decodeParameters:Y,transparency:y,palette:x,sMask:w,predictor:L,width:v.width,height:v.height,bitsPerComponent:p,colorSpace:g}}}})(Zr.API),function(e){e.processGIF89A=function(t,r,i,n){var a=new $Be(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},u=new xD(100).encode(c,100);return e.processJPEG.call(this,u,r,i,n)},e.processGIF87A=e.processGIF89A}(Zr.API),Cu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Sn.log("bit decode error:"+r)}},Cu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*n*4,s=0;s<8&&8*n+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Cu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*n*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Cu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*i;if(n<this.palette.length){var o=this.palette[n];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Cu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=i*this.width*4+4*n;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},Cu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},Cu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Cu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=n,this.data[s+2]=i,this.data[s+3]=o}},Cu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,i,n){var a=new Cu(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new xD(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}(Zr.API),x7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,i,n){var a=new x7(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new xD(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}(Zr.API),Zr.API.processRGBA=function(e,t,r){for(var i=e.data,n=i.length,a=new Uint8Array(n/4*3),o=new Uint8Array(n/4),s=0,l=0,c=0;c<n;c+=4){var u=i[c],d=i[c+1],h=i[c+2],f=i[c+3];a[s++]=u,a[s++]=d,a[s++]=h,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pv=Zr.API,VS=pv.getCharWidthsArray=function(e,t){var r,i,n=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:n.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,f=e.length,m=0,A=s[0]||l,g=[];for(r=0;r<f;r++)i=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?g.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(h=d&&pn(c[i])==="object"&&!isNaN(parseInt(c[i][m],10))?c[i][m]/u:0,g.push((s[i]||A)/l+h)),m=i;return g},v7=pv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return pv.processArabic&&(e=pv.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,r,n)/r:VS.apply(this,arguments).reduce(function(a,o){return a+o},0)},y7=function(e,t,r,i){for(var n=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<r;)s+=t[a],a++;n.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>i&&(n.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&n.push(e.slice(l,a)),n},b7=function(e,t,r){r||(r={});var i,n,a,o,s,l,c,u=[],d=[u],h=r.textIndent||0,f=0,m=0,A=e.split(" "),g=VS.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?A[0].length+2:r.lineIndent||0){var p=Array(l).join(" "),v=[];A.map(function(b){(b=b.split(/\s*\n/)).length>1?v=v.concat(b.map(function(x,w){return(w&&x.length?`
`:"")+x})):v.push(b[0])}),A=v,l=v7.apply(this,[p,r])}for(a=0,o=A.length;a<o;a++){var y=0;if(i=A[a],l&&i[0]==`
`&&(i=i.substr(1),y=1),h+f+(m=(n=VS.apply(this,[i,r])).reduce(function(b,x){return b+x},0))>t||y){if(m>t){for(s=y7.apply(this,[i,n,t-(h+f),t]),u.push(s.shift()),u=[s.pop()];s.length;)d.push([s.shift()]);m=n.slice(i.length-(u[0]?u[0].length:0)).reduce(function(b,x){return b+x},0)}else u=[i];d.push(u),h=m+l,f=g}else u.push(i),h+=f+m,f=g}return c=l?function(b,x){return(x?p:"")+b.join(" ")}:function(b){return b.join(" ")},d.map(c)},pv.splitTextToSize=function(e,t,r){var i,n=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/n;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,a.lineIndent=r.lineIndent;var s,l,c=[];for(s=0,l=i.length;s<l;s++)c=c.concat(b7.apply(this,[i[s],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},i={},n=0;n<t.length;n++)r[t[n]]="0123456789abcdef"[n],i["0123456789abcdef"[n]]=t[n];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var h,f,m,A,g=["{"];for(var p in d){if(h=d[p],isNaN(parseInt(p,10))?f="'"+p+"'":(p=parseInt(p,10),f=(f=a(p).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof h=="number")h<0?(m=a(h).slice(3),A="-"):(m=a(h).slice(2),A=""),m=A+m.slice(0,-1)+i[m.slice(-1)];else{if(pn(h)!=="object")throw new Error("Don't know what to do with value type "+pn(h)+".");m=o(h)}g.push(f+m)}return g.push("}"),g.join("")},s=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,A,g={},p=1,v=g,y=[],b="",x="",w=d.length-1,C=1;C<w;C+=1)(A=d[C])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(A):A=="{"?(y.push([v,m]),v={},m=void 0):A=="}"?((f=y.pop())[0][f[1]]=v,m=void 0,v=f[0]):A=="-"?p=-1:m===void 0?r.hasOwnProperty(A)?(b+=r[A],m=parseInt(b,16)*p,p=1,b=""):b+=A:r.hasOwnProperty(A)?(x+=r[A],v[m]=parseInt(x,16)*p,p=1,m=void 0,x=""):x+=A;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Zr.API),function(e){var t=function(r){for(var i=r.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=r.charCodeAt(a);return n};e.API.events.push(["addFont",function(r){var i=void 0,n=r.font,a=r.instance;if(!n.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=a.existsFileInVFS(n.postScriptName)===!1?a.loadFile(n.postScriptName):a.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(l2(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,i)}}])}(Zr),function(e){function t(){return(ei.canvg?Promise.resolve(ei.canvg):Zu(()=>import("./index.es-4766ada4.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Zr.API.addSvgAsImage=function(r,i,n,a,o,s,l,c){if(isNaN(i)||isNaN(n))throw Sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(m){return m.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),i,n,a,o,l,c)})}}(),Zr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,r);return this},Zr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var i,n,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,u=0,d=0;function h(m,A){var g,p=!1;for(g=0;g<m.length;g+=1)m[g]===A&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=s.length;for(d=0;d<f;d+=1)r[s[d]].value=r[s[d]].defaultValue,r[s[d]].explicitSet=!1}if(pn(e)==="object"){for(n in e)if(a=e[n],h(s,n)&&a!==void 0){if(r[n].type==="boolean"&&typeof a=="boolean")r[n].value=a;else if(r[n].type==="name"&&h(r[n].valueSet,a))r[n].value=a;else if(r[n].type==="integer"&&Number.isInteger(a))r[n].value=a;else if(r[n].type==="array"){for(c=0;c<a.length;c+=1)if(i=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(i=!1);i===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,A=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?A.push("/"+m+" /"+r[m].value):A.push("/"+m+" "+r[m].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+s.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zr.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=a.length;d<h;++d){if(s=o.metadata.characterToGlyph(a.charCodeAt(d)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(d),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},i=function(a){var o,s,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(s=Object.keys(a).sort(function(f,m){return f-m})).length;d<h;d++)o=s[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,u=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var d=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var A=c();u({data:f,addLength1:!0,objectId:A}),l("endobj");var g=c();u({data:i(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var p=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ry(s.fontName)),l("/FontFile2 "+A+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ry(s.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+ry(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,u=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var d=s.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var A=c();u({data:i(s.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var g=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+ry(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var p=0;p<s.metadata.hmtx.widths.length;p++)s.metadata.hmtx.widths[p]=parseInt(s.metadata.hmtx.widths[p]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ry(s.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var n=function(a){var o,s=a.text||"",l=a.x,c=a.y,u=a.options||{},d=a.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,A=f,g="",p=0,v="",y=m[A].encoding;if(m[A].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:d};for(v=s,A=f,Array.isArray(s)&&(v=s[0]),p=0;p<v.length;p+=1)m[A].metadata.hasOwnProperty("cmap")&&(o=m[A].metadata.cmap.unicode.codeMap[v[p].charCodeAt(0)]),o||v[p].charCodeAt(0)<256&&m[A].metadata.hasOwnProperty("Unicode")?g+=v[p]:g+="";var b="";return parseInt(A.slice(1))<14||y==="WinAnsiEncoding"?b=h(g,A).split("").map(function(x){return x.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(b=r(g,m[A])),d.isHex=!0,{text:b,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?s.push([n(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):s.push(n(Object.assign({},l,{text:o[c]})).text);a.text=s}else a.text=n(Object.assign({},l,{text:o})).text}])}(Zr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,i){return t.call(this),this.internal.vFS[r]=i,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var n,a,o,s,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var b=function(M){var O=M.charCodeAt(),I=O>>8,F=A[I];return F!==void 0?d[256*F+(255&O)]:I===252||I===253?"AL":p.test(I)?"L":I===8?"R":"N"},x=function(M){for(var O,I=0;I<M.length;I++){if((O=b(M.charAt(I)))==="L")return!1;if(O==="R")return!0}return!1},w=function(M,O,I,F){var V,Y,j,R,H=O[F];switch(H){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(H="AN");break;case"AL":v=!0,H="R";break;case"WS":H="N";break;case"CS":F<1||F+1>=O.length||(V=I[F-1])!=="EN"&&V!=="AN"||(Y=O[F+1])!=="EN"&&Y!=="AN"?H="N":v&&(Y="AN"),H=Y===V?Y:"N";break;case"ES":H=(V=F>0?I[F-1]:"B")==="EN"&&F+1<O.length&&O[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&I[F-1]==="EN"){H="EN";break}if(v){H="N";break}for(j=F+1,R=O.length;j<R&&O[j]==="ET";)j++;H=j<R&&O[j]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(R=O.length,j=F+1;j<R&&O[j]==="NSM";)j++;if(j<R){var G=M[F],$=G>=1425&&G<=2303||G===64286;if(V=O[j],$&&(V==="R"||V==="AL")){H="R";break}}}H=F<1||(V=O[F-1])==="B"?"N":I[F-1];break;case"B":v=!1,n=!0,H=y;break;case"S":a=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":H="N"}return H},C=function(M,O,I){var F=M.split("");return I&&_(F,I,{hiLevel:y}),F.reverse(),O&&O.reverse(),F.join("")},_=function(M,O,I){var F,V,Y,j,R,H=-1,G=M.length,$=0,L=[],K=y?f:h,X=[];for(v=!1,n=!1,a=!1,V=0;V<G;V++)X[V]=b(M[V]);for(Y=0;Y<G;Y++){if(R=$,L[Y]=w(M,X,L,Y),F=240&($=K[R][m[L[Y]]]),$&=15,O[Y]=j=K[$][5],F>0)if(F===16){for(V=H;V<Y;V++)O[V]=1;H=-1}else H=-1;if(K[$][6])H===-1&&(H=Y);else if(H>-1){for(V=H;V<Y;V++)O[V]=j;H=-1}X[Y]==="B"&&(O[Y]=0),I.hiLevel|=j}a&&function(ee,W,te){for(var oe=0;oe<te;oe++)if(ee[oe]==="S"){W[oe]=y;for(var le=oe-1;le>=0&&ee[le]==="WS";le--)W[le]=y}}(X,O,G)},B=function(M,O,I,F,V){if(!(V.hiLevel<M)){if(M===1&&y===1&&!n)return O.reverse(),void(I&&I.reverse());for(var Y,j,R,H,G=O.length,$=0;$<G;){if(F[$]>=M){for(R=$+1;R<G&&F[R]>=M;)R++;for(H=$,j=R-1;H<j;H++,j--)Y=O[H],O[H]=O[j],O[j]=Y,I&&(Y=I[H],I[H]=I[j],I[j]=Y);$=R}$++}}},P=function(M,O,I){var F=M.split(""),V={hiLevel:y};return I||(I=[]),_(F,I,V),function(Y,j,R){if(R.hiLevel!==0&&u)for(var H,G=0;G<Y.length;G++)j[G]===1&&(H=g.indexOf(Y[G]))>=0&&(Y[G]=g[H+1])}(F,I,V),B(2,F,O,I,V),B(1,F,O,I,V),F.join("")};return this.__bidiEngine__.doBidiReorder=function(M,O,I){if(function(V,Y){if(Y)for(var j=0;j<V.length;j++)Y[j]=j;s===void 0&&(s=x(V)),c===void 0&&(c=x(V))}(M,O),o||!l||c)if(o&&l&&s^c)y=s?1:0,M=C(M,O,I);else if(!o&&l&&c)y=s?1:0,M=P(M,O,I),M=C(M,O);else if(!o||s||l||c){if(o&&!l&&s^c)M=C(M,O),s?(y=0,M=P(M,O,I)):(y=1,M=P(M,O,I),M=C(M,O));else if(o&&s&&!l&&c)y=1,M=P(M,O,I),M=C(M,O);else if(!o&&!l&&s^c){var F=u;s?(y=1,M=P(M,O,I),y=0,u=!1,M=P(M,O,I),u=F):(y=0,M=P(M,O,I),M=C(M,O),y=1,u=!1,M=P(M,O,I),u=F,M=C(M,O))}}else y=0,M=P(M,O,I);else y=s?1:0,M=P(M,O,I);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,l=M.isOutputVisual,s=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var n=i.text,a=(i.x,i.y,i.options||{}),o=(i.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(n)==="[object Array]"){var s=0;for(o=[],s=0;s<n.length;s+=1)Object.prototype.toString.call(n[s])==="[object Array]"?o.push([r.doBidiReorder(n[s][0]),n[s][1],n[s][2]]):o.push([r.doBidiReorder(n[s])]);i.text=o}else i.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(Zr),Zr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ZA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new h5e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new JBe(this.contents),this.head=new e5e(this),this.name=new a5e(this),this.cmap=new oae(this),this.toUnicode={},this.hhea=new t5e(this),this.maxp=new o5e(this),this.hmtx=new s5e(this),this.post=new i5e(this),this.os2=new r5e(this),this.loca=new d5e(this),this.glyf=new l5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,i,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,s,l,c;for(c=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,i){var n,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)n=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var ad,ZA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,i;for(i=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var r,i,n;for(n=[],r=0,i=t.length;0<=i?r<i:r>i;r=0<=i?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,i,n,a,o,s,l;return t=this.readByte(),r=this.readByte(),i=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*i+4294967296*n+16777216*a+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,i;return r=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,i;for(r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push(this.readByte());return r},e.prototype.write=function(t){var r,i,n,a;for(a=[],i=0,n=t.length;i<n;i++)r=t[i],a.push(this.writeByte(r));return a},e}(),JBe=function(){var e;function t(r){var i,n,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,a=this.tableCount;0<=a?n<a:n>a;n=0<=a?++n:--n)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(r){var i,n,a,o,s,l,c,u,d,h,f,m,A;for(A in f=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(n=new ZA).writeInt(this.scalarType),n.writeShort(f),n.writeShort(d),n.writeShort(o),n.writeShort(u),a=16*f,c=n.pos+a,s=null,m=[],r)for(h=r[A],n.writeString(A),n.writeInt(e(h)),n.writeInt(c),n.writeInt(h.length),m=m.concat(h),A==="head"&&(s=c),c+=h.length;c%4;)m.push(0),c++;return n.write(m),i=2981146554-e(n.data),n.pos=s+8,n.writeUInt32(i),n.data},e=function(r){var i,n,a,o;for(r=sae.call(r);r.length%4;)r.push(0);for(a=new ZA(r),n=0,i=0,o=r.length;i<o;i=i+=4)n+=a.readUInt32();return 4294967295&n},t}(),ZBe={}.hasOwnProperty,vh=function(e,t){for(var r in t)ZBe.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};ad=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var e5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var i;return(i=new ZA).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(r),i.writeShort(this.glyphDataFormat),i.data},t}(),C7=function(){function e(t,r){var i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,a=function(){var b,x;for(x=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)x.push(t.readUInt16());return x}(),t.pos+=2,A=function(){var b,x;for(x=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)x.push(t.readUInt16());return x}(),c=function(){var b,x;for(x=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)x.push(t.readUInt16());return x}(),u=function(){var b,x;for(x=[],l=b=0;0<=h?b<h:b>h;l=0<=h?++b:--b)x.push(t.readUInt16());return x}(),n=(this.length-t.pos+this.offset)/2,s=function(){var b,x;for(x=[],l=b=0;0<=n?b<n:b>n;l=0<=n?++b:--b)x.push(t.readUInt16());return x}(),l=p=0,y=a.length;p<y;l=++p)for(g=a[l],i=v=m=A[l];m<=g?v<=g:v>=g;i=m<=g?++v:--v)u[l]===0?o=i+c[l]:(o=s[u[l]/2+(i-m)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}t.pos=d}return e.encode=function(t,r){var i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v,y,b,x,w,C,_,B,P,M,O,I,F,V,Y,j,R,H,G,$,L,K,X,ee,W,te,oe,le,be,ve,se;switch(F=new ZA,o=Object.keys(t).sort(function(ye,Be){return ye-Be}),r){case"macroman":for(A=0,g=function(){var ye=[];for(m=0;m<256;++m)ye.push(0);return ye}(),v={0:0},a={},V=0,H=o.length;V<H;V++)v[le=t[n=o[V]]]==null&&(v[le]=++A),a[n]={old:t[n],new:v[t[n]]},g[n]=v[t[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(g),{charMap:a,subtable:F.data,maxGlyphID:A+1};case"unicode":for(O=[],d=[],y=0,v={},i={},p=c=null,Y=0,G=o.length;Y<G;Y++)v[x=t[n=o[Y]]]==null&&(v[x]=++y),i[n]={old:x,new:v[x]},s=v[x]-n,p!=null&&s===c||(p&&d.push(p),O.push(n),c=s),p=n;for(p&&d.push(p),d.push(65535),O.push(65535),P=2*(B=O.length),_=2*Math.pow(Math.log(B)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,C=2*B-_,l=[],w=[],f=[],m=j=0,$=O.length;j<$;m=++j){if(M=O[m],u=d[m],M===65535){l.push(0),w.push(0);break}if(M-(I=i[M].new)>=32768)for(l.push(0),w.push(2*(f.length+B-m)),n=R=M;M<=u?R<=u:R>=u;n=M<=u?++R:--R)f.push(i[n].new);else l.push(I-M),w.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*B+2*f.length),F.writeUInt16(0),F.writeUInt16(P),F.writeUInt16(_),F.writeUInt16(h),F.writeUInt16(C),te=0,L=d.length;te<L;te++)n=d[te],F.writeUInt16(n);for(F.writeUInt16(0),oe=0,K=O.length;oe<K;oe++)n=O[oe],F.writeUInt16(n);for(be=0,X=l.length;be<X;be++)s=l[be],F.writeUInt16(s);for(ve=0,ee=w.length;ve<ee;ve++)b=w[ve],F.writeUInt16(b);for(se=0,W=f.length;se<W;se++)A=f[se],F.writeUInt16(A);return{charMap:i,subtable:F.data,maxGlyphID:y+1}}},e}(),oae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="cmap",t.prototype.parse=function(r){var i,n,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)i=new C7(r,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(r,i){var n,a;return i==null&&(i="macroman"),n=C7.encode(r,i),(a=new ZA).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t}(),t5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),r5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(r.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),i5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="post",t.prototype.parse=function(r){var i,n,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(n=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)i=r.readByte(),a.push(this.names.push(r.readString(i)));return a;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=function(){var s,l,c;for(c=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)c.push(r.readUInt32());return c}.call(this)}},t}(),n5e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},a5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="name",t.prototype.parse=function(r){var i,n,a,o,s,l,c,u,d,h,f;for(r.pos=this.offset,r.readShort(),i=r.readShort(),l=r.readShort(),n=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=d=0,h=n.length;d<h;o=++d)a=n[o],r.pos=a.offset,u=r.readString(a.length),s=new n5e(u,a),c[f=a.nameID]==null&&(c[f]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),o5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),s5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="hmtx",t.prototype.parse=function(r){var i,n,a,o,s,l,c;for(r.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=a?u<a:u>a;i=0<=a?++u:--u)d.push(r.readInt16());return d}(),this.widths=function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f}.call(this),n=this.widths[this.widths.length-1],c=[],i=s=0;0<=a?s<a:s>a;i=0<=a?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),sae=[].slice,l5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var i,n,a,o,s,l,c,u,d,h;return r in this.cache?this.cache[r]:(o=this.file.loca,i=this.file.contents,n=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(i.pos=this.offset+n,s=(l=new ZA(i.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=s===-1?new u5e(l,u,h,c,d):new c5e(l,s,u,h,c,d),this.cache[r]))},t.prototype.encode=function(r,i,n){var a,o,s,l,c;for(s=[],o=[],l=0,c=i.length;l<c;l++)a=r[i[l]],o.push(s.length),a&&(s=s.concat(a.encode(n)));return o.push(s.length),{table:s,offsets:o}},t}(),c5e=function(){function e(t,r,i,n,a,o){this.raw=t,this.numberOfContours=r,this.xMin=i,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),u5e=function(){function e(t,r,i,n,a){var o,s;for(this.raw=t,this.xMin=r,this.yMin=i,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,i;for(r=new ZA(sae.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),d5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return vh(t,ad),t.prototype.tag="loca",t.prototype.parse=function(r){var i,n;return r.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*r.readUInt16());return o}.call(this):function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(r.readUInt32());return o}.call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,i){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<n.length;++s)if(n[s]=a,o<i.length&&i[o]==s){++o,n[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),h5e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,i,n,a;for(r in n=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[r],t[r]=n[i];return t},e.prototype.glyphsFor=function(t){var r,i,n,a,o,s,l;for(n={},o=0,s=t.length;o<s;o++)n[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],n)(i=n[a])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))i=l[a],n[a]=i;return n},e.prototype.encode=function(t,r){var i,n,a,o,s,l,c,u,d,h,f,m,A,g,p;for(n in i=oae.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},p=i.charMap)f[(l=p[n]).old]=l.new;for(m in h=i.maxGlyphID,o)m in f||(f[m]=h++);return u=function(v){var y,b;for(y in b={},v)b[v[y]]=y;return b}(f),d=Object.keys(u).sort(function(v,y){return v-y}),A=function(){var v,y,b;for(b=[],v=0,y=d.length;v<y;v++)s=d[v],b.push(u[s]);return b}(),a=this.font.glyf.encode(o,A,f),c=this.font.loca.encode(a.offsets,A),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();Zr.API.PDFObject=function(){var e;function t(){}return e=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},t.convert=function(r){var i,n,a,o;if(Array.isArray(r))return"["+function(){var s,l,c;for(c=[],s=0,l=r.length;s<l;s++)i=r[s],c.push(t.convert(i));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in a=["<<"],r)o=r[n],a.push("/"+n+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QL=function(e,t){return QL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])},QL(e,t)};function od(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");QL(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var WL=function(){return WL=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},WL.apply(this,arguments)};function $s(e,t,r,i){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):n(u.value).then(s,l)}c((i=i.apply(e,t||[])).next())})}function ws(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(a=c[0]&2?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],n=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function QS(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,a;i<n;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||t)}var Nf=function(){function e(t,r,i,n){this.left=t,this.top=r,this.width=i,this.height=n}return e.prototype.add=function(t,r,i,n){return new e(this.left+t,this.top+r,this.width+i,this.height+n)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var i=Array.from(r).find(function(n){return n.width!==0});return i?new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),l3=function(e,t){return Nf.fromClientRect(e,t.getBoundingClientRect())},f5e=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),n=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Nf(0,0,i,n)},c3=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((n&1023)<<10)+(a&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},Ea=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var i=[],n=-1,a="";++n<r;){var o=e[n];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(n+1===r||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},_7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var WS=0;WS<_7.length;WS++)p5e[_7.charCodeAt(WS)]=WS;var S7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ex=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var GS=0;GS<S7.length;GS++)Ex[S7.charCodeAt(GS)]=GS;var A5e=function(e){var t=e.length*.75,r=e.length,i,n=0,a,o,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(i=0;i<r;i+=4)a=Ex[e.charCodeAt(i)],o=Ex[e.charCodeAt(i+1)],s=Ex[e.charCodeAt(i+2)],l=Ex[e.charCodeAt(i+3)],u[n++]=a<<2|o>>4,u[n++]=(o&15)<<4|s>>2,u[n++]=(s&3)<<6|l&63;return c},g5e=function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r.push(e[i+1]<<8|e[i]);return r},m5e=function(e){for(var t=e.length,r=[],i=0;i<t;i+=4)r.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return r},Hm=5,qj=6+5,CD=2,v5e=qj-Hm,lae=65536>>Hm,y5e=1<<Hm,_D=y5e-1,b5e=1024>>Hm,w5e=lae+b5e,x5e=w5e,C5e=32,_5e=x5e+C5e,S5e=65536>>qj,E5e=1<<v5e,B5e=E5e-1,E7=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},M5e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},P5e=function(e,t){var r=A5e(e),i=Array.isArray(r)?m5e(r):new Uint32Array(r),n=Array.isArray(r)?g5e(r):new Uint16Array(r),a=24,o=E7(n,a/2,i[4]/2),s=i[5]===2?E7(n,(a+i[4])/2):M5e(i,Math.ceil((a+i[4])/4));return new T5e(i[0],i[1],i[2],i[3],o,s)},T5e=function(){function e(t,r,i,n,a,o){this.initialValue=t,this.errorValue=r,this.highStart=i,this.highValueIndex=n,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Hm],r=(r<<CD)+(t&_D),this.data[r];if(t<=65535)return r=this.index[lae+(t-55296>>Hm)],r=(r<<CD)+(t&_D),this.data[r];if(t<this.highStart)return r=_5e-S5e+(t>>qj),r=this.index[r],r+=t>>Hm&B5e,r=this.index[r],r=(r<<CD)+(t&_D),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),B7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qS=0;qS<B7.length;qS++)O5e[B7.charCodeAt(qS)]=qS;var D5e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",M7=50,I5e=1,cae=2,uae=3,F5e=4,L5e=5,P7=7,dae=8,T7=9,vA=10,GL=11,O7=12,qL=13,R5e=14,Bx=15,KL=16,KS=17,Iw=18,U5e=19,D7=20,XL=21,Fw=22,SD=23,Av=24,ac=25,Mx=26,Px=27,gv=28,N5e=29,pm=30,k5e=31,XS=32,YS=33,YL=34,$L=35,JL=36,hC=37,ZL=38,B5=39,M5=40,ED=41,hae=42,j5e=43,z5e=[9001,65288],fae="!",Ti="×",$S="÷",eR=P5e(D5e),Rh=[pm,JL],tR=[I5e,cae,uae,L5e],pae=[vA,dae],I7=[Px,Mx],H5e=tR.concat(pae),F7=[ZL,B5,M5,YL,$L],V5e=[Bx,qL],Q5e=function(e,t){t===void 0&&(t="strict");var r=[],i=[],n=[];return e.forEach(function(a,o){var s=eR.get(a);if(s>M7?(n.push(!0),s-=M7):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return i.push(o),r.push(KL);if(s===F5e||s===GL){if(o===0)return i.push(o),r.push(pm);var l=r[o-1];return H5e.indexOf(l)===-1?(i.push(i[o-1]),r.push(l)):(i.push(o),r.push(pm))}if(i.push(o),s===k5e)return r.push(t==="strict"?XL:hC);if(s===hae||s===N5e)return r.push(pm);if(s===j5e)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(hC):r.push(pm);r.push(s)}),[i,r,n]},BD=function(e,t,r,i){var n=i[r];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var a=r;a<=i.length;){a++;var o=i[a];if(o===t)return!0;if(o!==vA)break}if(n===vA)for(var a=r;a>0;){a--;var s=i[a];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var l=r;l<=i.length;){l++;var o=i[l];if(o===t)return!0;if(o!==vA)break}if(s!==vA)break}return!1},L7=function(e,t){for(var r=e;r>=0;){var i=t[r];if(i===vA)r--;else return i}return 0},W5e=function(e,t,r,i,n){if(r[i]===0)return Ti;var a=i-1;if(Array.isArray(n)&&n[a]===!0)return Ti;var o=a-1,s=a+1,l=t[a],c=o>=0?t[o]:0,u=t[s];if(l===cae&&u===uae)return Ti;if(tR.indexOf(l)!==-1)return fae;if(tR.indexOf(u)!==-1||pae.indexOf(u)!==-1)return Ti;if(L7(a,t)===dae)return $S;if(eR.get(e[a])===GL||(l===XS||l===YS)&&eR.get(e[s])===GL||l===P7||u===P7||l===T7||[vA,qL,Bx].indexOf(l)===-1&&u===T7||[KS,Iw,U5e,Av,gv].indexOf(u)!==-1||L7(a,t)===Fw||BD(SD,Fw,a,t)||BD([KS,Iw],XL,a,t)||BD(O7,O7,a,t))return Ti;if(l===vA)return $S;if(l===SD||u===SD)return Ti;if(u===KL||l===KL)return $S;if([qL,Bx,XL].indexOf(u)!==-1||l===R5e||c===JL&&V5e.indexOf(l)!==-1||l===gv&&u===JL||u===D7||Rh.indexOf(u)!==-1&&l===ac||Rh.indexOf(l)!==-1&&u===ac||l===Px&&[hC,XS,YS].indexOf(u)!==-1||[hC,XS,YS].indexOf(l)!==-1&&u===Mx||Rh.indexOf(l)!==-1&&I7.indexOf(u)!==-1||I7.indexOf(l)!==-1&&Rh.indexOf(u)!==-1||[Px,Mx].indexOf(l)!==-1&&(u===ac||[Fw,Bx].indexOf(u)!==-1&&t[s+1]===ac)||[Fw,Bx].indexOf(l)!==-1&&u===ac||l===ac&&[ac,gv,Av].indexOf(u)!==-1)return Ti;if([ac,gv,Av,KS,Iw].indexOf(u)!==-1)for(var d=a;d>=0;){var h=t[d];if(h===ac)return Ti;if([gv,Av].indexOf(h)!==-1)d--;else break}if([Px,Mx].indexOf(u)!==-1)for(var d=[KS,Iw].indexOf(l)!==-1?o:a;d>=0;){var h=t[d];if(h===ac)return Ti;if([gv,Av].indexOf(h)!==-1)d--;else break}if(ZL===l&&[ZL,B5,YL,$L].indexOf(u)!==-1||[B5,YL].indexOf(l)!==-1&&[B5,M5].indexOf(u)!==-1||[M5,$L].indexOf(l)!==-1&&u===M5||F7.indexOf(l)!==-1&&[D7,Mx].indexOf(u)!==-1||F7.indexOf(u)!==-1&&l===Px||Rh.indexOf(l)!==-1&&Rh.indexOf(u)!==-1||l===Av&&Rh.indexOf(u)!==-1||Rh.concat(ac).indexOf(l)!==-1&&u===Fw&&z5e.indexOf(e[s])===-1||Rh.concat(ac).indexOf(u)!==-1&&l===Iw)return Ti;if(l===ED&&u===ED){for(var f=r[a],m=1;f>0&&(f--,t[f]===ED);)m++;if(m%2!==0)return Ti}return l===XS&&u===YS?Ti:$S},G5e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Q5e(e,t.lineBreak),i=r[0],n=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(s){return[ac,pm,hae].indexOf(s)!==-1?hC:s}));var o=t.wordBreak==="keep-all"?a.map(function(s,l){return s&&e[l]>=19968&&e[l]<=40959}):void 0;return[i,n,o]},q5e=function(){function e(t,r,i,n){this.codePoints=t,this.required=r===fae,this.start=i,this.end=n}return e.prototype.slice=function(){return Ea.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),K5e=function(e,t){var r=c3(e),i=G5e(r,t),n=i[0],a=i[1],o=i[2],s=r.length,l=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var u=Ti;c<s&&(u=W5e(r,a,n,++c,o))===Ti;);if(u!==Ti||c===s){var d=new q5e(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},X5e=1,Y5e=2,d_=4,R7=8,zM=10,U7=47,c2=92,$5e=9,J5e=32,JS=34,Lw=61,Z5e=35,eMe=36,tMe=37,ZS=39,eE=40,Rw=41,rMe=95,Sl=45,iMe=33,nMe=60,aMe=62,oMe=64,sMe=91,lMe=93,cMe=61,uMe=123,tE=63,dMe=125,N7=124,hMe=126,fMe=128,k7=65533,MD=42,Sm=43,pMe=44,AMe=58,gMe=59,fC=46,mMe=0,vMe=8,yMe=11,bMe=14,wMe=31,xMe=127,Ed=-1,Aae=48,gae=97,mae=101,CMe=102,_Me=117,SMe=122,vae=65,yae=69,bae=70,EMe=85,BMe=90,Cs=function(e){return e>=Aae&&e<=57},MMe=function(e){return e>=55296&&e<=57343},mv=function(e){return Cs(e)||e>=vae&&e<=bae||e>=gae&&e<=CMe},PMe=function(e){return e>=gae&&e<=SMe},TMe=function(e){return e>=vae&&e<=BMe},OMe=function(e){return PMe(e)||TMe(e)},DMe=function(e){return e>=fMe},rE=function(e){return e===zM||e===$5e||e===J5e},HM=function(e){return OMe(e)||DMe(e)||e===rMe},j7=function(e){return HM(e)||Cs(e)||e===Sl},IMe=function(e){return e>=mMe&&e<=vMe||e===yMe||e>=bMe&&e<=wMe||e===xMe},eA=function(e,t){return e!==c2?!1:t!==zM},iE=function(e,t,r){return e===Sl?HM(t)||eA(t,r):HM(e)?!0:!!(e===c2&&eA(e,t))},PD=function(e,t,r){return e===Sm||e===Sl?Cs(t)?!0:t===fC&&Cs(r):Cs(e===fC?t:e)},FMe=function(e){var t=0,r=1;(e[t]===Sm||e[t]===Sl)&&(e[t]===Sl&&(r=-1),t++);for(var i=[];Cs(e[t]);)i.push(e[t++]);var n=i.length?parseInt(Ea.apply(void 0,i),10):0;e[t]===fC&&t++;for(var a=[];Cs(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(Ea.apply(void 0,a),10):0;(e[t]===yae||e[t]===mae)&&t++;var l=1;(e[t]===Sm||e[t]===Sl)&&(e[t]===Sl&&(l=-1),t++);for(var c=[];Cs(e[t]);)c.push(e[t++]);var u=c.length?parseInt(Ea.apply(void 0,c),10):0;return r*(n+s*Math.pow(10,-o))*Math.pow(10,l*u)},LMe={type:2},RMe={type:3},UMe={type:4},NMe={type:13},kMe={type:8},jMe={type:21},zMe={type:9},HMe={type:10},VMe={type:11},QMe={type:12},WMe={type:14},nE={type:23},GMe={type:1},qMe={type:25},KMe={type:24},XMe={type:26},YMe={type:27},$Me={type:28},JMe={type:29},ZMe={type:31},rR={type:32},wae=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(c3(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==rR;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case JS:return this.consumeStringToken(JS);case Z5e:var r=this.peekCodePoint(0),i=this.peekCodePoint(1),n=this.peekCodePoint(2);if(j7(r)||eA(i,n)){var a=iE(r,i,n)?Y5e:X5e,o=this.consumeName();return{type:5,value:o,flags:a}}break;case eMe:if(this.peekCodePoint(0)===Lw)return this.consumeCodePoint(),NMe;break;case ZS:return this.consumeStringToken(ZS);case eE:return LMe;case Rw:return RMe;case MD:if(this.peekCodePoint(0)===Lw)return this.consumeCodePoint(),WMe;break;case Sm:if(PD(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case pMe:return UMe;case Sl:var s=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(PD(s,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(iE(s,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Sl&&c===aMe)return this.consumeCodePoint(),this.consumeCodePoint(),KMe;break;case fC:if(PD(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case U7:if(this.peekCodePoint(0)===MD)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===MD&&(u=this.consumeCodePoint(),u===U7))return this.consumeToken();if(u===Ed)return this.consumeToken()}break;case AMe:return XMe;case gMe:return YMe;case nMe:if(this.peekCodePoint(0)===iMe&&this.peekCodePoint(1)===Sl&&this.peekCodePoint(2)===Sl)return this.consumeCodePoint(),this.consumeCodePoint(),qMe;break;case oMe:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(iE(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case sMe:return $Me;case c2:if(eA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case lMe:return JMe;case cMe:if(this.peekCodePoint(0)===Lw)return this.consumeCodePoint(),kMe;break;case uMe:return VMe;case dMe:return QMe;case _Me:case EMe:var m=this.peekCodePoint(0),A=this.peekCodePoint(1);return m===Sm&&(mv(A)||A===tE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case N7:if(this.peekCodePoint(0)===Lw)return this.consumeCodePoint(),zMe;if(this.peekCodePoint(0)===N7)return this.consumeCodePoint(),jMe;break;case hMe:if(this.peekCodePoint(0)===Lw)return this.consumeCodePoint(),HMe;break;case Ed:return rR}return rE(t)?(this.consumeWhiteSpace(),ZMe):Cs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):HM(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ea(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();mv(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var i=!1;r===tE&&t.length<6;)t.push(r),r=this.consumeCodePoint(),i=!0;if(i){var n=parseInt(Ea.apply(void 0,t.map(function(l){return l===tE?Aae:l})),16),a=parseInt(Ea.apply(void 0,t.map(function(l){return l===tE?bae:l})),16);return{type:30,start:n,end:a}}var o=parseInt(Ea.apply(void 0,t),16);if(this.peekCodePoint(0)===Sl&&mv(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];mv(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var a=parseInt(Ea.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===eE?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===eE?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ed)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ZS||r===JS){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ed||this.peekCodePoint(0)===Rw)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),nE)}for(;;){var n=this.consumeCodePoint();if(n===Ed||n===Rw)return{type:22,value:Ea.apply(void 0,t)};if(rE(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ed||this.peekCodePoint(0)===Rw?(this.consumeCodePoint(),{type:22,value:Ea.apply(void 0,t)}):(this.consumeBadUrlRemnants(),nE);if(n===JS||n===ZS||n===eE||IMe(n))return this.consumeBadUrlRemnants(),nE;if(n===c2)if(eA(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nE;else t.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;rE(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Rw||t===Ed)return;eA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,i="";t>0;){var n=Math.min(r,t);i+=Ea.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),i},e.prototype.consumeStringToken=function(t){var r="",i=0;do{var n=this._value[i];if(n===Ed||n===void 0||n===t)return r+=this.consumeStringSlice(i),{type:0,value:r};if(n===zM)return this._value.splice(0,i),GMe;if(n===c2){var a=this._value[i+1];a!==Ed&&a!==void 0&&(a===zM?(r+=this.consumeStringSlice(i),i=-1,this._value.shift()):eA(n,a)&&(r+=this.consumeStringSlice(i),r+=Ea(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=d_,i=this.peekCodePoint(0);for((i===Sm||i===Sl)&&t.push(this.consumeCodePoint());Cs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(i===fC&&Cs(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=R7;Cs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),n=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((i===yae||i===mae)&&((n===Sm||n===Sl)&&Cs(a)||Cs(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=R7;Cs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[FMe(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],i=t[1],n=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(iE(n,a,o)){var s=this.consumeName();return{type:15,number:r,flags:i,unit:s}}return n===tMe?(this.consumeCodePoint(),{type:16,number:r,flags:i}):{type:17,number:r,flags:i}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(mv(t)){for(var r=Ea(t);mv(this.peekCodePoint(0))&&r.length<6;)r+=Ea(this.consumeCodePoint());rE(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(r,16);return i===0||MMe(i)||i>1114111?k7:i}return t===Ed?k7:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(j7(r))t+=Ea(r);else if(eA(r,this.peekCodePoint(0)))t+=Ea(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),xae=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new wae;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||tPe(i,t))return r;this.reconsumeToken(i),r.values.push(this.consumeComponentValue()),i=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return r;this.reconsumeToken(i),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?rR:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),h_=function(e){return e.type===15},u1=function(e){return e.type===17},Cn=function(e){return e.type===20},ePe=function(e){return e.type===0},iR=function(e,t){return Cn(e)&&e.value===t},Cae=function(e){return e.type!==31},Tb=function(e){return e.type!==31&&e.type!==4},yh=function(e){var t=[],r=[];return e.forEach(function(i){if(i.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}i.type!==31&&r.push(i)}),r.length&&t.push(r),t},tPe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},eg=function(e){return e.type===17||e.type===15},Va=function(e){return e.type===16||eg(e)},_ae=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},$o={type:17,number:0,flags:d_},Kj={type:16,number:50,flags:d_},yA={type:16,number:100,flags:d_},Tx=function(e,t,r){var i=e[0],n=e[1];return[In(i,t),In(typeof n<"u"?n:i,r)]},In=function(e,t){if(e.type===16)return e.number/100*t;if(h_(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Sae="deg",Eae="grad",Bae="rad",Mae="turn",u3={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Sae:return Math.PI*t.number/180;case Eae:return Math.PI/200*t.number;case Bae:return t.number;case Mae:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Pae=function(e){return e.type===15&&(e.unit===Sae||e.unit===Eae||e.unit===Bae||e.unit===Mae)},Tae=function(e){var t=e.filter(Cn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$o,$o];case"to top":case"bottom":return $c(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$o,yA];case"to right":case"left":return $c(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yA,yA];case"to bottom":case"top":return $c(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yA,$o];case"to left":case"right":return $c(270)}return 0},$c=function(e){return Math.PI*e/180},zA={name:"color",parse:function(e,t){if(t.type===18){var r=rPe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),n=t.value.substring(1,2),a=t.value.substring(2,3);return bA(parseInt(i+i,16),parseInt(n+n,16),parseInt(a+a,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),n=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return bA(parseInt(i+i,16),parseInt(n+n,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),n=t.value.substring(2,4),a=t.value.substring(4,6);return bA(parseInt(i,16),parseInt(n,16),parseInt(a,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),n=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return bA(parseInt(i,16),parseInt(n,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var s=Pf[t.value.toUpperCase()];if(typeof s<"u")return s}return Pf.TRANSPARENT}},HA=function(e){return(255&e)===0},wo=function(e){var t=255&e,r=255&e>>8,i=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+i+","+r+","+t/255+")":"rgb("+n+","+i+","+r+")"},bA=function(e,t,r,i){return(e<<24|t<<16|r<<8|Math.round(i*255)<<0)>>>0},z7=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},H7=function(e,t){var r=t.filter(Tb);if(r.length===3){var i=r.map(z7),n=i[0],a=i[1],o=i[2];return bA(n,a,o,1)}if(r.length===4){var s=r.map(z7),n=s[0],a=s[1],o=s[2],l=s[3];return bA(n,a,o,l)}return 0};function TD(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var V7=function(e,t){var r=t.filter(Tb),i=r[0],n=r[1],a=r[2],o=r[3],s=(i.type===17?$c(i.number):u3.parse(e,i))/(Math.PI*2),l=Va(n)?n.number/100:0,c=Va(a)?a.number/100:0,u=typeof o<"u"&&Va(o)?In(o,1):1;if(l===0)return bA(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,h=c*2-d,f=TD(h,d,s+1/3),m=TD(h,d,s),A=TD(h,d,s-1/3);return bA(f*255,m*255,A*255,u)},rPe={hsl:V7,hsla:V7,rgb:H7,rgba:H7},u2=function(e,t){return zA.parse(e,xae.create(t).parseComponentValue())},Pf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},iPe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Cn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nPe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},d3=function(e,t){var r=zA.parse(e,t[0]),i=t[1];return i&&Va(i)?{color:r,stop:i}:{color:r,stop:null}},Q7=function(e,t){var r=e[0],i=e[e.length-1];r.stop===null&&(r.stop=$o),i.stop===null&&(i.stop=yA);for(var n=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(s!==null){var l=In(s,t);l>a?n.push(l):n.push(a),a=l}else n.push(null)}for(var c=null,o=0;o<n.length;o++){var u=n[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var d=o-c,h=n[c-1],f=(u-h)/(d+1),m=1;m<=d;m++)n[c+m-1]=f*m;c=null}}return e.map(function(A,g){var p=A.color;return{color:p,stop:Math.max(Math.min(1,n[g]/t),0)}})},aPe=function(e,t,r){var i=t/2,n=r/2,a=In(e[0],t)-i,o=n-In(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},oPe=function(e,t,r){var i=typeof e=="number"?e:aPe(e,t,r),n=Math.abs(t*Math.sin(i))+Math.abs(r*Math.cos(i)),a=t/2,o=r/2,s=n/2,l=Math.sin(i-Math.PI/2)*s,c=Math.cos(i-Math.PI/2)*s;return[n,a-c,a+c,o-l,o+l]},Fu=function(e,t){return Math.sqrt(e*e+t*t)},W7=function(e,t,r,i,n){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,s){var l=s[0],c=s[1],u=Fu(r-l,i-c);return(n?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:s,optimumDistance:u}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},sPe=function(e,t,r,i,n){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(r),Math.abs(r-n)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-i)),o=Math.min(Math.abs(r),Math.abs(r-n)));break;case 2:if(e.shape===0)a=o=Math.min(Fu(t,r),Fu(t,r-n),Fu(t-i,r),Fu(t-i,r-n));else if(e.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-n))/Math.min(Math.abs(t),Math.abs(t-i)),l=W7(i,n,t,r,!0),c=l[0],u=l[1];a=Fu(c-t,(u-r)/s),o=s*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(r),Math.abs(r-n)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-i)),o=Math.max(Math.abs(r),Math.abs(r-n)));break;case 3:if(e.shape===0)a=o=Math.max(Fu(t,r),Fu(t,r-n),Fu(t-i,r),Fu(t-i,r-n));else if(e.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-n))/Math.max(Math.abs(t),Math.abs(t-i)),d=W7(i,n,t,r,!1),c=d[0],u=d[1];a=Fu(c-t,(u-r)/s),o=s*a}break}return Array.isArray(e.size)&&(a=In(e.size[0],i),o=e.size.length===2?In(e.size[1],n):a),[a,o]},lPe=function(e,t){var r=$c(180),i=[];return yh(t).forEach(function(n,a){if(a===0){var o=n[0];if(o.type===20&&o.value==="to"){r=Tae(n);return}else if(Pae(o)){r=u3.parse(e,o);return}}var s=d3(e,n);i.push(s)}),{angle:r,stops:i,type:1}},aE=function(e,t){var r=$c(180),i=[];return yh(t).forEach(function(n,a){if(a===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Tae(n);return}else if(Pae(o)){r=(u3.parse(e,o)+$c(270))%$c(360);return}}var s=d3(e,n);i.push(s)}),{angle:r,stops:i,type:1}},cPe=function(e,t){var r=$c(180),i=[],n=1,a=0,o=3,s=[];return yh(t).forEach(function(l,c){var u=l[0];if(c===0){if(Cn(u)&&u.value==="linear"){n=1;return}else if(Cn(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var d=zA.parse(e,u.values[0]);i.push({stop:$o,color:d})}else if(u.name==="to"){var d=zA.parse(e,u.values[0]);i.push({stop:yA,color:d})}else if(u.name==="color-stop"){var h=u.values.filter(Tb);if(h.length===2){var d=zA.parse(e,h[1]),f=h[0];u1(f)&&i.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),n===1?{angle:(r+$c(180))%$c(360),stops:i,type:n}:{size:o,shape:a,stops:i,position:s,type:n}},Oae="closest-side",Dae="farthest-side",Iae="closest-corner",Fae="farthest-corner",Lae="circle",Rae="ellipse",Uae="cover",Nae="contain",uPe=function(e,t){var r=0,i=3,n=[],a=[];return yh(t).forEach(function(o,s){var l=!0;if(s===0){var c=!1;l=o.reduce(function(d,h){if(c)if(Cn(h))switch(h.value){case"center":return a.push(Kj),d;case"top":case"left":return a.push($o),d;case"right":case"bottom":return a.push(yA),d}else(Va(h)||eg(h))&&a.push(h);else if(Cn(h))switch(h.value){case Lae:return r=0,!1;case Rae:return r=1,!1;case"at":return c=!0,!1;case Oae:return i=0,!1;case Uae:case Dae:return i=1,!1;case Nae:case Iae:return i=2,!1;case Fae:return i=3,!1}else if(eg(h)||Va(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)}if(l){var u=d3(e,o);n.push(u)}}),{size:i,shape:r,stops:n,position:a,type:2}},oE=function(e,t){var r=0,i=3,n=[],a=[];return yh(t).forEach(function(o,s){var l=!0;if(s===0?l=o.reduce(function(u,d){if(Cn(d))switch(d.value){case"center":return a.push(Kj),!1;case"top":case"left":return a.push($o),!1;case"right":case"bottom":return a.push(yA),!1}else if(Va(d)||eg(d))return a.push(d),!1;return u},l):s===1&&(l=o.reduce(function(u,d){if(Cn(d))switch(d.value){case Lae:return r=0,!1;case Rae:return r=1,!1;case Nae:case Oae:return i=0,!1;case Dae:return i=1,!1;case Iae:return i=2,!1;case Uae:case Fae:return i=3,!1}else if(eg(d)||Va(d))return Array.isArray(i)||(i=[]),i.push(d),!1;return u},l)),l){var c=d3(e,o);n.push(c)}}),{size:i,shape:r,stops:n,position:a,type:2}},dPe=function(e){return e.type===1},hPe=function(e){return e.type===2},Xj={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var i=kae[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function fPe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!kae[e.name])}var kae={"linear-gradient":lPe,"-moz-linear-gradient":aE,"-ms-linear-gradient":aE,"-o-linear-gradient":aE,"-webkit-linear-gradient":aE,"radial-gradient":uPe,"-moz-radial-gradient":oE,"-ms-radial-gradient":oE,"-o-radial-gradient":oE,"-webkit-radial-gradient":oE,"-webkit-gradient":cPe},pPe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(i){return Tb(i)&&fPe(i)}).map(function(i){return Xj.parse(e,i)})}},APe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Cn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gPe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return yh(t).map(function(r){return r.filter(Va)}).map(_ae)}},mPe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return yh(t).map(function(r){return r.filter(Cn).map(function(i){return i.value}).join(" ")}).map(vPe)}},vPe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jy;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Jy||(Jy={}));var yPe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return yh(t).map(function(r){return r.filter(bPe)})}},bPe=function(e){return Cn(e)||Va(e)},h3=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wPe=h3("top"),xPe=h3("right"),CPe=h3("bottom"),_Pe=h3("left"),f3=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return _ae(r.filter(Va))}}},SPe=f3("top-left"),EPe=f3("top-right"),BPe=f3("bottom-right"),MPe=f3("bottom-left"),p3=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},PPe=p3("top"),TPe=p3("right"),OPe=p3("bottom"),DPe=p3("left"),A3=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return h_(r)?r.number:0}}},IPe=A3("top"),FPe=A3("right"),LPe=A3("bottom"),RPe=A3("left"),UPe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},NPe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},kPe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Cn).reduce(function(r,i){return r|jPe(i.value)},0)}},jPe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zPe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},HPe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},VM;(function(e){e.NORMAL="normal",e.STRICT="strict"})(VM||(VM={}));var VPe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return VM.STRICT;case"normal":default:return VM.NORMAL}}},QPe={name:"line-height",initialValue:"normal",prefix:!1,type:4},G7=function(e,t){return Cn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Va(e)?In(e,t):t},WPe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Xj.parse(e,t)}},GPe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},nR={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},g3=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},qPe=g3("top"),KPe=g3("right"),XPe=g3("bottom"),YPe=g3("left"),$Pe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Cn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},JPe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},m3=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ZPe=m3("top"),eTe=m3("right"),tTe=m3("bottom"),rTe=m3("left"),iTe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},nTe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},aTe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&iR(t[0],"none")?[]:yh(t).map(function(r){for(var i={color:Pf.TRANSPARENT,offsetX:$o,offsetY:$o,blur:$o},n=0,a=0;a<r.length;a++){var o=r[a];eg(o)?(n===0?i.offsetX=o:n===1?i.offsetY=o:i.blur=o,n++):i.color=zA.parse(e,o)}return i})}},oTe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sTe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=uTe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},lTe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},cTe=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],i=t[1];t[2],t[3];var n=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],t.length===16?[r,i,n,a,o,s]:null},uTe={matrix:lTe,matrix3d:cTe},q7={type:16,number:50,flags:d_},dTe=[q7,q7],hTe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Va);return r.length!==2?dTe:[r[0],r[1]]}},fTe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},d2;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(d2||(d2={}));var pTe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return d2.BREAK_ALL;case"keep-all":return d2.KEEP_ALL;case"normal":default:return d2.NORMAL}}},ATe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(u1(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},jae={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},gTe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return u1(t)?t.number:1}},mTe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vTe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Cn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},yTe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],i=[];return t.forEach(function(n){switch(n.type){case 20:case 0:r.push(n.value);break;case 17:r.push(n.number.toString());break;case 4:i.push(r.join(" ")),r.length=0;break}}),r.length&&i.push(r.join(" ")),i.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},bTe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wTe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(u1(t))return t.number;if(Cn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},xTe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Cn).map(function(r){return r.value})}},CTe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},oo=function(e,t){return(e&t)!==0},_Te={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},STe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var i=[],n=t.filter(Cae),a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(o.type===20){var l=s&&u1(s)?s.number:1;i.push({counter:o.value,increment:l})}}return i}},ETe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],i=t.filter(Cae),n=0;n<i.length;n++){var a=i[n],o=i[n+1];if(Cn(a)&&a.value!=="none"){var s=o&&u1(o)?o.number:0;r.push({counter:a.value,reset:s})}}return r}},BTe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(h_).map(function(r){return jae.parse(e,r)})}},MTe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var i=[],n=t.filter(ePe);if(n.length%2!==0)return null;for(var a=0;a<n.length;a+=2){var o=n[a].value,s=n[a+1].value;i.push({open:o,close:s})}return i}},K7=function(e,t,r){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?r?i.open:i.close:""},PTe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&iR(t[0],"none")?[]:yh(t).map(function(r){for(var i={color:255,offsetX:$o,offsetY:$o,blur:$o,spread:$o,inset:!1},n=0,a=0;a<r.length;a++){var o=r[a];iR(o,"inset")?i.inset=!0:eg(o)?(n===0?i.offsetX=o:n===1?i.offsetY=o:n===2?i.blur=o:i.spread=o,n++):i.color=zA.parse(e,o)}return i})}},TTe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],i=[];return t.filter(Cn).forEach(function(n){switch(n.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),r.forEach(function(n){i.indexOf(n)===-1&&i.push(n)}),i}},OTe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},DTe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return h_(t)?t.number:0}},ITe=function(){function e(t,r){var i,n;this.animationDuration=br(t,BTe,r.animationDuration),this.backgroundClip=br(t,iPe,r.backgroundClip),this.backgroundColor=br(t,nPe,r.backgroundColor),this.backgroundImage=br(t,pPe,r.backgroundImage),this.backgroundOrigin=br(t,APe,r.backgroundOrigin),this.backgroundPosition=br(t,gPe,r.backgroundPosition),this.backgroundRepeat=br(t,mPe,r.backgroundRepeat),this.backgroundSize=br(t,yPe,r.backgroundSize),this.borderTopColor=br(t,wPe,r.borderTopColor),this.borderRightColor=br(t,xPe,r.borderRightColor),this.borderBottomColor=br(t,CPe,r.borderBottomColor),this.borderLeftColor=br(t,_Pe,r.borderLeftColor),this.borderTopLeftRadius=br(t,SPe,r.borderTopLeftRadius),this.borderTopRightRadius=br(t,EPe,r.borderTopRightRadius),this.borderBottomRightRadius=br(t,BPe,r.borderBottomRightRadius),this.borderBottomLeftRadius=br(t,MPe,r.borderBottomLeftRadius),this.borderTopStyle=br(t,PPe,r.borderTopStyle),this.borderRightStyle=br(t,TPe,r.borderRightStyle),this.borderBottomStyle=br(t,OPe,r.borderBottomStyle),this.borderLeftStyle=br(t,DPe,r.borderLeftStyle),this.borderTopWidth=br(t,IPe,r.borderTopWidth),this.borderRightWidth=br(t,FPe,r.borderRightWidth),this.borderBottomWidth=br(t,LPe,r.borderBottomWidth),this.borderLeftWidth=br(t,RPe,r.borderLeftWidth),this.boxShadow=br(t,PTe,r.boxShadow),this.color=br(t,UPe,r.color),this.direction=br(t,NPe,r.direction),this.display=br(t,kPe,r.display),this.float=br(t,zPe,r.cssFloat),this.fontFamily=br(t,yTe,r.fontFamily),this.fontSize=br(t,bTe,r.fontSize),this.fontStyle=br(t,CTe,r.fontStyle),this.fontVariant=br(t,xTe,r.fontVariant),this.fontWeight=br(t,wTe,r.fontWeight),this.letterSpacing=br(t,HPe,r.letterSpacing),this.lineBreak=br(t,VPe,r.lineBreak),this.lineHeight=br(t,QPe,r.lineHeight),this.listStyleImage=br(t,WPe,r.listStyleImage),this.listStylePosition=br(t,GPe,r.listStylePosition),this.listStyleType=br(t,nR,r.listStyleType),this.marginTop=br(t,qPe,r.marginTop),this.marginRight=br(t,KPe,r.marginRight),this.marginBottom=br(t,XPe,r.marginBottom),this.marginLeft=br(t,YPe,r.marginLeft),this.opacity=br(t,gTe,r.opacity);var a=br(t,$Pe,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=br(t,JPe,r.overflowWrap),this.paddingTop=br(t,ZPe,r.paddingTop),this.paddingRight=br(t,eTe,r.paddingRight),this.paddingBottom=br(t,tTe,r.paddingBottom),this.paddingLeft=br(t,rTe,r.paddingLeft),this.paintOrder=br(t,TTe,r.paintOrder),this.position=br(t,nTe,r.position),this.textAlign=br(t,iTe,r.textAlign),this.textDecorationColor=br(t,mTe,(i=r.textDecorationColor)!==null&&i!==void 0?i:r.color),this.textDecorationLine=br(t,vTe,(n=r.textDecorationLine)!==null&&n!==void 0?n:r.textDecoration),this.textShadow=br(t,aTe,r.textShadow),this.textTransform=br(t,oTe,r.textTransform),this.transform=br(t,sTe,r.transform),this.transformOrigin=br(t,hTe,r.transformOrigin),this.visibility=br(t,fTe,r.visibility),this.webkitTextStrokeColor=br(t,OTe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=br(t,DTe,r.webkitTextStrokeWidth),this.wordBreak=br(t,pTe,r.wordBreak),this.zIndex=br(t,ATe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return HA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return oo(this.display,4)||oo(this.display,33554432)||oo(this.display,268435456)||oo(this.display,536870912)||oo(this.display,67108864)||oo(this.display,134217728)},e}(),FTe=function(){function e(t,r){this.content=br(t,_Te,r.content),this.quotes=br(t,MTe,r.quotes)}return e}(),X7=function(){function e(t,r){this.counterIncrement=br(t,STe,r.counterIncrement),this.counterReset=br(t,ETe,r.counterReset)}return e}(),br=function(e,t,r){var i=new wae,n=r!==null&&typeof r<"u"?r.toString():t.initialValue;i.write(n);var a=new xae(i.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Cn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return u3.parse(e,a.parseComponentValue());case"color":return zA.parse(e,a.parseComponentValue());case"image":return Xj.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return eg(s)?s:$o;case"length-percentage":var l=a.parseComponentValue();return Va(l)?l:$o;case"time":return jae.parse(e,a.parseComponentValue())}break}},LTe="data-html2canvas-debug",RTe=function(e){var t=e.getAttribute(LTe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},aR=function(e,t){var r=RTe(e);return r===1||t===r},bh=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,aR(r,3))debugger;this.styles=new ITe(t,window.getComputedStyle(r,null)),lR(r)&&(this.styles.animationDuration.some(function(i){return i>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=l3(this.context,r),aR(r,4)&&(this.flags|=16)}return e}(),UTe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Y7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ox=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sE=0;sE<Y7.length;sE++)Ox[Y7.charCodeAt(sE)]=sE;var NTe=function(e){var t=e.length*.75,r=e.length,i,n=0,a,o,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(i=0;i<r;i+=4)a=Ox[e.charCodeAt(i)],o=Ox[e.charCodeAt(i+1)],s=Ox[e.charCodeAt(i+2)],l=Ox[e.charCodeAt(i+3)],u[n++]=a<<2|o>>4,u[n++]=(o&15)<<4|s>>2,u[n++]=(s&3)<<6|l&63;return c},kTe=function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r.push(e[i+1]<<8|e[i]);return r},jTe=function(e){for(var t=e.length,r=[],i=0;i<t;i+=4)r.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return r},Vm=5,Yj=6+5,OD=2,zTe=Yj-Vm,zae=65536>>Vm,HTe=1<<Vm,DD=HTe-1,VTe=1024>>Vm,QTe=zae+VTe,WTe=QTe,GTe=32,qTe=WTe+GTe,KTe=65536>>Yj,XTe=1<<zTe,YTe=XTe-1,$7=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$Te=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},JTe=function(e,t){var r=NTe(e),i=Array.isArray(r)?jTe(r):new Uint32Array(r),n=Array.isArray(r)?kTe(r):new Uint16Array(r),a=24,o=$7(n,a/2,i[4]/2),s=i[5]===2?$7(n,(a+i[4])/2):$Te(i,Math.ceil((a+i[4])/4));return new ZTe(i[0],i[1],i[2],i[3],o,s)},ZTe=function(){function e(t,r,i,n,a,o){this.initialValue=t,this.errorValue=r,this.highStart=i,this.highValueIndex=n,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Vm],r=(r<<OD)+(t&DD),this.data[r];if(t<=65535)return r=this.index[zae+(t-55296>>Vm)],r=(r<<OD)+(t&DD),this.data[r];if(t<this.highStart)return r=qTe-KTe+(t>>Yj),r=this.index[r],r+=t>>Vm&YTe,r=this.index[r],r=(r<<OD)+(t&DD),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),J7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e3e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lE=0;lE<J7.length;lE++)e3e[J7.charCodeAt(lE)]=lE;var t3e=1,ID=2,FD=3,Z7=4,eW=5,r3e=7,tW=8,LD=9,RD=10,rW=11,iW=12,nW=13,aW=14,UD=15,i3e=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((n&1023)<<10)+(a&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},n3e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var i=[],n=-1,a="";++n<r;){var o=e[n];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(n+1===r||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},a3e=JTe(UTe),jc="×",ND="÷",o3e=function(e){return a3e.get(e)},s3e=function(e,t,r){var i=r-2,n=t[i],a=t[r-1],o=t[r];if(a===ID&&o===FD)return jc;if(a===ID||a===FD||a===Z7||o===ID||o===FD||o===Z7)return ND;if(a===tW&&[tW,LD,rW,iW].indexOf(o)!==-1||(a===rW||a===LD)&&(o===LD||o===RD)||(a===iW||a===RD)&&o===RD||o===nW||o===eW||o===r3e||a===t3e)return jc;if(a===nW&&o===aW){for(;n===eW;)n=t[--i];if(n===aW)return jc}if(a===UD&&o===UD){for(var s=0;n===UD;)s++,n=t[--i];if(s%2===0)return jc}return ND},l3e=function(e){var t=i3e(e),r=t.length,i=0,n=0,a=t.map(o3e);return{next:function(){if(i>=r)return{done:!0,value:null};for(var o=jc;i<r&&(o=s3e(t,a,++i))===jc;);if(o!==jc||i===r){var s=n3e.apply(null,t.slice(n,i));return n=i,{value:s,done:!1}}return{done:!0,value:null}}}},c3e=function(e){for(var t=l3e(e),r=[],i;!(i=t.next()).done;)i.value&&r.push(i.value.slice());return r},u3e=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),r.selectNode(i);var n=r.getBoundingClientRect(),a=Math.round(n.height);if(e.body.removeChild(i),a===t)return!0}}return!1},d3e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,n=c3(i.data).map(function(l){return Ea(l)}),a=0,o={},s=n.every(function(l,c){r.setStart(i,a),r.setEnd(i,a+l.length);var u=r.getBoundingClientRect();a+=l.length;var d=u.x>o.x||u.y>o.y;return o=u,c===0?!0:d});return e.body.removeChild(t),s},h3e=function(){return typeof new Image().crossOrigin<"u"},f3e=function(){return typeof new XMLHttpRequest().responseType=="string"},p3e=function(e){var t=new Image,r=e.createElement("canvas"),i=r.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},oW=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},A3e=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,r,r);var n=new Image,a=t.toDataURL();n.src=a;var o=oR(r,r,0,0,n);return i.fillStyle="red",i.fillRect(0,0,r,r),sW(o).then(function(s){i.drawImage(s,0,0);var l=i.getImageData(0,0,r,r).data;i.fillStyle="red",i.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=r+"px",oW(l)?sW(oR(r,r,0,0,c)):Promise.reject(!1)}).then(function(s){return i.drawImage(s,0,0),oW(i.getImageData(0,0,r,r).data)}).catch(function(){return!1})},oR=function(e,t,r,i,n){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},sW=function(e){return new Promise(function(t,r){var i=new Image;i.onload=function(){return t(i)},i.onerror=r,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Go={get SUPPORT_RANGE_BOUNDS(){var e=u3e(document);return Object.defineProperty(Go,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Go.SUPPORT_RANGE_BOUNDS&&d3e(document);return Object.defineProperty(Go,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=p3e(document);return Object.defineProperty(Go,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?A3e(document):Promise.resolve(!1);return Object.defineProperty(Go,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=h3e();return Object.defineProperty(Go,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=f3e();return Object.defineProperty(Go,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Go,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Go,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},h2=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),g3e=function(e,t,r,i){var n=y3e(t,r),a=[],o=0;return n.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(Go.SUPPORT_RANGE_BOUNDS){var l=lW(i,o,s.length).getClientRects();if(l.length>1){var c=$j(s),u=0;c.forEach(function(h){a.push(new h2(h,Nf.fromDOMRectList(e,lW(i,u+o,h.length).getClientRects()))),u+=h.length})}else a.push(new h2(s,Nf.fromDOMRectList(e,l)))}else{var d=i.splitText(s.length);a.push(new h2(s,m3e(e,i))),i=d}else Go.SUPPORT_RANGE_BOUNDS||(i=i.splitText(s.length));o+=s.length}),a},m3e=function(e,t){var r=t.ownerDocument;if(r){var i=r.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(i,t);var a=l3(e,i);return i.firstChild&&n.replaceChild(i.firstChild,i),a}}return Nf.EMPTY},lW=function(e,t,r){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var n=i.createRange();return n.setStart(e,t),n.setEnd(e,t+r),n},$j=function(e){if(Go.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return c3e(e)},v3e=function(e,t){if(Go.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(i){return i.segment})}return w3e(e,t)},y3e=function(e,t){return t.letterSpacing!==0?$j(e):v3e(e,t)},b3e=[32,160,4961,65792,65793,4153,4241],w3e=function(e,t){for(var r=K5e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],n,a=function(){if(n.value){var o=n.value.slice(),s=c3(o),l="";s.forEach(function(c){b3e.indexOf(c)===-1?l+=Ea(c):(l.length&&i.push(l),i.push(Ea(c)),l="")}),l.length&&i.push(l)}};!(n=r.next()).done;)a();return i},x3e=function(){function e(t,r,i){this.text=C3e(r.data,i.textTransform),this.textBounds=g3e(t,this.text,i,r)}return e}(),C3e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(_3e,S3e);case 2:return e.toUpperCase();default:return e}},_3e=/(^|\s|:|-|\(|\))([a-z])/g,S3e=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Hae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.src=i.currentSrc||i.src,n.intrinsicWidth=i.naturalWidth,n.intrinsicHeight=i.naturalHeight,n.context.cache.addImage(n.src),n}return t}(bh),Vae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.canvas=i,n.intrinsicWidth=i.width,n.intrinsicHeight=i.height,n}return t}(bh),Qae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this,a=new XMLSerializer,o=l3(r,i);return i.setAttribute("width",o.width+"px"),i.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(i)),n.intrinsicWidth=i.width.baseVal.value,n.intrinsicHeight=i.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}(bh),Wae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.value=i.value,n}return t}(bh),sR=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.start=i.start,n.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,n}return t}(bh),E3e=[{type:15,flags:0,unit:"px",number:3}],B3e=[{type:16,flags:0,number:50}],M3e=function(e){return e.width>e.height?new Nf(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Nf(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},P3e=function(e){var t=e.type===T3e?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},QM="checkbox",WM="radio",T3e="password",cW=707406591,Jj=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;switch(n.type=i.type.toLowerCase(),n.checked=i.checked,n.value=P3e(i),(n.type===QM||n.type===WM)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=M3e(n.bounds)),n.type){case QM:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=E3e;break;case WM:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=B3e;break}return n}return t}(bh),Gae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this,a=i.options[i.selectedIndex||0];return n.value=a&&a.text||"",n}return t}(bh),qae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.value=i.value,n}return t}(bh),Kae=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;n.src=i.src,n.width=parseInt(i.width,10)||0,n.height=parseInt(i.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){n.tree=Yae(r,i.contentWindow.document.documentElement);var a=i.contentWindow.document.documentElement?u2(r,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Pf.TRANSPARENT,o=i.contentWindow.document.body?u2(r,getComputedStyle(i.contentWindow.document.body).backgroundColor):Pf.TRANSPARENT;n.backgroundColor=HA(a)?HA(o)?n.styles.backgroundColor:o:a}}catch{}return n}return t}(bh),O3e=["OL","UL","MENU"],P5=function(e,t,r,i){for(var n=t.firstChild,a=void 0;n;n=a)if(a=n.nextSibling,$ae(n)&&n.data.trim().length>0)r.textNodes.push(new x3e(e,n,r.styles));else if(My(n))if(toe(n)&&n.assignedNodes)n.assignedNodes().forEach(function(s){return P5(e,s,r,i)});else{var o=Xae(e,n);o.styles.isVisible()&&(D3e(n,o,i)?o.flags|=4:I3e(o.styles)&&(o.flags|=2),O3e.indexOf(n.tagName)!==-1&&(o.flags|=8),r.elements.push(o),n.slot,n.shadowRoot?P5(e,n.shadowRoot,o,i):!GM(n)&&!Jae(n)&&!qM(n)&&P5(e,n,o,i))}},Xae=function(e,t){return cR(t)?new Hae(e,t):Zae(t)?new Vae(e,t):Jae(t)?new Qae(e,t):F3e(t)?new Wae(e,t):L3e(t)?new sR(e,t):R3e(t)?new Jj(e,t):qM(t)?new Gae(e,t):GM(t)?new qae(e,t):eoe(t)?new Kae(e,t):new bh(e,t)},Yae=function(e,t){var r=Xae(e,t);return r.flags|=4,P5(e,t,r,r),r},D3e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Zj(e)&&r.styles.isTransparent()},I3e=function(e){return e.isPositioned()||e.isFloating()},$ae=function(e){return e.nodeType===Node.TEXT_NODE},My=function(e){return e.nodeType===Node.ELEMENT_NODE},lR=function(e){return My(e)&&typeof e.style<"u"&&!T5(e)},T5=function(e){return typeof e.className=="object"},F3e=function(e){return e.tagName==="LI"},L3e=function(e){return e.tagName==="OL"},R3e=function(e){return e.tagName==="INPUT"},U3e=function(e){return e.tagName==="HTML"},Jae=function(e){return e.tagName==="svg"},Zj=function(e){return e.tagName==="BODY"},Zae=function(e){return e.tagName==="CANVAS"},uW=function(e){return e.tagName==="VIDEO"},cR=function(e){return e.tagName==="IMG"},eoe=function(e){return e.tagName==="IFRAME"},dW=function(e){return e.tagName==="STYLE"},N3e=function(e){return e.tagName==="SCRIPT"},GM=function(e){return e.tagName==="TEXTAREA"},qM=function(e){return e.tagName==="SELECT"},toe=function(e){return e.tagName==="SLOT"},hW=function(e){return e.tagName.indexOf("-")>0},k3e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(i){return r.counters[i].pop()})},e.prototype.parse=function(t){var r=this,i=t.counterIncrement,n=t.counterReset,a=!0;i!==null&&i.forEach(function(s){var l=r.counters[s.counter];l&&s.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=s.increment)});var o=[];return a&&n.forEach(function(s){var l=r.counters[s.counter];o.push(s.counter),l||(l=r.counters[s.counter]=[]),l.push(s.reset)}),o},e}(),fW={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},pW={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},j3e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},z3e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},vv=function(e,t,r,i,n,a){return e<t||e>r?pC(e,n,a.length>0):i.integers.reduce(function(o,s,l){for(;e>=s;)e-=s,o+=i.values[l];return o},"")+a},roe=function(e,t,r,i){var n="";do r||e--,n=i(e)+n,e/=t;while(e*t>=t);return n},xa=function(e,t,r,i,n){var a=r-t+1;return(e<0?"-":"")+(roe(Math.abs(e),a,i,function(o){return Ea(Math.floor(o%a)+t)})+n)},qg=function(e,t,r){r===void 0&&(r=". ");var i=t.length;return roe(Math.abs(e),i,!1,function(n){return t[Math.floor(n%i)]})+r},iy=1,Yp=2,$p=4,Dx=8,Uh=function(e,t,r,i,n,a){if(e<-9999||e>9999)return pC(e,4,n.length>0);var o=Math.abs(e),s=n;if(o===0)return t[0]+s;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&oo(a,iy)&&s!==""?s=t[c]+s:c>1||c===1&&l===0||c===1&&l===1&&oo(a,Yp)||c===1&&l===1&&oo(a,$p)&&e>100||c===1&&l>1&&oo(a,Dx)?s=t[c]+(l>0?r[l-1]:"")+s:c===1&&l>0&&(s=r[l-1]+s),o=Math.floor(o/10)}return(e<0?i:"")+s},AW="十百千萬",gW="拾佰仟萬",mW="マイナス",kD="마이너스",pC=function(e,t,r){var i=r?". ":"",n=r?"、":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var s=xa(e,48,57,!0,i);return s.length<4?"0"+s:s;case 4:return qg(e,"〇一二三四五六七八九",n);case 6:return vv(e,1,3999,fW,3,i).toLowerCase();case 7:return vv(e,1,3999,fW,3,i);case 8:return xa(e,945,969,!1,i);case 9:return xa(e,97,122,!1,i);case 10:return xa(e,65,90,!1,i);case 11:return xa(e,1632,1641,!0,i);case 12:case 49:return vv(e,1,9999,pW,3,i);case 35:return vv(e,1,9999,pW,3,i).toLowerCase();case 13:return xa(e,2534,2543,!0,i);case 14:case 30:return xa(e,6112,6121,!0,i);case 15:return qg(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return qg(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Uh(e,"零一二三四五六七八九",AW,"負",n,Yp|$p|Dx);case 47:return Uh(e,"零壹貳參肆伍陸柒捌玖",gW,"負",n,iy|Yp|$p|Dx);case 42:return Uh(e,"零一二三四五六七八九",AW,"负",n,Yp|$p|Dx);case 41:return Uh(e,"零壹贰叁肆伍陆柒捌玖",gW,"负",n,iy|Yp|$p|Dx);case 26:return Uh(e,"〇一二三四五六七八九","十百千万",mW,n,0);case 25:return Uh(e,"零壱弐参四伍六七八九","拾百千万",mW,n,iy|Yp|$p);case 31:return Uh(e,"영일이삼사오육칠팔구","십백천만",kD,a,iy|Yp|$p);case 33:return Uh(e,"零一二三四五六七八九","十百千萬",kD,a,0);case 32:return Uh(e,"零壹貳參四五六七八九","拾百千",kD,a,iy|Yp|$p);case 18:return xa(e,2406,2415,!0,i);case 20:return vv(e,1,19999,z3e,3,i);case 21:return xa(e,2790,2799,!0,i);case 22:return xa(e,2662,2671,!0,i);case 22:return vv(e,1,10999,j3e,3,i);case 23:return qg(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return qg(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return xa(e,3302,3311,!0,i);case 28:return qg(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return qg(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return xa(e,3792,3801,!0,i);case 37:return xa(e,6160,6169,!0,i);case 38:return xa(e,4160,4169,!0,i);case 39:return xa(e,2918,2927,!0,i);case 40:return xa(e,1776,1785,!0,i);case 43:return xa(e,3046,3055,!0,i);case 44:return xa(e,3174,3183,!0,i);case 45:return xa(e,3664,3673,!0,i);case 46:return xa(e,3872,3881,!0,i);case 3:default:return xa(e,48,57,!0,i)}},ioe="data-html2canvas-ignore",vW=function(){function e(t,r,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=r,this.counters=new k3e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var i=this,n=H3e(t,r);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,s=n.contentWindow,l=s.document,c=W3e(n).then(function(){return $s(i,void 0,void 0,function(){var u,d;return ws(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(X3e),s&&(s.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==r.top||s.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-r.left,s.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Q3e(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(q3e(document.doctype)+"<html></html>"),K3e(this.referenceElement.ownerDocument,a,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(aR(t,2))debugger;if(Zae(t))return this.createCanvasClone(t);if(uW(t))return this.createVideoClone(t);if(dW(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return cR(r)&&(cR(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),hW(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return jD(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var i=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),n=t.cloneNode(!1);return n.textContent=i,n}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var a=t.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var s=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(s){var l=s.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var i=r.getContext("2d");try{return i&&(i.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||i.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},e.prototype.appendChildNode=function(t,r,i){(!My(r)||!N3e(r)&&!r.hasAttribute(ioe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!My(r)||!dW(r))&&t.appendChild(this.cloneNode(r,i))},e.prototype.cloneChildNodes=function(t,r,i){for(var n=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(My(a)&&toe(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return n.appendChildNode(r,s,i)})}else this.appendChildNode(r,a,i)},e.prototype.cloneNode=function(t,r){if($ae(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&My(t)&&(lR(t)||T5(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var a=i.getComputedStyle(t),o=i.getComputedStyle(t,":before"),s=i.getComputedStyle(t,":after");this.referenceElement===t&&lR(n)&&(this.clonedReferenceElement=n),Zj(n)&&J3e(n);var l=this.counters.parse(new X7(this.context,a)),c=this.resolvePseudoContent(t,n,o,f2.BEFORE);hW(t)&&(r=!0),uW(t)||this.cloneChildNodes(t,n,r),c&&n.insertBefore(c,n.firstChild);var u=this.resolvePseudoContent(t,n,s,f2.AFTER);return u&&n.appendChild(u),this.counters.pop(l),(a&&(this.options.copyStyles||T5(t))&&!eoe(t)||r)&&jD(a,n),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(GM(t)||qM(t))&&(GM(n)||qM(n))&&(n.value=t.value),n}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,i,n){var a=this;if(i){var o=i.content,s=r.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||i.display==="none")){this.counters.parse(new X7(this.context,i));var l=new FTe(this.context,i),c=s.createElement("html2canvaspseudoelement");jD(i,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(s.createTextNode(d.value));else if(d.type===22){var h=s.createElement("img");h.src=d.value,h.style.opacity="1",c.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(Cn);f.length&&c.appendChild(s.createTextNode(t.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(Tb),A=m[0],g=m[1];if(A&&Cn(A)){var p=a.counters.getCounterValue(A.value),v=g&&Cn(g)?nR.parse(a.context,g.value):3;c.appendChild(s.createTextNode(pC(p,v,!1)))}}else if(d.name==="counters"){var y=d.values.filter(Tb),A=y[0],b=y[1],g=y[2];if(A&&Cn(A)){var x=a.counters.getCounterValues(A.value),w=g&&Cn(g)?nR.parse(a.context,g.value):3,C=b&&b.type===0?b.value:"",_=x.map(function(M){return pC(M,w,!1)}).join(C);c.appendChild(s.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(s.createTextNode(K7(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(K7(l.quotes,--a.quoteDepth,!1)));break;default:c.appendChild(s.createTextNode(d.value))}}),c.className=uR+" "+dR;var u=n===f2.BEFORE?" "+uR:" "+dR;return T5(r)?r.className.baseValue+=u:r.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),f2;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(f2||(f2={}));var H3e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(ioe,"true"),e.body.appendChild(r),r},V3e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Q3e=function(e){return Promise.all([].slice.call(e.images,0).map(V3e))},W3e=function(e){return new Promise(function(t,r){var i=e.contentWindow;if(!i)return r("No window assigned for iframe");var n=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var a=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},G3e=["all","d","content"],jD=function(e,t){for(var r=e.length-1;r>=0;r--){var i=e.item(r);G3e.indexOf(i)===-1&&t.style.setProperty(i,e.getPropertyValue(i))}return t},q3e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},K3e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},X3e=function(e){var t=e[0],r=e[1],i=e[2];t.scrollLeft=r,t.scrollTop=i},Y3e=":before",$3e=":after",uR="___html2canvas___pseudoelement_before",dR="___html2canvas___pseudoelement_after",yW=`{
    content: "" !important;
    display: none !important;
}`,J3e=function(e){Z3e(e,"."+uR+Y3e+yW+`
         .`+dR+$3e+yW)},Z3e=function(e,t){var r=e.ownerDocument;if(r){var i=r.createElement("style");i.textContent=t,e.appendChild(i)}},noe=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),eOe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(HD(t)||nOe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return $s(this,void 0,void 0,function(){var r,i,n,a,o=this;return ws(this,function(s){switch(s.label){case 0:return r=noe.isSameOrigin(t),i=!zD(t)&&this._options.useCORS===!0&&Go.SUPPORT_CORS_IMAGES&&!r,n=!zD(t)&&!r&&!HD(t)&&typeof this._options.proxy=="string"&&Go.SUPPORT_CORS_XHR&&!i,!r&&this._options.allowTaint===!1&&!zD(t)&&!HD(t)&&!n&&!i?[2]:(a=t,n?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(aOe(a)||i)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(a,o){var s=Go.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(s==="text")a(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(l.response)}else o("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=o;var c=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+c+"url="+encodeURIComponent(t)+"&responseType="+s),s!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=s),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+n)}}l.send()})},e}(),tOe=/^data:image\/svg\+xml/i,rOe=/^data:image\/.*;base64,/i,iOe=/^data:image\/.*/i,nOe=function(e){return Go.SUPPORT_SVG_DRAWING||!oOe(e)},zD=function(e){return iOe.test(e)},aOe=function(e){return rOe.test(e)},HD=function(e){return e.substr(0,4)==="blob"},oOe=function(e){return e.substr(-3).toLowerCase()==="svg"||tOe.test(e)},gr=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),yv=function(e,t,r){return new gr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},cE=function(){function e(t,r,i,n){this.type=1,this.start=t,this.startControl=r,this.endControl=i,this.end=n}return e.prototype.subdivide=function(t,r){var i=yv(this.start,this.startControl,t),n=yv(this.startControl,this.endControl,t),a=yv(this.endControl,this.end,t),o=yv(i,n,t),s=yv(n,a,t),l=yv(o,s,t);return r?new e(this.start,i,o,l):new e(l,s,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),qc=function(e){return e.type===1},sOe=function(){function e(t){var r=t.styles,i=t.bounds,n=Tx(r.borderTopLeftRadius,i.width,i.height),a=n[0],o=n[1],s=Tx(r.borderTopRightRadius,i.width,i.height),l=s[0],c=s[1],u=Tx(r.borderBottomRightRadius,i.width,i.height),d=u[0],h=u[1],f=Tx(r.borderBottomLeftRadius,i.width,i.height),m=f[0],A=f[1],g=[];g.push((a+l)/i.width),g.push((m+d)/i.width),g.push((o+A)/i.height),g.push((c+h)/i.height);var p=Math.max.apply(Math,g);p>1&&(a/=p,o/=p,l/=p,c/=p,d/=p,h/=p,m/=p,A/=p);var v=i.width-l,y=i.height-h,b=i.width-d,x=i.height-A,w=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,B=r.borderLeftWidth,P=In(r.paddingTop,t.bounds.width),M=In(r.paddingRight,t.bounds.width),O=In(r.paddingBottom,t.bounds.width),I=In(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Xn(i.left+B/3,i.top+w/3,a-B/3,o-w/3,nn.TOP_LEFT):new gr(i.left+B/3,i.top+w/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Xn(i.left+v,i.top+w/3,l-C/3,c-w/3,nn.TOP_RIGHT):new gr(i.left+i.width-C/3,i.top+w/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Xn(i.left+b,i.top+y,d-C/3,h-_/3,nn.BOTTOM_RIGHT):new gr(i.left+i.width-C/3,i.top+i.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||A>0?Xn(i.left+B/3,i.top+x,m-B/3,A-_/3,nn.BOTTOM_LEFT):new gr(i.left+B/3,i.top+i.height-_/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Xn(i.left+B*2/3,i.top+w*2/3,a-B*2/3,o-w*2/3,nn.TOP_LEFT):new gr(i.left+B*2/3,i.top+w*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Xn(i.left+v,i.top+w*2/3,l-C*2/3,c-w*2/3,nn.TOP_RIGHT):new gr(i.left+i.width-C*2/3,i.top+w*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Xn(i.left+b,i.top+y,d-C*2/3,h-_*2/3,nn.BOTTOM_RIGHT):new gr(i.left+i.width-C*2/3,i.top+i.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||A>0?Xn(i.left+B*2/3,i.top+x,m-B*2/3,A-_*2/3,nn.BOTTOM_LEFT):new gr(i.left+B*2/3,i.top+i.height-_*2/3),this.topLeftBorderStroke=a>0||o>0?Xn(i.left+B/2,i.top+w/2,a-B/2,o-w/2,nn.TOP_LEFT):new gr(i.left+B/2,i.top+w/2),this.topRightBorderStroke=a>0||o>0?Xn(i.left+v,i.top+w/2,l-C/2,c-w/2,nn.TOP_RIGHT):new gr(i.left+i.width-C/2,i.top+w/2),this.bottomRightBorderStroke=d>0||h>0?Xn(i.left+b,i.top+y,d-C/2,h-_/2,nn.BOTTOM_RIGHT):new gr(i.left+i.width-C/2,i.top+i.height-_/2),this.bottomLeftBorderStroke=m>0||A>0?Xn(i.left+B/2,i.top+x,m-B/2,A-_/2,nn.BOTTOM_LEFT):new gr(i.left+B/2,i.top+i.height-_/2),this.topLeftBorderBox=a>0||o>0?Xn(i.left,i.top,a,o,nn.TOP_LEFT):new gr(i.left,i.top),this.topRightBorderBox=l>0||c>0?Xn(i.left+v,i.top,l,c,nn.TOP_RIGHT):new gr(i.left+i.width,i.top),this.bottomRightBorderBox=d>0||h>0?Xn(i.left+b,i.top+y,d,h,nn.BOTTOM_RIGHT):new gr(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=m>0||A>0?Xn(i.left,i.top+x,m,A,nn.BOTTOM_LEFT):new gr(i.left,i.top+i.height),this.topLeftPaddingBox=a>0||o>0?Xn(i.left+B,i.top+w,Math.max(0,a-B),Math.max(0,o-w),nn.TOP_LEFT):new gr(i.left+B,i.top+w),this.topRightPaddingBox=l>0||c>0?Xn(i.left+Math.min(v,i.width-C),i.top+w,v>i.width+C?0:Math.max(0,l-C),Math.max(0,c-w),nn.TOP_RIGHT):new gr(i.left+i.width-C,i.top+w),this.bottomRightPaddingBox=d>0||h>0?Xn(i.left+Math.min(b,i.width-B),i.top+Math.min(y,i.height-_),Math.max(0,d-C),Math.max(0,h-_),nn.BOTTOM_RIGHT):new gr(i.left+i.width-C,i.top+i.height-_),this.bottomLeftPaddingBox=m>0||A>0?Xn(i.left+B,i.top+Math.min(x,i.height-_),Math.max(0,m-B),Math.max(0,A-_),nn.BOTTOM_LEFT):new gr(i.left+B,i.top+i.height-_),this.topLeftContentBox=a>0||o>0?Xn(i.left+B+I,i.top+w+P,Math.max(0,a-(B+I)),Math.max(0,o-(w+P)),nn.TOP_LEFT):new gr(i.left+B+I,i.top+w+P),this.topRightContentBox=l>0||c>0?Xn(i.left+Math.min(v,i.width+B+I),i.top+w+P,v>i.width+B+I?0:l-B+I,c-(w+P),nn.TOP_RIGHT):new gr(i.left+i.width-(C+M),i.top+w+P),this.bottomRightContentBox=d>0||h>0?Xn(i.left+Math.min(b,i.width-(B+I)),i.top+Math.min(y,i.height+w+P),Math.max(0,d-(C+M)),h-(_+O),nn.BOTTOM_RIGHT):new gr(i.left+i.width-(C+M),i.top+i.height-(_+O)),this.bottomLeftContentBox=m>0||A>0?Xn(i.left+B+I,i.top+x,Math.max(0,m-(B+I)),A-(_+O),nn.BOTTOM_LEFT):new gr(i.left+B+I,i.top+i.height-(_+O))}return e}(),nn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nn||(nn={}));var Xn=function(e,t,r,i,n){var a=4*((Math.sqrt(2)-1)/3),o=r*a,s=i*a,l=e+r,c=t+i;switch(n){case nn.TOP_LEFT:return new cE(new gr(e,c),new gr(e,c-s),new gr(l-o,t),new gr(l,t));case nn.TOP_RIGHT:return new cE(new gr(e,t),new gr(e+o,t),new gr(l,c-s),new gr(l,c));case nn.BOTTOM_RIGHT:return new cE(new gr(l,t),new gr(l,t+s),new gr(e+o,c),new gr(e,c));case nn.BOTTOM_LEFT:default:return new cE(new gr(l,c),new gr(l-o,c),new gr(e,t+s),new gr(e,t))}},KM=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},lOe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},XM=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},cOe=function(){function e(t,r,i){this.offsetX=t,this.offsetY=r,this.matrix=i,this.type=0,this.target=6}return e}(),uE=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),uOe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),dOe=function(e){return e.type===0},aoe=function(e){return e.type===1},hOe=function(e){return e.type===2},bW=function(e,t){return e.length===t.length?e.some(function(r,i){return r===t[i]}):!1},fOe=function(e,t,r,i,n){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+i,r);case 2:return a.add(t+i,r+n);case 3:return a.add(t,r+n)}return a})},ooe=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),soe=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new sOe(this.container),this.container.styles.opacity<1&&this.effects.push(new uOe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new cOe(i,n,a))}if(this.container.styles.overflowX!==0){var o=KM(this.curves),s=XM(this.curves);bW(o,s)?this.effects.push(new uE(o,6)):(this.effects.push(new uE(o,2)),this.effects.push(new uE(s,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,n=this.effects.slice(0);i;){var a=i.effects.filter(function(l){return!aoe(l)});if(r||i.container.styles.position!==0||!i.parent){if(n.unshift.apply(n,a),r=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var o=KM(i.curves),s=XM(i.curves);bW(o,s)||n.unshift(new uE(s,6))}}else n.unshift.apply(n,a);i=i.parent}return n.filter(function(l){return oo(l.target,t)})},e}(),hR=function(e,t,r,i){e.container.elements.forEach(function(n){var a=oo(n.flags,4),o=oo(n.flags,2),s=new soe(n,e);oo(n.styles.display,2048)&&i.push(s);var l=oo(n.flags,8)?[]:i;if(a||o){var c=a||n.styles.isPositioned()?r:t,u=new ooe(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var d=n.styles.zIndex.order;if(d<0){var h=0;c.negativeZIndex.some(function(m,A){return d>m.element.container.styles.zIndex.order?(h=A,!1):h>0}),c.negativeZIndex.splice(h,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(m,A){return d>=m.element.container.styles.zIndex.order?(f=A+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);hR(s,u,a?u:r,l)}else n.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),hR(s,t,r,l);oo(n.flags,8)&&loe(n,l)})},loe=function(e,t){for(var r=e instanceof sR?e.start:1,i=e instanceof sR?e.reversed:!1,n=0;n<t.length;n++){var a=t[n];a.container instanceof Wae&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=pC(r,a.container.styles.listStyleType,!0),r+=i?-1:1}},pOe=function(e){var t=new soe(e,null),r=new ooe(t),i=[];return hR(t,r,r,i),loe(t.container,i),r},wW=function(e,t){switch(t){case 0:return Jc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Jc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Jc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Jc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},AOe=function(e,t){switch(t){case 0:return Jc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Jc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Jc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Jc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},gOe=function(e,t){switch(t){case 0:return Jc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Jc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Jc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Jc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},mOe=function(e,t){switch(t){case 0:return dE(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return dE(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return dE(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return dE(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},dE=function(e,t){var r=[];return qc(e)?r.push(e.subdivide(.5,!1)):r.push(e),qc(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Jc=function(e,t,r,i){var n=[];return qc(e)?n.push(e.subdivide(.5,!1)):n.push(e),qc(r)?n.push(r.subdivide(.5,!0)):n.push(r),qc(i)?n.push(i.subdivide(.5,!0).reverse()):n.push(i),qc(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},coe=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},YM=function(e){var t=e.styles,r=e.bounds,i=In(t.paddingLeft,r.width),n=In(t.paddingRight,r.width),a=In(t.paddingTop,r.width),o=In(t.paddingBottom,r.width);return r.add(i+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+n),-(t.borderTopWidth+t.borderBottomWidth+a+o))},vOe=function(e,t){return e===0?t.bounds:e===2?YM(t):coe(t)},yOe=function(e,t){return e===0?t.bounds:e===2?YM(t):coe(t)},VD=function(e,t,r){var i=vOe(ny(e.styles.backgroundOrigin,t),e),n=yOe(ny(e.styles.backgroundClip,t),e),a=bOe(ny(e.styles.backgroundSize,t),r,i),o=a[0],s=a[1],l=Tx(ny(e.styles.backgroundPosition,t),i.width-o,i.height-s),c=wOe(ny(e.styles.backgroundRepeat,t),l,a,i,n),u=Math.round(i.left+l[0]),d=Math.round(i.top+l[1]);return[c,u,d,o,s]},bv=function(e){return Cn(e)&&e.value===Jy.AUTO},hE=function(e){return typeof e=="number"},bOe=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Va(o)&&s&&Va(s))return[In(o,r.width),In(s,r.height)];var l=hE(a);if(Cn(o)&&(o.value===Jy.CONTAIN||o.value===Jy.COVER)){if(hE(a)){var c=r.width/r.height;return c<a!=(o.value===Jy.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var u=hE(i),d=hE(n),h=u||d;if(bv(o)&&(!s||bv(s))){if(u&&d)return[i,n];if(!l&&!h)return[r.width,r.height];if(h&&l){var f=u?i:n*a,m=d?n:i/a;return[f,m]}var A=u?i:r.width,g=d?n:r.height;return[A,g]}if(l){var p=0,v=0;return Va(o)?p=In(o,r.width):Va(s)&&(v=In(s,r.height)),bv(o)?p=v*a:(!s||bv(s))&&(v=p/a),[p,v]}var y=null,b=null;if(Va(o)?y=In(o,r.width):s&&Va(s)&&(b=In(s,r.height)),y!==null&&(!s||bv(s))&&(b=u&&d?y/i*n:r.height),b!==null&&bv(o)&&(y=u&&d?b/n*i:r.width),y!==null&&b!==null)return[y,b];throw new Error("Unable to calculate background-size for element")},ny=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},wOe=function(e,t,r,i,n){var a=t[0],o=t[1],s=r[0],l=r[1];switch(e){case 2:return[new gr(Math.round(i.left),Math.round(i.top+o)),new gr(Math.round(i.left+i.width),Math.round(i.top+o)),new gr(Math.round(i.left+i.width),Math.round(l+i.top+o)),new gr(Math.round(i.left),Math.round(l+i.top+o))];case 3:return[new gr(Math.round(i.left+a),Math.round(i.top)),new gr(Math.round(i.left+a+s),Math.round(i.top)),new gr(Math.round(i.left+a+s),Math.round(i.height+i.top)),new gr(Math.round(i.left+a),Math.round(i.height+i.top))];case 1:return[new gr(Math.round(i.left+a),Math.round(i.top+o)),new gr(Math.round(i.left+a+s),Math.round(i.top+o)),new gr(Math.round(i.left+a+s),Math.round(i.top+o+l)),new gr(Math.round(i.left+a),Math.round(i.top+o+l))];default:return[new gr(Math.round(n.left),Math.round(n.top)),new gr(Math.round(n.left+n.width),Math.round(n.top)),new gr(Math.round(n.left+n.width),Math.round(n.height+n.top)),new gr(Math.round(n.left),Math.round(n.height+n.top))]}},xOe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xW="Hidden Text",COe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var i=this._document.createElement("div"),n=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",o.appendChild(i),n.src=xOe,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(xW)),i.appendChild(a),i.appendChild(n);var s=n.offsetTop-a.offsetTop+2;i.removeChild(a),i.appendChild(this._document.createTextNode(xW)),i.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-i.offsetTop+2;return o.removeChild(i),{baseline:s,middle:l}},e.prototype.getMetrics=function(t,r){var i=t+" "+r;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(t,r)),this._data[i]},e}(),uoe=function(){function e(t,r){this.context=t,this.options=r}return e}(),_Oe=1e4,SOe=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._activeEffects=[],n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),i.canvas||(n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px"),n.fontMetrics=new COe(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),n}return t.prototype.applyEffects=function(r){for(var i=this;this._activeEffects.length;)this.popEffect();r.forEach(function(n){return i.applyEffect(n)})},t.prototype.applyEffect=function(r){this.ctx.save(),hOe(r)&&(this.ctx.globalAlpha=r.opacity),dOe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),aoe(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return $s(this,void 0,void 0,function(){var i;return ws(this,function(n){switch(n.label){case 0:return i=r.element.container.styles,i.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return $s(this,void 0,void 0,function(){return ws(this,function(i){switch(i.label){case 0:if(oo(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,i,n){var a=this;if(i===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+n);else{var o=$j(r.text);o.reduce(function(s,l){return a.ctx.fillText(l,s,r.bounds.top+n),s+a.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var i=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=TOe(r.fontFamily).join(", "),a=h_(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,i,r.fontWeight,a,n].join(" "),n,a]},t.prototype.renderTextNode=function(r,i){return $s(this,void 0,void 0,function(){var n,a,o,s,l,c,u,d,h=this;return ws(this,function(f){return n=this.createFontStyle(i),a=n[0],o=n[1],s=n[2],this.ctx.font=a,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,s),c=l.baseline,u=l.middle,d=i.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(A){switch(A){case 0:h.ctx.fillStyle=wo(i.color),h.renderTextWithLetterSpacing(m,i.letterSpacing,c);var g=i.textShadow;g.length&&m.text.trim().length&&(g.slice(0).reverse().forEach(function(p){h.ctx.shadowColor=wo(p.color),h.ctx.shadowOffsetX=p.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=p.offsetY.number*h.options.scale,h.ctx.shadowBlur=p.blur.number,h.renderTextWithLetterSpacing(m,i.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),i.textDecorationLine.length&&(h.ctx.fillStyle=wo(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(p){switch(p){case 1:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:h.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&m.text.trim().length&&(h.ctx.strokeStyle=wo(i.webkitTextStrokeColor),h.ctx.lineWidth=i.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,i,n){if(n&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=YM(r),o=XM(i);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return $s(this,void 0,void 0,function(){var i,n,a,o,s,l,v,v,c,u,d,h,b,f,m,x,A,g,p,v,y,b,x;return ws(this,function(w){switch(w.label){case 0:this.applyEffects(r.getEffects(4)),i=r.container,n=r.curves,a=i.styles,o=0,s=i.textNodes,w.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,a)]):[3,4];case 2:w.sent(),w.label=3;case 3:return o++,[3,1];case 4:if(!(i instanceof Hae))return[3,8];w.label=5;case 5:return w.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return v=w.sent(),this.renderReplacedElement(i,n,v),[3,8];case 7:return w.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof Vae&&this.renderReplacedElement(i,n,i.canvas),!(i instanceof Qae))return[3,12];w.label=9;case 9:return w.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return v=w.sent(),this.renderReplacedElement(i,n,v),[3,12];case 11:return w.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof Kae&&i.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,c.render(i.tree)]):[3,14];case 13:u=w.sent(),i.width&&i.height&&this.ctx.drawImage(u,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),w.label=14;case 14:if(i instanceof Jj&&(d=Math.min(i.bounds.width,i.bounds.height),i.type===QM?i.checked&&(this.ctx.save(),this.path([new gr(i.bounds.left+d*.39363,i.bounds.top+d*.79),new gr(i.bounds.left+d*.16,i.bounds.top+d*.5549),new gr(i.bounds.left+d*.27347,i.bounds.top+d*.44071),new gr(i.bounds.left+d*.39694,i.bounds.top+d*.5649),new gr(i.bounds.left+d*.72983,i.bounds.top+d*.23),new gr(i.bounds.left+d*.84,i.bounds.top+d*.34085),new gr(i.bounds.left+d*.39363,i.bounds.top+d*.79)]),this.ctx.fillStyle=wo(cW),this.ctx.fill(),this.ctx.restore()):i.type===WM&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+d/2,i.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=wo(cW),this.ctx.fill(),this.ctx.restore())),EOe(i)&&i.value.length){switch(h=this.createFontStyle(a),b=h[0],f=h[1],m=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=wo(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=MOe(i.styles.textAlign),x=YM(i),A=0,i.styles.textAlign){case 1:A+=x.width/2;break;case 2:A+=x.width;break}g=x.add(A,0,0,-x.height/2+1),this.ctx.save(),this.path([new gr(x.left,x.top),new gr(x.left+x.width,x.top),new gr(x.left+x.width,x.top+x.height),new gr(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new h2(i.value,g),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!oo(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(p=i.styles.listStyleImage,p.type!==0)return[3,18];v=void 0,y=p.url,w.label=15;case 15:return w.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=w.sent(),this.ctx.drawImage(v,i.bounds.left-(v.width+10),i.bounds.top),[3,18];case 17:return w.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&i.styles.listStyleType!==-1&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=wo(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new Nf(i.bounds.left,i.bounds.top+In(i.styles.paddingTop,i.bounds.width),i.bounds.width,G7(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new h2(r.listValue,x),a.letterSpacing,G7(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),w.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return $s(this,void 0,void 0,function(){var i,n,p,a,o,p,s,l,p,c,u,p,d,h,p,f,m,p,A,g,p;return ws(this,function(v){switch(v.label){case 0:if(oo(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),i=0,n=r.negativeZIndex,v.label=2;case 2:return i<n.length?(p=n[i],[4,this.renderStack(p)]):[3,5];case 3:v.sent(),v.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),a=0,o=r.nonInlineLevel,v.label=7;case 7:return a<o.length?(p=o[a],[4,this.renderNode(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return a++,[3,7];case 10:s=0,l=r.nonPositionedFloats,v.label=11;case 11:return s<l.length?(p=l[s],[4,this.renderStack(p)]):[3,14];case 12:v.sent(),v.label=13;case 13:return s++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(p=u[c],[4,this.renderStack(p)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:d=0,h=r.inlineLevel,v.label=19;case 19:return d<h.length?(p=h[d],[4,this.renderNode(p)]):[3,22];case 20:v.sent(),v.label=21;case 21:return d++,[3,19];case 22:f=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return f<m.length?(p=m[f],[4,this.renderStack(p)]):[3,26];case 24:v.sent(),v.label=25;case 25:return f++,[3,23];case 26:A=0,g=r.positiveZIndex,v.label=27;case 27:return A<g.length?(p=g[A],[4,this.renderStack(p)]):[3,30];case 28:v.sent(),v.label=29;case 29:return A++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var i=this;r.forEach(function(n,a){var o=qc(n)?n.start:n;a===0?i.ctx.moveTo(o.x,o.y):i.ctx.lineTo(o.x,o.y),qc(n)&&i.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(r,i,n,a){this.path(r),this.ctx.fillStyle=i,this.ctx.translate(n,a),this.ctx.fill(),this.ctx.translate(-n,-a)},t.prototype.resizeImage=function(r,i,n){var a;if(r.width===i&&r.height===n)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,i),s.height=Math.max(1,n);var l=s.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,i,n),s},t.prototype.renderBackgroundImage=function(r){return $s(this,void 0,void 0,function(){var i,n,a,o,s,l;return ws(this,function(c){switch(c.label){case 0:i=r.styles.backgroundImage.length-1,n=function(u){var d,h,f,P,Y,j,I,F,_,m,P,Y,j,I,F,A,g,p,v,y,b,x,w,C,_,B,P,M,O,I,F,V,Y,j,R,H,G,$,L,K,X,ee;return ws(this,function(W){switch(W.label){case 0:if(u.type!==0)return[3,5];d=void 0,h=u.url,W.label=1;case 1:return W.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return d=W.sent(),[3,4];case 3:return W.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=VD(r,i,[d.width,d.height,d.width/d.height]),P=f[0],Y=f[1],j=f[2],I=f[3],F=f[4],_=a.ctx.createPattern(a.resizeImage(d,I,F),"repeat"),a.renderRepeat(P,_,Y,j)),[3,6];case 5:dPe(u)?(m=VD(r,i,[null,null,null]),P=m[0],Y=m[1],j=m[2],I=m[3],F=m[4],A=oPe(u.angle,I,F),g=A[0],p=A[1],v=A[2],y=A[3],b=A[4],x=document.createElement("canvas"),x.width=I,x.height=F,w=x.getContext("2d"),C=w.createLinearGradient(p,y,v,b),Q7(u.stops,g).forEach(function(te){return C.addColorStop(te.stop,wo(te.color))}),w.fillStyle=C,w.fillRect(0,0,I,F),I>0&&F>0&&(_=a.ctx.createPattern(x,"repeat"),a.renderRepeat(P,_,Y,j))):hPe(u)&&(B=VD(r,i,[null,null,null]),P=B[0],M=B[1],O=B[2],I=B[3],F=B[4],V=u.position.length===0?[Kj]:u.position,Y=In(V[0],I),j=In(V[V.length-1],F),R=sPe(u,Y,j,I,F),H=R[0],G=R[1],H>0&&G>0&&($=a.ctx.createRadialGradient(M+Y,O+j,0,M+Y,O+j,H),Q7(u.stops,H*2).forEach(function(te){return $.addColorStop(te.stop,wo(te.color))}),a.path(P),a.ctx.fillStyle=$,H!==G?(L=r.bounds.left+.5*r.bounds.width,K=r.bounds.top+.5*r.bounds.height,X=G/H,ee=1/X,a.ctx.save(),a.ctx.translate(L,K),a.ctx.transform(1,0,0,X,0,0),a.ctx.translate(-L,-K),a.ctx.fillRect(M,ee*(O-K)+K,I,F*ee),a.ctx.restore()):a.ctx.fill())),W.label=6;case 6:return i--,[2]}})},a=this,o=0,s=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(l=s[o],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,i,n){return $s(this,void 0,void 0,function(){return ws(this,function(a){return this.path(wW(n,i)),this.ctx.fillStyle=wo(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,i,n,a){return $s(this,void 0,void 0,function(){var o,s;return ws(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(r,n,a)]:[3,2];case 1:return l.sent(),[2];case 2:return o=AOe(a,n),this.path(o),this.ctx.fillStyle=wo(r),this.ctx.fill(),s=gOe(a,n),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return $s(this,void 0,void 0,function(){var i,n,a,o,s,l,c,u,d=this;return ws(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),i=r.container.styles,n=!HA(i.backgroundColor)||i.backgroundImage.length,a=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],o=BOe(ny(i.backgroundClip,0),r.curves),n||i.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),HA(i.backgroundColor)||(this.ctx.fillStyle=wo(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var m=KM(r.curves),A=f.inset?0:_Oe,g=fOe(m,-A+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(m),d.ctx.clip(),d.mask(g)):(d.mask(m),d.ctx.clip(),d.path(g)),d.ctx.shadowOffsetX=f.offsetX.number+A,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=wo(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?wo(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:s=0,l=0,c=a,h.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!HA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,s,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,s,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,s,r.curves)];case 10:h.sent(),h.label=11;case 11:s++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,i,n,a,o){return $s(this,void 0,void 0,function(){var s,l,c,u,d,h,f,m,A,g,p,v,y,b,x,w,x,w;return ws(this,function(C){return this.ctx.save(),s=mOe(a,n),l=wW(a,n),o===2&&(this.path(l),this.ctx.clip()),qc(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),qc(l[1])?(d=l[1].end.x,h=l[1].end.y):(d=l[1].x,h=l[1].y),n===0||n===2?f=Math.abs(c-d):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(l.slice(0,2)),m=i<3?i*3:i*2,A=i<3?i*2:i,o===3&&(m=i,A=i),g=!0,f<=m*2?g=!1:f<=m*2+A?(p=f/(2*m+A),m*=p,A*=p):(v=Math.floor((f+A)/(m+A)),y=(f-v*m)/(v-1),b=(f-(v+1)*m)/v,A=b<=0||Math.abs(A-y)<Math.abs(A-b)?y:b),g&&(o===3?this.ctx.setLineDash([0,m+A]):this.ctx.setLineDash([m,A])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=wo(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(qc(l[0])&&(x=l[3],w=l[0],this.ctx.beginPath(),this.formatPath([new gr(x.end.x,x.end.y),new gr(w.start.x,w.start.y)]),this.ctx.stroke()),qc(l[1])&&(x=l[1],w=l[2],this.ctx.beginPath(),this.formatPath([new gr(x.end.x,x.end.y),new gr(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return $s(this,void 0,void 0,function(){var i;return ws(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=wo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=pOe(r),[4,this.renderStack(i)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(uoe),EOe=function(e){return e instanceof qae||e instanceof Gae?!0:e instanceof Jj&&e.type!==WM&&e.type!==QM},BOe=function(e,t){switch(e){case 0:return KM(t);case 2:return lOe(t);case 1:default:return XM(t)}},MOe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},POe=["-apple-system","system-ui"],TOe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return POe.indexOf(t)===-1}):e},OOe=function(e){od(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=i,n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),n}return t.prototype.render=function(r){return $s(this,void 0,void 0,function(){var i,n;return ws(this,function(a){switch(a.label){case 0:return i=oR(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,DOe(i)];case 1:return n=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=wo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(uoe),DOe=function(e){return new Promise(function(t,r){var i=new Image;i.onload=function(){t(i)},i.onerror=r,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},IOe=function(){function e(t){var r=t.id,i=t.enabled;this.id=r,this.enabled=i,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,QS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,QS([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,QS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,QS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),FOe=function(){function e(t,r){var i;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new IOe({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new eOe(this,t)}return e.instanceCount=1,e}(),doe=function(e,t){return t===void 0&&(t={}),LOe(e,t)};typeof window<"u"&&noe.setContext(window);var LOe=function(e,t){return $s(void 0,void 0,void 0,function(){var r,i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v,y,b,x,C,w,C,_,B,P,M,O,I,F,V,Y,j,R,H,G,$,L,K,X;return ws(this,function(ee){switch(ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(i=r.defaultView,!i)throw new Error("Document is not attached to a Window");return n={allowTaint:(_=t.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(B=t.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},a=WL({logging:(M=t.logging)!==null&&M!==void 0?M:!0,cache:t.cache},n),o={windowWidth:(O=t.windowWidth)!==null&&O!==void 0?O:i.innerWidth,windowHeight:(I=t.windowHeight)!==null&&I!==void 0?I:i.innerHeight,scrollX:(F=t.scrollX)!==null&&F!==void 0?F:i.pageXOffset,scrollY:(V=t.scrollY)!==null&&V!==void 0?V:i.pageYOffset},s=new Nf(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new FOe(a,s),c=(Y=t.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,u={allowTaint:(j=t.allowTaint)!==null&&j!==void 0?j:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),d=new vW(l,e,u),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=ee.sent(),m=Zj(h)||U3e(h)?f5e(h.ownerDocument):l3(l,h),A=m.width,g=m.height,p=m.left,v=m.top,y=ROe(l,h,t.backgroundColor),b={canvas:t.canvas,backgroundColor:y,scale:(H=(R=t.scale)!==null&&R!==void 0?R:i.devicePixelRatio)!==null&&H!==void 0?H:1,x:((G=t.x)!==null&&G!==void 0?G:0)+p,y:(($=t.y)!==null&&$!==void 0?$:0)+v,width:(L=t.width)!==null&&L!==void 0?L:Math.ceil(A),height:(K=t.height)!==null&&K!==void 0?K:Math.ceil(g)},c?(l.logger.debug("Document cloned, using foreign object rendering"),C=new OOe(l,b),[4,C.render(h)]):[3,3];case 2:return x=ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+p+","+v+" with size "+A+"x"+g+" using computed rendering"),l.logger.debug("Starting DOM parsing"),w=Yae(l,h),y===w.styles.backgroundColor&&(w.styles.backgroundColor=Pf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),C=new SOe(l,b),[4,C.render(w)];case 4:x=ee.sent(),ee.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(vW.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,x]}})})},ROe=function(e,t,r){var i=t.ownerDocument,n=i.documentElement?u2(e,getComputedStyle(i.documentElement).backgroundColor):Pf.TRANSPARENT,a=i.body?u2(e,getComputedStyle(i.body).backgroundColor):Pf.TRANSPARENT,o=typeof r=="string"?u2(e,r):r===null?Pf.TRANSPARENT:4294967295;return t===i.documentElement?HA(n)?HA(a)?o:a:n:o};const UOe=Object.freeze(Object.defineProperty({__proto__:null,default:doe},Symbol.toStringTag,{value:"Module"}));function hoe(){const[e,t]=Oe.useState([]),[r,i]=Oe.useState(!1),[n,a]=Oe.useState(!1),[o,s]=Oe.useState(""),[l,c]=Oe.useState(""),[u,d]=Oe.useState(null),[h,f]=Oe.useState(null),m=()=>{const v=document.querySelector("table");doe(v).then(y=>{const b=y.toDataURL("image/png"),x=new Zr,w=x.internal.pageSize.getWidth();x.internal.pageSize.getHeight();const C=w/y.width,_=y.height*C;x.addImage(b,"PNG",0,0,w,_),x.save("orders.pdf")})},A=()=>{const y=`data:text/csv;charset=utf-8,${Object.keys(e[0]).join("||")}
${e.map(x=>Object.values(x).join("||")).join(`
`)}`,b=document.createElement("a");b.setAttribute("href",encodeURI(y)),b.setAttribute("download","orders.csv"),document.body.appendChild(b),b.click(),document.body.removeChild(b)};Oe.useEffect(()=>{rs.get("https://tech-agency.onrender.com/orders").then(v=>{t(v.data)})},[e]);const g=(v,y,b)=>{v.statut=="rejected by Admin"||v.statut=="accepted by Client"||v.statut=="rejected by Client"||v.price!=0||v.duration!=0?alert("Can't accept anymore! "):rs.put("https://tech-agency.onrender.com/acceptByAdmin",{price:y,duration:b,id:v._id}).then(alert("Price and duration send to the Client!"),window.location.href="/dashboard/Orders")},p=v=>{v.price==0&&v.duration==0?v.statut=="rejected by Admin"?alert("ordre already rejected!"):rs.put("https://tech-agency.onrender.com/refuseByAdmin",{statut:"rejected by Admin",id:v._id}):alert("Can't refuse order!")};return N.jsx("div",{children:N.jsxs("div",{children:[N.jsxs("div",{className:"export",children:[N.jsx("button",{className:"action-btn refuse",onClick:m,children:"Export as PDF"}),N.jsx("button",{className:"action-btn accept",onClick:A,children:"Export as CSV"})]}),N.jsx(mr.Card,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",children:N.jsxs("table",{className:"w-full min-w-[640px] table-auto m-5",children:[N.jsx("thead",{children:N.jsx("tr",{children:["Service Name","Specifications & Client info","Date","Price","Duration","Statut","Action"].map(v=>N.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-left",children:N.jsx(mr.Typography,{variant:"small",className:"text-[11px] font-bold uppercase text-gray-50",children:v})},v))})}),N.jsx("tbody",{children:e.map(v=>N.jsxs("tr",{style:{color:"white"},children:[N.jsx("td",{children:v.service}),N.jsx("td",{children:N.jsx(mr.Button,{className:"btn-Save",onClick:()=>{a(!0),f(v)},children:"Display"})}),N.jsx("td",{children:v.date}),N.jsx("td",{children:v.price}),N.jsx("td",{children:v.duration}),N.jsx("td",{children:v.statut}),N.jsxs("td",{children:[N.jsx(mr.Button,{className:"action-btn accept",onClick:()=>{i(!0),d(v)},children:"Accept"}),N.jsx(mr.Button,{className:"action-btn refuse",onClick:()=>{p(v)},children:"Refuse"})]})]},v._id))})]})}),r&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Service Price:"}),N.jsx("input",{type:"text",onChange:v=>s(v.target.value),value:o})]}),N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Service duration:"}),N.jsx("input",{type:"text",onChange:v=>c(v.target.value),value:l})]}),N.jsx("div",{children:N.jsxs("div",{className:"buttons",children:[N.jsx("button",{className:"btn-Save",onClick:()=>{g(u,o,l)},children:"Send"}),N.jsx("button",{className:"action-btn cancel",onClick:()=>i(!1),children:"Cancel"})]})})]})}),n&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup",children:[N.jsx("h4",{children:"Client Name:"}),N.jsx("p",{children:h.username}),N.jsx("h4",{children:"Email:"}),N.jsx("p",{children:h.email}),N.jsx("h4",{children:"Subject:"}),N.jsx("p",{children:h.subject}),N.jsx("h4",{children:"Specifications:"}),N.jsx("p",{children:h.specifications}),N.jsx("div",{className:"buttons",children:N.jsx("button",{className:"btn-Save",id:"cancel",onClick:()=>a(!1),children:"Close"})})]})})]})})}function NOe(){const[e,t]=Oe.useState(!0),[r,i]=Oe.useState([]),[n,a]=Oe.useState(""),[o,s]=Oe.useState(""),[l,c]=Oe.useState(""),[u,d]=Oe.useState(""),h=Oe.useRef(null),[f,m]=Oe.useState(!1),[A,g]=Oe.useState(!1),[p,v]=Oe.useState(!1),[y,b]=Oe.useState(!1),[x,w]=Oe.useState("");Oe.useEffect(()=>{(async()=>{t(!0);try{const{data:I}=await rs.get("https://tech-agency.onrender.com/services");i(I)}catch(I){console.error(I.message)}t(!1)})()},[]);const C="https://tech-agency.onrender.com/",_=async O=>{const I=await fetch(C+"/service/delete/"+O,{method:"DELETE"}).then(F=>F.json(),window.location.href="/dashboard/Services");i(I.result)},B=async()=>{const O=await fetch(C+"/service/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titre:n,description:o})}).then(I=>I.json(),window.location.href="/dashboard/Services");i([...O,O]),a("")},P=async(O,I)=>{await fetch("https://tech-agency.onrender.com//service/updateName",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I,id:O})}).then(F=>F.json(),window.location.href="/dashboard/Services")},M=async(O,I)=>{await fetch("https://tech-agency.onrender.com/service/updateDescription",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:I,id:O})}).then(F=>F.json(),window.location.href="/dashboard/Services")};return N.jsxs(N.Fragment,{children:[N.jsx("button",{className:"btn-Save mb-2",onClick:()=>{m(!0)},children:"Add Service"}),N.jsx(mr.Card,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",children:N.jsxs("table",{className:"w-auto ml-2 mr-2 ",children:[N.jsx("thead",{children:N.jsx("tr",{children:["Title","Description","Delete","Update"].map(O=>N.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-left",children:N.jsx(mr.Typography,{variant:"small",className:"text-[11px] font-bold uppercase text-gray-50",children:O})},O))})}),N.jsx("tbody",{children:r.map(O=>N.jsxs("tr",{className:"m-1 mb-2 text-gray-50",children:[N.jsx("td",{className:"w-32",children:O.name}),N.jsx("td",{className:"w-80",children:O.description}),N.jsx("td",{className:"w-20",children:N.jsx(mr.Button,{className:"delete",color:"red",onClick:()=>_(O._id),children:"Delete"})}),N.jsx("td",{className:"w-20",children:N.jsx(mr.Button,{className:"button",color:"green",onClick:()=>{g(!0),w(O)},children:"Update"})})]},O._id))})]})}),f&&N.jsx("div",{className:"popup-container",children:N.jsx("div",{className:"grid justify-items-end",children:N.jsxs(mr.Card,{className:"mt-6 w-96 ml-4",children:[N.jsxs(mr.CardBody,{children:[N.jsx(mr.Typography,{variant:"h5",color:"blue-gray",className:"mb-2",children:"Add New Service"}),N.jsxs("div",{className:"w-72",children:[N.jsx("h1",{children:"Name of the service"}),N.jsx(mr.Input,{ref:h,value:n,onChange:O=>a(O.target.value)}),N.jsx("h1",{children:"Description"}),N.jsx(mr.Input,{ref:h,value:o,onChange:O=>s(O.target.value)})]})]}),N.jsxs(mr.CardFooter,{className:"pt-0",children:[N.jsx(mr.Button,{className:"button",onClick:B,children:"Add Service"}),N.jsx("button",{className:"action-btn cancel",id:"cancel",onClick:()=>m(!1),children:"Cancel"})]})]})})}),A&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Update Name:"}),N.jsx("div",{className:"buttons",children:N.jsx("button",{className:"bg-blue-500 p-3 text-white rounded-md",onClick:()=>{v(!0)},children:"Update Name"})})]}),N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Update Description:"}),N.jsx("button",{className:"bg-blue-500 p-3 text-white rounded-md",onClick:()=>{b(!0)},children:"Update Description"})]}),N.jsx("button",{className:"action-btn cancel",onClick:()=>g(!1),children:"Cancel"})]})}),p&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Update Name:"}),N.jsx("input",{type:"text",onChange:O=>c(O.target.value),value:l})]}),N.jsxs("div",{children:[N.jsx("button",{className:"action-btn",onClick:()=>P(x._id,l),children:"Update Name"}),N.jsx("button",{className:"action-btn cancel",id:"cancel",onClick:()=>v(!1),children:"Cancel"})]})]})}),y&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("div",{className:"input",children:[N.jsx("h4",{children:"Update Description:"}),N.jsx("input",{type:"textarea",onChange:O=>d(O.target.value),value:u})]}),N.jsxs("div",{children:[N.jsx(mr.Button,{className:"button",onClick:()=>M(x._id,u),children:"Update"}),N.jsx("button",{className:"action-btn cancel",id:"cancel",onClick:()=>b(!1),children:"Cancel"})]})]})})]})}function foe(){const[e,t]=Oe.useState(!1),[r,i]=Oe.useState(!1),[n,a]=Oe.useState([]),[o,s]=Oe.useState(null);Oe.useEffect(()=>{rs.get("https://tech-agency.onrender.com/messages").then(A=>{a(A.data)})},[]);const[l,c]=Oe.useState(""),[u,d]=Oe.useState(""),[h,f]=Oe.useState(""),m=async A=>{A.preventDefault();const g={recipient:l,subject:u,body:h};try{await rs.post("https://tech-agency.onrender.com/sendEmail",g),alert("Email sent successfully"),window.location.href="/dashboard/Messages"}catch(p){console.error(p),alert("Failed to send email")}};return N.jsxs(N.Fragment,{children:[e&&N.jsx("div",{className:"backdrop"}),r&&N.jsx("div",{className:"backdrop"}),N.jsx(mr.Card,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",children:N.jsxs("table",{className:"w-full min-w-[640px] table-auto m-5",children:[N.jsx("thead",{children:N.jsx("tr",{children:["Client name","Subject","Email","Message"].map(A=>N.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-left",children:N.jsx(mr.Typography,{variant:"small",className:"text-[11px] font-bold uppercase text-gray-50",children:A})},A))})}),N.jsx("tbody",{children:n.map(A=>N.jsxs("tr",{style:{color:"white"},children:[N.jsx("td",{children:A.clientName}),N.jsx("td",{children:A.subject}),N.jsx("td",{children:A.email}),N.jsx("td",{children:N.jsx(mr.Button,{className:"button mt-2",onClick:()=>{t(!0),s(A.message)},children:"Display"})})]},A._id))})]})}),e&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsx("h4",{children:"Message:"}),N.jsx("p",{children:o}),N.jsxs("div",{className:"buttons",children:[N.jsx("button",{className:"btn-Save",onClick:()=>i(!0),children:"Response"}),N.jsx("button",{className:"action-btn cancel",id:"cancel",onClick:()=>t(!1),children:"Cancel"})]})]})}),r&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("div",{className:"mb-2",children:["Recipient:",N.jsx("div",{children:N.jsx("input",{type:"email",value:l,onChange:A=>c(A.target.value)})})]}),N.jsxs("div",{className:"mb-2",children:["Subject:",N.jsx("div",{children:N.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value)})})]}),N.jsxs("div",{children:["Body:",N.jsx("div",{children:N.jsx("input",{type:"textarea",value:h,onChange:A=>f(A.target.value)})})]}),N.jsxs("div",{children:[" ",N.jsx("button",{className:"btn-Save",onClick:m,children:"Send"}),N.jsx("button",{className:"action-btn cancel",id:"cancel",onClick:()=>i(!1),children:" Cancel"})]})]})})]})}function kOe(){const[e,t]=Oe.useState(!0),[r,i]=Oe.useState([]);return Oe.useEffect(()=>{(async()=>{t(!0);try{const{data:a}=await rs.get("https://tech-agency.onrender.com/user");i(a)}catch(a){console.error(a.message)}t(!1)})()},[]),N.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:r.map(n=>N.jsx(mr.Card,{style:{margin:"1rem",padding:"1rem",width:"300px",borderRadius:"4px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:N.jsxs("div",{style:{overflow:"hidden"},children:[N.jsxs("div",{style:{marginBottom:"5px",paddingBottom:"5px",borderBottom:"solid 1px #42a5f5",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsx("h1",{style:{color:"#42a5f5"},children:"Username"}),N.jsx(mr.Typography,{style:{color:"#42a5f5"},variant:"h5",component:"div",children:n.username})]}),N.jsx("h1",{style:{color:"#42a5f5"},children:"New User Registred!"}),N.jsx("h1",{children:"Email:"}),N.jsx(mr.Typography,{color:"textSecondary",children:n.email}),N.jsx("h1",{children:"Phone:"}),N.jsx(mr.Typography,{color:"textSecondary",children:n.phone})]})},n._id))})}const jOe=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},CW=jOe;function zOe(e){return x0("MuiPaper",e)}n1("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const HOe=["className","component","elevation","square","variant"],VOe=e=>{const{square:t,elevation:r,variant:i,classes:n}=e,a={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${r}`]};return i1(a,zOe,n)},QOe=l1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return Kr({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&Kr({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${A8("#fff",CW(t.elevation))}, ${A8("#fff",CW(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),WOe=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiPaper"}),{className:n,component:a="div",elevation:o=1,square:s=!1,variant:l="elevation"}=i,c=dl(i,HOe),u=Kr({},i,{component:a,elevation:o,square:s,variant:l}),d=VOe(u);return N.jsx(QOe,Kr({as:a,ownerState:u,className:a1(d.root,n),ref:r},c))}),GOe=WOe;function qOe(e){return x0("MuiCard",e)}n1("MuiCard",["root"]);const KOe=["className","raised"],XOe=e=>{const{classes:t}=e;return i1({root:["root"]},qOe,t)},YOe=l1(GOe,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),$Oe=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiCard"}),{className:n,raised:a=!1}=i,o=dl(i,KOe),s=Kr({},i,{raised:a}),l=XOe(s);return N.jsx(YOe,Kr({className:a1(l.root,n),elevation:a?8:void 0,ref:r,ownerState:s},o))}),ez=$Oe;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var poe=eDe,_W=tDe,JOe=decodeURIComponent,ZOe=encodeURIComponent,fE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function eDe(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},i=t||{},n=e.split(";"),a=i.decode||JOe,o=0;o<n.length;o++){var s=n[o],l=s.indexOf("=");if(!(l<0)){var c=s.substring(0,l).trim();if(r[c]==null){var u=s.substring(l+1,s.length).trim();u[0]==='"'&&(u=u.slice(1,-1)),r[c]=rDe(u,a)}}}return r}function tDe(e,t,r){var i=r||{},n=i.encode||ZOe;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!fE.test(e))throw new TypeError("argument name is invalid");var a=n(t);if(a&&!fE.test(a))throw new TypeError("argument val is invalid");var o=e+"="+a;if(i.maxAge!=null){var s=i.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(i.domain){if(!fE.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!fE.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function rDe(e,t){try{return t(e)}catch{return e}}function iDe(){return typeof document=="object"&&typeof document.cookie=="string"}function nDe(e,t){return typeof e=="string"?poe(e,t):typeof e=="object"&&e!==null?e:{}}function aDe(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function SW(e,t){t===void 0&&(t={});var r=oDe(e);if(aDe(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function oDe(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Am=globalThis&&globalThis.__assign||function(){return Am=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Am.apply(this,arguments)},sDe=function(){function e(t,r){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=nDe(t,r),new Promise(function(){i.HAS_DOCUMENT_COOKIE=iDe()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=poe(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,i){return r===void 0&&(r={}),this._updateBrowserValues(i),SW(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var i={};for(var n in this.cookies)i[n]=SW(this.cookies[n],t);return i},e.prototype.set=function(t,r,i){var n;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Am(Am({},this.cookies),(n={},n[t]=r,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=_W(t,r,i)),this._emitChange({name:t,value:r,options:i})},e.prototype.remove=function(t,r){var i=r=Am(Am({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Am({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=_W(t,"",i)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}();const lDe=sDe;var tz=Oe.createContext(new lDe);tz.Provider;tz.Consumer;const cDe=tz;function uDe(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function tg(e){var t=Oe.useContext(cDe);if(!t)throw new Error("Missing <CookiesProvider>");var r=t.getAll(),i=Oe.useState(r),n=i[0],a=i[1],o=Oe.useRef(n);uDe()&&Oe.useLayoutEffect(function(){function c(){var u=t.getAll();dDe(e||null,u,o.current)&&a(u),o.current=u}return t.addChangeListener(c),function(){t.removeChangeListener(c)}},[t]);var s=Oe.useMemo(function(){return t.set.bind(t)},[t]),l=Oe.useMemo(function(){return t.remove.bind(t)},[t]);return[n,s,l]}function dDe(e,t,r){if(!e)return!0;for(var i=0,n=e;i<n.length;i++){var a=n[i];if(t[a]!==r[a])return!0}return!1}const hDe="/assets/logoo-deaebee1.png";function fDe(){const[e,t]=Oe.useState(""),[r,i]=Oe.useState(""),[n,a]=Oe.useState(""),[o,s]=Oe.useState("");Oe.useEffect(()=>{const h=localStorage.getItem("usernameCookies"),f=localStorage.getItem("emailCookies");h&&f&&(t(h),i(f))},[]);const[l,c]=tg("access_token"),u=()=>{c("access_token",""),window.localStorage.removeItem("usernameCookies"),window.location.reload(!1)},d=async h=>{await rs.put("https://tech-agency.onrender.com/updateprofile",{username:e,password:n,id:h}).then(f=>{alert("Profile updated successefuly! "),u(),window.location.href="/login"})};return N.jsx("div",{children:N.jsxs("div",{className:"ProfileUser",children:[N.jsx(Tn,{to:"/login",children:N.jsx("button",{className:"btn-Save logout",onClick:()=>{},children:"Logout"})}),N.jsx("h3",{children:"Personal Informations:"}),N.jsx(ez,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900 ",children:N.jsxs("div",{className:"info",children:[N.jsxs("div",{className:"personal-info",children:[N.jsx("div",{className:"img",children:N.jsx("img",{src:hDe,alt:""})}),N.jsx("div",{className:"contact",children:N.jsxs("h4",{children:["Email:",N.jsx("p",{children:"tech.agency@gmail.com"})]})})]}),N.jsxs("h4",{children:["Username:",N.jsx("input",{type:"text",value:"Admin_Tech_Agency",onChange:h=>t(h.target.value)})]}),N.jsxs("h4",{children:["Password:",N.jsx("input",{type:"text",value:"",onChange:h=>a(h.target.value)})]}),N.jsx("button",{className:"btn-Save",onClick:()=>{d(o)},children:"Save"})]})})]})})}const wv={className:"w-5 h-5 text-inherit"},EW=[{layout:"dashboard",pages:[{icon:N.jsx(Cie,{...wv}),name:"Dashboard",path:"/home",element:N.jsx(fBe,{})},{icon:N.jsx(QT,{...wv}),name:"Orders",path:"/Orders",element:N.jsx(hoe,{})},{icon:N.jsx(_ie,{...wv}),name:"Messages",path:"/Messages",element:N.jsx(foe,{})},{icon:N.jsx(vj,{...wv}),name:"Services",path:"/Services",element:N.jsx(NOe,{})},{icon:N.jsx(Sie,{...wv}),name:"Users",path:"/Users",element:N.jsx(kOe,{})},{icon:N.jsx(Eie,{...wv}),name:"Settings",path:"/Setings",element:N.jsx(fDe,{})}]}];function Aoe(){const[e,t]=e_(),{sidenavType:r}=e;return N.jsxs("div",{className:"min-h-screen bg-blue-gray-50/50",children:[N.jsx("div",{className:"w-300",children:N.jsx(t_,{routes:EW,brandImg:r==="dark"?"/img/favicon.png":"/img/logo-ct-dark.png"})}),N.jsxs("div",{className:"p-4 xl:ml-80",children:[N.jsx(ej,{}),N.jsx(tj,{}),N.jsx(mr.IconButton,{size:"lg",color:"white",className:"fixed bottom-8 right-8 z-40 rounded-full shadow-blue-gray-900/10",ripple:!1,onClick:()=>Zk(t,!0),children:N.jsx(fZ,{className:"h-5 w-5"})}),N.jsx(mk,{children:EW.map(({layout:i,pages:n})=>i==="dashboard"&&n.map(({path:a,element:o})=>N.jsx(no,{exact:!0,path:a,element:o})))}),N.jsx("div",{className:"text-blue-gray-600",children:N.jsx(r_,{})})]})]})}Aoe.displayName="/src/layout/dashboard.jsx";var rz={},pDe=Ra;Object.defineProperty(rz,"__esModule",{value:!0});var goe=rz.default=void 0,ADe=pDe(Ua()),gDe=N,mDe=(0,ADe.default)((0,gDe.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");goe=rz.default=mDe;var iz={},vDe=Ra;Object.defineProperty(iz,"__esModule",{value:!0});var moe=iz.default=void 0,yDe=vDe(Ua()),bDe=N,wDe=(0,yDe.default)((0,bDe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");moe=iz.default=wDe;var nz={},xDe=Ra;Object.defineProperty(nz,"__esModule",{value:!0});var voe=nz.default=void 0,CDe=xDe(Ua()),_De=N,SDe=(0,CDe.default)((0,_De.jsx)("path",{d:"M16.5 12.5H15v4l3 2 .75-1.23-2.25-1.52V12.5zM16 9 2 3v7l9 2-9 2v7l7.27-3.11C10.09 20.83 12.79 23 16 23c3.86 0 7-3.14 7-7s-3.14-7-7-7zm0 12c-2.75 0-4.98-2.22-5-4.97v-.07c.02-2.74 2.25-4.97 5-4.97 2.76 0 5 2.24 5 5S18.76 21 16 21z"}),"ScheduleSend");voe=nz.default=SDe;const EDe="/assets/Data Trends-47a77ee0.png";var BDe=Object.create,v3=Object.defineProperty,MDe=Object.getOwnPropertyDescriptor,PDe=Object.getOwnPropertyNames,TDe=Object.getPrototypeOf,ODe=Object.prototype.hasOwnProperty,DDe=(e,t,r)=>t in e?v3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kf=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),IDe=(e,t)=>{for(var r in t)v3(e,r,{get:t[r],enumerable:!0})},FDe=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of PDe(t))!ODe.call(e,n)&&n!==r&&v3(e,n,{get:()=>t[n],enumerable:!(i=MDe(t,n))||i.enumerable});return e},Xf=(e,t,r)=>(r=e!=null?BDe(TDe(e)):{},FDe(t||!e||!e.__esModule?v3(r,"default",{value:e,enumerable:!0}):r,e)),Ix=(e,t,r)=>(DDe(e,typeof t!="symbol"?t+"":t,r),r),LDe=Kf((e,t)=>{(function(r,i){typeof e=="object"?t.exports=i():typeof define=="function"&&define.amd?define(i):r.Alea=i()})(e,function(){return r.importState=function(n){var a=new r;return a.importState(n),a},r;function r(){return function(n){var a=0,o=0,s=0,l=1;n.length==0&&(n=[+new Date]);var c=i();a=c(" "),o=c(" "),s=c(" ");for(var u=0;u<n.length;u++)a-=c(n[u]),a<0&&(a+=1),o-=c(n[u]),o<0&&(o+=1),s-=c(n[u]),s<0&&(s+=1);c=null;var d=function(){var h=2091639*a+l*23283064365386963e-26;return a=o,o=s,s=h-(l=h|0)};return d.next=d,d.uint32=function(){return d()*4294967296},d.fract53=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.version="Alea 0.9",d.args=n,d.exportState=function(){return[a,o,s,l]},d.importState=function(h){a=+h[0]||0,o=+h[1]||0,s=+h[2]||0,l=+h[3]||0},d}(Array.prototype.slice.call(arguments))}function i(){var n=4022871197,a=function(o){o=o.toString();for(var s=0;s<o.length;s++){n+=o.charCodeAt(s);var l=.02519603282416938*n;n=l>>>0,l-=n,l*=n,n=l>>>0,l-=n,n+=l*4294967296}return(n>>>0)*23283064365386963e-26};return a.version="Mash 0.9",a}})}),yoe=Kf((e,t)=>{(function(r,i){typeof e=="object"&&typeof t<"u"?i(e):typeof define=="function"&&define.amd?define(["exports"],i):i((r=typeof globalThis<"u"?globalThis:r||self).SVDJS={})})(e,function(r){r.SVD=function(i,n,a,o,s){if(n=n===void 0||n,a=a===void 0||a,s=1e-64/(o=o||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,u,d,h,f,m,A,g,p,v,y,b=i[0].length,x=i.length;if(x<b)throw new TypeError("Invalid matrix: m < n");for(var w=[],C=[],_=[],B=n==="f"?x:b,P=p=m=0;P<x;P++)C[P]=new Array(B).fill(0);for(P=0;P<b;P++)_[P]=new Array(b).fill(0);var M,O=new Array(b).fill(0);for(P=0;P<x;P++)for(l=0;l<b;l++)C[P][l]=i[P][l];for(P=0;P<b;P++){for(w[P]=m,g=0,u=P+1,l=P;l<x;l++)g+=Math.pow(C[l][P],2);if(g<s)m=0;else for(A=(f=C[P][P])*(m=f<0?Math.sqrt(g):-Math.sqrt(g))-g,C[P][P]=f-m,l=u;l<b;l++){for(g=0,c=P;c<x;c++)g+=C[c][P]*C[c][l];for(f=g/A,c=P;c<x;c++)C[c][l]=C[c][l]+f*C[c][P]}for(O[P]=m,g=0,l=u;l<b;l++)g+=Math.pow(C[P][l],2);if(g<s)m=0;else{for(A=(f=C[P][P+1])*(m=f<0?Math.sqrt(g):-Math.sqrt(g))-g,C[P][P+1]=f-m,l=u;l<b;l++)w[l]=C[P][l]/A;for(l=u;l<x;l++){for(g=0,c=u;c<b;c++)g+=C[l][c]*C[P][c];for(c=u;c<b;c++)C[l][c]=C[l][c]+g*w[c]}}p<(v=Math.abs(O[P])+Math.abs(w[P]))&&(p=v)}if(a)for(P=b-1;0<=P;P--){if(m!==0){for(A=C[P][P+1]*m,l=u;l<b;l++)_[l][P]=C[P][l]/A;for(l=u;l<b;l++){for(g=0,c=u;c<b;c++)g+=C[P][c]*_[c][l];for(c=u;c<b;c++)_[c][l]=_[c][l]+g*_[c][P]}}for(l=u;l<b;l++)_[P][l]=0,_[l][P]=0;_[P][P]=1,m=w[P],u=P}if(n){if(n==="f")for(P=b;P<x;P++){for(l=b;l<x;l++)C[P][l]=0;C[P][P]=1}for(P=b-1;0<=P;P--){for(u=P+1,m=O[P],l=u;l<B;l++)C[P][l]=0;if(m!==0){for(A=C[P][P]*m,l=u;l<B;l++){for(g=0,c=u;c<x;c++)g+=C[c][P]*C[c][l];for(f=g/A,c=P;c<x;c++)C[c][l]=C[c][l]+f*C[c][P]}for(l=P;l<x;l++)C[l][P]=C[l][P]/m}else for(l=P;l<x;l++)C[l][P]=0;C[P][P]=C[P][P]+1}}for(o*=p,c=b-1;0<=c;c--)for(var I=0;I<50;I++){for(M=!1,u=c;0<=u;u--){if(Math.abs(w[u])<=o){M=!0;break}if(Math.abs(O[u-1])<=o)break}if(!M){for(h=0,d=u-(g=1),P=u;P<c+1&&(f=g*w[P],w[P]=h*w[P],!(Math.abs(f)<=o));P++)if(m=O[P],O[P]=Math.sqrt(f*f+m*m),h=m/(A=O[P]),g=-f/A,n)for(l=0;l<x;l++)v=C[l][d],y=C[l][P],C[l][d]=v*h+y*g,C[l][P]=-v*g+y*h}if(y=O[c],u===c){if(y<0&&(O[c]=-y,a))for(l=0;l<b;l++)_[l][c]=-_[l][c];break}for(p=O[u],f=(((v=O[c-1])-y)*(v+y)+((m=w[c-1])-(A=w[c]))*(m+A))/(2*A*v),m=Math.sqrt(f*f+1),f=((p-y)*(p+y)+A*(v/(f<0?f-m:f+m)-A))/p,P=u+(g=h=1);P<c+1;P++){if(m=w[P],v=O[P],A=g*m,m*=h,y=Math.sqrt(f*f+A*A),f=p*(h=f/(w[P-1]=y))+m*(g=A/y),m=-p*g+m*h,A=v*g,v*=h,a)for(l=0;l<b;l++)p=_[l][P-1],y=_[l][P],_[l][P-1]=p*h+y*g,_[l][P]=-p*g+y*h;if(y=Math.sqrt(f*f+A*A),f=(h=f/(O[P-1]=y))*m+(g=A/y)*v,p=-g*m+h*v,n)for(l=0;l<x;l++)v=C[l][P-1],y=C[l][P],C[l][P-1]=v*h+y*g,C[l][P]=-v*g+y*h}w[u]=0,w[c]=f,O[c]=p}for(P=0;P<b;P++)O[P]<o&&(O[P]=0);return{u:C,q:O,v:_}},r.VERSION="1.1.1",Object.defineProperty(r,"__esModule",{value:!0})})}),RDe=Kf((e,t)=>{(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=r||self,r.TinyQueue=i())})(e,function(){var r=function(n,a){if(n===void 0&&(n=[]),a===void 0&&(a=i),this.data=n,this.length=this.data.length,this.compare=a,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};r.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},r.prototype.pop=function(){if(this.length!==0){var n=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),n}},r.prototype.peek=function(){return this.data[0]},r.prototype._up=function(n){for(var a=this,o=a.data,s=a.compare,l=o[n];n>0;){var c=n-1>>1,u=o[c];if(s(l,u)>=0)break;o[n]=u,n=c}o[n]=l},r.prototype._down=function(n){for(var a=this,o=a.data,s=a.compare,l=this.length>>1,c=o[n];n<l;){var u=(n<<1)+1,d=o[u],h=u+1;if(h<this.length&&s(o[h],d)<0&&(u=h,d=o[h]),s(d,c)>=0)break;o[n]=d,n=u}o[n]=c};function i(n,a){return n<a?-1:n>a?1:0}return r})}),UDe=Kf((e,t)=>{var r=RDe();r.default&&(r=r.default),t.exports=i,t.exports.default=i;function i(c,u,d){u=u||1;for(var h,f,m,A,g=0;g<c[0].length;g++){var p=c[0][g];(!g||p[0]<h)&&(h=p[0]),(!g||p[1]<f)&&(f=p[1]),(!g||p[0]>m)&&(m=p[0]),(!g||p[1]>A)&&(A=p[1])}var v=m-h,y=A-f,b=Math.min(v,y),x=b/2;if(b===0){var w=[h,f];return w.distance=0,w}for(var C=new r(void 0,n),_=h;_<m;_+=b)for(var B=f;B<A;B+=b)C.push(new a(_+x,B+x,x,c));var P=s(c),M=new a(h+v/2,f+y/2,0,c);M.d>P.d&&(P=M);for(var O=C.length;C.length;){var I=C.pop();I.d>P.d&&(P=I,d&&console.log("found best %d after %d probes",Math.round(1e4*I.d)/1e4,O)),!(I.max-P.d<=u)&&(x=I.h/2,C.push(new a(I.x-x,I.y-x,x,c)),C.push(new a(I.x+x,I.y-x,x,c)),C.push(new a(I.x-x,I.y+x,x,c)),C.push(new a(I.x+x,I.y+x,x,c)),O+=4)}d&&(console.log("num probes: "+O),console.log("best distance: "+P.d));var F=[P.x,P.y];return F.distance=P.d,F}function n(c,u){return u.max-c.max}function a(c,u,d,h){this.x=c,this.y=u,this.h=d,this.d=o(c,u,h),this.max=this.d+this.h*Math.SQRT2}function o(c,u,d){for(var h=!1,f=1/0,m=0;m<d.length;m++)for(var A=d[m],g=0,p=A.length,v=p-1;g<p;v=g++){var y=A[g],b=A[v];y[1]>u!=b[1]>u&&c<(b[0]-y[0])*(u-y[1])/(b[1]-y[1])+y[0]&&(h=!h),f=Math.min(f,l(c,u,y,b))}return f===0?0:(h?1:-1)*Math.sqrt(f)}function s(c){for(var u=0,d=0,h=0,f=c[0],m=0,A=f.length,g=A-1;m<A;g=m++){var p=f[m],v=f[g],y=p[0]*v[1]-v[0]*p[1];d+=(p[0]+v[0])*y,h+=(p[1]+v[1])*y,u+=y*3}return u===0?new a(f[0][0],f[0][1],0,c):new a(d/u,h/u,0,c)}function l(c,u,d,h){var f=d[0],m=d[1],A=h[0]-f,g=h[1]-m;if(A!==0||g!==0){var p=((c-f)*A+(u-m)*g)/(A*A+g*g);p>1?(f=h[0],m=h[1]):p>0&&(f+=A*p,m+=g*p)}return A=c-f,g=u-m,A*A+g*g}}),NDe=Kf((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(i){if(i===null||i===!0||i===!1)return NaN;var n=Number(i);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}t.exports=e.default}),kDe=Kf((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(i){var n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return n.setUTCFullYear(i.getFullYear()),i.getTime()-n.getTime()}t.exports=e.default}),jDe=Kf((e,t)=>{function r(a,o){function s(){this.constructor=a}s.prototype=o.prototype,a.prototype=new s}function i(a,o,s,l){this.message=a,this.expected=o,this.found=s,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i)}r(i,Error),i.buildMessage=function(a,o){var s={literal:function(m){return'"'+c(m.text)+'"'},class:function(m){var A="",g;for(g=0;g<m.parts.length;g++)A+=m.parts[g]instanceof Array?u(m.parts[g][0])+"-"+u(m.parts[g][1]):u(m.parts[g]);return"["+(m.inverted?"^":"")+A+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function l(m){return m.charCodeAt(0).toString(16).toUpperCase()}function c(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(A){return"\\x0"+l(A)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(A){return"\\x"+l(A)})}function u(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(A){return"\\x0"+l(A)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(A){return"\\x"+l(A)})}function d(m){return s[m.type](m)}function h(m){var A=new Array(m.length),g,p;for(g=0;g<m.length;g++)A[g]=d(m[g]);if(A.sort(),A.length>0){for(g=1,p=1;g<A.length;g++)A[g-1]!==A[g]&&(A[p]=A[g],p++);A.length=p}switch(A.length){case 1:return A[0];case 2:return A[0]+" or "+A[1];default:return A.slice(0,-1).join(", ")+", or "+A[A.length-1]}}function f(m){return m?'"'+c(m)+'"':"end of input"}return"Expected "+h(a)+" but "+f(o)+" found."};function n(a,o){o=o!==void 0?o:{};var s={},l={svg_path:lr},c=lr,u=function(ne){if(!ne)return[];for(var pe=[],Ue=0;Ue<ne.length;Ue++)pe=pe.concat.apply(pe,ne[Ue]);var we=pe[0];return we&&we.code=="m"&&(delete we.relative,we.code="M"),pe},d=function(ne,pe){return er(ne,pe)},h=/^[Mm]/,f=Mt(["M","m"],!1,!1),m=function(ne,pe,Ue){var we=oi(ne,[pe]);return Ue&&(we=we.concat(oi(ne=="M"?"L":"l",Ue[1]))),we},A=/^[Zz]/,g=Mt(["Z","z"],!1,!1),p=function(){return oi("Z")},v=/^[Ll]/,y=Mt(["L","l"],!1,!1),b=function(ne,pe){return oi(ne,pe)},x=/^[Hh]/,w=Mt(["H","h"],!1,!1),C=function(ne,pe){return oi(ne,pe.map(function(Ue){return{x:Ue}}))},_=/^[Vv]/,B=Mt(["V","v"],!1,!1),P=function(ne,pe){return oi(ne,pe.map(function(Ue){return{y:Ue}}))},M=/^[Cc]/,O=Mt(["C","c"],!1,!1),I=function(ne,pe,Ue){return{x1:ne.x,y1:ne.y,x2:pe.x,y2:pe.y,x:Ue.x,y:Ue.y}},F=/^[Ss]/,V=Mt(["S","s"],!1,!1),Y=function(ne,pe){return{x2:ne.x,y2:ne.y,x:pe.x,y:pe.y}},j=/^[Qq]/,R=Mt(["Q","q"],!1,!1),H=function(ne,pe){return{x1:ne.x,y1:ne.y,x:pe.x,y:pe.y}},G=/^[Tt]/,$=Mt(["T","t"],!1,!1),L=/^[Aa]/,K=Mt(["A","a"],!1,!1),X=function(ne,pe,Ue,we,ze,dt){return{rx:ne,ry:pe,xAxisRotation:Ue,largeArc:we,sweep:ze,x:dt.x,y:dt.y}},ee=function(ne,pe){return{x:ne,y:pe}},W=function(ne){return ne*1},te=function(ne){return ne.join("")*1},oe=/^[01]/,le=Mt(["0","1"],!1,!1),be=function(ne){return ne=="1"},ve=function(){return""},se=",",ye=ht(",",!1),Be=function(ne){return ne.join("")},ge=".",ae=ht(".",!1),Ne=/^[eE]/,Ie=Mt(["e","E"],!1,!1),Ee=/^[+\-]/,Qe=Mt(["+","-"],!1,!1),We=/^[0-9]/,de=Mt([["0","9"]],!1,!1),re=function(ne){return ne.join("")},Re=/^[ \t\n\r]/,Ke=Mt([" ","	",`
`,"\r"],!1,!1),ie=0,st=[{line:1,column:1}],wt=0,ut=[],Ze;if("startRule"in o){if(!(o.startRule in l))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');c=l[o.startRule]}function ht(ne,pe){return{type:"literal",text:ne,ignoreCase:pe}}function Mt(ne,pe,Ue){return{type:"class",parts:ne,inverted:pe,ignoreCase:Ue}}function Pt(){return{type:"end"}}function Yt(ne){var pe=st[ne],Ue;if(pe)return pe;for(Ue=ne-1;!st[Ue];)Ue--;for(pe=st[Ue],pe={line:pe.line,column:pe.column};Ue<ne;)a.charCodeAt(Ue)===10?(pe.line++,pe.column=1):pe.column++,Ue++;return st[ne]=pe,pe}function Tt(ne,pe){var Ue=Yt(ne),we=Yt(pe);return{start:{offset:ne,line:Ue.line,column:Ue.column},end:{offset:pe,line:we.line,column:we.column}}}function Vt(ne){ie<wt||(ie>wt&&(wt=ie,ut=[]),ut.push(ne))}function Or(ne,pe,Ue){return new i(i.buildMessage(ne,pe),ne,pe,Ue)}function lr(){var ne,pe,Ue,we,ze;for(ne=ie,pe=[],Ue=Kt();Ue!==s;)pe.push(Ue),Ue=Kt();if(pe!==s)if(Ue=Ge(),Ue===s&&(Ue=null),Ue!==s){for(we=[],ze=Kt();ze!==s;)we.push(ze),ze=Kt();we!==s?(pe=u(Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;else ie=ne,ne=s;return ne}function Ge(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=At(),pe!==s){for(Ue=[],we=ie,ze=[],dt=Kt();dt!==s;)ze.push(dt),dt=Kt();for(ze!==s?(dt=At(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;){for(Ue.push(we),we=ie,ze=[],dt=Kt();dt!==s;)ze.push(dt),dt=Kt();ze!==s?(dt=At(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s)}Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function At(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=Wt(),pe!==s){for(Ue=[],we=ie,ze=[],dt=Kt();dt!==s;)ze.push(dt),dt=Kt();for(ze!==s?(dt=yt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;){for(Ue.push(we),we=ie,ze=[],dt=Kt();dt!==s;)ze.push(dt),dt=Kt();ze!==s?(dt=yt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s)}Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function yt(){var ne;return ne=rr(),ne===s&&(ne=qt(),ne===s&&(ne=Ui(),ne===s&&(ne=ii(),ne===s&&(ne=en(),ne===s&&(ne=ot(),ne===s&&(ne=he(),ne===s&&(ne=Fe(),ne===s&&(ne=gt())))))))),ne}function Wt(){var ne,pe,Ue,we,ze,dt,Er;if(ne=ie,h.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(f)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=mt(),we!==s?(ze=ie,dt=Gt(),dt===s&&(dt=null),dt!==s?(Er=Cr(),Er!==s?(dt=[dt,Er],ze=dt):(ie=ze,ze=s)):(ie=ze,ze=s),ze===s&&(ze=null),ze!==s?(pe=m(pe,we,ze),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function rr(){var ne,pe;return ne=ie,A.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(g)),pe!==s&&(pe=p()),ne=pe,ne}function qt(){var ne,pe,Ue,we;if(ne=ie,v.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(y)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=Cr(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Cr(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=mt(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=mt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=mt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Ui(){var ne,pe,Ue,we;if(ne=ie,x.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(w)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=ci(),we!==s?(pe=C(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function ci(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=Dt(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Dt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Dt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function ii(){var ne,pe,Ue,we;if(ne=ie,_.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(B)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=ci(),we!==s?(pe=P(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function en(){var ne,pe,Ue,we;if(ne=ie,M.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(O)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=dr(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function dr(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=Xe(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Xe(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Xe(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Xe(){var ne,pe,Ue,we,ze,dt;return ne=ie,pe=mt(),pe!==s?(Ue=Gt(),Ue===s&&(Ue=null),Ue!==s?(we=mt(),we!==s?(ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=mt(),dt!==s?(pe=I(pe,we,dt),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s),ne}function ot(){var ne,pe,Ue,we;if(ne=ie,F.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(V)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=je(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function je(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=vt(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=vt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=vt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function vt(){var ne,pe,Ue,we;return ne=ie,pe=mt(),pe!==s?(Ue=Gt(),Ue===s&&(Ue=null),Ue!==s?(we=mt(),we!==s?(pe=Y(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s),ne}function he(){var ne,pe,Ue,we;if(ne=ie,j.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(R)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=De(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function De(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=Ve(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Ve(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Ve(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Ve(){var ne,pe,Ue,we;return ne=ie,pe=mt(),pe!==s?(Ue=Gt(),Ue===s&&(Ue=null),Ue!==s?(we=mt(),we!==s?(pe=H(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s),ne}function Fe(){var ne,pe,Ue,we;if(ne=ie,G.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt($)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=Ye(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Ye(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=mt(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=mt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=mt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function gt(){var ne,pe,Ue,we;if(ne=ie,L.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(K)),pe!==s){for(Ue=[],we=Kt();we!==s;)Ue.push(we),we=Kt();Ue!==s?(we=Ot(),we!==s?(pe=b(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function Ot(){var ne,pe,Ue,we,ze,dt;if(ne=ie,pe=xt(),pe!==s){for(Ue=[],we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=xt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);we!==s;)Ue.push(we),we=ie,ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=xt(),dt!==s?(ze=[ze,dt],we=ze):(ie=we,we=s)):(ie=we,we=s);Ue!==s?(pe=d(pe,Ue),ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;return ne}function xt(){var ne,pe,Ue,we,ze,dt,Er,tr,ti,Wr,mi,Wn;return ne=ie,pe=St(),pe!==s?(Ue=Gt(),Ue===s&&(Ue=null),Ue!==s?(we=St(),we!==s?(ze=Gt(),ze===s&&(ze=null),ze!==s?(dt=Dt(),dt!==s?(Er=Gt(),Er!==s?(tr=Jt(),tr!==s?(ti=Gt(),ti===s&&(ti=null),ti!==s?(Wr=Jt(),Wr!==s?(mi=Gt(),mi===s&&(mi=null),mi!==s?(Wn=mt(),Wn!==s?(pe=X(pe,we,dt,tr,Wr,Wn),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s),ne}function mt(){var ne,pe,Ue,we;return ne=ie,pe=Dt(),pe!==s?(Ue=Gt(),Ue===s&&(Ue=null),Ue!==s?(we=Dt(),we!==s?(pe=ee(pe,we),ne=pe):(ie=ne,ne=s)):(ie=ne,ne=s)):(ie=ne,ne=s),ne}function St(){var ne,pe;return ne=ie,pe=ur(),pe===s&&(pe=Tr()),pe!==s&&(pe=W(pe)),ne=pe,ne}function Dt(){var ne,pe,Ue,we;return ne=ie,pe=ie,Ue=zt(),Ue===s&&(Ue=null),Ue!==s?(we=ur(),we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s),pe===s&&(pe=ie,Ue=zt(),Ue===s&&(Ue=null),Ue!==s?(we=Tr(),we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s)),pe!==s&&(pe=te(pe)),ne=pe,ne}function Jt(){var ne,pe;return ne=ie,oe.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(le)),pe!==s&&(pe=be(pe)),ne=pe,ne}function Gt(){var ne,pe,Ue,we,ze;if(ne=ie,pe=[],Ue=Kt(),Ue!==s)for(;Ue!==s;)pe.push(Ue),Ue=Kt();else pe=s;if(pe!==s)if(Ue=Sr(),Ue===s&&(Ue=null),Ue!==s){for(we=[],ze=Kt();ze!==s;)we.push(ze),ze=Kt();we!==s?(pe=[pe,Ue,we],ne=pe):(ie=ne,ne=s)}else ie=ne,ne=s;else ie=ne,ne=s;if(ne===s){if(ne=ie,pe=ie,Ue=Sr(),Ue!==s){for(we=[],ze=Kt();ze!==s;)we.push(ze),ze=Kt();we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)}else ie=pe,pe=s;pe!==s&&(pe=ve()),ne=pe}return ne}function Sr(){var ne;return a.charCodeAt(ie)===44?(ne=se,ie++):(ne=s,Vt(ye)),ne}function ur(){var ne,pe,Ue,we;return ne=ie,pe=ie,Ue=Pr(),Ue!==s?(we=Zt(),we===s&&(we=null),we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s),pe===s&&(pe=ie,Ue=Tr(),Ue!==s?(we=Zt(),we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s)),pe!==s&&(pe=Be(pe)),ne=pe,ne}function Pr(){var ne,pe,Ue,we,ze;return ne=ie,pe=ie,Ue=Tr(),Ue===s&&(Ue=null),Ue!==s?(a.charCodeAt(ie)===46?(we=ge,ie++):(we=s,Vt(ae)),we!==s?(ze=Tr(),ze!==s?(Ue=[Ue,we,ze],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s)):(ie=pe,pe=s),pe===s&&(pe=ie,Ue=Tr(),Ue!==s?(a.charCodeAt(ie)===46?(we=ge,ie++):(we=s,Vt(ae)),we!==s?(Ue=[Ue,we],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s)),pe!==s&&(pe=Be(pe)),ne=pe,ne}function Zt(){var ne,pe,Ue,we,ze;return ne=ie,pe=ie,Ne.test(a.charAt(ie))?(Ue=a.charAt(ie),ie++):(Ue=s,Vt(Ie)),Ue!==s?(we=zt(),we===s&&(we=null),we!==s?(ze=Tr(),ze!==s?(Ue=[Ue,we,ze],pe=Ue):(ie=pe,pe=s)):(ie=pe,pe=s)):(ie=pe,pe=s),pe!==s&&(pe=Be(pe)),ne=pe,ne}function zt(){var ne;return Ee.test(a.charAt(ie))?(ne=a.charAt(ie),ie++):(ne=s,Vt(Qe)),ne}function Tr(){var ne,pe,Ue;if(ne=ie,pe=[],We.test(a.charAt(ie))?(Ue=a.charAt(ie),ie++):(Ue=s,Vt(de)),Ue!==s)for(;Ue!==s;)pe.push(Ue),We.test(a.charAt(ie))?(Ue=a.charAt(ie),ie++):(Ue=s,Vt(de));else pe=s;return pe!==s&&(pe=re(pe)),ne=pe,ne}function Kt(){var ne,pe;return ne=ie,Re.test(a.charAt(ie))?(pe=a.charAt(ie),ie++):(pe=s,Vt(Ke)),pe!==s&&(pe=ve()),ne=pe,ne}function er(ne,pe){if(!pe)return[ne];for(var Ue=[ne],we=0,ze=pe.length;we<ze;we++)Ue[we+1]=pe[we][1];return Ue}var Qt={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Yr in Qt)Qt[Yr.toUpperCase()]=Qt[Yr];function oi(ne,pe){pe||(pe=[{}]);for(var Ue=pe.length;Ue--;){var we={code:ne,command:Qt[ne]};ne==ne.toLowerCase()&&(we.relative=!0);for(var ze in pe[Ue])we[ze]=pe[Ue][ze];pe[Ue]=we}return pe}if(Ze=c(),Ze!==s&&ie===a.length)return Ze;throw Ze!==s&&ie<a.length&&Vt(Pt()),Or(ut,wt<a.length?a.charAt(wt):null,wt<a.length?Tt(wt,wt+1):Tt(wt,wt))}t.exports={SyntaxError:i,parse:n}}),boe=Kf((e,t)=>{var r=jDe().parse;r.parseSVG=r,r.makeAbsolute=i,t.exports=r;function i(n){var a,o={x:0,y:0},s={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return n.forEach(function(l){l.command==="moveto"&&(a=l),l.x0=o.x,l.y0=o.y;for(var c in s)c in l&&(l[c]+=l.relative?l[s[c]]:0);"x"in l||(l.x=o.x),"y"in l||(l.y=o.y),l.relative=!1,l.code=l.code.toUpperCase(),l.command=="closepath"&&(l.x=a.x,l.y=a.y),o=l}),n}}),zDe=Kf((e,t)=>{t.exports=function(r,i){for(var n=r.split("."),a=i.split("."),o=0;o<3;o++){var s=Number(n[o]),l=Number(a[o]);if(s>l)return 1;if(l>s)return-1;if(!isNaN(s)&&isNaN(l))return 1;if(isNaN(s)&&!isNaN(l))return-1}return 0}}),d1="149",Ic={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},HDe=0,BW=1,VDe=2,az=1,QDe=2,Fx=3,ed=0,Do=1,Ms=2,Ya=0,Qm=1,MW=2,PW=3,TW=4,WDe=5,ay=100,GDe=101,qDe=102,OW=103,DW=104,KDe=200,XDe=201,YDe=202,$De=203,woe=204,xoe=205,JDe=206,ZDe=207,e4e=208,t4e=209,r4e=210,i4e=0,n4e=1,a4e=2,fR=3,o4e=4,s4e=5,l4e=6,c4e=7,Coe=0,u4e=1,d4e=2,ch=0,h4e=1,f4e=2,p4e=3,A4e=4,g4e=5,_oe=300,a0=301,o0=302,pR=303,AR=304,f_=306,yf=1e3,zn=1001,gR=1002,Zi=1003,IW=1004,QD=1005,fi=1006,m4e=1007,Ob=1008,Fs=1009,v4e=1010,y4e=1011,Soe=1012,b4e=1013,bf=1014,qa=1015,kf=1016,w4e=1017,x4e=1018,Wm=1020,C4e=1021,Po=1023,_4e=1024,S4e=1025,Gm=1026,s0=1027,E4e=1028,B4e=1029,$M=1030,M4e=1031,Eoe=1033,WD=33776,GD=33777,qD=33778,KD=33779,FW=35840,LW=35841,RW=35842,UW=35843,P4e=36196,NW=37492,kW=37496,jW=37808,zW=37809,HW=37810,VW=37811,QW=37812,WW=37813,GW=37814,qW=37815,KW=37816,XW=37817,YW=37818,$W=37819,JW=37820,ZW=37821,XD=36492,T4e=36283,eG=36284,tG=36285,rG=36286,Boe=2200,Moe=2201,oz=2202,JM=2300,ZM=2301,YD=2302,Py=2400,Ty=2401,eP=2402,sz=2500,O4e=2501,td=3e3,li=3001,Yf=3200,Poe=3201,D4e=0,I4e=1,Vd="srgb",tP="srgb-linear",$D=7680,F4e=519,mR=35044,L4e=35048,iG="300 es",vR=1035,as=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let r=t.slice(0);for(let i=0,n=r.length;i<n;i++)r[i].call(this,e);e.target=null}}},vs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],nG=1234567,p2=Math.PI/180,AC=180/Math.PI;function iu(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vs[e&255]+vs[e>>8&255]+vs[e>>16&255]+vs[e>>24&255]+"-"+vs[t&255]+vs[t>>8&255]+"-"+vs[t>>16&15|64]+vs[t>>24&255]+"-"+vs[r&63|128]+vs[r>>8&255]+"-"+vs[r>>16&255]+vs[r>>24&255]+vs[i&255]+vs[i>>8&255]+vs[i>>16&255]+vs[i>>24&255]).toLowerCase()}function Qa(e,t,r){return Math.max(t,Math.min(r,e))}function lz(e,t){return(e%t+t)%t}function R4e(e,t,r,i,n){return i+(e-t)*(n-i)/(r-t)}function U4e(e,t,r){return e!==t?(r-e)/(t-e):0}function A2(e,t,r){return(1-r)*e+r*t}function N4e(e,t,r,i){return A2(e,t,1-Math.exp(-r*i))}function k4e(e,t=1){return t-Math.abs(lz(e,t*2)-t)}function j4e(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))}function z4e(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(e*6-15)+10))}function H4e(e,t){return e+Math.floor(Math.random()*(t-e+1))}function V4e(e,t){return e+Math.random()*(t-e)}function Q4e(e){return e*(.5-Math.random())}function W4e(e){e!==void 0&&(nG=e);let t=nG+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function G4e(e){return e*p2}function q4e(e){return e*AC}function yR(e){return(e&e-1)===0&&e!==0}function Toe(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function rP(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function K4e(e,t,r,i,n){let a=Math.cos,o=Math.sin,s=a(r/2),l=o(r/2),c=a((t+i)/2),u=o((t+i)/2),d=a((t-i)/2),h=o((t-i)/2),f=a((i-t)/2),m=o((i-t)/2);switch(n){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*m,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*m,s*c);break;case"ZYZ":e.set(l*m,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function wf(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function En(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var fr=Object.freeze({__proto__:null,DEG2RAD:p2,RAD2DEG:AC,ceilPowerOfTwo:Toe,clamp:Qa,damp:N4e,degToRad:G4e,denormalize:wf,euclideanModulo:lz,floorPowerOfTwo:rP,generateUUID:iu,inverseLerp:U4e,isPowerOfTwo:yR,lerp:A2,mapLinear:R4e,normalize:En,pingpong:k4e,radToDeg:q4e,randFloat:V4e,randFloatSpread:Q4e,randInt:H4e,seededRandom:W4e,setQuaternionFromProperEuler:K4e,smootherstep:z4e,smoothstep:j4e}),ke=class{constructor(e=0,t=0){ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),n=this.x-e.x,a=this.y-e.y;return this.x=n*r-a*i+e.x,this.y=n*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Ka=class{constructor(){Ka.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,n,a,o,s,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=n,c[5]=s,c[6]=r,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,n=this.elements,a=r[0],o=r[3],s=r[6],l=r[1],c=r[4],u=r[7],d=r[2],h=r[5],f=r[8],m=i[0],A=i[3],g=i[6],p=i[1],v=i[4],y=i[7],b=i[2],x=i[5],w=i[8];return n[0]=a*m+o*p+s*b,n[3]=a*A+o*v+s*x,n[6]=a*g+o*y+s*w,n[1]=l*m+c*p+u*b,n[4]=l*A+c*v+u*x,n[7]=l*g+c*y+u*w,n[2]=d*m+h*p+f*b,n[5]=d*A+h*v+f*x,n[8]=d*g+h*y+f*w,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-r*n*c+r*o*s+i*n*l-i*a*s}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*n,h=l*n-a*s,f=t*u+r*d+i*h;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/f;return e[0]=u*m,e[1]=(i*l-c*r)*m,e[2]=(o*r-i*a)*m,e[3]=d*m,e[4]=(c*t-i*s)*m,e[5]=(i*n-o*t)*m,e[6]=h*m,e[7]=(r*s-l*t)*m,e[8]=(a*t-r*n)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,n,a,o){let s=Math.cos(n),l=Math.sin(n);return this.set(r*s,r*l,-r*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(JD.makeScale(e,t)),this}rotate(e){return this.premultiply(JD.makeRotation(-e)),this}translate(e,t){return this.premultiply(JD.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}},JD=new Ka;function Ooe(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var X4e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pE(e,t){return new X4e[e](t)}function gC(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function qm(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function O5(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var ZD={[Vd]:{[tP]:qm},[tP]:{[Vd]:O5}},Gs={legacyMode:!0,get workingColorSpace(){return tP},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,r){if(this.legacyMode||t===r||!t||!r)return e;if(ZD[t]&&ZD[t][r]!==void 0){let i=ZD[t][r];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Doe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},eo={r:0,g:0,b:0},_u={h:0,s:0,l:0},AE={h:0,s:0,l:0};function e4(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*6*(2/3-r):e}function gE(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Rr=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vd){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gs.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Gs.workingColorSpace){return this.r=e,this.g=t,this.b=r,Gs.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Gs.workingColorSpace){if(e=lz(e,1),t=Qa(t,0,1),r=Qa(r,0,1),t===0)this.r=this.g=this.b=r;else{let n=r<=.5?r*(1+t):r+t-r*t,a=2*r-n;this.r=e4(a,n,e+1/3),this.g=e4(a,n,e),this.b=e4(a,n,e-1/3)}return Gs.toWorkingColorSpace(this,i),this}setStyle(e,t=Vd){function r(n){n!==void 0&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let n,a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,Gs.toWorkingColorSpace(this,t),r(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,Gs.toWorkingColorSpace(this,t),r(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){let s=parseFloat(n[1])/360,l=parseFloat(n[2])/100,c=parseFloat(n[3])/100;return r(n[4]),this.setHSL(s,l,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let n=i[1],a=n.length;if(a===3)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,Gs.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,Gs.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Vd){let r=Doe[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qm(e.r),this.g=qm(e.g),this.b=qm(e.b),this}copyLinearToSRGB(e){return this.r=O5(e.r),this.g=O5(e.g),this.b=O5(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vd){return Gs.fromWorkingColorSpace(gE(this,eo),e),Qa(eo.r*255,0,255)<<16^Qa(eo.g*255,0,255)<<8^Qa(eo.b*255,0,255)<<0}getHexString(e=Vd){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gs.workingColorSpace){Gs.fromWorkingColorSpace(gE(this,eo),t);let r=eo.r,i=eo.g,n=eo.b,a=Math.max(r,i,n),o=Math.min(r,i,n),s,l,c=(o+a)/2;if(o===a)s=0,l=0;else{let u=a-o;switch(l=c<=.5?u/(a+o):u/(2-a-o),a){case r:s=(i-n)/u+(i<n?6:0);break;case i:s=(n-r)/u+2;break;case n:s=(r-i)/u+4;break}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Gs.workingColorSpace){return Gs.fromWorkingColorSpace(gE(this,eo),t),e.r=eo.r,e.g=eo.g,e.b=eo.b,e}getStyle(e=Vd){return Gs.fromWorkingColorSpace(gE(this,eo),e),e!==Vd?`color(${e} ${eo.r} ${eo.g} ${eo.b})`:`rgb(${eo.r*255|0},${eo.g*255|0},${eo.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(_u),_u.h+=e,_u.s+=t,_u.l+=r,this.setHSL(_u.h,_u.s,_u.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(_u),e.getHSL(AE);let r=A2(_u.h,AE.h,t),i=A2(_u.s,AE.s,t),n=A2(_u.l,AE.l,t);return this.setHSL(r,i,n),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};Rr.NAMES=Doe;var xv,Ioe=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{xv===void 0&&(xv=gC("canvas")),xv.width=e.width,xv.height=e.height;let r=xv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=xv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=gC("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),n=i.data;for(let a=0;a<n.length;a++)n[a]=qm(n[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(qm(t[r]/255)*255):t[r]=qm(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Foe=class{constructor(e=null){this.isSource=!0,this.uuid=iu(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let n;if(Array.isArray(i)){n=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?n.push(t4(i[a].image)):n.push(t4(i[a]))}else n=t4(i);r.url=n}return t||(e.images[this.uuid]=r),r}};function t4(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Ioe.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Y4e=0,ia=class extends as{constructor(e=ia.DEFAULT_IMAGE,t=ia.DEFAULT_MAPPING,r=zn,i=zn,n=fi,a=Ob,o=Po,s=Fs,l=ia.DEFAULT_ANISOTROPY,c=td){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Y4e++}),this.uuid=iu(),this.name="",this.source=new Foe(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=n,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ka,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_oe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case yf:e.x=e.x-Math.floor(e.x);break;case zn:e.x=e.x<0?0:1;break;case gR:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case yf:e.y=e.y-Math.floor(e.y);break;case zn:e.y=e.y<0?0:1;break;case gR:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};ia.DEFAULT_IMAGE=null;ia.DEFAULT_MAPPING=_oe;ia.DEFAULT_ANISOTROPY=1;var Xr=class{constructor(e=0,t=0,r=0,i=1){Xr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,n=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*n,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*n,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*n,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*n,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,n,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],d=a[9],h=a[2],f=a[6],m=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-h)<.01&&Math.abs(d-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+h)<.1&&Math.abs(d+f)<.1&&Math.abs(o+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let g=(o+1)/2,p=(u+1)/2,v=(m+1)/2,y=(s+c)/4,b=(l+h)/4,x=(d+f)/4;return g>p&&g>v?g<.01?(r=0,i=.707106781,n=.707106781):(r=Math.sqrt(g),i=y/r,n=b/r):p>v?p<.01?(r=.707106781,i=0,n=.707106781):(i=Math.sqrt(p),r=y/i,n=x/i):v<.01?(r=.707106781,i=.707106781,n=0):(n=Math.sqrt(v),r=b/n,i=x/n),this.set(r,i,n,t),this}let A=Math.sqrt((f-d)*(f-d)+(l-h)*(l-h)+(c-s)*(c-s));return Math.abs(A)<.001&&(A=1),this.x=(f-d)/A,this.y=(l-h)/A,this.z=(c-s)/A,this.w=Math.acos((o+u+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Ki=class extends as{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Xr(0,0,e,t),this.scissorTest=!1,this.viewport=new Xr(0,0,e,t);let i={width:e,height:t,depth:1};this.texture=new ia(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fi,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new Foe(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Loe=class extends ia{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},$4e=class extends ia{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},J4e=class extends Ki{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;let n=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=n.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,n=this.texture.length;i<n;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},qr=class{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,n,a,o){let s=r[i+0],l=r[i+1],c=r[i+2],u=r[i+3],d=n[a+0],h=n[a+1],f=n[a+2],m=n[a+3];if(o===0){e[t+0]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u;return}if(o===1){e[t+0]=d,e[t+1]=h,e[t+2]=f,e[t+3]=m;return}if(u!==m||s!==d||l!==h||c!==f){let A=1-o,g=s*d+l*h+c*f+u*m,p=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){let b=Math.sqrt(v),x=Math.atan2(b,g*p);A=Math.sin(A*x)/b,o=Math.sin(o*x)/b}let y=o*p;if(s=s*A+d*y,l=l*A+h*y,c=c*A+f*y,u=u*A+m*y,A===1-o){let b=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=b,l*=b,c*=b,u*=b}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,i,n,a){let o=r[i],s=r[i+1],l=r[i+2],c=r[i+3],u=n[a],d=n[a+1],h=n[a+2],f=n[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let r=e._x,i=e._y,n=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(r/2),c=o(i/2),u=o(n/2),d=s(r/2),h=s(i/2),f=s(n/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],n=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=r+o+u;if(d>0){let h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-s)*h,this._y=(n-l)*h,this._z=(a-i)*h}else if(r>o&&r>u){let h=2*Math.sqrt(1+r-o-u);this._w=(c-s)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(n+l)/h}else if(o>u){let h=2*Math.sqrt(1+o-r-u);this._w=(n-l)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(s+c)/h}else{let h=2*Math.sqrt(1+u-r-o);this._w=(a-i)/h,this._x=(n+l)/h,this._y=(s+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qa(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,n=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=r*c+a*o+i*l-n*s,this._y=i*c+a*s+n*o-r*l,this._z=n*c+a*l+r*s-i*o,this._w=a*c-r*o-i*s-n*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,n=this._z,a=this._w,o=a*e._w+r*e._x+i*e._y+n*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=n,this;let s=1-o*o;if(s<=Number.EPSILON){let h=1-t;return this._w=h*a+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*n+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=r*u+this._x*d,this._y=i*u+this._y*d,this._z=n*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),n=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(n),r*Math.cos(n),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},q=class{constructor(e=0,t=0,r=0){q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(aG.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aG.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6]*i,this.y=n[1]*t+n[4]*r+n[7]*i,this.z=n[2]*t+n[5]*r+n[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,n=e.elements,a=1/(n[3]*t+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*t+n[4]*r+n[8]*i+n[12])*a,this.y=(n[1]*t+n[5]*r+n[9]*i+n[13])*a,this.z=(n[2]*t+n[6]*r+n[10]*i+n[14])*a,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,n=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*r,c=s*r+o*t-n*i,u=s*i+n*r-a*t,d=-n*t-a*r-o*i;return this.x=l*s+d*-n+c*-o-u*-a,this.y=c*s+d*-a+u*-n-l*-o,this.z=u*s+d*-o+l*-a-c*-n,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i,this.y=n[1]*t+n[5]*r+n[9]*i,this.z=n[2]*t+n[6]*r+n[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,n=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-n*o,this.y=n*a-r*s,this.z=r*o-i*a,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return r4.copy(this).projectOnVector(e),this.sub(r4)}reflect(e){return this.sub(r4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos(Qa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},r4=new q,aG=new qr,Fa=class{constructor(e=new q(1/0,1/0,1/0),t=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,n=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.length;s<l;s+=3){let c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<r&&(r=u),d<i&&(i=d),c>n&&(n=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,r,i),this.max.set(n,a,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,n=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.count;s<l;s++){let c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<r&&(r=u),d<i&&(i=d),c>n&&(n=c),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,r,i),this.max.set(n,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=Kg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let n=r.attributes.position;for(let a=0,o=n.count;a<o;a++)Kg.fromBufferAttribute(n,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Kg)}else r.boundingBox===null&&r.computeBoundingBox(),i4.copy(r.boundingBox),i4.applyMatrix4(e.matrixWorld),this.union(i4);let i=e.children;for(let n=0,a=i.length;n<a;n++)this.expandByObject(i[n],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Kg),Kg.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Uw),mE.subVectors(this.max,Uw),Cv.subVectors(e.a,Uw),_v.subVectors(e.b,Uw),Sv.subVectors(e.c,Uw),Fp.subVectors(_v,Cv),Lp.subVectors(Sv,_v),Xg.subVectors(Cv,Sv);let t=[0,-Fp.z,Fp.y,0,-Lp.z,Lp.y,0,-Xg.z,Xg.y,Fp.z,0,-Fp.x,Lp.z,0,-Lp.x,Xg.z,0,-Xg.x,-Fp.y,Fp.x,0,-Lp.y,Lp.x,0,-Xg.y,Xg.x,0];return!n4(t,Cv,_v,Sv,mE)||(t=[1,0,0,0,1,0,0,0,1],!n4(t,Cv,_v,Sv,mE))?!1:(vE.crossVectors(Fp,Lp),t=[vE.x,vE.y,vE.z],n4(t,Cv,_v,Sv,mE))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Kg.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Kg).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Nh=[new q,new q,new q,new q,new q,new q,new q,new q],Kg=new q,i4=new Fa,Cv=new q,_v=new q,Sv=new q,Fp=new q,Lp=new q,Xg=new q,Uw=new q,mE=new q,vE=new q,Yg=new q;function n4(e,t,r,i,n){for(let a=0,o=e.length-3;a<=o;a+=3){Yg.fromArray(e,a);let s=n.x*Math.abs(Yg.x)+n.y*Math.abs(Yg.y)+n.z*Math.abs(Yg.z),l=t.dot(Yg),c=r.dot(Yg),u=i.dot(Yg);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}var Z4e=new Fa,Nw=new q,a4=new q,jl=class{constructor(t=new q,r=-1){this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){let i=this.center;r!==void 0?i.copy(r):Z4e.setFromPoints(t).getCenter(i);let n=0;for(let a=0,o=t.length;a<o;a++)n=Math.max(n,i.distanceToSquared(t[a]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){let i=this.center.distanceToSquared(t);return r.copy(t),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Nw.subVectors(t,this.center);let r=Nw.lengthSq();if(r>this.radius*this.radius){let i=Math.sqrt(r),n=(i-this.radius)*.5;this.center.addScaledVector(Nw,n/i),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(a4.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Nw.copy(t.center).add(a4)),this.expandByPoint(Nw.copy(t.center).sub(a4))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}},kh=new q,o4=new q,yE=new q,Rp=new q,s4=new q,bE=new q,l4=new q,h1=class{constructor(e=new q,t=new q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,kh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=kh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(kh.copy(this.direction).multiplyScalar(t).add(this.origin),kh.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){o4.copy(e).add(t).multiplyScalar(.5),yE.copy(t).sub(e).normalize(),Rp.copy(this.origin).sub(o4);let n=e.distanceTo(t)*.5,a=-this.direction.dot(yE),o=Rp.dot(this.direction),s=-Rp.dot(yE),l=Rp.lengthSq(),c=Math.abs(1-a*a),u,d,h,f;if(c>0)if(u=a*s-o,d=a*o-s,f=n*c,u>=0)if(d>=-f)if(d<=f){let m=1/c;u*=m,d*=m,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=n,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-n,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-a*n+o)),d=u>0?-n:Math.min(Math.max(-n,-s),n),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-n,-s),n),h=d*(d+2*s)+l):(u=Math.max(0,-(a*n+o)),d=u>0?n:Math.min(Math.max(-n,-s),n),h=-u*u+d*(d+2*s)+l);else d=a>0?-n:n,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(yE).multiplyScalar(d).add(o4),h}intersectSphere(e,t){kh.subVectors(e.center,this.origin);let r=kh.dot(this.direction),i=kh.dot(kh)-r*r,n=e.radius*e.radius;if(i>n)return null;let a=Math.sqrt(n-i),o=r-a,s=r+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,n,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(r=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(r=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(n=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(n=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),r>a||n>i||((n>r||isNaN(r))&&(r=n),(a<i||isNaN(i))&&(i=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),r>s||o>i)||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,kh)!==null}intersectTriangle(e,t,r,i,n){s4.subVectors(t,e),bE.subVectors(r,e),l4.crossVectors(s4,bE);let a=this.direction.dot(l4),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Rp.subVectors(this.origin,e);let s=o*this.direction.dot(bE.crossVectors(Rp,bE));if(s<0)return null;let l=o*this.direction.dot(s4.cross(Rp));if(l<0||s+l>a)return null;let c=-o*Rp.dot(l4);return c<0?null:this.at(c/a,n)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},kt=class{constructor(){kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,r,i,n,a,o,s,l,c,u,d,h,f,m,A,g){let p=this.elements;return p[0]=t,p[4]=r,p[8]=i,p[12]=n,p[1]=a,p[5]=o,p[9]=s,p[13]=l,p[2]=c,p[6]=u,p[10]=d,p[14]=h,p[3]=f,p[7]=m,p[11]=A,p[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new kt().fromArray(this.elements)}copy(t){let r=this.elements,i=t.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this}copyPosition(t){let r=this.elements,i=t.elements;return r[12]=i[12],r[13]=i[13],r[14]=i[14],this}setFromMatrix3(t){let r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,i){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,r,i){return this.set(t.x,r.x,i.x,0,t.y,r.y,i.y,0,t.z,r.z,i.z,0,0,0,0,1),this}extractRotation(t){let r=this.elements,i=t.elements,n=1/Ev.setFromMatrixColumn(t,0).length(),a=1/Ev.setFromMatrixColumn(t,1).length(),o=1/Ev.setFromMatrixColumn(t,2).length();return r[0]=i[0]*n,r[1]=i[1]*n,r[2]=i[2]*n,r[3]=0,r[4]=i[4]*a,r[5]=i[5]*a,r[6]=i[6]*a,r[7]=0,r[8]=i[8]*o,r[9]=i[9]*o,r[10]=i[10]*o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){let r=this.elements,i=t.x,n=t.y,a=t.z,o=Math.cos(i),s=Math.sin(i),l=Math.cos(n),c=Math.sin(n),u=Math.cos(a),d=Math.sin(a);if(t.order==="XYZ"){let h=o*u,f=o*d,m=s*u,A=s*d;r[0]=l*u,r[4]=-l*d,r[8]=c,r[1]=f+m*c,r[5]=h-A*c,r[9]=-s*l,r[2]=A-h*c,r[6]=m+f*c,r[10]=o*l}else if(t.order==="YXZ"){let h=l*u,f=l*d,m=c*u,A=c*d;r[0]=h+A*s,r[4]=m*s-f,r[8]=o*c,r[1]=o*d,r[5]=o*u,r[9]=-s,r[2]=f*s-m,r[6]=A+h*s,r[10]=o*l}else if(t.order==="ZXY"){let h=l*u,f=l*d,m=c*u,A=c*d;r[0]=h-A*s,r[4]=-o*d,r[8]=m+f*s,r[1]=f+m*s,r[5]=o*u,r[9]=A-h*s,r[2]=-o*c,r[6]=s,r[10]=o*l}else if(t.order==="ZYX"){let h=o*u,f=o*d,m=s*u,A=s*d;r[0]=l*u,r[4]=m*c-f,r[8]=h*c+A,r[1]=l*d,r[5]=A*c+h,r[9]=f*c-m,r[2]=-c,r[6]=s*l,r[10]=o*l}else if(t.order==="YZX"){let h=o*l,f=o*c,m=s*l,A=s*c;r[0]=l*u,r[4]=A-h*d,r[8]=m*d+f,r[1]=d,r[5]=o*u,r[9]=-s*u,r[2]=-c*u,r[6]=f*d+m,r[10]=h-A*d}else if(t.order==="XZY"){let h=o*l,f=o*c,m=s*l,A=s*c;r[0]=l*u,r[4]=-d,r[8]=c*u,r[1]=h*d+A,r[5]=o*u,r[9]=f*d-m,r[2]=m*d-f,r[6]=s*u,r[10]=A*d+h}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(eIe,t,tIe)}lookAt(t,r,i){let n=this.elements;return ic.subVectors(t,r),ic.lengthSq()===0&&(ic.z=1),ic.normalize(),Up.crossVectors(i,ic),Up.lengthSq()===0&&(Math.abs(i.z)===1?ic.x+=1e-4:ic.z+=1e-4,ic.normalize(),Up.crossVectors(i,ic)),Up.normalize(),wE.crossVectors(ic,Up),n[0]=Up.x,n[4]=wE.x,n[8]=ic.x,n[1]=Up.y,n[5]=wE.y,n[9]=ic.y,n[2]=Up.z,n[6]=wE.z,n[10]=ic.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){let i=t.elements,n=r.elements,a=this.elements,o=i[0],s=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],m=i[2],A=i[6],g=i[10],p=i[14],v=i[3],y=i[7],b=i[11],x=i[15],w=n[0],C=n[4],_=n[8],B=n[12],P=n[1],M=n[5],O=n[9],I=n[13],F=n[2],V=n[6],Y=n[10],j=n[14],R=n[3],H=n[7],G=n[11],$=n[15];return a[0]=o*w+s*P+l*F+c*R,a[4]=o*C+s*M+l*V+c*H,a[8]=o*_+s*O+l*Y+c*G,a[12]=o*B+s*I+l*j+c*$,a[1]=u*w+d*P+h*F+f*R,a[5]=u*C+d*M+h*V+f*H,a[9]=u*_+d*O+h*Y+f*G,a[13]=u*B+d*I+h*j+f*$,a[2]=m*w+A*P+g*F+p*R,a[6]=m*C+A*M+g*V+p*H,a[10]=m*_+A*O+g*Y+p*G,a[14]=m*B+A*I+g*j+p*$,a[3]=v*w+y*P+b*F+x*R,a[7]=v*C+y*M+b*V+x*H,a[11]=v*_+y*O+b*Y+x*G,a[15]=v*B+y*I+b*j+x*$,this}multiplyScalar(t){let r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){let t=this.elements,r=t[0],i=t[4],n=t[8],a=t[12],o=t[1],s=t[5],l=t[9],c=t[13],u=t[2],d=t[6],h=t[10],f=t[14],m=t[3],A=t[7],g=t[11],p=t[15];return m*(+a*l*d-n*c*d-a*s*h+i*c*h+n*s*f-i*l*f)+A*(+r*l*f-r*c*h+a*o*h-n*o*f+n*c*u-a*l*u)+g*(+r*c*d-r*s*f-a*o*d+i*o*f+a*s*u-i*c*u)+p*(-n*s*u-r*l*d+r*s*h+n*o*d-i*o*h+i*l*u)}transpose(){let t=this.elements,r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this}setPosition(t,r,i){let n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=r,n[14]=i),this}invert(){let t=this.elements,r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],m=t[12],A=t[13],g=t[14],p=t[15],v=d*g*c-A*h*c+A*l*f-s*g*f-d*l*p+s*h*p,y=m*h*c-u*g*c-m*l*f+o*g*f+u*l*p-o*h*p,b=u*A*c-m*d*c+m*s*f-o*A*f-u*s*p+o*d*p,x=m*d*l-u*A*l-m*s*h+o*A*h+u*s*g-o*d*g,w=r*v+i*y+n*b+a*x;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let C=1/w;return t[0]=v*C,t[1]=(A*h*a-d*g*a-A*n*f+i*g*f+d*n*p-i*h*p)*C,t[2]=(s*g*a-A*l*a+A*n*c-i*g*c-s*n*p+i*l*p)*C,t[3]=(d*l*a-s*h*a-d*n*c+i*h*c+s*n*f-i*l*f)*C,t[4]=y*C,t[5]=(u*g*a-m*h*a+m*n*f-r*g*f-u*n*p+r*h*p)*C,t[6]=(m*l*a-o*g*a-m*n*c+r*g*c+o*n*p-r*l*p)*C,t[7]=(o*h*a-u*l*a+u*n*c-r*h*c-o*n*f+r*l*f)*C,t[8]=b*C,t[9]=(m*d*a-u*A*a-m*i*f+r*A*f+u*i*p-r*d*p)*C,t[10]=(o*A*a-m*s*a+m*i*c-r*A*c-o*i*p+r*s*p)*C,t[11]=(u*s*a-o*d*a-u*i*c+r*d*c+o*i*f-r*s*f)*C,t[12]=x*C,t[13]=(u*A*n-m*d*n+m*i*h-r*A*h-u*i*g+r*d*g)*C,t[14]=(m*s*n-o*A*n-m*i*l+r*A*l+o*i*g-r*s*g)*C,t[15]=(o*d*n-u*s*n+u*i*l-r*d*l-o*i*h+r*s*h)*C,this}scale(t){let r=this.elements,i=t.x,n=t.y,a=t.z;return r[0]*=i,r[4]*=n,r[8]*=a,r[1]*=i,r[5]*=n,r[9]*=a,r[2]*=i,r[6]*=n,r[10]*=a,r[3]*=i,r[7]*=n,r[11]*=a,this}getMaxScaleOnAxis(){let t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,i,n))}makeTranslation(t,r,i){return this.set(1,0,0,t,0,1,0,r,0,0,1,i,0,0,0,1),this}makeRotationX(t){let r=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1),this}makeRotationY(t){let r=Math.cos(t),i=Math.sin(t);return this.set(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1),this}makeRotationZ(t){let r=Math.cos(t),i=Math.sin(t);return this.set(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){let i=Math.cos(r),n=Math.sin(r),a=1-i,o=t.x,s=t.y,l=t.z,c=a*o,u=a*s;return this.set(c*o+i,c*s-n*l,c*l+n*s,0,c*s+n*l,u*s+i,u*l-n*o,0,c*l-n*s,u*l+n*o,a*l*l+i,0,0,0,0,1),this}makeScale(t,r,i){return this.set(t,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,r,i,n,a,o){return this.set(1,i,a,0,t,1,o,0,r,n,1,0,0,0,0,1),this}compose(t,r,i){let n=this.elements,a=r._x,o=r._y,s=r._z,l=r._w,c=a+a,u=o+o,d=s+s,h=a*c,f=a*u,m=a*d,A=o*u,g=o*d,p=s*d,v=l*c,y=l*u,b=l*d,x=i.x,w=i.y,C=i.z;return n[0]=(1-(A+p))*x,n[1]=(f+b)*x,n[2]=(m-y)*x,n[3]=0,n[4]=(f-b)*w,n[5]=(1-(h+p))*w,n[6]=(g+v)*w,n[7]=0,n[8]=(m+y)*C,n[9]=(g-v)*C,n[10]=(1-(h+A))*C,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,r,i){let n=this.elements,a=Ev.set(n[0],n[1],n[2]).length(),o=Ev.set(n[4],n[5],n[6]).length(),s=Ev.set(n[8],n[9],n[10]).length();this.determinant()<0&&(a=-a),t.x=n[12],t.y=n[13],t.z=n[14],Su.copy(this);let l=1/a,c=1/o,u=1/s;return Su.elements[0]*=l,Su.elements[1]*=l,Su.elements[2]*=l,Su.elements[4]*=c,Su.elements[5]*=c,Su.elements[6]*=c,Su.elements[8]*=u,Su.elements[9]*=u,Su.elements[10]*=u,r.setFromRotationMatrix(Su),i.x=a,i.y=o,i.z=s,this}makePerspective(t,r,i,n,a,o){let s=this.elements,l=2*a/(r-t),c=2*a/(i-n),u=(r+t)/(r-t),d=(i+n)/(i-n),h=-(o+a)/(o-a),f=-2*o*a/(o-a);return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,r,i,n,a,o){let s=this.elements,l=1/(r-t),c=1/(i-n),u=1/(o-a),d=(r+t)*l,h=(i+n)*c,f=(o+a)*u;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){let r=this.elements,i=t.elements;for(let n=0;n<16;n++)if(r[n]!==i[n])return!1;return!0}fromArray(t,r=0){for(let i=0;i<16;i++)this.elements[i]=t[i+r];return this}toArray(t=[],r=0){let i=this.elements;return t[r]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3],t[r+4]=i[4],t[r+5]=i[5],t[r+6]=i[6],t[r+7]=i[7],t[r+8]=i[8],t[r+9]=i[9],t[r+10]=i[10],t[r+11]=i[11],t[r+12]=i[12],t[r+13]=i[13],t[r+14]=i[14],t[r+15]=i[15],t}},Ev=new q,Su=new kt,eIe=new q(0,0,0),tIe=new q(1,1,1),Up=new q,wE=new q,ic=new q,oG=new kt,sG=new qr,lo=class{constructor(e=0,t=0,r=0,i=lo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,n=i[0],a=i[4],o=i[8],s=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Qa(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,n)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Qa(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,n),this._z=0);break;case"ZXY":this._x=Math.asin(Qa(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,n));break;case"ZYX":this._y=Math.asin(-Qa(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,n)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Qa(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Qa(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,n)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return oG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oG,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sG.setFromEuler(this),this.setFromQuaternion(sG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};lo.DEFAULT_ORDER="XYZ";var cz=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},rIe=0,lG=new q,Bv=new qr,jh=new kt,xE=new q,kw=new q,iIe=new q,nIe=new qr,cG=new q(1,0,0),uG=new q(0,1,0),dG=new q(0,0,1),aIe={type:"added"},hG={type:"removed"},on=class extends as{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rIe++}),this.uuid=iu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DEFAULT_UP.clone();let e=new q,t=new lo,r=new qr,i=new q(1,1,1);function n(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(n),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new kt},normalMatrix:{value:new Ka}}),this.matrix=new kt,this.matrixWorld=new kt,this.matrixAutoUpdate=on.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cz,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Bv.setFromAxisAngle(e,t),this.quaternion.multiply(Bv),this}rotateOnWorldAxis(e,t){return Bv.setFromAxisAngle(e,t),this.quaternion.premultiply(Bv),this}rotateX(e){return this.rotateOnAxis(cG,e)}rotateY(e){return this.rotateOnAxis(uG,e)}rotateZ(e){return this.rotateOnAxis(dG,e)}translateOnAxis(e,t){return lG.copy(e).applyQuaternion(this.quaternion),this.position.add(lG.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(cG,e)}translateY(e){return this.translateOnAxis(uG,e)}translateZ(e){return this.translateOnAxis(dG,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(jh.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?xE.copy(e):xE.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),kw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jh.lookAt(kw,xE,this.up):jh.lookAt(xE,kw,this.up),this.quaternion.setFromRotationMatrix(jh),i&&(jh.extractRotation(i.matrixWorld),Bv.setFromRotationMatrix(jh),this.quaternion.premultiply(Bv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(aIe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(hG)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(hG)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),jh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),jh.multiply(e.parent.matrixWorld)),e.applyMatrix4(jh),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let n=this.children[r].getObjectByProperty(e,t);if(n!==void 0)return n}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,n=this.children.length;i<n;i++){let a=this.children[i].getObjectsByProperty(e,t);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kw,e,iIe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kw,nIe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++){let n=t[r];(n.matrixWorldAutoUpdate===!0||e===!0)&&n.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let n=0,a=i.length;n<a;n++){let o=i[n];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function n(o,s){return o[s.uuid]===void 0&&(o[s.uuid]=s.toJSON(e)),s.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=n(e.geometries,this.geometry);let o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){let s=o.shapes;if(Array.isArray(s))for(let l=0,c=s.length;l<c;l++){let u=s[l];n(e.shapes,u)}else n(e.shapes,s)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(n(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let o=[];for(let s=0,l=this.material.length;s<l;s++)o.push(n(e.materials,this.material[s]));i.material=o}else i.material=n(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){let s=this.animations[o];i.animations.push(n(e.animations,s))}}if(t){let o=a(e.geometries),s=a(e.materials),l=a(e.textures),c=a(e.images),u=a(e.shapes),d=a(e.skeletons),h=a(e.animations),f=a(e.nodes);o.length>0&&(r.geometries=o),s.length>0&&(r.materials=s),l.length>0&&(r.textures=l),c.length>0&&(r.images=c),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),f.length>0&&(r.nodes=f)}return r.object=i,r;function a(o){let s=[];for(let l in o){let c=o[l];delete c.metadata,s.push(c)}return s}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};on.DEFAULT_UP=new q(0,1,0);on.DEFAULT_MATRIX_AUTO_UPDATE=!0;on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Eu=new q,zh=new q,c4=new q,Hh=new q,Mv=new q,Pv=new q,fG=new q,u4=new q,d4=new q,h4=new q,Yo=class{constructor(t=new q,r=new q,i=new q){this.a=t,this.b=r,this.c=i}static getNormal(t,r,i,n){n.subVectors(i,r),Eu.subVectors(t,r),n.cross(Eu);let a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}static getBarycoord(t,r,i,n,a){Eu.subVectors(n,r),zh.subVectors(i,r),c4.subVectors(t,r);let o=Eu.dot(Eu),s=Eu.dot(zh),l=Eu.dot(c4),c=zh.dot(zh),u=zh.dot(c4),d=o*c-s*s;if(d===0)return a.set(-2,-1,-1);let h=1/d,f=(c*l-s*u)*h,m=(o*u-s*l)*h;return a.set(1-f-m,m,f)}static containsPoint(t,r,i,n){return this.getBarycoord(t,r,i,n,Hh),Hh.x>=0&&Hh.y>=0&&Hh.x+Hh.y<=1}static getUV(t,r,i,n,a,o,s,l){return this.getBarycoord(t,r,i,n,Hh),l.set(0,0),l.addScaledVector(a,Hh.x),l.addScaledVector(o,Hh.y),l.addScaledVector(s,Hh.z),l}static isFrontFacing(t,r,i,n){return Eu.subVectors(i,r),zh.subVectors(t,r),Eu.cross(zh).dot(n)<0}set(t,r,i){return this.a.copy(t),this.b.copy(r),this.c.copy(i),this}setFromPointsAndIndices(t,r,i,n){return this.a.copy(t[r]),this.b.copy(t[i]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,r,i,n){return this.a.fromBufferAttribute(t,r),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Eu.subVectors(this.c,this.b),zh.subVectors(this.a,this.b),Eu.cross(zh).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Yo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,r){return Yo.getBarycoord(t,this.a,this.b,this.c,r)}getUV(t,r,i,n,a){return Yo.getUV(t,this.a,this.b,this.c,r,i,n,a)}containsPoint(t){return Yo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Yo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,r){let i=this.a,n=this.b,a=this.c,o,s;Mv.subVectors(n,i),Pv.subVectors(a,i),u4.subVectors(t,i);let l=Mv.dot(u4),c=Pv.dot(u4);if(l<=0&&c<=0)return r.copy(i);d4.subVectors(t,n);let u=Mv.dot(d4),d=Pv.dot(d4);if(u>=0&&d<=u)return r.copy(n);let h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),r.copy(i).addScaledVector(Mv,o);h4.subVectors(t,a);let f=Mv.dot(h4),m=Pv.dot(h4);if(m>=0&&f<=m)return r.copy(a);let A=f*c-l*m;if(A<=0&&c>=0&&m<=0)return s=c/(c-m),r.copy(i).addScaledVector(Pv,s);let g=u*m-f*d;if(g<=0&&d-u>=0&&f-m>=0)return fG.subVectors(a,n),s=(d-u)/(d-u+(f-m)),r.copy(n).addScaledVector(fG,s);let p=1/(g+A+h);return o=A*p,s=h*p,r.copy(i).addScaledVector(Mv,o).addScaledVector(Pv,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},oIe=0,p_=class extends as{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:oIe++}),this.uuid=iu(),this.name="",this.type="Material",this.blending=Qm,this.side=ed,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=woe,this.blendDst=xoe,this.blendEquation=ay,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=fR,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=F4e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$D,this.stencilZFail=$D,this.stencilZPass=$D,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qm&&(r.blending=this.blending),this.side!==ed&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(n){let a=[];for(let o in n){let s=n[o];delete s.metadata,a.push(s)}return a}if(t){let n=i(e.textures),a=i(e.images);n.length>0&&(r.textures=n),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let n=0;n!==i;++n)r[n]=t[n].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},jf=class extends p_{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Coe,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},ja=new q,CE=new ke,Qr=class{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=mR,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,n=this.itemSize;i<n;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)CE.fromBufferAttribute(this,t),CE.applyMatrix3(e),this.setXY(t,CE.x,CE.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyMatrix3(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyMatrix4(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.applyNormalMatrix(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ja.fromBufferAttribute(this,t),ja.transformDirection(e),this.setXYZ(t,ja.x,ja.y,ja.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=wf(t,this.array)),t}setX(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=wf(t,this.array)),t}setY(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=wf(t,this.array)),t}setZ(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=wf(t,this.array)),t}setW(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),r=En(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),r=En(r,this.array),i=En(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),r=En(r,this.array),i=En(i,this.array),n=En(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=n,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mR&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},Roe=class extends Qr{constructor(e,t,r){super(new Uint16Array(e),t,r)}},Zy=class extends Qr{constructor(e,t,r){super(new Uint32Array(e),t,r)}},sr=class extends Qr{constructor(e,t,r){super(new Float32Array(e),t,r)}},sIe=0,Fc=new kt,f4=new on,Tv=new q,nc=new Fa,jw=new Fa,yo=new q,Mr=class extends as{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sIe++}),this.uuid=iu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ooe(e)?Zy:Roe)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let n=new Ka().getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fc.makeRotationFromQuaternion(e),this.applyMatrix4(Fc),this}rotateX(e){return Fc.makeRotationX(e),this.applyMatrix4(Fc),this}rotateY(e){return Fc.makeRotationY(e),this.applyMatrix4(Fc),this}rotateZ(e){return Fc.makeRotationZ(e),this.applyMatrix4(Fc),this}translate(e,t,r){return Fc.makeTranslation(e,t,r),this.applyMatrix4(Fc),this}scale(e,t,r){return Fc.makeScale(e,t,r),this.applyMatrix4(Fc),this}lookAt(e){return f4.lookAt(e),f4.updateMatrix(),this.applyMatrix4(f4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tv).negate(),this.translate(Tv.x,Tv.y,Tv.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let n=e[r];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new sr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let n=t[r];nc.setFromBufferAttribute(n),this.morphTargetsRelative?(yo.addVectors(this.boundingBox.min,nc.min),this.boundingBox.expandByPoint(yo),yo.addVectors(this.boundingBox.max,nc.max),this.boundingBox.expandByPoint(yo)):(this.boundingBox.expandByPoint(nc.min),this.boundingBox.expandByPoint(nc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jl);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new q,1/0);return}if(e){let r=this.boundingSphere.center;if(nc.setFromBufferAttribute(e),t)for(let n=0,a=t.length;n<a;n++){let o=t[n];jw.setFromBufferAttribute(o),this.morphTargetsRelative?(yo.addVectors(nc.min,jw.min),nc.expandByPoint(yo),yo.addVectors(nc.max,jw.max),nc.expandByPoint(yo)):(nc.expandByPoint(jw.min),nc.expandByPoint(jw.max))}nc.getCenter(r);let i=0;for(let n=0,a=e.count;n<a;n++)yo.fromBufferAttribute(e,n),i=Math.max(i,r.distanceToSquared(yo));if(t)for(let n=0,a=t.length;n<a;n++){let o=t[n],s=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)yo.fromBufferAttribute(o,l),s&&(Tv.fromBufferAttribute(e,l),yo.add(Tv)),i=Math.max(i,r.distanceToSquared(yo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,n=t.normal.array,a=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qr(new Float32Array(4*o),4));let s=this.getAttribute("tangent").array,l=[],c=[];for(let B=0;B<o;B++)l[B]=new q,c[B]=new q;let u=new q,d=new q,h=new q,f=new ke,m=new ke,A=new ke,g=new q,p=new q;function v(B,P,M){u.fromArray(i,B*3),d.fromArray(i,P*3),h.fromArray(i,M*3),f.fromArray(a,B*2),m.fromArray(a,P*2),A.fromArray(a,M*2),d.sub(u),h.sub(u),m.sub(f),A.sub(f);let O=1/(m.x*A.y-A.x*m.y);!isFinite(O)||(g.copy(d).multiplyScalar(A.y).addScaledVector(h,-m.y).multiplyScalar(O),p.copy(h).multiplyScalar(m.x).addScaledVector(d,-A.x).multiplyScalar(O),l[B].add(g),l[P].add(g),l[M].add(g),c[B].add(p),c[P].add(p),c[M].add(p))}let y=this.groups;y.length===0&&(y=[{start:0,count:r.length}]);for(let B=0,P=y.length;B<P;++B){let M=y[B],O=M.start,I=M.count;for(let F=O,V=O+I;F<V;F+=3)v(r[F+0],r[F+1],r[F+2])}let b=new q,x=new q,w=new q,C=new q;function _(B){w.fromArray(n,B*3),C.copy(w);let P=l[B];b.copy(P),b.sub(w.multiplyScalar(w.dot(P))).normalize(),x.crossVectors(C,P);let M=x.dot(c[B])<0?-1:1;s[B*4]=b.x,s[B*4+1]=b.y,s[B*4+2]=b.z,s[B*4+3]=M}for(let B=0,P=y.length;B<P;++B){let M=y[B],O=M.start,I=M.count;for(let F=O,V=O+I;F<V;F+=3)_(r[F+0]),_(r[F+1]),_(r[F+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);let i=new q,n=new q,a=new q,o=new q,s=new q,l=new q,c=new q,u=new q;if(e)for(let d=0,h=e.count;d<h;d+=3){let f=e.getX(d+0),m=e.getX(d+1),A=e.getX(d+2);i.fromBufferAttribute(t,f),n.fromBufferAttribute(t,m),a.fromBufferAttribute(t,A),c.subVectors(a,n),u.subVectors(i,n),c.cross(u),o.fromBufferAttribute(r,f),s.fromBufferAttribute(r,m),l.fromBufferAttribute(r,A),o.add(c),s.add(c),l.add(c),r.setXYZ(f,o.x,o.y,o.z),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(A,l.x,l.y,l.z)}else for(let d=0,h=t.count;d<h;d+=3)i.fromBufferAttribute(t,d+0),n.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),c.subVectors(a,n),u.subVectors(i,n),c.cross(u),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)yo.fromBufferAttribute(e,t),yo.normalize(),e.setXYZ(t,yo.x,yo.y,yo.z)}toNonIndexed(){function e(o,s){let l=o.array,c=o.itemSize,u=o.normalized,d=new l.constructor(s.length*c),h=0,f=0;for(let m=0,A=s.length;m<A;m++){o.isInterleavedBufferAttribute?h=s[m]*o.data.stride+o.offset:h=s[m]*c;for(let g=0;g<c;g++)d[f++]=l[h++]}return new Qr(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Mr,r=this.index.array,i=this.attributes;for(let o in i){let s=i[o],l=e(s,r);t.setAttribute(o,l)}let n=this.morphAttributes;for(let o in n){let s=[],l=n[o];for(let c=0,u=l.length;c<u;c++){let d=l[c],h=e(d,r);s.push(h)}t.morphAttributes[o]=s}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let o=0,s=a.length;o<s;o++){let l=a[o];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let s=this.parameters;for(let l in s)s[l]!==void 0&&(e[l]=s[l]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let s in r){let l=r[s];e.data.attributes[s]=l.toJSON(e.data)}let i={},n=!1;for(let s in this.morphAttributes){let l=this.morphAttributes[s],c=[];for(let u=0,d=l.length;u<d;u++){let h=l[u];c.push(h.toJSON(e.data))}c.length>0&&(i[s]=c,n=!0)}n&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let l in i){let c=i[l];this.setAttribute(l,c.clone(t))}let n=e.morphAttributes;for(let l in n){let c=[],u=n[l];for(let d=0,h=u.length;d<h;d++)c.push(u[d].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let l=0,c=a.length;l<c;l++){let u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},pG=new kt,Ov=new h1,p4=new jl,zw=new q,Hw=new q,Vw=new q,A4=new q,_E=new q,SE=new ke,EE=new ke,BE=new ke,g4=new q,ME=new q,ta=class extends on{constructor(e=new Mr,t=new jf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,n=r.length;i<n;i++){let a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}getVertexPosition(e,t){let r=this.geometry,i=r.attributes.position,n=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);let o=this.morphTargetInfluences;if(n&&o){_E.set(0,0,0);for(let s=0,l=n.length;s<l;s++){let c=o[s],u=n[s];c!==0&&(A4.fromBufferAttribute(u,e),a?_E.addScaledVector(A4,c):_E.addScaledVector(A4.sub(t),c))}t.add(_E)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let r=this.geometry,i=this.material,n=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),p4.copy(r.boundingSphere),p4.applyMatrix4(n),e.ray.intersectsSphere(p4)===!1)||(pG.copy(n).invert(),Ov.copy(e.ray).applyMatrix4(pG),r.boundingBox!==null&&Ov.intersectsBox(r.boundingBox)===!1))return;let a,o=r.index,s=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv2,u=r.groups,d=r.drawRange;if(o!==null)if(Array.isArray(i))for(let h=0,f=u.length;h<f;h++){let m=u[h],A=i[m.materialIndex],g=Math.max(m.start,d.start),p=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));for(let v=g,y=p;v<y;v+=3){let b=o.getX(v),x=o.getX(v+1),w=o.getX(v+2);a=PE(this,A,e,Ov,l,c,b,x,w),a&&(a.faceIndex=Math.floor(v/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{let h=Math.max(0,d.start),f=Math.min(o.count,d.start+d.count);for(let m=h,A=f;m<A;m+=3){let g=o.getX(m),p=o.getX(m+1),v=o.getX(m+2);a=PE(this,i,e,Ov,l,c,g,p,v),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(s!==void 0)if(Array.isArray(i))for(let h=0,f=u.length;h<f;h++){let m=u[h],A=i[m.materialIndex],g=Math.max(m.start,d.start),p=Math.min(s.count,Math.min(m.start+m.count,d.start+d.count));for(let v=g,y=p;v<y;v+=3){let b=v,x=v+1,w=v+2;a=PE(this,A,e,Ov,l,c,b,x,w),a&&(a.faceIndex=Math.floor(v/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{let h=Math.max(0,d.start),f=Math.min(s.count,d.start+d.count);for(let m=h,A=f;m<A;m+=3){let g=m,p=m+1,v=m+2;a=PE(this,i,e,Ov,l,c,g,p,v),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}};function lIe(e,t,r,i,n,a,o,s){let l;if(t.side===Do?l=i.intersectTriangle(o,a,n,!0,s):l=i.intersectTriangle(n,a,o,t.side===ed,s),l===null)return null;ME.copy(s),ME.applyMatrix4(e.matrixWorld);let c=r.ray.origin.distanceTo(ME);return c<r.near||c>r.far?null:{distance:c,point:ME.clone(),object:e}}function PE(e,t,r,i,n,a,o,s,l){e.getVertexPosition(o,zw),e.getVertexPosition(s,Hw),e.getVertexPosition(l,Vw);let c=lIe(e,t,r,i,zw,Hw,Vw,g4);if(c){n&&(SE.fromBufferAttribute(n,o),EE.fromBufferAttribute(n,s),BE.fromBufferAttribute(n,l),c.uv=Yo.getUV(g4,zw,Hw,Vw,SE,EE,BE,new ke)),a&&(SE.fromBufferAttribute(a,o),EE.fromBufferAttribute(a,s),BE.fromBufferAttribute(a,l),c.uv2=Yo.getUV(g4,zw,Hw,Vw,SE,EE,BE,new ke));let u={a:o,b:s,c:l,normal:new q,materialIndex:0};Yo.getNormal(zw,Hw,Vw,u.normal),c.face=u}return c}var rd=class extends Mr{constructor(e=1,t=1,r=1,i=1,n=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:n,depthSegments:a};let o=this;i=Math.floor(i),n=Math.floor(n),a=Math.floor(a);let s=[],l=[],c=[],u=[],d=0,h=0;f("z","y","x",-1,-1,r,t,e,a,n,0),f("z","y","x",1,-1,r,t,-e,a,n,1),f("x","z","y",1,1,e,r,t,i,a,2),f("x","z","y",1,-1,e,r,-t,i,a,3),f("x","y","z",1,-1,e,t,r,i,n,4),f("x","y","z",-1,-1,e,t,-r,i,n,5),this.setIndex(s),this.setAttribute("position",new sr(l,3)),this.setAttribute("normal",new sr(c,3)),this.setAttribute("uv",new sr(u,2));function f(m,A,g,p,v,y,b,x,w,C,_){let B=y/w,P=b/C,M=y/2,O=b/2,I=x/2,F=w+1,V=C+1,Y=0,j=0,R=new q;for(let H=0;H<V;H++){let G=H*P-O;for(let $=0;$<F;$++){let L=$*B-M;R[m]=L*p,R[A]=G*v,R[g]=I,l.push(R.x,R.y,R.z),R[m]=0,R[A]=0,R[g]=x>0?1:-1,c.push(R.x,R.y,R.z),u.push($/w),u.push(1-H/C),Y+=1}}for(let H=0;H<C;H++)for(let G=0;G<w;G++){let $=d+G+F*H,L=d+G+F*(H+1),K=d+(G+1)+F*(H+1),X=d+(G+1)+F*H;s.push($,L,X),s.push(L,K,X),j+=6}o.addGroup(h,j,_),h+=j,d+=Y}}static fromJSON(e){return new rd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Db(e){let t={};for(let r in e){t[r]={};for(let i in e[r]){let n=e[r][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?t[r][i]=n.clone():Array.isArray(n)?t[r][i]=n.slice():t[r][i]=n}}return t}function Ys(e){let t={};for(let r=0;r<e.length;r++){let i=Db(e[r]);for(let n in i)t[n]=i[n]}return t}function cIe(e){let t=[];for(let r=0;r<e.length;r++)t.push(e[r].clone());return t}function Uoe(e){return e.getRenderTarget()===null&&e.outputEncoding===li?Vd:tP}var f1={clone:Db,merge:Ys},uIe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dIe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Wi=class extends p_{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=uIe,this.fragmentShader=dIe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Db(e.uniforms),this.uniformsGroups=cIe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},S0=class extends on{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kt,this.projectionMatrix=new kt,this.projectionMatrixInverse=new kt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Ss=class extends S0{constructor(t=50,r=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let r=.5*this.getFilmHeight()/t;this.fov=AC*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(p2*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return AC*2*Math.atan(Math.tan(p2*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,i,n,a,o){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=n,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,r=t*Math.tan(p2*.5*this.fov)/this.zoom,i=2*r,n=this.aspect*i,a=-.5*n,o=this.view;if(this.view!==null&&this.view.enabled){let l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*n/l,r-=o.offsetY*i/c,n*=o.width/l,i*=o.height/c}let s=this.filmOffset;s!==0&&(a+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+n,r,r-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}},Dv=-90,Iv=1,hIe=class extends on{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;let i=new Ss(Dv,Iv,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);let n=new Ss(Dv,Iv,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(-1,0,0),this.add(n);let a=new Ss(Dv,Iv,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);let o=new Ss(Dv,Iv,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);let s=new Ss(Dv,Iv,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);let l=new Ss(Dv,Iv,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,n,a,o,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=ch,e.xr.enabled=!1;let h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,n),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}},uz=class extends ia{constructor(e,t,r,i,n,a,o,s,l,c){e=e!==void 0?e:[],t=t!==void 0?t:a0,super(e,t,r,i,n,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},fIe=class extends Ki{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new uz(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new rd(5,5,5),n=new Wi({name:"CubemapFromEquirect",uniforms:Db(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Do,blending:Ya});n.uniforms.tEquirect.value=t;let a=new ta(i,n),o=t.minFilter;return t.minFilter===Ob&&(t.minFilter=fi),new hIe(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,i){let n=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(n)}},m4=new q,pIe=new q,AIe=new Ka,Bl=class{constructor(e=new q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=m4.subVectors(r,t).cross(pIe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(m4),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let n=-(e.start.dot(this.normal)+this.constant)/i;return n<0||n>1?null:t.copy(r).multiplyScalar(n).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||AIe.getNormalMatrix(e),i=this.coplanarPoint(m4).applyMatrix4(e),n=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(n),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},Fv=new jl,TE=new q,dz=class{constructor(e=new Bl,t=new Bl,r=new Bl,i=new Bl,n=new Bl,a=new Bl){this.planes=[e,t,r,i,n,a]}set(e,t,r,i,n,a){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(n),o[5].copy(a),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],n=r[1],a=r[2],o=r[3],s=r[4],l=r[5],c=r[6],u=r[7],d=r[8],h=r[9],f=r[10],m=r[11],A=r[12],g=r[13],p=r[14],v=r[15];return t[0].setComponents(o-i,u-s,m-d,v-A).normalize(),t[1].setComponents(o+i,u+s,m+d,v+A).normalize(),t[2].setComponents(o+n,u+l,m+h,v+g).normalize(),t[3].setComponents(o-n,u-l,m-h,v-g).normalize(),t[4].setComponents(o-a,u-c,m-f,v-p).normalize(),t[5].setComponents(o+a,u+c,m+f,v+p).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Fv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Fv)}intersectsSprite(e){return Fv.center.set(0,0,0),Fv.radius=.7071067811865476,Fv.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fv)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let n=0;n<6;n++)if(t[n].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(TE.x=i.normal.x>0?e.max.x:e.min.x,TE.y=i.normal.y>0?e.max.y:e.min.y,TE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(TE)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function Noe(){let e=null,t=!1,r=null,i=null;function n(a,o){r(a,o),i=e.requestAnimationFrame(n)}return{start:function(){t!==!0&&r!==null&&(i=e.requestAnimationFrame(n),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){r=a},setContext:function(a){e=a}}}function gIe(e,t){let r=t.isWebGL2,i=new WeakMap;function n(c,u){let d=c.array,h=c.usage,f=e.createBuffer();e.bindBuffer(u,f),e.bufferData(u,d,h),c.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(r)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:f,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function a(c,u,d){let h=u.array,f=u.updateRange;e.bindBuffer(d,c),f.count===-1?e.bufferSubData(d,0,h):(r?e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);let u=i.get(c);u&&(e.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){let h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let d=i.get(c);d===void 0?i.set(c,n(c,u)):d.version<c.version&&(a(d.buffer,c,u),d.version=c.version)}return{get:o,remove:s,update:l}}var zf=class extends Mr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let n=e/2,a=t/2,o=Math.floor(r),s=Math.floor(i),l=o+1,c=s+1,u=e/o,d=t/s,h=[],f=[],m=[],A=[];for(let g=0;g<c;g++){let p=g*d-a;for(let v=0;v<l;v++){let y=v*u-n;f.push(y,-p,0),m.push(0,0,1),A.push(v/o),A.push(1-g/s)}}for(let g=0;g<s;g++)for(let p=0;p<o;p++){let v=p+l*g,y=p+l*(g+1),b=p+1+l*(g+1),x=p+1+l*g;h.push(v,y,x),h.push(y,b,x)}this.setIndex(h),this.setAttribute("position",new sr(f,3)),this.setAttribute("normal",new sr(m,3)),this.setAttribute("uv",new sr(A,2))}static fromJSON(e){return new zf(e.width,e.height,e.widthSegments,e.heightSegments)}},mIe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,vIe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yIe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,bIe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wIe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,xIe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CIe="vec3 transformed = vec3( position );",_Ie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,SIe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,EIe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,BIe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,MIe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,PIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,TIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OIe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,DIe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,IIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,FIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,LIe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,RIe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,UIe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,NIe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kIe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jIe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,zIe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HIe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VIe="gl_FragColor = linearToOutputTexel( gl_FragColor );",QIe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,WIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GIe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qIe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,KIe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,XIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YIe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$Ie=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JIe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZIe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,eFe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tFe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,rFe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,iFe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nFe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aFe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oFe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,sFe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lFe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cFe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,uFe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dFe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,hFe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fFe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pFe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,AFe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,gFe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mFe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vFe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,yFe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,bFe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,wFe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xFe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CFe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_Fe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,SFe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,EFe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,BFe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,MFe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PFe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,TFe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,OFe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,DFe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IFe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FFe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LFe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,RFe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,UFe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,NFe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,kFe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jFe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zFe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,HFe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VFe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,QFe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,WFe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,GFe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,qFe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,KFe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,XFe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,YFe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$Fe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,JFe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ZFe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,eLe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tLe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,rLe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iLe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nLe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aLe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oLe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,sLe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,lLe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,cLe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uLe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,dLe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,hLe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,fLe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,pLe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,ALe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,gLe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mLe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vLe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yLe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bLe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wLe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xLe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,CLe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_Le=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,SLe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ELe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,BLe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,MLe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PLe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TLe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OLe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DLe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ILe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,FLe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LLe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,RLe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ULe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NLe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kLe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jLe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zLe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HLe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VLe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,QLe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WLe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GLe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,qLe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KLe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,hi={alphamap_fragment:mIe,alphamap_pars_fragment:vIe,alphatest_fragment:yIe,alphatest_pars_fragment:bIe,aomap_fragment:wIe,aomap_pars_fragment:xIe,begin_vertex:CIe,beginnormal_vertex:_Ie,bsdfs:SIe,iridescence_fragment:EIe,bumpmap_pars_fragment:BIe,clipping_planes_fragment:MIe,clipping_planes_pars_fragment:PIe,clipping_planes_pars_vertex:TIe,clipping_planes_vertex:OIe,color_fragment:DIe,color_pars_fragment:IIe,color_pars_vertex:FIe,color_vertex:LIe,common:RIe,cube_uv_reflection_fragment:UIe,defaultnormal_vertex:NIe,displacementmap_pars_vertex:kIe,displacementmap_vertex:jIe,emissivemap_fragment:zIe,emissivemap_pars_fragment:HIe,encodings_fragment:VIe,encodings_pars_fragment:QIe,envmap_fragment:WIe,envmap_common_pars_fragment:GIe,envmap_pars_fragment:qIe,envmap_pars_vertex:KIe,envmap_physical_pars_fragment:oFe,envmap_vertex:XIe,fog_vertex:YIe,fog_pars_vertex:$Ie,fog_fragment:JIe,fog_pars_fragment:ZIe,gradientmap_pars_fragment:eFe,lightmap_fragment:tFe,lightmap_pars_fragment:rFe,lights_lambert_fragment:iFe,lights_lambert_pars_fragment:nFe,lights_pars_begin:aFe,lights_toon_fragment:sFe,lights_toon_pars_fragment:lFe,lights_phong_fragment:cFe,lights_phong_pars_fragment:uFe,lights_physical_fragment:dFe,lights_physical_pars_fragment:hFe,lights_fragment_begin:fFe,lights_fragment_maps:pFe,lights_fragment_end:AFe,logdepthbuf_fragment:gFe,logdepthbuf_pars_fragment:mFe,logdepthbuf_pars_vertex:vFe,logdepthbuf_vertex:yFe,map_fragment:bFe,map_pars_fragment:wFe,map_particle_fragment:xFe,map_particle_pars_fragment:CFe,metalnessmap_fragment:_Fe,metalnessmap_pars_fragment:SFe,morphcolor_vertex:EFe,morphnormal_vertex:BFe,morphtarget_pars_vertex:MFe,morphtarget_vertex:PFe,normal_fragment_begin:TFe,normal_fragment_maps:OFe,normal_pars_fragment:DFe,normal_pars_vertex:IFe,normal_vertex:FFe,normalmap_pars_fragment:LFe,clearcoat_normal_fragment_begin:RFe,clearcoat_normal_fragment_maps:UFe,clearcoat_pars_fragment:NFe,iridescence_pars_fragment:kFe,output_fragment:jFe,packing:zFe,premultiplied_alpha_fragment:HFe,project_vertex:VFe,dithering_fragment:QFe,dithering_pars_fragment:WFe,roughnessmap_fragment:GFe,roughnessmap_pars_fragment:qFe,shadowmap_pars_fragment:KFe,shadowmap_pars_vertex:XFe,shadowmap_vertex:YFe,shadowmask_pars_fragment:$Fe,skinbase_vertex:JFe,skinning_pars_vertex:ZFe,skinning_vertex:eLe,skinnormal_vertex:tLe,specularmap_fragment:rLe,specularmap_pars_fragment:iLe,tonemapping_fragment:nLe,tonemapping_pars_fragment:aLe,transmission_fragment:oLe,transmission_pars_fragment:sLe,uv_pars_fragment:lLe,uv_pars_vertex:cLe,uv_vertex:uLe,uv2_pars_fragment:dLe,uv2_pars_vertex:hLe,uv2_vertex:fLe,worldpos_vertex:pLe,background_vert:ALe,background_frag:gLe,backgroundCube_vert:mLe,backgroundCube_frag:vLe,cube_vert:yLe,cube_frag:bLe,depth_vert:wLe,depth_frag:xLe,distanceRGBA_vert:CLe,distanceRGBA_frag:_Le,equirect_vert:SLe,equirect_frag:ELe,linedashed_vert:BLe,linedashed_frag:MLe,meshbasic_vert:PLe,meshbasic_frag:TLe,meshlambert_vert:OLe,meshlambert_frag:DLe,meshmatcap_vert:ILe,meshmatcap_frag:FLe,meshnormal_vert:LLe,meshnormal_frag:RLe,meshphong_vert:ULe,meshphong_frag:NLe,meshphysical_vert:kLe,meshphysical_frag:jLe,meshtoon_vert:zLe,meshtoon_frag:HLe,points_vert:VLe,points_frag:QLe,shadow_vert:WLe,shadow_frag:GLe,sprite_vert:qLe,sprite_frag:KLe},ir={common:{diffuse:{value:new Rr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ka},uv2Transform:{value:new Ka},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ka}},sprite:{diffuse:{value:new Rr(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ka}}},qd={basic:{uniforms:Ys([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.fog]),vertexShader:hi.meshbasic_vert,fragmentShader:hi.meshbasic_frag},lambert:{uniforms:Ys([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new Rr(0)}}]),vertexShader:hi.meshlambert_vert,fragmentShader:hi.meshlambert_frag},phong:{uniforms:Ys([ir.common,ir.specularmap,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,ir.lights,{emissive:{value:new Rr(0)},specular:{value:new Rr(1118481)},shininess:{value:30}}]),vertexShader:hi.meshphong_vert,fragmentShader:hi.meshphong_frag},standard:{uniforms:Ys([ir.common,ir.envmap,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.roughnessmap,ir.metalnessmap,ir.fog,ir.lights,{emissive:{value:new Rr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hi.meshphysical_vert,fragmentShader:hi.meshphysical_frag},toon:{uniforms:Ys([ir.common,ir.aomap,ir.lightmap,ir.emissivemap,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.gradientmap,ir.fog,ir.lights,{emissive:{value:new Rr(0)}}]),vertexShader:hi.meshtoon_vert,fragmentShader:hi.meshtoon_frag},matcap:{uniforms:Ys([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,ir.fog,{matcap:{value:null}}]),vertexShader:hi.meshmatcap_vert,fragmentShader:hi.meshmatcap_frag},points:{uniforms:Ys([ir.points,ir.fog]),vertexShader:hi.points_vert,fragmentShader:hi.points_frag},dashed:{uniforms:Ys([ir.common,ir.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hi.linedashed_vert,fragmentShader:hi.linedashed_frag},depth:{uniforms:Ys([ir.common,ir.displacementmap]),vertexShader:hi.depth_vert,fragmentShader:hi.depth_frag},normal:{uniforms:Ys([ir.common,ir.bumpmap,ir.normalmap,ir.displacementmap,{opacity:{value:1}}]),vertexShader:hi.meshnormal_vert,fragmentShader:hi.meshnormal_frag},sprite:{uniforms:Ys([ir.sprite,ir.fog]),vertexShader:hi.sprite_vert,fragmentShader:hi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ka},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:hi.background_vert,fragmentShader:hi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:hi.backgroundCube_vert,fragmentShader:hi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:hi.cube_vert,fragmentShader:hi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hi.equirect_vert,fragmentShader:hi.equirect_frag},distanceRGBA:{uniforms:Ys([ir.common,ir.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hi.distanceRGBA_vert,fragmentShader:hi.distanceRGBA_frag},shadow:{uniforms:Ys([ir.lights,ir.fog,{color:{value:new Rr(0)},opacity:{value:1}}]),vertexShader:hi.shadow_vert,fragmentShader:hi.shadow_frag}};qd.physical={uniforms:Ys([qd.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ke(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Rr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Rr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Rr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:hi.meshphysical_vert,fragmentShader:hi.meshphysical_frag};var OE={r:0,b:0,g:0};function XLe(e,t,r,i,n,a,o){let s=new Rr(0),l=a===!0?0:1,c,u,d=null,h=0,f=null;function m(g,p){let v=!1,y=p.isScene===!0?p.background:null;y&&y.isTexture&&(y=(p.backgroundBlurriness>0?r:t).get(y));let b=e.xr,x=b.getSession&&b.getSession();x&&x.environmentBlendMode==="additive"&&(y=null),y===null?A(s,l):y&&y.isColor&&(A(y,1),v=!0),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.mapping===f_)?(u===void 0&&(u=new ta(new rd(1,1,1),new Wi({name:"BackgroundCubeMaterial",uniforms:Db(qd.backgroundCube.uniforms),vertexShader:qd.backgroundCube.vertexShader,fragmentShader:qd.backgroundCube.fragmentShader,side:Do,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,C,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,u.material.toneMapped=y.encoding!==li,(d!==y||h!==y.version||f!==e.toneMapping)&&(u.material.needsUpdate=!0,d=y,h=y.version,f=e.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new ta(new zf(2,2),new Wi({name:"BackgroundMaterial",uniforms:Db(qd.background.uniforms),vertexShader:qd.background.vertexShader,fragmentShader:qd.background.fragmentShader,side:ed,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,c.material.toneMapped=y.encoding!==li,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||h!==y.version||f!==e.toneMapping)&&(c.material.needsUpdate=!0,d=y,h=y.version,f=e.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function A(g,p){g.getRGB(OE,Uoe(e)),i.buffers.color.setClear(OE.r,OE.g,OE.b,p,o)}return{getClearColor:function(){return s},setClearColor:function(g,p=1){s.set(g),l=p,A(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,A(s,l)},render:m}}function YLe(e,t,r,i){let n=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||a!==null,s={},l=g(null),c=l,u=!1;function d(F,V,Y,j,R){let H=!1;if(o){let G=A(j,Y,V);c!==G&&(c=G,f(c.object)),H=p(F,j,Y,R),H&&v(F,j,Y,R)}else{let G=V.wireframe===!0;(c.geometry!==j.id||c.program!==Y.id||c.wireframe!==G)&&(c.geometry=j.id,c.program=Y.id,c.wireframe=G,H=!0)}R!==null&&r.update(R,34963),(H||u)&&(u=!1,_(F,V,Y,j),R!==null&&e.bindBuffer(34963,r.get(R).buffer))}function h(){return i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()}function f(F){return i.isWebGL2?e.bindVertexArray(F):a.bindVertexArrayOES(F)}function m(F){return i.isWebGL2?e.deleteVertexArray(F):a.deleteVertexArrayOES(F)}function A(F,V,Y){let j=Y.wireframe===!0,R=s[F.id];R===void 0&&(R={},s[F.id]=R);let H=R[V.id];H===void 0&&(H={},R[V.id]=H);let G=H[j];return G===void 0&&(G=g(h()),H[j]=G),G}function g(F){let V=[],Y=[],j=[];for(let R=0;R<n;R++)V[R]=0,Y[R]=0,j[R]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:Y,attributeDivisors:j,object:F,attributes:{},index:null}}function p(F,V,Y,j){let R=c.attributes,H=V.attributes,G=0,$=Y.getAttributes();for(let L in $)if($[L].location>=0){let K=R[L],X=H[L];if(X===void 0&&(L==="instanceMatrix"&&F.instanceMatrix&&(X=F.instanceMatrix),L==="instanceColor"&&F.instanceColor&&(X=F.instanceColor)),K===void 0||K.attribute!==X||X&&K.data!==X.data)return!0;G++}return c.attributesNum!==G||c.index!==j}function v(F,V,Y,j){let R={},H=V.attributes,G=0,$=Y.getAttributes();for(let L in $)if($[L].location>=0){let K=H[L];K===void 0&&(L==="instanceMatrix"&&F.instanceMatrix&&(K=F.instanceMatrix),L==="instanceColor"&&F.instanceColor&&(K=F.instanceColor));let X={};X.attribute=K,K&&K.data&&(X.data=K.data),R[L]=X,G++}c.attributes=R,c.attributesNum=G,c.index=j}function y(){let F=c.newAttributes;for(let V=0,Y=F.length;V<Y;V++)F[V]=0}function b(F){x(F,0)}function x(F,V){let Y=c.newAttributes,j=c.enabledAttributes,R=c.attributeDivisors;Y[F]=1,j[F]===0&&(e.enableVertexAttribArray(F),j[F]=1),R[F]!==V&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,V),R[F]=V)}function w(){let F=c.newAttributes,V=c.enabledAttributes;for(let Y=0,j=V.length;Y<j;Y++)V[Y]!==F[Y]&&(e.disableVertexAttribArray(Y),V[Y]=0)}function C(F,V,Y,j,R,H){i.isWebGL2===!0&&(Y===5124||Y===5125)?e.vertexAttribIPointer(F,V,Y,R,H):e.vertexAttribPointer(F,V,Y,j,R,H)}function _(F,V,Y,j){if(i.isWebGL2===!1&&(F.isInstancedMesh||j.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;y();let R=j.attributes,H=Y.getAttributes(),G=V.defaultAttributeValues;for(let $ in H){let L=H[$];if(L.location>=0){let K=R[$];if(K===void 0&&($==="instanceMatrix"&&F.instanceMatrix&&(K=F.instanceMatrix),$==="instanceColor"&&F.instanceColor&&(K=F.instanceColor)),K!==void 0){let X=K.normalized,ee=K.itemSize,W=r.get(K);if(W===void 0)continue;let te=W.buffer,oe=W.type,le=W.bytesPerElement;if(K.isInterleavedBufferAttribute){let be=K.data,ve=be.stride,se=K.offset;if(be.isInstancedInterleavedBuffer){for(let ye=0;ye<L.locationSize;ye++)x(L.location+ye,be.meshPerAttribute);F.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let ye=0;ye<L.locationSize;ye++)b(L.location+ye);e.bindBuffer(34962,te);for(let ye=0;ye<L.locationSize;ye++)C(L.location+ye,ee/L.locationSize,oe,X,ve*le,(se+ee/L.locationSize*ye)*le)}else{if(K.isInstancedBufferAttribute){for(let be=0;be<L.locationSize;be++)x(L.location+be,K.meshPerAttribute);F.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let be=0;be<L.locationSize;be++)b(L.location+be);e.bindBuffer(34962,te);for(let be=0;be<L.locationSize;be++)C(L.location+be,ee/L.locationSize,oe,X,ee*le,ee/L.locationSize*be*le)}}else if(G!==void 0){let X=G[$];if(X!==void 0)switch(X.length){case 2:e.vertexAttrib2fv(L.location,X);break;case 3:e.vertexAttrib3fv(L.location,X);break;case 4:e.vertexAttrib4fv(L.location,X);break;default:e.vertexAttrib1fv(L.location,X)}}}}w()}function B(){O();for(let F in s){let V=s[F];for(let Y in V){let j=V[Y];for(let R in j)m(j[R].object),delete j[R];delete V[Y]}delete s[F]}}function P(F){if(s[F.id]===void 0)return;let V=s[F.id];for(let Y in V){let j=V[Y];for(let R in j)m(j[R].object),delete j[R];delete V[Y]}delete s[F.id]}function M(F){for(let V in s){let Y=s[V];if(Y[F.id]===void 0)continue;let j=Y[F.id];for(let R in j)m(j[R].object),delete j[R];delete Y[F.id]}}function O(){I(),u=!0,c!==l&&(c=l,f(c.object))}function I(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:O,resetDefaultState:I,dispose:B,releaseStatesOfGeometry:P,releaseStatesOfProgram:M,initAttributes:y,enableAttribute:b,disableUnusedAttributes:w}}function $Le(e,t,r,i){let n=i.isWebGL2,a;function o(c){a=c}function s(c,u){e.drawArrays(a,c,u),r.update(u,a,1)}function l(c,u,d){if(d===0)return;let h,f;if(n)h=e,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](a,c,u,d),r.update(u,a,d)}this.setMode=o,this.render=s,this.renderInstances=l}function JLe(e,t,r){let i;function n(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){let C=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(C){if(C==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";C="mediump"}return C==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let o=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,s=r.precision!==void 0?r.precision:"highp",l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);let c=o||t.has("WEBGL_draw_buffers"),u=r.logarithmicDepthBuffer===!0,d=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),m=e.getParameter(34076),A=e.getParameter(34921),g=e.getParameter(36347),p=e.getParameter(36348),v=e.getParameter(36349),y=h>0,b=o||t.has("OES_texture_float"),x=y&&b,w=o?e.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:n,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:m,maxAttributes:A,maxVertexUniforms:g,maxVaryings:p,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:x,maxSamples:w}}function ZLe(e){let t=this,r=null,i=0,n=!1,a=!1,o=new Bl,s=new Ka,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){let f=d.length!==0||h||i!==0||n;return n=h,i=d.length,f},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,h){r=u(d,h,0)},this.setState=function(d,h,f){let m=d.clippingPlanes,A=d.clipIntersection,g=d.clipShadows,p=e.get(d);if(!n||m===null||m.length===0||a&&!g)a?u(null):c();else{let v=a?0:i,y=v*4,b=p.clippingState||null;l.value=b,b=u(m,h,y,f);for(let x=0;x!==y;++x)b[x]=r[x];p.clippingState=b,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(d,h,f,m){let A=d!==null?d.length:0,g=null;if(A!==0){if(g=l.value,m!==!0||g===null){let p=f+A*4,v=h.matrixWorldInverse;s.getNormalMatrix(v),(g===null||g.length<p)&&(g=new Float32Array(p));for(let y=0,b=f;y!==A;++y,b+=4)o.copy(d[y]).applyMatrix4(v,s),o.normal.toArray(g,b),g[b+3]=o.constant}l.value=g,l.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,g}}function eRe(e){let t=new WeakMap;function r(o,s){return s===pR?o.mapping=a0:s===AR&&(o.mapping=o0),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){let s=o.mapping;if(s===pR||s===AR)if(t.has(o)){let l=t.get(o).texture;return r(l,o.mapping)}else{let l=o.image;if(l&&l.height>0){let c=new fIe(l.height/2);return c.fromEquirectangularTexture(e,o),t.set(o,c),o.addEventListener("dispose",n),r(c.texture,o.mapping)}else return null}}return o}function n(o){let s=o.target;s.removeEventListener("dispose",n);let l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function a(){t=new WeakMap}return{get:i,dispose:a}}var y3=class extends S0{constructor(e=-1,t=1,r=1,i=-1,n=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=n,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,n,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=r-e,a=r+e,o=i+t,s=i-t;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=l*this.view.offsetX,a=n+l*this.view.width,o-=c*this.view.offsetY,s=o-c*this.view.height}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},Oy=4,AG=[.125,.215,.35,.446,.526,.582],gm=20,v4=new y3,gG=new Rr,y4=null,lm=(1+Math.sqrt(5))/2,Lv=1/lm,mG=[new q(1,1,1),new q(-1,1,1),new q(1,1,-1),new q(-1,1,-1),new q(0,lm,Lv),new q(0,lm,-Lv),new q(Lv,0,lm),new q(-Lv,0,lm),new q(lm,Lv,0),new q(-lm,Lv,0)],vG=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){y4=this._renderer.getRenderTarget(),this._setSize(256);let n=this._allocateTargets();return n.depthBuffer=!0,this._sceneToCubeUV(e,r,i,n),t>0&&this._blur(n,0,0,t),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=wG(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(y4),e.scissorTest=!1,DE(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===a0||e.mapping===o0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),y4=this._renderer.getRenderTarget();let r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:fi,minFilter:fi,generateMipmaps:!1,type:kf,format:Po,encoding:td,depthBuffer:!1},i=yG(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=yG(e,t,r);let{_lodMax:n}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tRe(n)),this._blurMaterial=rRe(n,e,t)}return i}_compileMaterial(e){let t=new ta(this._lodPlanes[0],e);this._renderer.compile(t,v4)}_sceneToCubeUV(e,t,r,i){let n=new Ss(90,1,t,r),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(gG),s.toneMapping=ch,s.autoClear=!1;let u=new jf({name:"PMREM.Background",side:Do,depthWrite:!1,depthTest:!1}),d=new ta(new rd,u),h=!1,f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,h=!0):(u.color.copy(gG),h=!0);for(let m=0;m<6;m++){let A=m%3;A===0?(n.up.set(0,a[m],0),n.lookAt(o[m],0,0)):A===1?(n.up.set(0,0,a[m]),n.lookAt(0,o[m],0)):(n.up.set(0,a[m],0),n.lookAt(0,0,o[m]));let g=this._cubeSize;DE(i,A*g,m>2?g:0,g,g),s.setRenderTarget(i),h&&s.render(d,n),s.render(e,n)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===a0||e.mapping===o0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=wG()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bG());let n=i?this._cubemapMaterial:this._equirectMaterial,a=new ta(this._lodPlanes[0],n),o=n.uniforms;o.envMap.value=e;let s=this._cubeSize;DE(t,0,0,3*s,2*s),r.setRenderTarget(t),r.render(a,v4)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let n=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=mG[(i-1)%mG.length];this._blur(e,i-1,i,n,a)}t.autoClear=r}_blur(e,t,r,i,n){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",n),this._halfBlur(a,e,r,r,i,"longitudinal",n)}_halfBlur(e,t,r,i,n,a,o){let s=this._renderer,l=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let c=3,u=new ta(this._lodPlanes[i],l),d=l.uniforms,h=this._sizeLods[r]-1,f=isFinite(n)?Math.PI/(2*h):2*Math.PI/(2*gm-1),m=n/f,A=isFinite(n)?1+Math.floor(c*m):gm;A>gm&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${gm}`);let g=[],p=0;for(let w=0;w<gm;++w){let C=w/m,_=Math.exp(-C*C/2);g.push(_),w===0?p+=_:w<A&&(p+=2*_)}for(let w=0;w<g.length;w++)g[w]=g[w]/p;d.envMap.value=e.texture,d.samples.value=A,d.weights.value=g,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);let{_lodMax:v}=this;d.dTheta.value=f,d.mipInt.value=v-r;let y=this._sizeLods[i],b=3*y*(i>v-Oy?i-v+Oy:0),x=4*(this._cubeSize-y);DE(t,b,x,3*y,2*y),s.setRenderTarget(t),s.render(u,v4)}};function tRe(e){let t=[],r=[],i=[],n=e,a=e-Oy+1+AG.length;for(let o=0;o<a;o++){let s=Math.pow(2,n);r.push(s);let l=1/s;o>e-Oy?l=AG[o-e+Oy-1]:o===0&&(l=0),i.push(l);let c=1/(s-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,m=6,A=3,g=2,p=1,v=new Float32Array(A*m*f),y=new Float32Array(g*m*f),b=new Float32Array(p*m*f);for(let w=0;w<f;w++){let C=w%3*2/3-1,_=w>2?0:-1,B=[C,_,0,C+2/3,_,0,C+2/3,_+1,0,C,_,0,C+2/3,_+1,0,C,_+1,0];v.set(B,A*m*w),y.set(h,g*m*w);let P=[w,w,w,w,w,w];b.set(P,p*m*w)}let x=new Mr;x.setAttribute("position",new Qr(v,A)),x.setAttribute("uv",new Qr(y,g)),x.setAttribute("faceIndex",new Qr(b,p)),t.push(x),n>Oy&&n--}return{lodPlanes:t,sizeLods:r,sigmas:i}}function yG(e,t,r){let i=new Ki(e,t,r);return i.texture.mapping=f_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function DE(e,t,r,i,n){e.viewport.set(t,r,i,n),e.scissor.set(t,r,i,n)}function rRe(e,t,r){let i=new Float32Array(gm),n=new q(0,1,0);return new Wi({name:"SphericalGaussianBlur",defines:{n:gm,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:hz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function bG(){return new Wi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function wG(){return new Wi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function hz(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function iRe(e){let t=new WeakMap,r=null;function i(s){if(s&&s.isTexture){let l=s.mapping,c=l===pR||l===AR,u=l===a0||l===o0;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=t.get(s);return r===null&&(r=new vG(e)),d=c?r.fromEquirectangular(s,d):r.fromCubemap(s,d),t.set(s,d),d.texture}else{if(t.has(s))return t.get(s).texture;{let d=s.image;if(c&&d&&d.height>0||u&&d&&n(d)){r===null&&(r=new vG(e));let h=c?r.fromEquirectangular(s):r.fromCubemap(s);return t.set(s,h),s.addEventListener("dispose",a),h.texture}else return null}}}return s}function n(s){let l=0,c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function a(s){let l=s.target;l.removeEventListener("dispose",a);let c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function o(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:o}}function nRe(e){let t={};function r(i){if(t[i]!==void 0)return t[i];let n;switch(i){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(i)}return t[i]=n,n}return{has:function(i){return r(i)!==null},init:function(i){i.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(i){let n=r(i);return n===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function aRe(e,t,r,i){let n={},a=new WeakMap;function o(d){let h=d.target;h.index!==null&&t.remove(h.index);for(let m in h.attributes)t.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete n[h.id];let f=a.get(h);f&&(t.remove(f),a.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,r.memory.geometries--}function s(d,h){return n[h.id]===!0||(h.addEventListener("dispose",o),n[h.id]=!0,r.memory.geometries++),h}function l(d){let h=d.attributes;for(let m in h)t.update(h[m],34962);let f=d.morphAttributes;for(let m in f){let A=f[m];for(let g=0,p=A.length;g<p;g++)t.update(A[g],34962)}}function c(d){let h=[],f=d.index,m=d.attributes.position,A=0;if(f!==null){let v=f.array;A=f.version;for(let y=0,b=v.length;y<b;y+=3){let x=v[y+0],w=v[y+1],C=v[y+2];h.push(x,w,w,C,C,x)}}else{let v=m.array;A=m.version;for(let y=0,b=v.length/3-1;y<b;y+=3){let x=y+0,w=y+1,C=y+2;h.push(x,w,w,C,C,x)}}let g=new(Ooe(h)?Zy:Roe)(h,1);g.version=A;let p=a.get(d);p&&t.remove(p),a.set(d,g)}function u(d){let h=a.get(d);if(h){let f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return a.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function oRe(e,t,r,i){let n=i.isWebGL2,a;function o(h){a=h}let s,l;function c(h){s=h.type,l=h.bytesPerElement}function u(h,f){e.drawElements(a,f,s,h*l),r.update(f,a,1)}function d(h,f,m){if(m===0)return;let A,g;if(n)A=e,g="drawElementsInstanced";else if(A=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[g](a,f,s,h*l,m),r.update(f,a,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function sRe(e){let t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,s){switch(r.calls++,o){case 4:r.triangles+=s*(a/3);break;case 1:r.lines+=s*(a/2);break;case 3:r.lines+=s*(a-1);break;case 2:r.lines+=s*a;break;case 0:r.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function n(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:n,update:i}}function lRe(e,t){return e[0]-t[0]}function cRe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function uRe(e,t,r){let i={},n=new Float32Array(8),a=new WeakMap,o=new Xr,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,d,h){let f=c.morphTargetInfluences;if(t.isWebGL2===!0){let m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,A=m!==void 0?m.length:0,g=a.get(u);if(g===void 0||g.count!==A){let y=function(){F.dispose(),a.delete(u),u.removeEventListener("dispose",y)};g!==void 0&&g.texture.dispose();let b=u.morphAttributes.position!==void 0,x=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],_=u.morphAttributes.normal||[],B=u.morphAttributes.color||[],P=0;b===!0&&(P=1),x===!0&&(P=2),w===!0&&(P=3);let M=u.attributes.position.count*P,O=1;M>t.maxTextureSize&&(O=Math.ceil(M/t.maxTextureSize),M=t.maxTextureSize);let I=new Float32Array(M*O*4*A),F=new Loe(I,M,O,A);F.type=qa,F.needsUpdate=!0;let V=P*4;for(let Y=0;Y<A;Y++){let j=C[Y],R=_[Y],H=B[Y],G=M*O*4*Y;for(let $=0;$<j.count;$++){let L=$*V;b===!0&&(o.fromBufferAttribute(j,$),I[G+L+0]=o.x,I[G+L+1]=o.y,I[G+L+2]=o.z,I[G+L+3]=0),x===!0&&(o.fromBufferAttribute(R,$),I[G+L+4]=o.x,I[G+L+5]=o.y,I[G+L+6]=o.z,I[G+L+7]=0),w===!0&&(o.fromBufferAttribute(H,$),I[G+L+8]=o.x,I[G+L+9]=o.y,I[G+L+10]=o.z,I[G+L+11]=H.itemSize===4?o.w:1)}}g={count:A,texture:F,size:new ke(M,O)},a.set(u,g),u.addEventListener("dispose",y)}let p=0;for(let y=0;y<f.length;y++)p+=f[y];let v=u.morphTargetsRelative?1:1-p;h.getUniforms().setValue(e,"morphTargetBaseInfluence",v),h.getUniforms().setValue(e,"morphTargetInfluences",f),h.getUniforms().setValue(e,"morphTargetsTexture",g.texture,r),h.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{let m=f===void 0?0:f.length,A=i[u.id];if(A===void 0||A.length!==m){A=[];for(let b=0;b<m;b++)A[b]=[b,0];i[u.id]=A}for(let b=0;b<m;b++){let x=A[b];x[0]=b,x[1]=f[b]}A.sort(cRe);for(let b=0;b<8;b++)b<m&&A[b][1]?(s[b][0]=A[b][0],s[b][1]=A[b][1]):(s[b][0]=Number.MAX_SAFE_INTEGER,s[b][1]=0);s.sort(lRe);let g=u.morphAttributes.position,p=u.morphAttributes.normal,v=0;for(let b=0;b<8;b++){let x=s[b],w=x[0],C=x[1];w!==Number.MAX_SAFE_INTEGER&&C?(g&&u.getAttribute("morphTarget"+b)!==g[w]&&u.setAttribute("morphTarget"+b,g[w]),p&&u.getAttribute("morphNormal"+b)!==p[w]&&u.setAttribute("morphNormal"+b,p[w]),n[b]=C,v+=C):(g&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),p&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),n[b]=0)}let y=u.morphTargetsRelative?1:1-v;h.getUniforms().setValue(e,"morphTargetBaseInfluence",y),h.getUniforms().setValue(e,"morphTargetInfluences",n)}}return{update:l}}function dRe(e,t,r,i){let n=new WeakMap;function a(l){let c=i.render.frame,u=l.geometry,d=t.get(l,u);return n.get(d)!==c&&(t.update(d),n.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.update(l.instanceMatrix,34962),l.instanceColor!==null&&r.update(l.instanceColor,34962)),d}function o(){n=new WeakMap}function s(l){let c=l.target;c.removeEventListener("dispose",s),r.remove(c.instanceMatrix),c.instanceColor!==null&&r.remove(c.instanceColor)}return{update:a,dispose:o}}var koe=new ia,joe=new Loe,zoe=new $4e,Hoe=new uz,xG=[],CG=[],_G=new Float32Array(16),SG=new Float32Array(9),EG=new Float32Array(4);function p1(e,t,r){let i=e[0];if(i<=0||i>0)return e;let n=t*r,a=xG[n];if(a===void 0&&(a=new Float32Array(n),xG[n]=a),t!==0){i.toArray(a,0);for(let o=1,s=0;o!==t;++o)s+=r,e[o].toArray(a,s)}return a}function po(e,t){if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function Ao(e,t){for(let r=0,i=t.length;r<i;r++)e[r]=t[r]}function b3(e,t){let r=CG[t];r===void 0&&(r=new Int32Array(t),CG[t]=r);for(let i=0;i!==t;++i)r[i]=e.allocateTextureUnit();return r}function hRe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function fRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(po(r,t))return;e.uniform2fv(this.addr,t),Ao(r,t)}}function pRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(po(r,t))return;e.uniform3fv(this.addr,t),Ao(r,t)}}function ARe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(po(r,t))return;e.uniform4fv(this.addr,t),Ao(r,t)}}function gRe(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(po(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ao(r,t)}else{if(po(r,i))return;EG.set(i),e.uniformMatrix2fv(this.addr,!1,EG),Ao(r,i)}}function mRe(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(po(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ao(r,t)}else{if(po(r,i))return;SG.set(i),e.uniformMatrix3fv(this.addr,!1,SG),Ao(r,i)}}function vRe(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(po(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ao(r,t)}else{if(po(r,i))return;_G.set(i),e.uniformMatrix4fv(this.addr,!1,_G),Ao(r,i)}}function yRe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function bRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(po(r,t))return;e.uniform2iv(this.addr,t),Ao(r,t)}}function wRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(po(r,t))return;e.uniform3iv(this.addr,t),Ao(r,t)}}function xRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(po(r,t))return;e.uniform4iv(this.addr,t),Ao(r,t)}}function CRe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function _Re(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(po(r,t))return;e.uniform2uiv(this.addr,t),Ao(r,t)}}function SRe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(po(r,t))return;e.uniform3uiv(this.addr,t),Ao(r,t)}}function ERe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(po(r,t))return;e.uniform4uiv(this.addr,t),Ao(r,t)}}function BRe(e,t,r){let i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTexture2D(t||koe,n)}function MRe(e,t,r){let i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTexture3D(t||zoe,n)}function PRe(e,t,r){let i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTextureCube(t||Hoe,n)}function TRe(e,t,r){let i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTexture2DArray(t||joe,n)}function ORe(e){switch(e){case 5126:return hRe;case 35664:return fRe;case 35665:return pRe;case 35666:return ARe;case 35674:return gRe;case 35675:return mRe;case 35676:return vRe;case 5124:case 35670:return yRe;case 35667:case 35671:return bRe;case 35668:case 35672:return wRe;case 35669:case 35673:return xRe;case 5125:return CRe;case 36294:return _Re;case 36295:return SRe;case 36296:return ERe;case 35678:case 36198:case 36298:case 36306:case 35682:return BRe;case 35679:case 36299:case 36307:return MRe;case 35680:case 36300:case 36308:case 36293:return PRe;case 36289:case 36303:case 36311:case 36292:return TRe}}function DRe(e,t){e.uniform1fv(this.addr,t)}function IRe(e,t){let r=p1(t,this.size,2);e.uniform2fv(this.addr,r)}function FRe(e,t){let r=p1(t,this.size,3);e.uniform3fv(this.addr,r)}function LRe(e,t){let r=p1(t,this.size,4);e.uniform4fv(this.addr,r)}function RRe(e,t){let r=p1(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function URe(e,t){let r=p1(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function NRe(e,t){let r=p1(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function kRe(e,t){e.uniform1iv(this.addr,t)}function jRe(e,t){e.uniform2iv(this.addr,t)}function zRe(e,t){e.uniform3iv(this.addr,t)}function HRe(e,t){e.uniform4iv(this.addr,t)}function VRe(e,t){e.uniform1uiv(this.addr,t)}function QRe(e,t){e.uniform2uiv(this.addr,t)}function WRe(e,t){e.uniform3uiv(this.addr,t)}function GRe(e,t){e.uniform4uiv(this.addr,t)}function qRe(e,t,r){let i=this.cache,n=t.length,a=b3(r,n);po(i,a)||(e.uniform1iv(this.addr,a),Ao(i,a));for(let o=0;o!==n;++o)r.setTexture2D(t[o]||koe,a[o])}function KRe(e,t,r){let i=this.cache,n=t.length,a=b3(r,n);po(i,a)||(e.uniform1iv(this.addr,a),Ao(i,a));for(let o=0;o!==n;++o)r.setTexture3D(t[o]||zoe,a[o])}function XRe(e,t,r){let i=this.cache,n=t.length,a=b3(r,n);po(i,a)||(e.uniform1iv(this.addr,a),Ao(i,a));for(let o=0;o!==n;++o)r.setTextureCube(t[o]||Hoe,a[o])}function YRe(e,t,r){let i=this.cache,n=t.length,a=b3(r,n);po(i,a)||(e.uniform1iv(this.addr,a),Ao(i,a));for(let o=0;o!==n;++o)r.setTexture2DArray(t[o]||joe,a[o])}function $Re(e){switch(e){case 5126:return DRe;case 35664:return IRe;case 35665:return FRe;case 35666:return LRe;case 35674:return RRe;case 35675:return URe;case 35676:return NRe;case 5124:case 35670:return kRe;case 35667:case 35671:return jRe;case 35668:case 35672:return zRe;case 35669:case 35673:return HRe;case 5125:return VRe;case 36294:return QRe;case 36295:return WRe;case 36296:return GRe;case 35678:case 36198:case 36298:case 36306:case 35682:return qRe;case 35679:case 36299:case 36307:return KRe;case 35680:case 36300:case 36308:case 36293:return XRe;case 36289:case 36303:case 36311:case 36292:return YRe}}var JRe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=ORe(t.type)}},ZRe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=$Re(t.type)}},eUe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){let i=this.seq;for(let n=0,a=i.length;n!==a;++n){let o=i[n];o.setValue(e,t[o.id],r)}}},b4=/(\w+)(\])?(\[|\.)?/g;function BG(e,t){e.seq.push(t),e.map[t.id]=t}function tUe(e,t,r){let i=e.name,n=i.length;for(b4.lastIndex=0;;){let a=b4.exec(i),o=b4.lastIndex,s=a[1],l=a[2]==="]",c=a[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===n){BG(r,c===void 0?new JRe(s,e,t):new ZRe(s,e,t));break}else{let u=r.map[s];u===void 0&&(u=new eUe(s),BG(r,u)),r=u}}}var D5=class{constructor(e,t){this.seq=[],this.map={};let r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){let n=e.getActiveUniform(t,i),a=e.getUniformLocation(t,n.name);tUe(n,a,this)}}setValue(e,t,r,i){let n=this.map[t];n!==void 0&&n.setValue(e,r,i)}setOptional(e,t,r){let i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let n=0,a=t.length;n!==a;++n){let o=t[n],s=r[o.id];s.needsUpdate!==!1&&o.setValue(e,s.value,i)}}static seqWithValue(e,t){let r=[];for(let i=0,n=e.length;i!==n;++i){let a=e[i];a.id in t&&r.push(a)}return r}};function MG(e,t,r){let i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}var rUe=0;function iUe(e,t){let r=e.split(`
`),i=[],n=Math.max(t-6,0),a=Math.min(t+6,r.length);for(let o=n;o<a;o++){let s=o+1;i.push(`${s===t?">":" "} ${s}: ${r[o]}`)}return i.join(`
`)}function nUe(e){switch(e){case td:return["Linear","( value )"];case li:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function PG(e,t,r){let i=e.getShaderParameter(t,35713),n=e.getShaderInfoLog(t).trim();if(i&&n==="")return"";let a=/ERROR: 0:(\d+)/.exec(n);if(a){let o=parseInt(a[1]);return r.toUpperCase()+`

`+n+`

`+iUe(e.getShaderSource(t),o)}else return n}function aUe(e,t){let r=nUe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function oUe(e,t){let r;switch(t){case h4e:r="Linear";break;case f4e:r="Reinhard";break;case p4e:r="OptimizedCineon";break;case A4e:r="ACESFilmic";break;case g4e:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function sUe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Lx).join(`
`)}function lUe(e){let t=[];for(let r in e){let i=e[r];i!==!1&&t.push("#define "+r+" "+i)}return t.join(`
`)}function cUe(e,t){let r={},i=e.getProgramParameter(t,35721);for(let n=0;n<i;n++){let a=e.getActiveAttrib(t,n),o=a.name,s=1;a.type===35674&&(s=2),a.type===35675&&(s=3),a.type===35676&&(s=4),r[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return r}function Lx(e){return e!==""}function TG(e,t){let r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function OG(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var uUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function bR(e){return e.replace(uUe,dUe)}function dUe(e,t){let r=hi[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return bR(r)}var hUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DG(e){return e.replace(hUe,fUe)}function fUe(e,t,r,i){let n="";for(let a=parseInt(t);a<parseInt(r);a++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return n}function IG(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function pUe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===az?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===QDe?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Fx&&(t="SHADOWMAP_TYPE_VSM"),t}function AUe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case a0:case o0:t="ENVMAP_TYPE_CUBE";break;case f_:t="ENVMAP_TYPE_CUBE_UV";break}return t}function gUe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case o0:t="ENVMAP_MODE_REFRACTION";break}return t}function mUe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Coe:t="ENVMAP_BLENDING_MULTIPLY";break;case u4e:t="ENVMAP_BLENDING_MIX";break;case d4e:t="ENVMAP_BLENDING_ADD";break}return t}function vUe(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let r=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:i,maxMip:r}}function yUe(e,t,r,i){let n=e.getContext(),a=r.defines,o=r.vertexShader,s=r.fragmentShader,l=pUe(r),c=AUe(r),u=gUe(r),d=mUe(r),h=vUe(r),f=r.isWebGL2?"":sUe(r),m=lUe(a),A=n.createProgram(),g,p,v=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(g=[m].filter(Lx).join(`
`),g.length>0&&(g+=`
`),p=[f,m].filter(Lx).join(`
`),p.length>0&&(p+=`
`)):(g=[IG(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Lx).join(`
`),p=[f,IG(r),"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+u:"",r.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==ch?"#define TONE_MAPPING":"",r.toneMapping!==ch?hi.tonemapping_pars_fragment:"",r.toneMapping!==ch?oUe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",hi.encodings_pars_fragment,aUe("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Lx).join(`
`)),o=bR(o),o=TG(o,r),o=OG(o,r),s=bR(s),s=TG(s,r),s=OG(s,r),o=DG(o),s=DG(s),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,p=["#define varying in",r.glslVersion===iG?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===iG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);let y=v+g+o,b=v+p+s,x=MG(n,35633,y),w=MG(n,35632,b);if(n.attachShader(A,x),n.attachShader(A,w),r.index0AttributeName!==void 0?n.bindAttribLocation(A,0,r.index0AttributeName):r.morphTargets===!0&&n.bindAttribLocation(A,0,"position"),n.linkProgram(A),e.debug.checkShaderErrors){let B=n.getProgramInfoLog(A).trim(),P=n.getShaderInfoLog(x).trim(),M=n.getShaderInfoLog(w).trim(),O=!0,I=!0;if(n.getProgramParameter(A,35714)===!1){O=!1;let F=PG(n,x,"vertex"),V=PG(n,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(A,35715)+`

Program Info Log: `+B+`
`+F+`
`+V)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(P===""||M==="")&&(I=!1);I&&(this.diagnostics={runnable:O,programLog:B,vertexShader:{log:P,prefix:g},fragmentShader:{log:M,prefix:p}})}n.deleteShader(x),n.deleteShader(w);let C;this.getUniforms=function(){return C===void 0&&(C=new D5(n,A)),C};let _;return this.getAttributes=function(){return _===void 0&&(_=cUe(n,A)),_},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(A),this.program=void 0},this.name=r.shaderName,this.id=rUe++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=x,this.fragmentShader=w,this}var bUe=0,wUe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),n=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(n)===!1&&(a.add(n),n.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){let t=this.shaderCache,r=t.get(e);return r===void 0&&(r=new xUe(e),t.set(e,r)),r}},xUe=class{constructor(e){this.id=bUe++,this.code=e,this.usedTimes=0}};function CUe(e,t,r,i,n,a,o){let s=new cz,l=new wUe,c=[],u=n.isWebGL2,d=n.logarithmicDepthBuffer,h=n.vertexTextures,f=n.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(_,B,P,M,O){let I=M.fog,F=O.geometry,V=_.isMeshStandardMaterial?M.environment:null,Y=(_.isMeshStandardMaterial?r:t).get(_.envMap||V),j=Y&&Y.mapping===f_?Y.image.height:null,R=m[_.type];_.precision!==null&&(f=n.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));let H=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,G=H!==void 0?H.length:0,$=0;F.morphAttributes.position!==void 0&&($=1),F.morphAttributes.normal!==void 0&&($=2),F.morphAttributes.color!==void 0&&($=3);let L,K,X,ee;if(R){let be=qd[R];L=be.vertexShader,K=be.fragmentShader}else L=_.vertexShader,K=_.fragmentShader,l.update(_),X=l.getVertexShaderID(_),ee=l.getFragmentShaderID(_);let W=e.getRenderTarget(),te=_.alphaTest>0,oe=_.clearcoat>0,le=_.iridescence>0;return{isWebGL2:u,shaderID:R,shaderName:_.type,vertexShader:L,fragmentShader:K,defines:_.defines,customVertexShaderID:X,customFragmentShaderID:ee,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:h,outputEncoding:W===null?e.outputEncoding:W.isXRRenderTarget===!0?W.texture.encoding:td,map:!!_.map,matcap:!!_.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUVHeight:j,lightMap:!!_.lightMap,aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===I4e,tangentSpaceNormalMap:_.normalMapType===D4e,decodeVideoTexture:!!_.map&&_.map.isVideoTexture===!0&&_.map.encoding===li,clearcoat:oe,clearcoatMap:oe&&!!_.clearcoatMap,clearcoatRoughnessMap:oe&&!!_.clearcoatRoughnessMap,clearcoatNormalMap:oe&&!!_.clearcoatNormalMap,iridescence:le,iridescenceMap:le&&!!_.iridescenceMap,iridescenceThicknessMap:le&&!!_.iridescenceThicknessMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,specularIntensityMap:!!_.specularIntensityMap,specularColorMap:!!_.specularColorMap,opaque:_.transparent===!1&&_.blending===Qm,alphaMap:!!_.alphaMap,alphaTest:te,gradientMap:!!_.gradientMap,sheen:_.sheen>0,sheenColorMap:!!_.sheenColorMap,sheenRoughnessMap:!!_.sheenRoughnessMap,transmission:_.transmission>0,transmissionMap:!!_.transmissionMap,thicknessMap:!!_.thicknessMap,combine:_.combine,vertexTangents:!!_.normalMap&&!!F.attributes.tangent,vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.iridescenceMap||!!_.iridescenceThicknessMap||!!_.displacementMap||!!_.transmissionMap||!!_.thicknessMap||!!_.specularIntensityMap||!!_.specularColorMap||!!_.sheenColorMap||!!_.sheenRoughnessMap,uvsVertexOnly:!(_.map||_.bumpMap||_.normalMap||_.specularMap||_.alphaMap||_.emissiveMap||_.roughnessMap||_.metalnessMap||_.clearcoatNormalMap||_.iridescenceMap||_.iridescenceThicknessMap||_.transmission>0||_.transmissionMap||_.thicknessMap||_.specularIntensityMap||_.specularColorMap||_.sheen>0||_.sheenColorMap||_.sheenRoughnessMap)&&!!_.displacementMap,fog:!!I,useFog:_.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:!!_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:d,skinning:O.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:$,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:e.shadowMap.enabled&&P.length>0,shadowMapType:e.shadowMap.type,toneMapping:_.toneMapped?e.toneMapping:ch,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===Ms,flipSided:_.side===Do,useDepthPacking:!!_.depthPacking,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:_.customProgramCacheKey()}}function g(_){let B=[];if(_.shaderID?B.push(_.shaderID):(B.push(_.customVertexShaderID),B.push(_.customFragmentShaderID)),_.defines!==void 0)for(let P in _.defines)B.push(P),B.push(_.defines[P]);return _.isRawShaderMaterial===!1&&(p(B,_),v(B,_),B.push(e.outputEncoding)),B.push(_.customProgramCacheKey),B.join()}function p(_,B){_.push(B.precision),_.push(B.outputEncoding),_.push(B.envMapMode),_.push(B.envMapCubeUVHeight),_.push(B.combine),_.push(B.vertexUvs),_.push(B.fogExp2),_.push(B.sizeAttenuation),_.push(B.morphTargetsCount),_.push(B.morphAttributeCount),_.push(B.numDirLights),_.push(B.numPointLights),_.push(B.numSpotLights),_.push(B.numSpotLightMaps),_.push(B.numHemiLights),_.push(B.numRectAreaLights),_.push(B.numDirLightShadows),_.push(B.numPointLightShadows),_.push(B.numSpotLightShadows),_.push(B.numSpotLightShadowsWithMaps),_.push(B.shadowMapType),_.push(B.toneMapping),_.push(B.numClippingPlanes),_.push(B.numClipIntersection),_.push(B.depthPacking)}function v(_,B){s.disableAll(),B.isWebGL2&&s.enable(0),B.supportsVertexTextures&&s.enable(1),B.instancing&&s.enable(2),B.instancingColor&&s.enable(3),B.map&&s.enable(4),B.matcap&&s.enable(5),B.envMap&&s.enable(6),B.lightMap&&s.enable(7),B.aoMap&&s.enable(8),B.emissiveMap&&s.enable(9),B.bumpMap&&s.enable(10),B.normalMap&&s.enable(11),B.objectSpaceNormalMap&&s.enable(12),B.tangentSpaceNormalMap&&s.enable(13),B.clearcoat&&s.enable(14),B.clearcoatMap&&s.enable(15),B.clearcoatRoughnessMap&&s.enable(16),B.clearcoatNormalMap&&s.enable(17),B.iridescence&&s.enable(18),B.iridescenceMap&&s.enable(19),B.iridescenceThicknessMap&&s.enable(20),B.displacementMap&&s.enable(21),B.specularMap&&s.enable(22),B.roughnessMap&&s.enable(23),B.metalnessMap&&s.enable(24),B.gradientMap&&s.enable(25),B.alphaMap&&s.enable(26),B.alphaTest&&s.enable(27),B.vertexColors&&s.enable(28),B.vertexAlphas&&s.enable(29),B.vertexUvs&&s.enable(30),B.vertexTangents&&s.enable(31),B.uvsVertexOnly&&s.enable(32),_.push(s.mask),s.disableAll(),B.fog&&s.enable(0),B.useFog&&s.enable(1),B.flatShading&&s.enable(2),B.logarithmicDepthBuffer&&s.enable(3),B.skinning&&s.enable(4),B.morphTargets&&s.enable(5),B.morphNormals&&s.enable(6),B.morphColors&&s.enable(7),B.premultipliedAlpha&&s.enable(8),B.shadowMapEnabled&&s.enable(9),B.physicallyCorrectLights&&s.enable(10),B.doubleSided&&s.enable(11),B.flipSided&&s.enable(12),B.useDepthPacking&&s.enable(13),B.dithering&&s.enable(14),B.specularIntensityMap&&s.enable(15),B.specularColorMap&&s.enable(16),B.transmission&&s.enable(17),B.transmissionMap&&s.enable(18),B.thicknessMap&&s.enable(19),B.sheen&&s.enable(20),B.sheenColorMap&&s.enable(21),B.sheenRoughnessMap&&s.enable(22),B.decodeVideoTexture&&s.enable(23),B.opaque&&s.enable(24),_.push(s.mask)}function y(_){let B=m[_.type],P;if(B){let M=qd[B];P=f1.clone(M.uniforms)}else P=_.uniforms;return P}function b(_,B){let P;for(let M=0,O=c.length;M<O;M++){let I=c[M];if(I.cacheKey===B){P=I,++P.usedTimes;break}}return P===void 0&&(P=new yUe(e,B,_,a),c.push(P)),P}function x(_){if(--_.usedTimes===0){let B=c.indexOf(_);c[B]=c[c.length-1],c.pop(),_.destroy()}}function w(_){l.remove(_)}function C(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:y,acquireProgram:b,releaseProgram:x,releaseShaderCache:w,programs:c,dispose:C}}function _Ue(){let e=new WeakMap;function t(a){let o=e.get(a);return o===void 0&&(o={},e.set(a,o)),o}function r(a){e.delete(a)}function i(a,o,s){e.get(a)[o]=s}function n(){e=new WeakMap}return{get:t,remove:r,update:i,dispose:n}}function SUe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function FG(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function LG(){let e=[],t=0,r=[],i=[],n=[];function a(){t=0,r.length=0,i.length=0,n.length=0}function o(d,h,f,m,A,g){let p=e[t];return p===void 0?(p={id:d.id,object:d,geometry:h,material:f,groupOrder:m,renderOrder:d.renderOrder,z:A,group:g},e[t]=p):(p.id=d.id,p.object=d,p.geometry=h,p.material=f,p.groupOrder=m,p.renderOrder=d.renderOrder,p.z=A,p.group=g),t++,p}function s(d,h,f,m,A,g){let p=o(d,h,f,m,A,g);f.transmission>0?i.push(p):f.transparent===!0?n.push(p):r.push(p)}function l(d,h,f,m,A,g){let p=o(d,h,f,m,A,g);f.transmission>0?i.unshift(p):f.transparent===!0?n.unshift(p):r.unshift(p)}function c(d,h){r.length>1&&r.sort(d||SUe),i.length>1&&i.sort(h||FG),n.length>1&&n.sort(h||FG)}function u(){for(let d=t,h=e.length;d<h;d++){let f=e[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:r,transmissive:i,transparent:n,init:a,push:s,unshift:l,finish:u,sort:c}}function EUe(){let e=new WeakMap;function t(i,n){let a=e.get(i),o;return a===void 0?(o=new LG,e.set(i,[o])):n>=a.length?(o=new LG,a.push(o)):o=a[n],o}function r(){e=new WeakMap}return{get:t,dispose:r}}function BUe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new q,color:new Rr};break;case"SpotLight":r={position:new q,direction:new q,color:new Rr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new q,color:new Rr,distance:0,decay:0};break;case"HemisphereLight":r={direction:new q,skyColor:new Rr,groundColor:new Rr};break;case"RectAreaLight":r={color:new Rr,position:new q,halfWidth:new q,halfHeight:new q};break}return e[t.id]=r,r}}}function MUe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=r,r}}}var PUe=0;function TUe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function OUe(e,t){let r=new BUe,i=MUe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)n.probe.push(new q);let a=new q,o=new kt,s=new kt;function l(u,d){let h=0,f=0,m=0;for(let M=0;M<9;M++)n.probe[M].set(0,0,0);let A=0,g=0,p=0,v=0,y=0,b=0,x=0,w=0,C=0,_=0;u.sort(TUe);let B=d!==!0?Math.PI:1;for(let M=0,O=u.length;M<O;M++){let I=u[M],F=I.color,V=I.intensity,Y=I.distance,j=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)h+=F.r*V*B,f+=F.g*V*B,m+=F.b*V*B;else if(I.isLightProbe)for(let R=0;R<9;R++)n.probe[R].addScaledVector(I.sh.coefficients[R],V);else if(I.isDirectionalLight){let R=r.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity*B),I.castShadow){let H=I.shadow,G=i.get(I);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,n.directionalShadow[A]=G,n.directionalShadowMap[A]=j,n.directionalShadowMatrix[A]=I.shadow.matrix,b++}n.directional[A]=R,A++}else if(I.isSpotLight){let R=r.get(I);R.position.setFromMatrixPosition(I.matrixWorld),R.color.copy(F).multiplyScalar(V*B),R.distance=Y,R.coneCos=Math.cos(I.angle),R.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),R.decay=I.decay,n.spot[p]=R;let H=I.shadow;if(I.map&&(n.spotLightMap[C]=I.map,C++,H.updateMatrices(I),I.castShadow&&_++),n.spotLightMatrix[p]=H.matrix,I.castShadow){let G=i.get(I);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,n.spotShadow[p]=G,n.spotShadowMap[p]=j,w++}p++}else if(I.isRectAreaLight){let R=r.get(I);R.color.copy(F).multiplyScalar(V),R.halfWidth.set(I.width*.5,0,0),R.halfHeight.set(0,I.height*.5,0),n.rectArea[v]=R,v++}else if(I.isPointLight){let R=r.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity*B),R.distance=I.distance,R.decay=I.decay,I.castShadow){let H=I.shadow,G=i.get(I);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,G.shadowCameraNear=H.camera.near,G.shadowCameraFar=H.camera.far,n.pointShadow[g]=G,n.pointShadowMap[g]=j,n.pointShadowMatrix[g]=I.shadow.matrix,x++}n.point[g]=R,g++}else if(I.isHemisphereLight){let R=r.get(I);R.skyColor.copy(I.color).multiplyScalar(V*B),R.groundColor.copy(I.groundColor).multiplyScalar(V*B),n.hemi[y]=R,y++}}v>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=ir.LTC_FLOAT_1,n.rectAreaLTC2=ir.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=ir.LTC_HALF_1,n.rectAreaLTC2=ir.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=h,n.ambient[1]=f,n.ambient[2]=m;let P=n.hash;(P.directionalLength!==A||P.pointLength!==g||P.spotLength!==p||P.rectAreaLength!==v||P.hemiLength!==y||P.numDirectionalShadows!==b||P.numPointShadows!==x||P.numSpotShadows!==w||P.numSpotMaps!==C)&&(n.directional.length=A,n.spot.length=p,n.rectArea.length=v,n.point.length=g,n.hemi.length=y,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=x,n.pointShadowMap.length=x,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=x,n.spotLightMatrix.length=w+C-_,n.spotLightMap.length=C,n.numSpotLightShadowsWithMaps=_,P.directionalLength=A,P.pointLength=g,P.spotLength=p,P.rectAreaLength=v,P.hemiLength=y,P.numDirectionalShadows=b,P.numPointShadows=x,P.numSpotShadows=w,P.numSpotMaps=C,n.version=PUe++)}function c(u,d){let h=0,f=0,m=0,A=0,g=0,p=d.matrixWorldInverse;for(let v=0,y=u.length;v<y;v++){let b=u[v];if(b.isDirectionalLight){let x=n.directional[h];x.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(p),h++}else if(b.isSpotLight){let x=n.spot[m];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),x.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(p),m++}else if(b.isRectAreaLight){let x=n.rectArea[A];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),s.identity(),o.copy(b.matrixWorld),o.premultiply(p),s.extractRotation(o),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),A++}else if(b.isPointLight){let x=n.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),f++}else if(b.isHemisphereLight){let x=n.hemi[g];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(p),g++}}}return{setup:l,setupView:c,state:n}}function RG(e,t){let r=new OUe(e,t),i=[],n=[];function a(){i.length=0,n.length=0}function o(u){i.push(u)}function s(u){n.push(u)}function l(u){r.setup(i,u)}function c(u){r.setupView(i,u)}return{init:a,state:{lightsArray:i,shadowsArray:n,lights:r},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:s}}function DUe(e,t){let r=new WeakMap;function i(a,o=0){let s=r.get(a),l;return s===void 0?(l=new RG(e,t),r.set(a,[l])):o>=s.length?(l=new RG(e,t),s.push(l)):l=s[o],l}function n(){r=new WeakMap}return{get:i,dispose:n}}var Voe=class extends p_{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Yf,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},IUe=class extends p_{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},FUe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LUe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function RUe(e,t,r){let i=new dz,n=new ke,a=new ke,o=new Xr,s=new Voe({depthPacking:Poe}),l=new IUe,c={},u=r.maxTextureSize,d={[ed]:Do,[Do]:ed,[Ms]:Ms},h=new Wi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:FUe,fragmentShader:LUe}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let m=new Mr;m.setAttribute("position",new Qr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let A=new ta(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=az,this.render=function(b,x,w){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||b.length===0)return;let C=e.getRenderTarget(),_=e.getActiveCubeFace(),B=e.getActiveMipmapLevel(),P=e.state;P.setBlending(Ya),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let M=0,O=b.length;M<O;M++){let I=b[M],F=I.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;n.copy(F.mapSize);let V=F.getFrameExtents();if(n.multiply(V),a.copy(F.mapSize),(n.x>u||n.y>u)&&(n.x>u&&(a.x=Math.floor(u/V.x),n.x=a.x*V.x,F.mapSize.x=a.x),n.y>u&&(a.y=Math.floor(u/V.y),n.y=a.y*V.y,F.mapSize.y=a.y)),F.map===null){let j=this.type!==Fx?{minFilter:Zi,magFilter:Zi}:{};F.map=new Ki(n.x,n.y,j),F.map.texture.name=I.name+".shadowMap",F.camera.updateProjectionMatrix()}e.setRenderTarget(F.map),e.clear();let Y=F.getViewportCount();for(let j=0;j<Y;j++){let R=F.getViewport(j);o.set(a.x*R.x,a.y*R.y,a.x*R.z,a.y*R.w),P.viewport(o),F.updateMatrices(I,j),i=F.getFrustum(),y(x,w,F.camera,I,this.type)}F.isPointLightShadow!==!0&&this.type===Fx&&p(F,w),F.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(C,_,B)};function p(b,x){let w=t.update(A);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Ki(n.x,n.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(x,null,w,h,A,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(x,null,w,f,A,null)}function v(b,x,w,C,_,B){let P=null,M=w.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(M!==void 0)P=M;else if(P=w.isPointLight===!0?l:s,e.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0||x.map&&x.alphaTest>0){let O=P.uuid,I=x.uuid,F=c[O];F===void 0&&(F={},c[O]=F);let V=F[I];V===void 0&&(V=P.clone(),F[I]=V),P=V}return P.visible=x.visible,P.wireframe=x.wireframe,B===Fx?P.side=x.shadowSide!==null?x.shadowSide:x.side:P.side=x.shadowSide!==null?x.shadowSide:d[x.side],P.alphaMap=x.alphaMap,P.alphaTest=x.alphaTest,P.map=x.map,P.clipShadows=x.clipShadows,P.clippingPlanes=x.clippingPlanes,P.clipIntersection=x.clipIntersection,P.displacementMap=x.displacementMap,P.displacementScale=x.displacementScale,P.displacementBias=x.displacementBias,P.wireframeLinewidth=x.wireframeLinewidth,P.linewidth=x.linewidth,w.isPointLight===!0&&P.isMeshDistanceMaterial===!0&&(P.referencePosition.setFromMatrixPosition(w.matrixWorld),P.nearDistance=C,P.farDistance=_),P}function y(b,x,w,C,_){if(b.visible===!1)return;if(b.layers.test(x.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&_===Fx)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,b.matrixWorld);let P=t.update(b),M=b.material;if(Array.isArray(M)){let O=P.groups;for(let I=0,F=O.length;I<F;I++){let V=O[I],Y=M[V.materialIndex];if(Y&&Y.visible){let j=v(b,Y,C,w.near,w.far,_);e.renderBufferDirect(w,null,P,j,b,V)}}}else if(M.visible){let O=v(b,M,C,w.near,w.far,_);e.renderBufferDirect(w,null,P,O,b,null)}}let B=b.children;for(let P=0,M=B.length;P<M;P++)y(B[P],x,w,C,_)}}function UUe(e,t,r){let i=r.isWebGL2;function n(){let Ge=!1,At=new Xr,yt=null,Wt=new Xr(0,0,0,0);return{setMask:function(rr){yt!==rr&&!Ge&&(e.colorMask(rr,rr,rr,rr),yt=rr)},setLocked:function(rr){Ge=rr},setClear:function(rr,qt,Cr,Ui,ci){ci===!0&&(rr*=Ui,qt*=Ui,Cr*=Ui),At.set(rr,qt,Cr,Ui),Wt.equals(At)===!1&&(e.clearColor(rr,qt,Cr,Ui),Wt.copy(At))},reset:function(){Ge=!1,yt=null,Wt.set(-1,0,0,0)}}}function a(){let Ge=!1,At=null,yt=null,Wt=null;return{setTest:function(rr){rr?te(2929):oe(2929)},setMask:function(rr){At!==rr&&!Ge&&(e.depthMask(rr),At=rr)},setFunc:function(rr){if(yt!==rr){switch(rr){case i4e:e.depthFunc(512);break;case n4e:e.depthFunc(519);break;case a4e:e.depthFunc(513);break;case fR:e.depthFunc(515);break;case o4e:e.depthFunc(514);break;case s4e:e.depthFunc(518);break;case l4e:e.depthFunc(516);break;case c4e:e.depthFunc(517);break;default:e.depthFunc(515)}yt=rr}},setLocked:function(rr){Ge=rr},setClear:function(rr){Wt!==rr&&(e.clearDepth(rr),Wt=rr)},reset:function(){Ge=!1,At=null,yt=null,Wt=null}}}function o(){let Ge=!1,At=null,yt=null,Wt=null,rr=null,qt=null,Cr=null,Ui=null,ci=null;return{setTest:function(ii){Ge||(ii?te(2960):oe(2960))},setMask:function(ii){At!==ii&&!Ge&&(e.stencilMask(ii),At=ii)},setFunc:function(ii,en,dr){(yt!==ii||Wt!==en||rr!==dr)&&(e.stencilFunc(ii,en,dr),yt=ii,Wt=en,rr=dr)},setOp:function(ii,en,dr){(qt!==ii||Cr!==en||Ui!==dr)&&(e.stencilOp(ii,en,dr),qt=ii,Cr=en,Ui=dr)},setLocked:function(ii){Ge=ii},setClear:function(ii){ci!==ii&&(e.clearStencil(ii),ci=ii)},reset:function(){Ge=!1,At=null,yt=null,Wt=null,rr=null,qt=null,Cr=null,Ui=null,ci=null}}}let s=new n,l=new a,c=new o,u=new WeakMap,d=new WeakMap,h={},f={},m=new WeakMap,A=[],g=null,p=!1,v=null,y=null,b=null,x=null,w=null,C=null,_=null,B=!1,P=null,M=null,O=null,I=null,F=null,V=e.getParameter(35661),Y=!1,j=0,R=e.getParameter(7938);R.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(R)[1]),Y=j>=1):R.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),Y=j>=2);let H=null,G={},$=e.getParameter(3088),L=e.getParameter(2978),K=new Xr().fromArray($),X=new Xr().fromArray(L);function ee(Ge,At,yt){let Wt=new Uint8Array(4),rr=e.createTexture();e.bindTexture(Ge,rr),e.texParameteri(Ge,10241,9728),e.texParameteri(Ge,10240,9728);for(let qt=0;qt<yt;qt++)e.texImage2D(At+qt,0,6408,1,1,0,6408,5121,Wt);return rr}let W={};W[3553]=ee(3553,3553,1),W[34067]=ee(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),te(2929),l.setFunc(fR),ae(!1),Ne(BW),te(2884),Be(Ya);function te(Ge){h[Ge]!==!0&&(e.enable(Ge),h[Ge]=!0)}function oe(Ge){h[Ge]!==!1&&(e.disable(Ge),h[Ge]=!1)}function le(Ge,At){return f[Ge]!==At?(e.bindFramebuffer(Ge,At),f[Ge]=At,i&&(Ge===36009&&(f[36160]=At),Ge===36160&&(f[36009]=At)),!0):!1}function be(Ge,At){let yt=A,Wt=!1;if(Ge)if(yt=m.get(At),yt===void 0&&(yt=[],m.set(At,yt)),Ge.isWebGLMultipleRenderTargets){let rr=Ge.texture;if(yt.length!==rr.length||yt[0]!==36064){for(let qt=0,Cr=rr.length;qt<Cr;qt++)yt[qt]=36064+qt;yt.length=rr.length,Wt=!0}}else yt[0]!==36064&&(yt[0]=36064,Wt=!0);else yt[0]!==1029&&(yt[0]=1029,Wt=!0);Wt&&(r.isWebGL2?e.drawBuffers(yt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(yt))}function ve(Ge){return g!==Ge?(e.useProgram(Ge),g=Ge,!0):!1}let se={[ay]:32774,[GDe]:32778,[qDe]:32779};if(i)se[OW]=32775,se[DW]=32776;else{let Ge=t.get("EXT_blend_minmax");Ge!==null&&(se[OW]=Ge.MIN_EXT,se[DW]=Ge.MAX_EXT)}let ye={[KDe]:0,[XDe]:1,[YDe]:768,[woe]:770,[r4e]:776,[e4e]:774,[JDe]:772,[$De]:769,[xoe]:771,[t4e]:775,[ZDe]:773};function Be(Ge,At,yt,Wt,rr,qt,Cr,Ui){if(Ge===Ya){p===!0&&(oe(3042),p=!1);return}if(p===!1&&(te(3042),p=!0),Ge!==WDe){if(Ge!==v||Ui!==B){if((y!==ay||w!==ay)&&(e.blendEquation(32774),y=ay,w=ay),Ui)switch(Ge){case Qm:e.blendFuncSeparate(1,771,1,771);break;case MW:e.blendFunc(1,1);break;case PW:e.blendFuncSeparate(0,769,0,1);break;case TW:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ge);break}else switch(Ge){case Qm:e.blendFuncSeparate(770,771,1,771);break;case MW:e.blendFunc(770,1);break;case PW:e.blendFuncSeparate(0,769,0,1);break;case TW:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ge);break}b=null,x=null,C=null,_=null,v=Ge,B=Ui}return}rr=rr||At,qt=qt||yt,Cr=Cr||Wt,(At!==y||rr!==w)&&(e.blendEquationSeparate(se[At],se[rr]),y=At,w=rr),(yt!==b||Wt!==x||qt!==C||Cr!==_)&&(e.blendFuncSeparate(ye[yt],ye[Wt],ye[qt],ye[Cr]),b=yt,x=Wt,C=qt,_=Cr),v=Ge,B=!1}function ge(Ge,At){Ge.side===Ms?oe(2884):te(2884);let yt=Ge.side===Do;At&&(yt=!yt),ae(yt),Ge.blending===Qm&&Ge.transparent===!1?Be(Ya):Be(Ge.blending,Ge.blendEquation,Ge.blendSrc,Ge.blendDst,Ge.blendEquationAlpha,Ge.blendSrcAlpha,Ge.blendDstAlpha,Ge.premultipliedAlpha),l.setFunc(Ge.depthFunc),l.setTest(Ge.depthTest),l.setMask(Ge.depthWrite),s.setMask(Ge.colorWrite);let Wt=Ge.stencilWrite;c.setTest(Wt),Wt&&(c.setMask(Ge.stencilWriteMask),c.setFunc(Ge.stencilFunc,Ge.stencilRef,Ge.stencilFuncMask),c.setOp(Ge.stencilFail,Ge.stencilZFail,Ge.stencilZPass)),Ee(Ge.polygonOffset,Ge.polygonOffsetFactor,Ge.polygonOffsetUnits),Ge.alphaToCoverage===!0?te(32926):oe(32926)}function ae(Ge){P!==Ge&&(Ge?e.frontFace(2304):e.frontFace(2305),P=Ge)}function Ne(Ge){Ge!==HDe?(te(2884),Ge!==M&&(Ge===BW?e.cullFace(1029):Ge===VDe?e.cullFace(1028):e.cullFace(1032))):oe(2884),M=Ge}function Ie(Ge){Ge!==O&&(Y&&e.lineWidth(Ge),O=Ge)}function Ee(Ge,At,yt){Ge?(te(32823),(I!==At||F!==yt)&&(e.polygonOffset(At,yt),I=At,F=yt)):oe(32823)}function Qe(Ge){Ge?te(3089):oe(3089)}function We(Ge){Ge===void 0&&(Ge=33984+V-1),H!==Ge&&(e.activeTexture(Ge),H=Ge)}function de(Ge,At,yt){yt===void 0&&(H===null?yt=33984+V-1:yt=H);let Wt=G[yt];Wt===void 0&&(Wt={type:void 0,texture:void 0},G[yt]=Wt),(Wt.type!==Ge||Wt.texture!==At)&&(H!==yt&&(e.activeTexture(yt),H=yt),e.bindTexture(Ge,At||W[Ge]),Wt.type=Ge,Wt.texture=At)}function re(){let Ge=G[H];Ge!==void 0&&Ge.type!==void 0&&(e.bindTexture(Ge.type,null),Ge.type=void 0,Ge.texture=void 0)}function Re(){try{e.compressedTexImage2D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function Ke(){try{e.compressedTexImage3D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function ie(){try{e.texSubImage2D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function st(){try{e.texSubImage3D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function wt(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function ut(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function Ze(){try{e.texStorage2D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function ht(){try{e.texStorage3D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function Mt(){try{e.texImage2D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function Pt(){try{e.texImage3D.apply(e,arguments)}catch(Ge){console.error("THREE.WebGLState:",Ge)}}function Yt(Ge){K.equals(Ge)===!1&&(e.scissor(Ge.x,Ge.y,Ge.z,Ge.w),K.copy(Ge))}function Tt(Ge){X.equals(Ge)===!1&&(e.viewport(Ge.x,Ge.y,Ge.z,Ge.w),X.copy(Ge))}function Vt(Ge,At){let yt=d.get(At);yt===void 0&&(yt=new WeakMap,d.set(At,yt));let Wt=yt.get(Ge);Wt===void 0&&(Wt=e.getUniformBlockIndex(At,Ge.name),yt.set(Ge,Wt))}function Or(Ge,At){let yt=d.get(At).get(Ge);u.get(At)!==yt&&(e.uniformBlockBinding(At,yt,Ge.__bindingPointIndex),u.set(At,yt))}function lr(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),i===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},H=null,G={},f={},m=new WeakMap,A=[],g=null,p=!1,v=null,y=null,b=null,x=null,w=null,C=null,_=null,B=!1,P=null,M=null,O=null,I=null,F=null,K.set(0,0,e.canvas.width,e.canvas.height),X.set(0,0,e.canvas.width,e.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:te,disable:oe,bindFramebuffer:le,drawBuffers:be,useProgram:ve,setBlending:Be,setMaterial:ge,setFlipSided:ae,setCullFace:Ne,setLineWidth:Ie,setPolygonOffset:Ee,setScissorTest:Qe,activeTexture:We,bindTexture:de,unbindTexture:re,compressedTexImage2D:Re,compressedTexImage3D:Ke,texImage2D:Mt,texImage3D:Pt,updateUBOMapping:Vt,uniformBlockBinding:Or,texStorage2D:Ze,texStorage3D:ht,texSubImage2D:ie,texSubImage3D:st,compressedTexSubImage2D:wt,compressedTexSubImage3D:ut,scissor:Yt,viewport:Tt,reset:lr}}function NUe(e,t,r,i,n,a,o){let s=n.isWebGL2,l=n.maxTextures,c=n.maxCubemapSize,u=n.maxTextureSize,d=n.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,A,g=new WeakMap,p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(de,re){return p?new OffscreenCanvas(de,re):gC("canvas")}function y(de,re,Re,Ke){let ie=1;if((de.width>Ke||de.height>Ke)&&(ie=Ke/Math.max(de.width,de.height)),ie<1||re===!0)if(typeof HTMLImageElement<"u"&&de instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&de instanceof ImageBitmap){let st=re?rP:Math.floor,wt=st(ie*de.width),ut=st(ie*de.height);A===void 0&&(A=v(wt,ut));let Ze=Re?v(wt,ut):A;return Ze.width=wt,Ze.height=ut,Ze.getContext("2d").drawImage(de,0,0,wt,ut),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+wt+"x"+ut+")."),Ze}else return"data"in de&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),de;return de}function b(de){return yR(de.width)&&yR(de.height)}function x(de){return s?!1:de.wrapS!==zn||de.wrapT!==zn||de.minFilter!==Zi&&de.minFilter!==fi}function w(de,re){return de.generateMipmaps&&re&&de.minFilter!==Zi&&de.minFilter!==fi}function C(de){e.generateMipmap(de)}function _(de,re,Re,Ke,ie=!1){if(s===!1)return re;if(de!==null){if(e[de]!==void 0)return e[de];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+de+"'")}let st=re;return re===6403&&(Re===5126&&(st=33326),Re===5131&&(st=33325),Re===5121&&(st=33321)),re===33319&&(Re===5126&&(st=33328),Re===5131&&(st=33327),Re===5121&&(st=33323)),re===6408&&(Re===5126&&(st=34836),Re===5131&&(st=34842),Re===5121&&(st=Ke===li&&ie===!1?35907:32856),Re===32819&&(st=32854),Re===32820&&(st=32855)),(st===33325||st===33326||st===33327||st===33328||st===34842||st===34836)&&t.get("EXT_color_buffer_float"),st}function B(de,re,Re){return w(de,Re)===!0||de.isFramebufferTexture&&de.minFilter!==Zi&&de.minFilter!==fi?Math.log2(Math.max(re.width,re.height))+1:de.mipmaps!==void 0&&de.mipmaps.length>0?de.mipmaps.length:de.isCompressedTexture&&Array.isArray(de.image)?re.mipmaps.length:1}function P(de){return de===Zi||de===IW||de===QD?9728:9729}function M(de){let re=de.target;re.removeEventListener("dispose",M),I(re),re.isVideoTexture&&m.delete(re)}function O(de){let re=de.target;re.removeEventListener("dispose",O),V(re)}function I(de){let re=i.get(de);if(re.__webglInit===void 0)return;let Re=de.source,Ke=g.get(Re);if(Ke){let ie=Ke[re.__cacheKey];ie.usedTimes--,ie.usedTimes===0&&F(de),Object.keys(Ke).length===0&&g.delete(Re)}i.remove(de)}function F(de){let re=i.get(de);e.deleteTexture(re.__webglTexture);let Re=de.source,Ke=g.get(Re);delete Ke[re.__cacheKey],o.memory.textures--}function V(de){let re=de.texture,Re=i.get(de),Ke=i.get(re);if(Ke.__webglTexture!==void 0&&(e.deleteTexture(Ke.__webglTexture),o.memory.textures--),de.depthTexture&&de.depthTexture.dispose(),de.isWebGLCubeRenderTarget)for(let ie=0;ie<6;ie++)e.deleteFramebuffer(Re.__webglFramebuffer[ie]),Re.__webglDepthbuffer&&e.deleteRenderbuffer(Re.__webglDepthbuffer[ie]);else{if(e.deleteFramebuffer(Re.__webglFramebuffer),Re.__webglDepthbuffer&&e.deleteRenderbuffer(Re.__webglDepthbuffer),Re.__webglMultisampledFramebuffer&&e.deleteFramebuffer(Re.__webglMultisampledFramebuffer),Re.__webglColorRenderbuffer)for(let ie=0;ie<Re.__webglColorRenderbuffer.length;ie++)Re.__webglColorRenderbuffer[ie]&&e.deleteRenderbuffer(Re.__webglColorRenderbuffer[ie]);Re.__webglDepthRenderbuffer&&e.deleteRenderbuffer(Re.__webglDepthRenderbuffer)}if(de.isWebGLMultipleRenderTargets)for(let ie=0,st=re.length;ie<st;ie++){let wt=i.get(re[ie]);wt.__webglTexture&&(e.deleteTexture(wt.__webglTexture),o.memory.textures--),i.remove(re[ie])}i.remove(re),i.remove(de)}let Y=0;function j(){Y=0}function R(){let de=Y;return de>=l&&console.warn("THREE.WebGLTextures: Trying to use "+de+" texture units while this GPU supports only "+l),Y+=1,de}function H(de){let re=[];return re.push(de.wrapS),re.push(de.wrapT),re.push(de.wrapR||0),re.push(de.magFilter),re.push(de.minFilter),re.push(de.anisotropy),re.push(de.internalFormat),re.push(de.format),re.push(de.type),re.push(de.generateMipmaps),re.push(de.premultiplyAlpha),re.push(de.flipY),re.push(de.unpackAlignment),re.push(de.encoding),re.join()}function G(de,re){let Re=i.get(de);if(de.isVideoTexture&&Qe(de),de.isRenderTargetTexture===!1&&de.version>0&&Re.__version!==de.version){let Ke=de.image;if(Ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(Re,de,re);return}}r.bindTexture(3553,Re.__webglTexture,33984+re)}function $(de,re){let Re=i.get(de);if(de.version>0&&Re.__version!==de.version){oe(Re,de,re);return}r.bindTexture(35866,Re.__webglTexture,33984+re)}function L(de,re){let Re=i.get(de);if(de.version>0&&Re.__version!==de.version){oe(Re,de,re);return}r.bindTexture(32879,Re.__webglTexture,33984+re)}function K(de,re){let Re=i.get(de);if(de.version>0&&Re.__version!==de.version){le(Re,de,re);return}r.bindTexture(34067,Re.__webglTexture,33984+re)}let X={[yf]:10497,[zn]:33071,[gR]:33648},ee={[Zi]:9728,[IW]:9984,[QD]:9986,[fi]:9729,[m4e]:9985,[Ob]:9987};function W(de,re,Re){if(Re?(e.texParameteri(de,10242,X[re.wrapS]),e.texParameteri(de,10243,X[re.wrapT]),(de===32879||de===35866)&&e.texParameteri(de,32882,X[re.wrapR]),e.texParameteri(de,10240,ee[re.magFilter]),e.texParameteri(de,10241,ee[re.minFilter])):(e.texParameteri(de,10242,33071),e.texParameteri(de,10243,33071),(de===32879||de===35866)&&e.texParameteri(de,32882,33071),(re.wrapS!==zn||re.wrapT!==zn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(de,10240,P(re.magFilter)),e.texParameteri(de,10241,P(re.minFilter)),re.minFilter!==Zi&&re.minFilter!==fi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Ke=t.get("EXT_texture_filter_anisotropic");if(re.magFilter===Zi||re.minFilter!==QD&&re.minFilter!==Ob||re.type===qa&&t.has("OES_texture_float_linear")===!1||s===!1&&re.type===kf&&t.has("OES_texture_half_float_linear")===!1)return;(re.anisotropy>1||i.get(re).__currentAnisotropy)&&(e.texParameterf(de,Ke.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(re.anisotropy,n.getMaxAnisotropy())),i.get(re).__currentAnisotropy=re.anisotropy)}}function te(de,re){let Re=!1;de.__webglInit===void 0&&(de.__webglInit=!0,re.addEventListener("dispose",M));let Ke=re.source,ie=g.get(Ke);ie===void 0&&(ie={},g.set(Ke,ie));let st=H(re);if(st!==de.__cacheKey){ie[st]===void 0&&(ie[st]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,Re=!0),ie[st].usedTimes++;let wt=ie[de.__cacheKey];wt!==void 0&&(ie[de.__cacheKey].usedTimes--,wt.usedTimes===0&&F(re)),de.__cacheKey=st,de.__webglTexture=ie[st].texture}return Re}function oe(de,re,Re){let Ke=3553;(re.isDataArrayTexture||re.isCompressedArrayTexture)&&(Ke=35866),re.isData3DTexture&&(Ke=32879);let ie=te(de,re),st=re.source;r.bindTexture(Ke,de.__webglTexture,33984+Re);let wt=i.get(st);if(st.version!==wt.__version||ie===!0){r.activeTexture(33984+Re),e.pixelStorei(37440,re.flipY),e.pixelStorei(37441,re.premultiplyAlpha),e.pixelStorei(3317,re.unpackAlignment),e.pixelStorei(37443,0);let ut=x(re)&&b(re.image)===!1,Ze=y(re.image,ut,!1,u);Ze=We(re,Ze);let ht=b(Ze)||s,Mt=a.convert(re.format,re.encoding),Pt=a.convert(re.type),Yt=_(re.internalFormat,Mt,Pt,re.encoding,re.isVideoTexture);W(Ke,re,ht);let Tt,Vt=re.mipmaps,Or=s&&re.isVideoTexture!==!0,lr=wt.__version===void 0||ie===!0,Ge=B(re,Ze,ht);if(re.isDepthTexture)Yt=6402,s?re.type===qa?Yt=36012:re.type===bf?Yt=33190:re.type===Wm?Yt=35056:Yt=33189:re.type===qa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),re.format===Gm&&Yt===6402&&re.type!==Soe&&re.type!==bf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),re.type=bf,Pt=a.convert(re.type)),re.format===s0&&Yt===6402&&(Yt=34041,re.type!==Wm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),re.type=Wm,Pt=a.convert(re.type))),lr&&(Or?r.texStorage2D(3553,1,Yt,Ze.width,Ze.height):r.texImage2D(3553,0,Yt,Ze.width,Ze.height,0,Mt,Pt,null));else if(re.isDataTexture)if(Vt.length>0&&ht){Or&&lr&&r.texStorage2D(3553,Ge,Yt,Vt[0].width,Vt[0].height);for(let At=0,yt=Vt.length;At<yt;At++)Tt=Vt[At],Or?r.texSubImage2D(3553,At,0,0,Tt.width,Tt.height,Mt,Pt,Tt.data):r.texImage2D(3553,At,Yt,Tt.width,Tt.height,0,Mt,Pt,Tt.data);re.generateMipmaps=!1}else Or?(lr&&r.texStorage2D(3553,Ge,Yt,Ze.width,Ze.height),r.texSubImage2D(3553,0,0,0,Ze.width,Ze.height,Mt,Pt,Ze.data)):r.texImage2D(3553,0,Yt,Ze.width,Ze.height,0,Mt,Pt,Ze.data);else if(re.isCompressedTexture)if(re.isCompressedArrayTexture){Or&&lr&&r.texStorage3D(35866,Ge,Yt,Vt[0].width,Vt[0].height,Ze.depth);for(let At=0,yt=Vt.length;At<yt;At++)Tt=Vt[At],re.format!==Po?Mt!==null?Or?r.compressedTexSubImage3D(35866,At,0,0,0,Tt.width,Tt.height,Ze.depth,Mt,Tt.data,0,0):r.compressedTexImage3D(35866,At,Yt,Tt.width,Tt.height,Ze.depth,0,Tt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Or?r.texSubImage3D(35866,At,0,0,0,Tt.width,Tt.height,Ze.depth,Mt,Pt,Tt.data):r.texImage3D(35866,At,Yt,Tt.width,Tt.height,Ze.depth,0,Mt,Pt,Tt.data)}else{Or&&lr&&r.texStorage2D(3553,Ge,Yt,Vt[0].width,Vt[0].height);for(let At=0,yt=Vt.length;At<yt;At++)Tt=Vt[At],re.format!==Po?Mt!==null?Or?r.compressedTexSubImage2D(3553,At,0,0,Tt.width,Tt.height,Mt,Tt.data):r.compressedTexImage2D(3553,At,Yt,Tt.width,Tt.height,0,Tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Or?r.texSubImage2D(3553,At,0,0,Tt.width,Tt.height,Mt,Pt,Tt.data):r.texImage2D(3553,At,Yt,Tt.width,Tt.height,0,Mt,Pt,Tt.data)}else if(re.isDataArrayTexture)Or?(lr&&r.texStorage3D(35866,Ge,Yt,Ze.width,Ze.height,Ze.depth),r.texSubImage3D(35866,0,0,0,0,Ze.width,Ze.height,Ze.depth,Mt,Pt,Ze.data)):r.texImage3D(35866,0,Yt,Ze.width,Ze.height,Ze.depth,0,Mt,Pt,Ze.data);else if(re.isData3DTexture)Or?(lr&&r.texStorage3D(32879,Ge,Yt,Ze.width,Ze.height,Ze.depth),r.texSubImage3D(32879,0,0,0,0,Ze.width,Ze.height,Ze.depth,Mt,Pt,Ze.data)):r.texImage3D(32879,0,Yt,Ze.width,Ze.height,Ze.depth,0,Mt,Pt,Ze.data);else if(re.isFramebufferTexture){if(lr)if(Or)r.texStorage2D(3553,Ge,Yt,Ze.width,Ze.height);else{let At=Ze.width,yt=Ze.height;for(let Wt=0;Wt<Ge;Wt++)r.texImage2D(3553,Wt,Yt,At,yt,0,Mt,Pt,null),At>>=1,yt>>=1}}else if(Vt.length>0&&ht){Or&&lr&&r.texStorage2D(3553,Ge,Yt,Vt[0].width,Vt[0].height);for(let At=0,yt=Vt.length;At<yt;At++)Tt=Vt[At],Or?r.texSubImage2D(3553,At,0,0,Mt,Pt,Tt):r.texImage2D(3553,At,Yt,Mt,Pt,Tt);re.generateMipmaps=!1}else Or?(lr&&r.texStorage2D(3553,Ge,Yt,Ze.width,Ze.height),r.texSubImage2D(3553,0,0,0,Mt,Pt,Ze)):r.texImage2D(3553,0,Yt,Mt,Pt,Ze);w(re,ht)&&C(Ke),wt.__version=st.version,re.onUpdate&&re.onUpdate(re)}de.__version=re.version}function le(de,re,Re){if(re.image.length!==6)return;let Ke=te(de,re),ie=re.source;r.bindTexture(34067,de.__webglTexture,33984+Re);let st=i.get(ie);if(ie.version!==st.__version||Ke===!0){r.activeTexture(33984+Re),e.pixelStorei(37440,re.flipY),e.pixelStorei(37441,re.premultiplyAlpha),e.pixelStorei(3317,re.unpackAlignment),e.pixelStorei(37443,0);let wt=re.isCompressedTexture||re.image[0].isCompressedTexture,ut=re.image[0]&&re.image[0].isDataTexture,Ze=[];for(let At=0;At<6;At++)!wt&&!ut?Ze[At]=y(re.image[At],!1,!0,c):Ze[At]=ut?re.image[At].image:re.image[At],Ze[At]=We(re,Ze[At]);let ht=Ze[0],Mt=b(ht)||s,Pt=a.convert(re.format,re.encoding),Yt=a.convert(re.type),Tt=_(re.internalFormat,Pt,Yt,re.encoding),Vt=s&&re.isVideoTexture!==!0,Or=st.__version===void 0||Ke===!0,lr=B(re,ht,Mt);W(34067,re,Mt);let Ge;if(wt){Vt&&Or&&r.texStorage2D(34067,lr,Tt,ht.width,ht.height);for(let At=0;At<6;At++){Ge=Ze[At].mipmaps;for(let yt=0;yt<Ge.length;yt++){let Wt=Ge[yt];re.format!==Po?Pt!==null?Vt?r.compressedTexSubImage2D(34069+At,yt,0,0,Wt.width,Wt.height,Pt,Wt.data):r.compressedTexImage2D(34069+At,yt,Tt,Wt.width,Wt.height,0,Wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Vt?r.texSubImage2D(34069+At,yt,0,0,Wt.width,Wt.height,Pt,Yt,Wt.data):r.texImage2D(34069+At,yt,Tt,Wt.width,Wt.height,0,Pt,Yt,Wt.data)}}}else{Ge=re.mipmaps,Vt&&Or&&(Ge.length>0&&lr++,r.texStorage2D(34067,lr,Tt,Ze[0].width,Ze[0].height));for(let At=0;At<6;At++)if(ut){Vt?r.texSubImage2D(34069+At,0,0,0,Ze[At].width,Ze[At].height,Pt,Yt,Ze[At].data):r.texImage2D(34069+At,0,Tt,Ze[At].width,Ze[At].height,0,Pt,Yt,Ze[At].data);for(let yt=0;yt<Ge.length;yt++){let Wt=Ge[yt].image[At].image;Vt?r.texSubImage2D(34069+At,yt+1,0,0,Wt.width,Wt.height,Pt,Yt,Wt.data):r.texImage2D(34069+At,yt+1,Tt,Wt.width,Wt.height,0,Pt,Yt,Wt.data)}}else{Vt?r.texSubImage2D(34069+At,0,0,0,Pt,Yt,Ze[At]):r.texImage2D(34069+At,0,Tt,Pt,Yt,Ze[At]);for(let yt=0;yt<Ge.length;yt++){let Wt=Ge[yt];Vt?r.texSubImage2D(34069+At,yt+1,0,0,Pt,Yt,Wt.image[At]):r.texImage2D(34069+At,yt+1,Tt,Pt,Yt,Wt.image[At])}}}w(re,Mt)&&C(34067),st.__version=ie.version,re.onUpdate&&re.onUpdate(re)}de.__version=re.version}function be(de,re,Re,Ke,ie){let st=a.convert(Re.format,Re.encoding),wt=a.convert(Re.type),ut=_(Re.internalFormat,st,wt,Re.encoding);i.get(re).__hasExternalTextures||(ie===32879||ie===35866?r.texImage3D(ie,0,ut,re.width,re.height,re.depth,0,st,wt,null):r.texImage2D(ie,0,ut,re.width,re.height,0,st,wt,null)),r.bindFramebuffer(36160,de),Ee(re)?h.framebufferTexture2DMultisampleEXT(36160,Ke,ie,i.get(Re).__webglTexture,0,Ie(re)):(ie===3553||ie>=34069&&ie<=34074)&&e.framebufferTexture2D(36160,Ke,ie,i.get(Re).__webglTexture,0),r.bindFramebuffer(36160,null)}function ve(de,re,Re){if(e.bindRenderbuffer(36161,de),re.depthBuffer&&!re.stencilBuffer){let Ke=33189;if(Re||Ee(re)){let ie=re.depthTexture;ie&&ie.isDepthTexture&&(ie.type===qa?Ke=36012:ie.type===bf&&(Ke=33190));let st=Ie(re);Ee(re)?h.renderbufferStorageMultisampleEXT(36161,st,Ke,re.width,re.height):e.renderbufferStorageMultisample(36161,st,Ke,re.width,re.height)}else e.renderbufferStorage(36161,Ke,re.width,re.height);e.framebufferRenderbuffer(36160,36096,36161,de)}else if(re.depthBuffer&&re.stencilBuffer){let Ke=Ie(re);Re&&Ee(re)===!1?e.renderbufferStorageMultisample(36161,Ke,35056,re.width,re.height):Ee(re)?h.renderbufferStorageMultisampleEXT(36161,Ke,35056,re.width,re.height):e.renderbufferStorage(36161,34041,re.width,re.height),e.framebufferRenderbuffer(36160,33306,36161,de)}else{let Ke=re.isWebGLMultipleRenderTargets===!0?re.texture:[re.texture];for(let ie=0;ie<Ke.length;ie++){let st=Ke[ie],wt=a.convert(st.format,st.encoding),ut=a.convert(st.type),Ze=_(st.internalFormat,wt,ut,st.encoding),ht=Ie(re);Re&&Ee(re)===!1?e.renderbufferStorageMultisample(36161,ht,Ze,re.width,re.height):Ee(re)?h.renderbufferStorageMultisampleEXT(36161,ht,Ze,re.width,re.height):e.renderbufferStorage(36161,Ze,re.width,re.height)}}e.bindRenderbuffer(36161,null)}function se(de,re){if(re&&re.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,de),!(re.depthTexture&&re.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(re.depthTexture).__webglTexture||re.depthTexture.image.width!==re.width||re.depthTexture.image.height!==re.height)&&(re.depthTexture.image.width=re.width,re.depthTexture.image.height=re.height,re.depthTexture.needsUpdate=!0),G(re.depthTexture,0);let Re=i.get(re.depthTexture).__webglTexture,Ke=Ie(re);if(re.depthTexture.format===Gm)Ee(re)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Re,0,Ke):e.framebufferTexture2D(36160,36096,3553,Re,0);else if(re.depthTexture.format===s0)Ee(re)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Re,0,Ke):e.framebufferTexture2D(36160,33306,3553,Re,0);else throw new Error("Unknown depthTexture format")}function ye(de){let re=i.get(de),Re=de.isWebGLCubeRenderTarget===!0;if(de.depthTexture&&!re.__autoAllocateDepthBuffer){if(Re)throw new Error("target.depthTexture not supported in Cube render targets");se(re.__webglFramebuffer,de)}else if(Re){re.__webglDepthbuffer=[];for(let Ke=0;Ke<6;Ke++)r.bindFramebuffer(36160,re.__webglFramebuffer[Ke]),re.__webglDepthbuffer[Ke]=e.createRenderbuffer(),ve(re.__webglDepthbuffer[Ke],de,!1)}else r.bindFramebuffer(36160,re.__webglFramebuffer),re.__webglDepthbuffer=e.createRenderbuffer(),ve(re.__webglDepthbuffer,de,!1);r.bindFramebuffer(36160,null)}function Be(de,re,Re){let Ke=i.get(de);re!==void 0&&be(Ke.__webglFramebuffer,de,de.texture,36064,3553),Re!==void 0&&ye(de)}function ge(de){let re=de.texture,Re=i.get(de),Ke=i.get(re);de.addEventListener("dispose",O),de.isWebGLMultipleRenderTargets!==!0&&(Ke.__webglTexture===void 0&&(Ke.__webglTexture=e.createTexture()),Ke.__version=re.version,o.memory.textures++);let ie=de.isWebGLCubeRenderTarget===!0,st=de.isWebGLMultipleRenderTargets===!0,wt=b(de)||s;if(ie){Re.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)Re.__webglFramebuffer[ut]=e.createFramebuffer()}else{if(Re.__webglFramebuffer=e.createFramebuffer(),st)if(n.drawBuffers){let ut=de.texture;for(let Ze=0,ht=ut.length;Ze<ht;Ze++){let Mt=i.get(ut[Ze]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&de.samples>0&&Ee(de)===!1){let ut=st?re:[re];Re.__webglMultisampledFramebuffer=e.createFramebuffer(),Re.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,Re.__webglMultisampledFramebuffer);for(let Ze=0;Ze<ut.length;Ze++){let ht=ut[Ze];Re.__webglColorRenderbuffer[Ze]=e.createRenderbuffer(),e.bindRenderbuffer(36161,Re.__webglColorRenderbuffer[Ze]);let Mt=a.convert(ht.format,ht.encoding),Pt=a.convert(ht.type),Yt=_(ht.internalFormat,Mt,Pt,ht.encoding,de.isXRRenderTarget===!0),Tt=Ie(de);e.renderbufferStorageMultisample(36161,Tt,Yt,de.width,de.height),e.framebufferRenderbuffer(36160,36064+Ze,36161,Re.__webglColorRenderbuffer[Ze])}e.bindRenderbuffer(36161,null),de.depthBuffer&&(Re.__webglDepthRenderbuffer=e.createRenderbuffer(),ve(Re.__webglDepthRenderbuffer,de,!0)),r.bindFramebuffer(36160,null)}}if(ie){r.bindTexture(34067,Ke.__webglTexture),W(34067,re,wt);for(let ut=0;ut<6;ut++)be(Re.__webglFramebuffer[ut],de,re,36064,34069+ut);w(re,wt)&&C(34067),r.unbindTexture()}else if(st){let ut=de.texture;for(let Ze=0,ht=ut.length;Ze<ht;Ze++){let Mt=ut[Ze],Pt=i.get(Mt);r.bindTexture(3553,Pt.__webglTexture),W(3553,Mt,wt),be(Re.__webglFramebuffer,de,Mt,36064+Ze,3553),w(Mt,wt)&&C(3553)}r.unbindTexture()}else{let ut=3553;(de.isWebGL3DRenderTarget||de.isWebGLArrayRenderTarget)&&(s?ut=de.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(ut,Ke.__webglTexture),W(ut,re,wt),be(Re.__webglFramebuffer,de,re,36064,ut),w(re,wt)&&C(ut),r.unbindTexture()}de.depthBuffer&&ye(de)}function ae(de){let re=b(de)||s,Re=de.isWebGLMultipleRenderTargets===!0?de.texture:[de.texture];for(let Ke=0,ie=Re.length;Ke<ie;Ke++){let st=Re[Ke];if(w(st,re)){let wt=de.isWebGLCubeRenderTarget?34067:3553,ut=i.get(st).__webglTexture;r.bindTexture(wt,ut),C(wt),r.unbindTexture()}}}function Ne(de){if(s&&de.samples>0&&Ee(de)===!1){let re=de.isWebGLMultipleRenderTargets?de.texture:[de.texture],Re=de.width,Ke=de.height,ie=16384,st=[],wt=de.stencilBuffer?33306:36096,ut=i.get(de),Ze=de.isWebGLMultipleRenderTargets===!0;if(Ze)for(let ht=0;ht<re.length;ht++)r.bindFramebuffer(36160,ut.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+ht,36161,null),r.bindFramebuffer(36160,ut.__webglFramebuffer),e.framebufferTexture2D(36009,36064+ht,3553,null,0);r.bindFramebuffer(36008,ut.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,ut.__webglFramebuffer);for(let ht=0;ht<re.length;ht++){st.push(36064+ht),de.depthBuffer&&st.push(wt);let Mt=ut.__ignoreDepthValues!==void 0?ut.__ignoreDepthValues:!1;if(Mt===!1&&(de.depthBuffer&&(ie|=256),de.stencilBuffer&&(ie|=1024)),Ze&&e.framebufferRenderbuffer(36008,36064,36161,ut.__webglColorRenderbuffer[ht]),Mt===!0&&(e.invalidateFramebuffer(36008,[wt]),e.invalidateFramebuffer(36009,[wt])),Ze){let Pt=i.get(re[ht]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Pt,0)}e.blitFramebuffer(0,0,Re,Ke,0,0,Re,Ke,ie,9728),f&&e.invalidateFramebuffer(36008,st)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),Ze)for(let ht=0;ht<re.length;ht++){r.bindFramebuffer(36160,ut.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+ht,36161,ut.__webglColorRenderbuffer[ht]);let Mt=i.get(re[ht]).__webglTexture;r.bindFramebuffer(36160,ut.__webglFramebuffer),e.framebufferTexture2D(36009,36064+ht,3553,Mt,0)}r.bindFramebuffer(36009,ut.__webglMultisampledFramebuffer)}}function Ie(de){return Math.min(d,de.samples)}function Ee(de){let re=i.get(de);return s&&de.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&re.__useRenderToTexture!==!1}function Qe(de){let re=o.render.frame;m.get(de)!==re&&(m.set(de,re),de.update())}function We(de,re){let Re=de.encoding,Ke=de.format,ie=de.type;return de.isCompressedTexture===!0||de.isVideoTexture===!0||de.format===vR||Re!==td&&(Re===li?s===!1?t.has("EXT_sRGB")===!0&&Ke===Po?(de.format=vR,de.minFilter=fi,de.generateMipmaps=!1):re=Ioe.sRGBToLinear(re):(Ke!==Po||ie!==Fs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Re)),re}this.allocateTextureUnit=R,this.resetTextureUnits=j,this.setTexture2D=G,this.setTexture2DArray=$,this.setTexture3D=L,this.setTextureCube=K,this.rebindTextures=Be,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=ae,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=be,this.useMultisampledRTT=Ee}function kUe(e,t,r){let i=r.isWebGL2;function n(a,o=null){let s;if(a===Fs)return 5121;if(a===w4e)return 32819;if(a===x4e)return 32820;if(a===v4e)return 5120;if(a===y4e)return 5122;if(a===Soe)return 5123;if(a===b4e)return 5124;if(a===bf)return 5125;if(a===qa)return 5126;if(a===kf)return i?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===C4e)return 6406;if(a===Po)return 6408;if(a===_4e)return 6409;if(a===S4e)return 6410;if(a===Gm)return 6402;if(a===s0)return 34041;if(a===vR)return s=t.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===E4e)return 6403;if(a===B4e)return 36244;if(a===$M)return 33319;if(a===M4e)return 33320;if(a===Eoe)return 36249;if(a===WD||a===GD||a===qD||a===KD)if(o===li)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===WD)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===GD)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===qD)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===KD)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===WD)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===GD)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===qD)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===KD)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===FW||a===LW||a===RW||a===UW)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===FW)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===LW)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===RW)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===UW)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===P4e)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===NW||a===kW)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(a===NW)return o===li?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===kW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===jW||a===zW||a===HW||a===VW||a===QW||a===WW||a===GW||a===qW||a===KW||a===XW||a===YW||a===$W||a===JW||a===ZW)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(a===jW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===zW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===HW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===VW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===QW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===WW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===GW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===qW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===KW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===XW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===YW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===$W)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===JW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===ZW)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===XD)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(a===XD)return o===li?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===T4e||a===eG||a===tG||a===rG)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(a===XD)return s.COMPRESSED_RED_RGTC1_EXT;if(a===eG)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===tG)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===rG)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Wm?i?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):e[a]!==void 0?e[a]:null}return{convert:n}}var jUe=class extends Ss{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},xf=class extends on{constructor(){super(),this.isGroup=!0,this.type="Group"}},zUe={type:"move"},w4=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,n=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(l&&e.hand){a=!0;for(let m of e.hand.values()){let A=t.getJointPose(m,r),g=this._getHandJoint(l,m);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=A.radius),g.visible=A!==null}let c=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],d=c.position.distanceTo(u.position),h=.02,f=.005;l.inputState.pinching&&d>h+f?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&d<=h-f&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else s!==null&&e.gripSpace&&(n=t.getPose(e.gripSpace,r),n!==null&&(s.matrix.fromArray(n.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),n.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(n.linearVelocity)):s.hasLinearVelocity=!1,n.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(n.angularVelocity)):s.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&n!==null&&(i=n),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(zUe)))}return o!==null&&(o.visible=i!==null),s!==null&&(s.visible=n!==null),l!==null&&(l.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let r=new xf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}},Ib=class extends ia{constructor(e,t,r,i,n,a,o,s,l,c){if(c=c!==void 0?c:Gm,c!==Gm&&c!==s0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Gm&&(r=bf),r===void 0&&c===s0&&(r=Wm),super(null,i,n,a,o,s,c,r,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Zi,this.minFilter=s!==void 0?s:Zi,this.flipY=!1,this.generateMipmaps=!1}},HUe=class extends as{constructor(e,t){super();let r=this,i=null,n=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null,m=t.getContextAttributes(),A=null,g=null,p=[],v=[],y=new Set,b=new Map,x=new Ss;x.layers.enable(1),x.viewport=new Xr;let w=new Ss;w.layers.enable(2),w.viewport=new Xr;let C=[x,w],_=new jUe;_.layers.enable(1),_.layers.enable(2);let B=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let L=p[$];return L===void 0&&(L=new w4,p[$]=L),L.getTargetRaySpace()},this.getControllerGrip=function($){let L=p[$];return L===void 0&&(L=new w4,p[$]=L),L.getGripSpace()},this.getHand=function($){let L=p[$];return L===void 0&&(L=new w4,p[$]=L),L.getHandSpace()};function M($){let L=v.indexOf($.inputSource);if(L===-1)return;let K=p[L];K!==void 0&&K.dispatchEvent({type:$.type,data:$.inputSource})}function O(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",O),i.removeEventListener("inputsourceschange",I);for(let $=0;$<p.length;$++){let L=v[$];L!==null&&(v[$]=null,p[$].disconnect(L))}B=null,P=null,e.setRenderTarget(A),h=null,d=null,u=null,i=null,g=null,G.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){n=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){o=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function($){l=$},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function($){if(i=$,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",O),i.addEventListener("inputsourceschange",I),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let L={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:n};h=new XRWebGLLayer(i,t,L),i.updateRenderState({baseLayer:h}),g=new Ki(h.framebufferWidth,h.framebufferHeight,{format:Po,type:Fs,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let L=null,K=null,X=null;m.depth&&(X=m.stencil?35056:33190,L=m.stencil?s0:Gm,K=m.stencil?Wm:bf);let ee={colorFormat:32856,depthFormat:X,scaleFactor:n};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(ee),i.updateRenderState({layers:[d]}),g=new Ki(d.textureWidth,d.textureHeight,{format:Po,type:Fs,depthTexture:new Ib(d.textureWidth,d.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,L),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});let W=e.properties.get(g);W.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await i.requestReferenceSpace(o),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I($){for(let L=0;L<$.removed.length;L++){let K=$.removed[L],X=v.indexOf(K);X>=0&&(v[X]=null,p[X].disconnect(K))}for(let L=0;L<$.added.length;L++){let K=$.added[L],X=v.indexOf(K);if(X===-1){for(let W=0;W<p.length;W++)if(W>=v.length){v.push(K),X=W;break}else if(v[W]===null){v[W]=K,X=W;break}if(X===-1)break}let ee=p[X];ee&&ee.connect(K)}}let F=new q,V=new q;function Y($,L,K){F.setFromMatrixPosition(L.matrixWorld),V.setFromMatrixPosition(K.matrixWorld);let X=F.distanceTo(V),ee=L.projectionMatrix.elements,W=K.projectionMatrix.elements,te=ee[14]/(ee[10]-1),oe=ee[14]/(ee[10]+1),le=(ee[9]+1)/ee[5],be=(ee[9]-1)/ee[5],ve=(ee[8]-1)/ee[0],se=(W[8]+1)/W[0],ye=te*ve,Be=te*se,ge=X/(-ve+se),ae=ge*-ve;L.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(ae),$.translateZ(ge),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();let Ne=te+ge,Ie=oe+ge,Ee=ye-ae,Qe=Be+(X-ae),We=le*oe/Ie*Ne,de=be*oe/Ie*Ne;$.projectionMatrix.makePerspective(Ee,Qe,We,de,Ne,Ie)}function j($,L){L===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(L.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(i===null)return;_.near=w.near=x.near=$.near,_.far=w.far=x.far=$.far,(B!==_.near||P!==_.far)&&(i.updateRenderState({depthNear:_.near,depthFar:_.far}),B=_.near,P=_.far);let L=$.parent,K=_.cameras;j(_,L);for(let ee=0;ee<K.length;ee++)j(K[ee],L);_.matrixWorld.decompose(_.position,_.quaternion,_.scale),$.matrix.copy(_.matrix),$.matrix.decompose($.position,$.quaternion,$.scale);let X=$.children;for(let ee=0,W=X.length;ee<W;ee++)X[ee].updateMatrixWorld(!0);K.length===2?Y(_,x,w):_.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return _},this.getFoveation=function(){if(!(d===null&&h===null))return s},this.setFoveation=function($){s=$,d!==null&&(d.fixedFoveation=$),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=$)},this.getPlanes=function(){return y};let R=null;function H($,L){if(c=L.getViewerPose(l||a),f=L,c!==null){let K=c.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let X=!1;K.length!==_.cameras.length&&(_.cameras.length=0,X=!0);for(let ee=0;ee<K.length;ee++){let W=K[ee],te=null;if(h!==null)te=h.getViewport(W);else{let le=u.getViewSubImage(d,W);te=le.viewport,ee===0&&(e.setRenderTargetTextures(g,le.colorTexture,d.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(g))}let oe=C[ee];oe===void 0&&(oe=new Ss,oe.layers.enable(ee),oe.viewport=new Xr,C[ee]=oe),oe.matrix.fromArray(W.transform.matrix),oe.projectionMatrix.fromArray(W.projectionMatrix),oe.viewport.set(te.x,te.y,te.width,te.height),ee===0&&_.matrix.copy(oe.matrix),X===!0&&_.cameras.push(oe)}}for(let K=0;K<p.length;K++){let X=v[K],ee=p[K];X!==null&&ee!==void 0&&ee.update(X,L,l||a)}if(R&&R($,L),L.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:L.detectedPlanes});let K=null;for(let X of y)L.detectedPlanes.has(X)||(K===null&&(K=[]),K.push(X));if(K!==null)for(let X of K)y.delete(X),b.delete(X),r.dispatchEvent({type:"planeremoved",data:X});for(let X of L.detectedPlanes)if(!y.has(X))y.add(X),b.set(X,L.lastChangedTime),r.dispatchEvent({type:"planeadded",data:X});else{let ee=b.get(X);X.lastChangedTime>ee&&(b.set(X,X.lastChangedTime),r.dispatchEvent({type:"planechanged",data:X}))}}f=null}let G=new Noe;G.setAnimationLoop(H),this.setAnimationLoop=function($){R=$},this.dispose=function(){}}};function VUe(e,t){function r(A,g){g.color.getRGB(A.fogColor.value,Uoe(e)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function i(A,g,p,v,y){g.isMeshBasicMaterial||g.isMeshLambertMaterial?n(A,g):g.isMeshToonMaterial?(n(A,g),u(A,g)):g.isMeshPhongMaterial?(n(A,g),c(A,g)):g.isMeshStandardMaterial?(n(A,g),d(A,g),g.isMeshPhysicalMaterial&&h(A,g,y)):g.isMeshMatcapMaterial?(n(A,g),f(A,g)):g.isMeshDepthMaterial?n(A,g):g.isMeshDistanceMaterial?(n(A,g),m(A,g)):g.isMeshNormalMaterial?n(A,g):g.isLineBasicMaterial?(a(A,g),g.isLineDashedMaterial&&o(A,g)):g.isPointsMaterial?s(A,g,p,v):g.isSpriteMaterial?l(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function n(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map),g.alphaMap&&(A.alphaMap.value=g.alphaMap),g.bumpMap&&(A.bumpMap.value=g.bumpMap,A.bumpScale.value=g.bumpScale,g.side===Do&&(A.bumpScale.value*=-1)),g.displacementMap&&(A.displacementMap.value=g.displacementMap,A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap),g.normalMap&&(A.normalMap.value=g.normalMap,A.normalScale.value.copy(g.normalScale),g.side===Do&&A.normalScale.value.negate()),g.specularMap&&(A.specularMap.value=g.specularMap),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);let p=t.get(g).envMap;if(p&&(A.envMap.value=p,A.flipEnvMap.value=p.isCubeTexture&&p.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;let b=e.physicallyCorrectLights!==!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*b}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity);let v;g.map?v=g.map:g.specularMap?v=g.specularMap:g.displacementMap?v=g.displacementMap:g.normalMap?v=g.normalMap:g.bumpMap?v=g.bumpMap:g.roughnessMap?v=g.roughnessMap:g.metalnessMap?v=g.metalnessMap:g.alphaMap?v=g.alphaMap:g.emissiveMap?v=g.emissiveMap:g.clearcoatMap?v=g.clearcoatMap:g.clearcoatNormalMap?v=g.clearcoatNormalMap:g.clearcoatRoughnessMap?v=g.clearcoatRoughnessMap:g.iridescenceMap?v=g.iridescenceMap:g.iridescenceThicknessMap?v=g.iridescenceThicknessMap:g.specularIntensityMap?v=g.specularIntensityMap:g.specularColorMap?v=g.specularColorMap:g.transmissionMap?v=g.transmissionMap:g.thicknessMap?v=g.thicknessMap:g.sheenColorMap?v=g.sheenColorMap:g.sheenRoughnessMap&&(v=g.sheenRoughnessMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),A.uvTransform.value.copy(v.matrix));let y;g.aoMap?y=g.aoMap:g.lightMap&&(y=g.lightMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),A.uv2Transform.value.copy(y.matrix))}function a(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity}function o(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function s(A,g,p,v){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*p,A.scale.value=v*.5,g.map&&(A.map.value=g.map),g.alphaMap&&(A.alphaMap.value=g.alphaMap),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),A.uvTransform.value.copy(y.matrix))}function l(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map),g.alphaMap&&(A.alphaMap.value=g.alphaMap),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);let p;g.map?p=g.map:g.alphaMap&&(p=g.alphaMap),p!==void 0&&(p.matrixAutoUpdate===!0&&p.updateMatrix(),A.uvTransform.value.copy(p.matrix))}function c(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function u(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function d(A,g){A.roughness.value=g.roughness,A.metalness.value=g.metalness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function h(A,g,p){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),A.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Do&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=p.texture,A.transmissionSamplerSize.value.set(p.width,p.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap)}function f(A,g){g.matcap&&(A.matcap.value=g.matcap)}function m(A,g){A.referencePosition.value.copy(g.referencePosition),A.nearDistance.value=g.nearDistance,A.farDistance.value=g.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function QUe(e,t,r,i){let n={},a={},o=[],s=r.isWebGL2?e.getParameter(35375):0;function l(v,y){let b=y.program;i.uniformBlockBinding(v,b)}function c(v,y){let b=n[v.id];b===void 0&&(m(v),b=u(v),n[v.id]=b,v.addEventListener("dispose",g));let x=y.program;i.updateUBOMapping(v,x);let w=t.render.frame;a[v.id]!==w&&(h(v),a[v.id]=w)}function u(v){let y=d();v.__bindingPointIndex=y;let b=e.createBuffer(),x=v.__size,w=v.usage;return e.bindBuffer(35345,b),e.bufferData(35345,x,w),e.bindBuffer(35345,null),e.bindBufferBase(35345,y,b),b}function d(){for(let v=0;v<s;v++)if(o.indexOf(v)===-1)return o.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(v){let y=n[v.id],b=v.uniforms,x=v.__cache;e.bindBuffer(35345,y);for(let w=0,C=b.length;w<C;w++){let _=b[w];if(f(_,w,x)===!0){let B=_.__offset,P=Array.isArray(_.value)?_.value:[_.value],M=0;for(let O=0;O<P.length;O++){let I=P[O],F=A(I);typeof I=="number"?(_.__data[0]=I,e.bufferSubData(35345,B+M,_.__data)):I.isMatrix3?(_.__data[0]=I.elements[0],_.__data[1]=I.elements[1],_.__data[2]=I.elements[2],_.__data[3]=I.elements[0],_.__data[4]=I.elements[3],_.__data[5]=I.elements[4],_.__data[6]=I.elements[5],_.__data[7]=I.elements[0],_.__data[8]=I.elements[6],_.__data[9]=I.elements[7],_.__data[10]=I.elements[8],_.__data[11]=I.elements[0]):(I.toArray(_.__data,M),M+=F.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,B,_.__data)}}e.bindBuffer(35345,null)}function f(v,y,b){let x=v.value;if(b[y]===void 0){if(typeof x=="number")b[y]=x;else{let w=Array.isArray(x)?x:[x],C=[];for(let _=0;_<w.length;_++)C.push(w[_].clone());b[y]=C}return!0}else if(typeof x=="number"){if(b[y]!==x)return b[y]=x,!0}else{let w=Array.isArray(b[y])?b[y]:[b[y]],C=Array.isArray(x)?x:[x];for(let _=0;_<w.length;_++){let B=w[_];if(B.equals(C[_])===!1)return B.copy(C[_]),!0}}return!1}function m(v){let y=v.uniforms,b=0,x=16,w=0;for(let C=0,_=y.length;C<_;C++){let B=y[C],P={boundary:0,storage:0},M=Array.isArray(B.value)?B.value:[B.value];for(let O=0,I=M.length;O<I;O++){let F=M[O],V=A(F);P.boundary+=V.boundary,P.storage+=V.storage}if(B.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=b,C>0){w=b%x;let O=x-w;w!==0&&O-P.boundary<0&&(b+=x-w,B.__offset=b)}b+=P.storage}return w=b%x,w>0&&(b+=x-w),v.__size=b,v.__cache={},this}function A(v){let y={boundary:0,storage:0};return typeof v=="number"?(y.boundary=4,y.storage=4):v.isVector2?(y.boundary=8,y.storage=8):v.isVector3||v.isColor?(y.boundary=16,y.storage=12):v.isVector4?(y.boundary=16,y.storage=16):v.isMatrix3?(y.boundary=48,y.storage=48):v.isMatrix4?(y.boundary=64,y.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),y}function g(v){let y=v.target;y.removeEventListener("dispose",g);let b=o.indexOf(y.__bindingPointIndex);o.splice(b,1),e.deleteBuffer(n[y.id]),delete n[y.id],delete a[y.id]}function p(){for(let v in n)e.deleteBuffer(n[v]);o=[],n={},a={}}return{bind:l,update:c,dispose:p}}function WUe(){let e=gC("canvas");return e.style.display="block",e}function Qoe(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:WUe(),r=e.context!==void 0?e.context:null,i=e.depth!==void 0?e.depth:!0,n=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,o=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,s=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,l=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,u;r!==null?u=r.getContextAttributes().alpha:u=e.alpha!==void 0?e.alpha:!1;let d=null,h=null,f=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=td,this.physicallyCorrectLights=!1,this.toneMapping=ch,this.toneMappingExposure=1;let A=this,g=!1,p=0,v=0,y=null,b=-1,x=null,w=new Xr,C=new Xr,_=null,B=t.width,P=t.height,M=1,O=null,I=null,F=new Xr(0,0,B,P),V=new Xr(0,0,B,P),Y=!1,j=new dz,R=!1,H=!1,G=null,$=new kt,L=new ke,K=new q,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ee(){return y===null?M:1}let W=r;function te(he,De){for(let Ve=0;Ve<he.length;Ve++){let Fe=he[Ve],Ye=t.getContext(Fe,De);if(Ye!==null)return Ye}return null}try{let he={alpha:!0,depth:i,stencil:n,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${d1}`),t.addEventListener("webglcontextlost",Yt,!1),t.addEventListener("webglcontextrestored",Tt,!1),t.addEventListener("webglcontextcreationerror",Vt,!1),W===null){let De=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&De.shift(),W=te(De,he),W===null)throw te(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(he){throw console.error("THREE.WebGLRenderer: "+he.message),he}let oe,le,be,ve,se,ye,Be,ge,ae,Ne,Ie,Ee,Qe,We,de,re,Re,Ke,ie,st,wt,ut,Ze,ht;function Mt(){oe=new nRe(W),le=new JLe(W,oe,e),oe.init(le),ut=new kUe(W,oe,le),be=new UUe(W,oe,le),ve=new sRe,se=new _Ue,ye=new NUe(W,oe,be,se,le,ut,ve),Be=new eRe(A),ge=new iRe(A),ae=new gIe(W,le),Ze=new YLe(W,oe,ae,le),Ne=new aRe(W,ae,ve,Ze),Ie=new dRe(W,Ne,ae,ve),ie=new uRe(W,le,ye),re=new ZLe(se),Ee=new CUe(A,Be,ge,oe,le,Ze,re),Qe=new VUe(A,se),We=new EUe,de=new DUe(oe,le),Ke=new XLe(A,Be,ge,be,Ie,u,o),Re=new RUe(A,Ie,le),ht=new QUe(W,ve,le,be),st=new $Le(W,oe,ve,le),wt=new oRe(W,oe,ve,le),ve.programs=Ee.programs,A.capabilities=le,A.extensions=oe,A.properties=se,A.renderLists=We,A.shadowMap=Re,A.state=be,A.info=ve}Mt();let Pt=new HUe(A,W);this.xr=Pt,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){let he=oe.get("WEBGL_lose_context");he&&he.loseContext()},this.forceContextRestore=function(){let he=oe.get("WEBGL_lose_context");he&&he.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(he){he!==void 0&&(M=he,this.setSize(B,P,!1))},this.getSize=function(he){return he.set(B,P)},this.setSize=function(he,De,Ve){if(Pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=he,P=De,t.width=Math.floor(he*M),t.height=Math.floor(De*M),Ve!==!1&&(t.style.width=he+"px",t.style.height=De+"px"),this.setViewport(0,0,he,De)},this.getDrawingBufferSize=function(he){return he.set(B*M,P*M).floor()},this.setDrawingBufferSize=function(he,De,Ve){B=he,P=De,M=Ve,t.width=Math.floor(he*Ve),t.height=Math.floor(De*Ve),this.setViewport(0,0,he,De)},this.getCurrentViewport=function(he){return he.copy(w)},this.getViewport=function(he){return he.copy(F)},this.setViewport=function(he,De,Ve,Fe){he.isVector4?F.set(he.x,he.y,he.z,he.w):F.set(he,De,Ve,Fe),be.viewport(w.copy(F).multiplyScalar(M).floor())},this.getScissor=function(he){return he.copy(V)},this.setScissor=function(he,De,Ve,Fe){he.isVector4?V.set(he.x,he.y,he.z,he.w):V.set(he,De,Ve,Fe),be.scissor(C.copy(V).multiplyScalar(M).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(he){be.setScissorTest(Y=he)},this.setOpaqueSort=function(he){O=he},this.setTransparentSort=function(he){I=he},this.getClearColor=function(he){return he.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor.apply(Ke,arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha.apply(Ke,arguments)},this.clear=function(he=!0,De=!0,Ve=!0){let Fe=0;he&&(Fe|=16384),De&&(Fe|=256),Ve&&(Fe|=1024),W.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Yt,!1),t.removeEventListener("webglcontextrestored",Tt,!1),t.removeEventListener("webglcontextcreationerror",Vt,!1),We.dispose(),de.dispose(),se.dispose(),Be.dispose(),ge.dispose(),Ie.dispose(),Ze.dispose(),ht.dispose(),Ee.dispose(),Pt.dispose(),Pt.removeEventListener("sessionstart",Wt),Pt.removeEventListener("sessionend",rr),G&&(G.dispose(),G=null),qt.stop()};function Yt(he){he.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Tt(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let he=ve.autoReset,De=Re.enabled,Ve=Re.autoUpdate,Fe=Re.needsUpdate,Ye=Re.type;Mt(),ve.autoReset=he,Re.enabled=De,Re.autoUpdate=Ve,Re.needsUpdate=Fe,Re.type=Ye}function Vt(he){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",he.statusMessage)}function Or(he){let De=he.target;De.removeEventListener("dispose",Or),lr(De)}function lr(he){Ge(he),se.remove(he)}function Ge(he){let De=se.get(he).programs;De!==void 0&&(De.forEach(function(Ve){Ee.releaseProgram(Ve)}),he.isShaderMaterial&&Ee.releaseShaderCache(he))}this.renderBufferDirect=function(he,De,Ve,Fe,Ye,gt){De===null&&(De=X);let Ot=Ye.isMesh&&Ye.matrixWorld.determinant()<0,xt=ot(he,De,Ve,Fe,Ye);be.setMaterial(Fe,Ot);let mt=Ve.index,St=1;Fe.wireframe===!0&&(mt=Ne.getWireframeAttribute(Ve),St=2);let Dt=Ve.drawRange,Jt=Ve.attributes.position,Gt=Dt.start*St,Sr=(Dt.start+Dt.count)*St;gt!==null&&(Gt=Math.max(Gt,gt.start*St),Sr=Math.min(Sr,(gt.start+gt.count)*St)),mt!==null?(Gt=Math.max(Gt,0),Sr=Math.min(Sr,mt.count)):Jt!=null&&(Gt=Math.max(Gt,0),Sr=Math.min(Sr,Jt.count));let ur=Sr-Gt;if(ur<0||ur===1/0)return;Ze.setup(Ye,Fe,xt,Ve,mt);let Pr,Zt=st;if(mt!==null&&(Pr=ae.get(mt),Zt=wt,Zt.setIndex(Pr)),Ye.isMesh)Fe.wireframe===!0?(be.setLineWidth(Fe.wireframeLinewidth*ee()),Zt.setMode(1)):Zt.setMode(4);else if(Ye.isLine){let zt=Fe.linewidth;zt===void 0&&(zt=1),be.setLineWidth(zt*ee()),Ye.isLineSegments?Zt.setMode(1):Ye.isLineLoop?Zt.setMode(2):Zt.setMode(3)}else Ye.isPoints?Zt.setMode(0):Ye.isSprite&&Zt.setMode(4);if(Ye.isInstancedMesh)Zt.renderInstances(Gt,ur,Ye.count);else if(Ve.isInstancedBufferGeometry){let zt=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,Tr=Math.min(Ve.instanceCount,zt);Zt.renderInstances(Gt,ur,Tr)}else Zt.render(Gt,ur)},this.compile=function(he,De){function Ve(Fe,Ye,gt){Fe.transparent===!0&&Fe.side===Ms&&Fe.forceSinglePass===!1?(Fe.side=Do,Fe.needsUpdate=!0,dr(Fe,Ye,gt),Fe.side=ed,Fe.needsUpdate=!0,dr(Fe,Ye,gt),Fe.side=Ms):dr(Fe,Ye,gt)}h=de.get(he),h.init(),m.push(h),he.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(De.layers)&&(h.pushLight(Fe),Fe.castShadow&&h.pushShadow(Fe))}),h.setupLights(A.physicallyCorrectLights),he.traverse(function(Fe){let Ye=Fe.material;if(Ye)if(Array.isArray(Ye))for(let gt=0;gt<Ye.length;gt++){let Ot=Ye[gt];Ve(Ot,he,Fe)}else Ve(Ye,he,Fe)}),m.pop(),h=null};let At=null;function yt(he){At&&At(he)}function Wt(){qt.stop()}function rr(){qt.start()}let qt=new Noe;qt.setAnimationLoop(yt),typeof self<"u"&&qt.setContext(self),this.setAnimationLoop=function(he){At=he,Pt.setAnimationLoop(he),he===null?qt.stop():qt.start()},Pt.addEventListener("sessionstart",Wt),Pt.addEventListener("sessionend",rr),this.render=function(he,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),Pt.enabled===!0&&Pt.isPresenting===!0&&(Pt.cameraAutoUpdate===!0&&Pt.updateCamera(De),De=Pt.getCamera()),he.isScene===!0&&he.onBeforeRender(A,he,De,y),h=de.get(he,m.length),h.init(),m.push(h),$.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),j.setFromProjectionMatrix($),H=this.localClippingEnabled,R=re.init(this.clippingPlanes,H),d=We.get(he,f.length),d.init(),f.push(d),Cr(he,De,0,A.sortObjects),d.finish(),A.sortObjects===!0&&d.sort(O,I),R===!0&&re.beginShadows();let Ve=h.state.shadowsArray;if(Re.render(Ve,he,De),R===!0&&re.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ke.render(d,he),h.setupLights(A.physicallyCorrectLights),De.isArrayCamera){let Fe=De.cameras;for(let Ye=0,gt=Fe.length;Ye<gt;Ye++){let Ot=Fe[Ye];Ui(d,he,Ot,Ot.viewport)}}else Ui(d,he,De);y!==null&&(ye.updateMultisampleRenderTarget(y),ye.updateRenderTargetMipmap(y)),he.isScene===!0&&he.onAfterRender(A,he,De),Ze.resetDefaultState(),b=-1,x=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function Cr(he,De,Ve,Fe){if(he.visible===!1)return;if(he.layers.test(De.layers)){if(he.isGroup)Ve=he.renderOrder;else if(he.isLOD)he.autoUpdate===!0&&he.update(De);else if(he.isLight)h.pushLight(he),he.castShadow&&h.pushShadow(he);else if(he.isSprite){if(!he.frustumCulled||j.intersectsSprite(he)){Fe&&K.setFromMatrixPosition(he.matrixWorld).applyMatrix4($);let gt=Ie.update(he),Ot=he.material;Ot.visible&&d.push(he,gt,Ot,Ve,K.z,null)}}else if((he.isMesh||he.isLine||he.isPoints)&&(he.isSkinnedMesh&&he.skeleton.frame!==ve.render.frame&&(he.skeleton.update(),he.skeleton.frame=ve.render.frame),!he.frustumCulled||j.intersectsObject(he))){Fe&&K.setFromMatrixPosition(he.matrixWorld).applyMatrix4($);let gt=Ie.update(he),Ot=he.material;if(Array.isArray(Ot)){let xt=gt.groups;for(let mt=0,St=xt.length;mt<St;mt++){let Dt=xt[mt],Jt=Ot[Dt.materialIndex];Jt&&Jt.visible&&d.push(he,gt,Jt,Ve,K.z,Dt)}}else Ot.visible&&d.push(he,gt,Ot,Ve,K.z,null)}}let Ye=he.children;for(let gt=0,Ot=Ye.length;gt<Ot;gt++)Cr(Ye[gt],De,Ve,Fe)}function Ui(he,De,Ve,Fe){let Ye=he.opaque,gt=he.transmissive,Ot=he.transparent;h.setupLightsView(Ve),R===!0&&re.setGlobalState(A.clippingPlanes,Ve),gt.length>0&&ci(Ye,De,Ve),Fe&&be.viewport(w.copy(Fe)),Ye.length>0&&ii(Ye,De,Ve),gt.length>0&&ii(gt,De,Ve),Ot.length>0&&ii(Ot,De,Ve),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function ci(he,De,Ve){let Fe=le.isWebGL2;G===null&&(G=new Ki(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")?kf:Fs,minFilter:Ob,samples:Fe&&a===!0?4:0})),A.getDrawingBufferSize(L),Fe?G.setSize(L.x,L.y):G.setSize(rP(L.x),rP(L.y));let Ye=A.getRenderTarget();A.setRenderTarget(G),A.clear();let gt=A.toneMapping;A.toneMapping=ch,ii(he,De,Ve),A.toneMapping=gt,ye.updateMultisampleRenderTarget(G),ye.updateRenderTargetMipmap(G),A.setRenderTarget(Ye)}function ii(he,De,Ve){let Fe=De.isScene===!0?De.overrideMaterial:null;for(let Ye=0,gt=he.length;Ye<gt;Ye++){let Ot=he[Ye],xt=Ot.object,mt=Ot.geometry,St=Fe===null?Ot.material:Fe,Dt=Ot.group;xt.layers.test(Ve.layers)&&en(xt,De,Ve,mt,St,Dt)}}function en(he,De,Ve,Fe,Ye,gt){he.onBeforeRender(A,De,Ve,Fe,Ye,gt),he.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,he.matrixWorld),he.normalMatrix.getNormalMatrix(he.modelViewMatrix),Ye.onBeforeRender(A,De,Ve,Fe,he,gt),Ye.transparent===!0&&Ye.side===Ms&&Ye.forceSinglePass===!1?(Ye.side=Do,Ye.needsUpdate=!0,A.renderBufferDirect(Ve,De,Fe,Ye,he,gt),Ye.side=ed,Ye.needsUpdate=!0,A.renderBufferDirect(Ve,De,Fe,Ye,he,gt),Ye.side=Ms):A.renderBufferDirect(Ve,De,Fe,Ye,he,gt),he.onAfterRender(A,De,Ve,Fe,Ye,gt)}function dr(he,De,Ve){De.isScene!==!0&&(De=X);let Fe=se.get(he),Ye=h.state.lights,gt=h.state.shadowsArray,Ot=Ye.state.version,xt=Ee.getParameters(he,Ye.state,gt,De,Ve),mt=Ee.getProgramCacheKey(xt),St=Fe.programs;Fe.environment=he.isMeshStandardMaterial?De.environment:null,Fe.fog=De.fog,Fe.envMap=(he.isMeshStandardMaterial?ge:Be).get(he.envMap||Fe.environment),St===void 0&&(he.addEventListener("dispose",Or),St=new Map,Fe.programs=St);let Dt=St.get(mt);if(Dt!==void 0){if(Fe.currentProgram===Dt&&Fe.lightsStateVersion===Ot)return Xe(he,xt),Dt}else xt.uniforms=Ee.getUniforms(he),he.onBuild(Ve,xt,A),he.onBeforeCompile(xt,A),Dt=Ee.acquireProgram(xt,mt),St.set(mt,Dt),Fe.uniforms=xt.uniforms;let Jt=Fe.uniforms;(!he.isShaderMaterial&&!he.isRawShaderMaterial||he.clipping===!0)&&(Jt.clippingPlanes=re.uniform),Xe(he,xt),Fe.needsLights=vt(he),Fe.lightsStateVersion=Ot,Fe.needsLights&&(Jt.ambientLightColor.value=Ye.state.ambient,Jt.lightProbe.value=Ye.state.probe,Jt.directionalLights.value=Ye.state.directional,Jt.directionalLightShadows.value=Ye.state.directionalShadow,Jt.spotLights.value=Ye.state.spot,Jt.spotLightShadows.value=Ye.state.spotShadow,Jt.rectAreaLights.value=Ye.state.rectArea,Jt.ltc_1.value=Ye.state.rectAreaLTC1,Jt.ltc_2.value=Ye.state.rectAreaLTC2,Jt.pointLights.value=Ye.state.point,Jt.pointLightShadows.value=Ye.state.pointShadow,Jt.hemisphereLights.value=Ye.state.hemi,Jt.directionalShadowMap.value=Ye.state.directionalShadowMap,Jt.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,Jt.spotShadowMap.value=Ye.state.spotShadowMap,Jt.spotLightMatrix.value=Ye.state.spotLightMatrix,Jt.spotLightMap.value=Ye.state.spotLightMap,Jt.pointShadowMap.value=Ye.state.pointShadowMap,Jt.pointShadowMatrix.value=Ye.state.pointShadowMatrix);let Gt=Dt.getUniforms(),Sr=D5.seqWithValue(Gt.seq,Jt);return Fe.currentProgram=Dt,Fe.uniformsList=Sr,Dt}function Xe(he,De){let Ve=se.get(he);Ve.outputEncoding=De.outputEncoding,Ve.instancing=De.instancing,Ve.skinning=De.skinning,Ve.morphTargets=De.morphTargets,Ve.morphNormals=De.morphNormals,Ve.morphColors=De.morphColors,Ve.morphTargetsCount=De.morphTargetsCount,Ve.numClippingPlanes=De.numClippingPlanes,Ve.numIntersection=De.numClipIntersection,Ve.vertexAlphas=De.vertexAlphas,Ve.vertexTangents=De.vertexTangents,Ve.toneMapping=De.toneMapping}function ot(he,De,Ve,Fe,Ye){De.isScene!==!0&&(De=X),ye.resetTextureUnits();let gt=De.fog,Ot=Fe.isMeshStandardMaterial?De.environment:null,xt=y===null?A.outputEncoding:y.isXRRenderTarget===!0?y.texture.encoding:td,mt=(Fe.isMeshStandardMaterial?ge:Be).get(Fe.envMap||Ot),St=Fe.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,Dt=!!Fe.normalMap&&!!Ve.attributes.tangent,Jt=!!Ve.morphAttributes.position,Gt=!!Ve.morphAttributes.normal,Sr=!!Ve.morphAttributes.color,ur=Fe.toneMapped?A.toneMapping:ch,Pr=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Zt=Pr!==void 0?Pr.length:0,zt=se.get(Fe),Tr=h.state.lights;if(R===!0&&(H===!0||he!==x)){let we=he===x&&Fe.id===b;re.setState(Fe,he,we)}let Kt=!1;Fe.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Tr.state.version||zt.outputEncoding!==xt||Ye.isInstancedMesh&&zt.instancing===!1||!Ye.isInstancedMesh&&zt.instancing===!0||Ye.isSkinnedMesh&&zt.skinning===!1||!Ye.isSkinnedMesh&&zt.skinning===!0||zt.envMap!==mt||Fe.fog===!0&&zt.fog!==gt||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==re.numPlanes||zt.numIntersection!==re.numIntersection)||zt.vertexAlphas!==St||zt.vertexTangents!==Dt||zt.morphTargets!==Jt||zt.morphNormals!==Gt||zt.morphColors!==Sr||zt.toneMapping!==ur||le.isWebGL2===!0&&zt.morphTargetsCount!==Zt)&&(Kt=!0):(Kt=!0,zt.__version=Fe.version);let er=zt.currentProgram;Kt===!0&&(er=dr(Fe,De,Ye));let Qt=!1,Yr=!1,oi=!1,ne=er.getUniforms(),pe=zt.uniforms;if(be.useProgram(er.program)&&(Qt=!0,Yr=!0,oi=!0),Fe.id!==b&&(b=Fe.id,Yr=!0),Qt||x!==he){if(ne.setValue(W,"projectionMatrix",he.projectionMatrix),le.logarithmicDepthBuffer&&ne.setValue(W,"logDepthBufFC",2/(Math.log(he.far+1)/Math.LN2)),x!==he&&(x=he,Yr=!0,oi=!0),Fe.isShaderMaterial||Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshStandardMaterial||Fe.envMap){let we=ne.map.cameraPosition;we!==void 0&&we.setValue(W,K.setFromMatrixPosition(he.matrixWorld))}(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial)&&ne.setValue(W,"isOrthographic",he.isOrthographicCamera===!0),(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial||Fe.isShadowMaterial||Ye.isSkinnedMesh)&&ne.setValue(W,"viewMatrix",he.matrixWorldInverse)}if(Ye.isSkinnedMesh){ne.setOptional(W,Ye,"bindMatrix"),ne.setOptional(W,Ye,"bindMatrixInverse");let we=Ye.skeleton;we&&(le.floatVertexTextures?(we.boneTexture===null&&we.computeBoneTexture(),ne.setValue(W,"boneTexture",we.boneTexture,ye),ne.setValue(W,"boneTextureSize",we.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let Ue=Ve.morphAttributes;if((Ue.position!==void 0||Ue.normal!==void 0||Ue.color!==void 0&&le.isWebGL2===!0)&&ie.update(Ye,Ve,Fe,er),(Yr||zt.receiveShadow!==Ye.receiveShadow)&&(zt.receiveShadow=Ye.receiveShadow,ne.setValue(W,"receiveShadow",Ye.receiveShadow)),Fe.isMeshGouraudMaterial&&Fe.envMap!==null&&(pe.envMap.value=mt,pe.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),Yr&&(ne.setValue(W,"toneMappingExposure",A.toneMappingExposure),zt.needsLights&&je(pe,oi),gt&&Fe.fog===!0&&Qe.refreshFogUniforms(pe,gt),Qe.refreshMaterialUniforms(pe,Fe,M,P,G),D5.upload(W,zt.uniformsList,pe,ye)),Fe.isShaderMaterial&&Fe.uniformsNeedUpdate===!0&&(D5.upload(W,zt.uniformsList,pe,ye),Fe.uniformsNeedUpdate=!1),Fe.isSpriteMaterial&&ne.setValue(W,"center",Ye.center),ne.setValue(W,"modelViewMatrix",Ye.modelViewMatrix),ne.setValue(W,"normalMatrix",Ye.normalMatrix),ne.setValue(W,"modelMatrix",Ye.matrixWorld),Ye.previousModelViewMatrix&&ne.setValue(W,"previousModelViewMatrix",Ye.previousModelViewMatrix),he.previousProjectionMatrix&&ne.setValue(W,"previousProjectionMatrix",he.previousProjectionMatrix),Fe.isShaderMaterial||Fe.isRawShaderMaterial){let we=Fe.uniformsGroups;for(let ze=0,dt=we.length;ze<dt;ze++)if(le.isWebGL2){let Er=we[ze];ht.update(Er,er),ht.bind(Er,er)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return er}function je(he,De){he.ambientLightColor.needsUpdate=De,he.lightProbe.needsUpdate=De,he.directionalLights.needsUpdate=De,he.directionalLightShadows.needsUpdate=De,he.pointLights.needsUpdate=De,he.pointLightShadows.needsUpdate=De,he.spotLights.needsUpdate=De,he.spotLightShadows.needsUpdate=De,he.rectAreaLights.needsUpdate=De,he.hemisphereLights.needsUpdate=De}function vt(he){return he.isMeshLambertMaterial||he.isMeshToonMaterial||he.isMeshPhongMaterial||he.isMeshStandardMaterial||he.isShadowMaterial||he.isShaderMaterial&&he.lights===!0}this.getActiveCubeFace=function(){return p},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(he,De,Ve){se.get(he.texture).__webglTexture=De,se.get(he.depthTexture).__webglTexture=Ve;let Fe=se.get(he);Fe.__hasExternalTextures=!0,Fe.__hasExternalTextures&&(Fe.__autoAllocateDepthBuffer=Ve===void 0,Fe.__autoAllocateDepthBuffer||oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(he,De){let Ve=se.get(he);Ve.__webglFramebuffer=De,Ve.__useDefaultFramebuffer=De===void 0},this.setRenderTarget=function(he,De=0,Ve=0){y=he,p=De,v=Ve;let Fe=!0,Ye=null,gt=!1,Ot=!1;if(he){let xt=se.get(he);xt.__useDefaultFramebuffer!==void 0?(be.bindFramebuffer(36160,null),Fe=!1):xt.__webglFramebuffer===void 0?ye.setupRenderTarget(he):xt.__hasExternalTextures&&ye.rebindTextures(he,se.get(he.texture).__webglTexture,se.get(he.depthTexture).__webglTexture);let mt=he.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&(Ot=!0);let St=se.get(he).__webglFramebuffer;he.isWebGLCubeRenderTarget?(Ye=St[De],gt=!0):le.isWebGL2&&he.samples>0&&ye.useMultisampledRTT(he)===!1?Ye=se.get(he).__webglMultisampledFramebuffer:Ye=St,w.copy(he.viewport),C.copy(he.scissor),_=he.scissorTest}else w.copy(F).multiplyScalar(M).floor(),C.copy(V).multiplyScalar(M).floor(),_=Y;if(be.bindFramebuffer(36160,Ye)&&le.drawBuffers&&Fe&&be.drawBuffers(he,Ye),be.viewport(w),be.scissor(C),be.setScissorTest(_),gt){let xt=se.get(he.texture);W.framebufferTexture2D(36160,36064,34069+De,xt.__webglTexture,Ve)}else if(Ot){let xt=se.get(he.texture),mt=De||0;W.framebufferTextureLayer(36160,36064,xt.__webglTexture,Ve||0,mt)}b=-1},this.readRenderTargetPixels=function(he,De,Ve,Fe,Ye,gt,Ot){if(!(he&&he.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=se.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&Ot!==void 0&&(xt=xt[Ot]),xt){be.bindFramebuffer(36160,xt);try{let mt=he.texture,St=mt.format,Dt=mt.type;if(St!==Po&&ut.convert(St)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Jt=Dt===kf&&(oe.has("EXT_color_buffer_half_float")||le.isWebGL2&&oe.has("EXT_color_buffer_float"));if(Dt!==Fs&&ut.convert(Dt)!==W.getParameter(35738)&&!(Dt===qa&&(le.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!Jt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=he.width-Fe&&Ve>=0&&Ve<=he.height-Ye&&W.readPixels(De,Ve,Fe,Ye,ut.convert(St),ut.convert(Dt),gt)}finally{let mt=y!==null?se.get(y).__webglFramebuffer:null;be.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(he,De,Ve=0){let Fe=Math.pow(2,-Ve),Ye=Math.floor(De.image.width*Fe),gt=Math.floor(De.image.height*Fe);ye.setTexture2D(De,0),W.copyTexSubImage2D(3553,Ve,0,0,he.x,he.y,Ye,gt),be.unbindTexture()},this.copyTextureToTexture=function(he,De,Ve,Fe=0){let Ye=De.image.width,gt=De.image.height,Ot=ut.convert(Ve.format),xt=ut.convert(Ve.type);ye.setTexture2D(Ve,0),W.pixelStorei(37440,Ve.flipY),W.pixelStorei(37441,Ve.premultiplyAlpha),W.pixelStorei(3317,Ve.unpackAlignment),De.isDataTexture?W.texSubImage2D(3553,Fe,he.x,he.y,Ye,gt,Ot,xt,De.image.data):De.isCompressedTexture?W.compressedTexSubImage2D(3553,Fe,he.x,he.y,De.mipmaps[0].width,De.mipmaps[0].height,Ot,De.mipmaps[0].data):W.texSubImage2D(3553,Fe,he.x,he.y,Ot,xt,De.image),Fe===0&&Ve.generateMipmaps&&W.generateMipmap(3553),be.unbindTexture()},this.copyTextureToTexture3D=function(he,De,Ve,Fe,Ye=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let gt=he.max.x-he.min.x+1,Ot=he.max.y-he.min.y+1,xt=he.max.z-he.min.z+1,mt=ut.convert(Fe.format),St=ut.convert(Fe.type),Dt;if(Fe.isData3DTexture)ye.setTexture3D(Fe,0),Dt=32879;else if(Fe.isDataArrayTexture)ye.setTexture2DArray(Fe,0),Dt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(37440,Fe.flipY),W.pixelStorei(37441,Fe.premultiplyAlpha),W.pixelStorei(3317,Fe.unpackAlignment);let Jt=W.getParameter(3314),Gt=W.getParameter(32878),Sr=W.getParameter(3316),ur=W.getParameter(3315),Pr=W.getParameter(32877),Zt=Ve.isCompressedTexture?Ve.mipmaps[0]:Ve.image;W.pixelStorei(3314,Zt.width),W.pixelStorei(32878,Zt.height),W.pixelStorei(3316,he.min.x),W.pixelStorei(3315,he.min.y),W.pixelStorei(32877,he.min.z),Ve.isDataTexture||Ve.isData3DTexture?W.texSubImage3D(Dt,Ye,De.x,De.y,De.z,gt,Ot,xt,mt,St,Zt.data):Ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(Dt,Ye,De.x,De.y,De.z,gt,Ot,xt,mt,Zt.data)):W.texSubImage3D(Dt,Ye,De.x,De.y,De.z,gt,Ot,xt,mt,St,Zt),W.pixelStorei(3314,Jt),W.pixelStorei(32878,Gt),W.pixelStorei(3316,Sr),W.pixelStorei(3315,ur),W.pixelStorei(32877,Pr),Ye===0&&Fe.generateMipmaps&&W.generateMipmap(Dt),be.unbindTexture()},this.initTexture=function(he){he.isCubeTexture?ye.setTextureCube(he,0):he.isData3DTexture?ye.setTexture3D(he,0):he.isDataArrayTexture||he.isCompressedArrayTexture?ye.setTexture2DArray(he,0):ye.setTexture2D(he,0),be.unbindTexture()},this.resetState=function(){p=0,v=0,y=null,be.reset(),Ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var GUe=class extends Qoe{};GUe.prototype.isWebGL1Renderer=!0;var Woe=class{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Rr(e),this.near=t,this.far=r}clone(){return new Woe(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},uh=class extends on{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},qUe=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=mR,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=iu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,n=this.stride;i<n;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=iu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=iu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},qs=new q,wR=class{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.applyMatrix4(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.applyNormalMatrix(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.transformDirection(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}setX(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=wf(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=wf(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=wf(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=wf(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),r=En(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),r=En(r,this.array),i=En(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),r=En(r,this.array),i=En(i,this.array),n=En(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=n,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[i+n])}return new Qr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new wR(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[i+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},Goe=class extends on{constructor(){super(),this.isBone=!0,this.type="Bone"}},Zc=class extends ia{constructor(e=null,t=1,r=1,i,n,a,o,s,l=Zi,c=Zi,u,d){super(null,a,o,s,l,c,i,n,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},UG=new kt,KUe=new kt,fz=class{constructor(e=[],t=[]){this.uuid=iu(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new kt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new kt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let n=0,a=e.length;n<a;n++){let o=e[n]?e[n].matrixWorld:KUe;UG.multiplyMatrices(o,t[n]),UG.toArray(r,n*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new fz(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Toe(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new Zc(t,e,e,Po,qa);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let n=e.bones[r],a=t[n];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),a=new Goe),this.bones.push(a),this.boneInverses.push(new kt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let i=0,n=t.length;i<n;i++){let a=t[i];e.bones.push(a.uuid);let o=r[i];e.boneInverses.push(o.toArray())}return e}},mC=class extends Qr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},NG=new kt,kG=new kt,IE=[],XUe=new kt,Qw=new ta,YUe=class extends ta{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new mC(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,XUe)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let r=this.matrixWorld,i=this.count;if(Qw.geometry=this.geometry,Qw.material=this.material,Qw.material!==void 0)for(let n=0;n<i;n++){this.getMatrixAt(n,NG),kG.multiplyMatrices(r,NG),Qw.matrixWorld=kG,Qw.raycast(e,IE);for(let a=0,o=IE.length;a<o;a++){let s=IE[a];s.instanceId=n,s.object=this,t.push(s)}IE.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new mC(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},hg=class extends p_{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},jG=new q,zG=new q,HG=new kt,x4=new h1,FE=new jl,iP=class extends on{constructor(e=new Mr,t=new hg){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,n=t.count;i<n;i++)jG.fromBufferAttribute(t,i-1),zG.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=jG.distanceTo(zG);e.setAttribute("lineDistance",new sr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,n=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),FE.copy(r.boundingSphere),FE.applyMatrix4(i),FE.radius+=n,e.ray.intersectsSphere(FE)===!1)return;HG.copy(i).invert(),x4.copy(e.ray).applyMatrix4(HG);let o=n/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new q,c=new q,u=new q,d=new q,h=this.isLineSegments?2:1,f=r.index,m=r.attributes.position;if(f!==null){let A=Math.max(0,a.start),g=Math.min(f.count,a.start+a.count);for(let p=A,v=g-1;p<v;p+=h){let y=f.getX(p),b=f.getX(p+1);if(l.fromBufferAttribute(m,y),c.fromBufferAttribute(m,b),x4.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);let x=e.ray.origin.distanceTo(d);x<e.near||x>e.far||t.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else{let A=Math.max(0,a.start),g=Math.min(m.count,a.start+a.count);for(let p=A,v=g-1;p<v;p+=h){if(l.fromBufferAttribute(m,p),c.fromBufferAttribute(m,p+1),x4.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);let y=e.ray.origin.distanceTo(d);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,n=r.length;i<n;i++){let a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},VG=new q,QG=new q,A_=class extends iP{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,n=t.count;i<n;i+=2)VG.fromBufferAttribute(t,i),QG.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+VG.distanceTo(QG);e.setAttribute("lineDistance",new sr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},$Ue=class extends ia{constructor(e,t,r,i,n,a,o,s,l){super(e,t,r,i,n,a,o,s,l),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:fi,this.magFilter=n!==void 0?n:fi,this.generateMipmaps=!1;let c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},JUe=class extends ia{constructor(e,t,r,i,n,a,o,s,l){super(e,t,r,i,n,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},wh=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),n=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),n+=r.distanceTo(i),t.push(n),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,n=r.length,a;t?a=t:a=e*r[n-1];let o=0,s=n-1,l;for(;o<=s;)if(i=Math.floor(o+(s-o)/2),l=r[i]-a,l<0)o=i+1;else if(l>0)s=i-1;else{s=i;break}if(i=s,r[i]===a)return i/(n-1);let c=r[i],u=r[i+1]-c,d=(a-c)/u;return(i+d)/(n-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);let n=this.getPoint(r),a=this.getPoint(i),o=t||(n.isVector2?new ke:new q);return o.copy(a).sub(n).normalize(),o}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new q,i=[],n=[],a=[],o=new q,s=new kt;for(let h=0;h<=e;h++){let f=h/e;i[h]=this.getTangentAt(f,new q)}n[0]=new q,a[0]=new q;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,r.set(1,0,0)),u<=l&&(l=u,r.set(0,1,0)),d<=l&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),n[0].crossVectors(i[0],o),a[0].crossVectors(i[0],n[0]);for(let h=1;h<=e;h++){if(n[h]=n[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();let f=Math.acos(Qa(i[h-1].dot(i[h]),-1,1));n[h].applyMatrix4(s.makeRotationAxis(o,f))}a[h].crossVectors(i[h],n[h])}if(t===!0){let h=Math.acos(Qa(n[0].dot(n[e]),-1,1));h/=e,i[0].dot(o.crossVectors(n[0],n[e]))>0&&(h=-h);for(let f=1;f<=e;f++)n[f].applyMatrix4(s.makeRotationAxis(i[f],h*f)),a[f].crossVectors(i[f],n[f])}return{tangents:i,normals:n,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},w3=class extends wh{constructor(e=0,t=0,r=1,i=1,n=0,a=Math.PI*2,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=n,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){let r=t||new ke,i=Math.PI*2,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<Number.EPSILON;for(;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(a?n=0:n=i),this.aClockwise===!0&&!a&&(n===i?n=-i:n=n-i);let o=this.aStartAngle+e*n,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){let c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*c-h*u+this.aX,l=d*u+h*c+this.aY}return r.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},ZUe=class extends w3{constructor(e,t,r,i,n,a){super(e,t,r,r,i,n,a),this.isArcCurve=!0,this.type="ArcCurve"}};function pz(){let e=0,t=0,r=0,i=0;function n(a,o,s,l){e=a,t=s,r=-3*a+3*o-2*s-l,i=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,c){n(o,s,c*(s-a),c*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,c,u,d){let h=(o-a)/c-(s-a)/(c+u)+(s-o)/u,f=(s-o)/u-(l-o)/(u+d)+(l-s)/d;h*=u,f*=u,n(o,s,h,f)},calc:function(a){let o=a*a,s=o*a;return e+t*a+r*o+i*s}}}var LE=new q,C4=new pz,_4=new pz,S4=new pz,eNe=class extends wh{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new q){let r=t,i=this.points,n=i.length,a=(n-(this.closed?0:1))*e,o=Math.floor(a),s=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/n)+1)*n:s===0&&o===n-1&&(o=n-2,s=1);let l,c;this.closed||o>0?l=i[(o-1)%n]:(LE.subVectors(i[0],i[1]).add(i[0]),l=LE);let u=i[o%n],d=i[(o+1)%n];if(this.closed||o+2<n?c=i[(o+2)%n]:(LE.subVectors(i[n-1],i[n-2]).add(i[n-1]),c=LE),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,f=Math.pow(l.distanceToSquared(u),h),m=Math.pow(u.distanceToSquared(d),h),A=Math.pow(d.distanceToSquared(c),h);m<1e-4&&(m=1),f<1e-4&&(f=m),A<1e-4&&(A=m),C4.initNonuniformCatmullRom(l.x,u.x,d.x,c.x,f,m,A),_4.initNonuniformCatmullRom(l.y,u.y,d.y,c.y,f,m,A),S4.initNonuniformCatmullRom(l.z,u.z,d.z,c.z,f,m,A)}else this.curveType==="catmullrom"&&(C4.initCatmullRom(l.x,u.x,d.x,c.x,this.tension),_4.initCatmullRom(l.y,u.y,d.y,c.y,this.tension),S4.initCatmullRom(l.z,u.z,d.z,c.z,this.tension));return r.set(C4.calc(s),_4.calc(s),S4.calc(s)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function WG(e,t,r,i,n){let a=(i-t)*.5,o=(n-r)*.5,s=e*e,l=e*s;return(2*r-2*i+a+o)*l+(-3*r+3*i-2*a-o)*s+a*e+r}function tNe(e,t){let r=1-e;return r*r*t}function rNe(e,t){return 2*(1-e)*e*t}function iNe(e,t){return e*e*t}function g2(e,t,r,i){return tNe(e,t)+rNe(e,r)+iNe(e,i)}function nNe(e,t){let r=1-e;return r*r*r*t}function aNe(e,t){let r=1-e;return 3*r*r*e*t}function oNe(e,t){return 3*(1-e)*e*e*t}function sNe(e,t){return e*e*e*t}function m2(e,t,r,i,n){return nNe(e,t)+aNe(e,r)+oNe(e,i)+sNe(e,n)}var Qu=class extends wh{constructor(e=new ke,t=new ke,r=new ke,i=new ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ke){let r=t,i=this.v0,n=this.v1,a=this.v2,o=this.v3;return r.set(m2(e,i.x,n.x,a.x,o.x),m2(e,i.y,n.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},I5=class extends wh{constructor(e=new q,t=new q,r=new q,i=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new q){let r=t,i=this.v0,n=this.v1,a=this.v2,o=this.v3;return r.set(m2(e,i.x,n.x,a.x,o.x),m2(e,i.y,n.y,a.y,o.y),m2(e,i.z,n.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},$u=class extends wh{constructor(e=new ke,t=new ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ke){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new ke;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},qoe=class extends wh{constructor(e=new q,t=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new q){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},rg=class extends wh{constructor(e=new ke,t=new ke,r=new ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ke){let r=t,i=this.v0,n=this.v1,a=this.v2;return r.set(g2(e,i.x,n.x,a.x),g2(e,i.y,n.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},lNe=class extends wh{constructor(e=new q,t=new q,r=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new q){let r=t,i=this.v0,n=this.v1,a=this.v2;return r.set(g2(e,i.x,n.x,a.x),g2(e,i.y,n.y,a.y),g2(e,i.z,n.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Az=class extends wh{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ke){let r=t,i=this.points,n=(i.length-1)*e,a=Math.floor(n),o=n-a,s=i[a===0?a:a-1],l=i[a],c=i[a>i.length-2?i.length-1:a+1],u=i[a>i.length-3?i.length-1:a+2];return r.set(WG(o,s.x,l.x,c.x,u.x),WG(o,s.y,l.y,c.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new ke().fromArray(i))}return this}},cNe=Object.freeze({__proto__:null,ArcCurve:ZUe,CatmullRomCurve3:eNe,CubicBezierCurve:Qu,CubicBezierCurve3:I5,EllipseCurve:w3,LineCurve:$u,LineCurve3:qoe,QuadraticBezierCurve:rg,QuadraticBezierCurve3:lNe,SplineCurve:Az}),Koe=class extends wh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new $u(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),n=0;for(;n<i.length;){if(i[n]>=r){let a=i[n]-r,o=this.curves[n],s=o.getLength(),l=s===0?0:1-a/s;return o.getPointAt(l,t)}n++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,n=this.curves;i<n.length;i++){let a=n[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let l=0;l<s.length;l++){let c=s[l];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new cNe[i.type]().fromJSON(i))}return this}},nP=class extends Koe{constructor(e){super(),this.type="Path",this.currentPoint=new ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new $u(this.currentPoint.clone(),new ke(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let n=new rg(this.currentPoint.clone(),new ke(e,t),new ke(r,i));return this.curves.push(n),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,n,a){let o=new Qu(this.currentPoint.clone(),new ke(e,t),new ke(r,i),new ke(n,a));return this.curves.push(o),this.currentPoint.set(n,a),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new Az(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,n,a){let o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,i,n,a),this}absarc(e,t,r,i,n,a){return this.absellipse(e,t,r,r,i,n,a),this}ellipse(e,t,r,i,n,a,o,s){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,r,i,n,a,o,s),this}absellipse(e,t,r,i,n,a,o,s){let l=new w3(e,t,r,i,n,a,o,s);if(this.curves.length>0){let u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Xoe=class extends Mr{constructor(e=[new ke(0,-.5),new ke(.5,0),new ke(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Qa(i,0,Math.PI*2);let n=[],a=[],o=[],s=[],l=[],c=1/t,u=new q,d=new ke,h=new q,f=new q,m=new q,A=0,g=0;for(let p=0;p<=e.length-1;p++)switch(p){case 0:A=e[p+1].x-e[p].x,g=e[p+1].y-e[p].y,h.x=g*1,h.y=-A,h.z=g*0,m.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(m.x,m.y,m.z);break;default:A=e[p+1].x-e[p].x,g=e[p+1].y-e[p].y,h.x=g*1,h.y=-A,h.z=g*0,f.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),s.push(h.x,h.y,h.z),m.copy(f)}for(let p=0;p<=t;p++){let v=r+p*c*i,y=Math.sin(v),b=Math.cos(v);for(let x=0;x<=e.length-1;x++){u.x=e[x].x*y,u.y=e[x].y,u.z=e[x].x*b,a.push(u.x,u.y,u.z),d.x=p/t,d.y=x/(e.length-1),o.push(d.x,d.y);let w=s[3*x+0]*y,C=s[3*x+1],_=s[3*x+0]*b;l.push(w,C,_)}}for(let p=0;p<t;p++)for(let v=0;v<e.length-1;v++){let y=v+p*e.length,b=y,x=y+e.length,w=y+e.length+1,C=y+1;n.push(b,x,C),n.push(w,C,x)}this.setIndex(n),this.setAttribute("position",new sr(a,3)),this.setAttribute("uv",new sr(o,2)),this.setAttribute("normal",new sr(l,3))}static fromJSON(e){return new Xoe(e.points,e.segments,e.phiStart,e.phiLength)}},gz=class extends Mr{constructor(e=1,t=1,r=1,i=32,n=1,a=!1,o=0,s=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};let l=this;i=Math.floor(i),n=Math.floor(n);let c=[],u=[],d=[],h=[],f=0,m=[],A=r/2,g=0;p(),a===!1&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new sr(u,3)),this.setAttribute("normal",new sr(d,3)),this.setAttribute("uv",new sr(h,2));function p(){let y=new q,b=new q,x=0,w=(t-e)/r;for(let C=0;C<=n;C++){let _=[],B=C/n,P=B*(t-e)+e;for(let M=0;M<=i;M++){let O=M/i,I=O*s+o,F=Math.sin(I),V=Math.cos(I);b.x=P*F,b.y=-B*r+A,b.z=P*V,u.push(b.x,b.y,b.z),y.set(F,w,V).normalize(),d.push(y.x,y.y,y.z),h.push(O,1-B),_.push(f++)}m.push(_)}for(let C=0;C<i;C++)for(let _=0;_<n;_++){let B=m[_][C],P=m[_+1][C],M=m[_+1][C+1],O=m[_][C+1];c.push(B,P,O),c.push(P,M,O),x+=6}l.addGroup(g,x,0),g+=x}function v(y){let b=f,x=new ke,w=new q,C=0,_=y===!0?e:t,B=y===!0?1:-1;for(let M=1;M<=i;M++)u.push(0,A*B,0),d.push(0,B,0),h.push(.5,.5),f++;let P=f;for(let M=0;M<=i;M++){let O=M/i*s+o,I=Math.cos(O),F=Math.sin(O);w.x=_*F,w.y=A*B,w.z=_*I,u.push(w.x,w.y,w.z),d.push(0,B,0),x.x=I*.5+.5,x.y=F*.5*B+.5,h.push(x.x,x.y),f++}for(let M=0;M<i;M++){let O=b+M,I=P+M;y===!0?c.push(I,I+1,O):c.push(I+1,I,O),C+=3}l.addGroup(g,C,y===!0?1:2),g+=C}}static fromJSON(e){return new gz(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},mz=class extends gz{constructor(e=1,t=1,r=32,i=1,n=!1,a=0,o=Math.PI*2){super(0,e,t,r,i,n,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:n,thetaStart:a,thetaLength:o}}static fromJSON(e){return new mz(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},vz=class extends Mr{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let n=[],a=[];o(i),l(r),c(),this.setAttribute("position",new sr(n,3)),this.setAttribute("normal",new sr(n.slice(),3)),this.setAttribute("uv",new sr(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(p){let v=new q,y=new q,b=new q;for(let x=0;x<t.length;x+=3)h(t[x+0],v),h(t[x+1],y),h(t[x+2],b),s(v,y,b,p)}function s(p,v,y,b){let x=b+1,w=[];for(let C=0;C<=x;C++){w[C]=[];let _=p.clone().lerp(y,C/x),B=v.clone().lerp(y,C/x),P=x-C;for(let M=0;M<=P;M++)M===0&&C===x?w[C][M]=_:w[C][M]=_.clone().lerp(B,M/P)}for(let C=0;C<x;C++)for(let _=0;_<2*(x-C)-1;_++){let B=Math.floor(_/2);_%2===0?(d(w[C][B+1]),d(w[C+1][B]),d(w[C][B])):(d(w[C][B+1]),d(w[C+1][B+1]),d(w[C+1][B]))}}function l(p){let v=new q;for(let y=0;y<n.length;y+=3)v.x=n[y+0],v.y=n[y+1],v.z=n[y+2],v.normalize().multiplyScalar(p),n[y+0]=v.x,n[y+1]=v.y,n[y+2]=v.z}function c(){let p=new q;for(let v=0;v<n.length;v+=3){p.x=n[v+0],p.y=n[v+1],p.z=n[v+2];let y=A(p)/2/Math.PI+.5,b=g(p)/Math.PI+.5;a.push(y,1-b)}f(),u()}function u(){for(let p=0;p<a.length;p+=6){let v=a[p+0],y=a[p+2],b=a[p+4],x=Math.max(v,y,b),w=Math.min(v,y,b);x>.9&&w<.1&&(v<.2&&(a[p+0]+=1),y<.2&&(a[p+2]+=1),b<.2&&(a[p+4]+=1))}}function d(p){n.push(p.x,p.y,p.z)}function h(p,v){let y=p*3;v.x=e[y+0],v.y=e[y+1],v.z=e[y+2]}function f(){let p=new q,v=new q,y=new q,b=new q,x=new ke,w=new ke,C=new ke;for(let _=0,B=0;_<n.length;_+=9,B+=6){p.set(n[_+0],n[_+1],n[_+2]),v.set(n[_+3],n[_+4],n[_+5]),y.set(n[_+6],n[_+7],n[_+8]),x.set(a[B+0],a[B+1]),w.set(a[B+2],a[B+3]),C.set(a[B+4],a[B+5]),b.copy(p).add(v).add(y).divideScalar(3);let P=A(b);m(x,B+0,p,P),m(w,B+2,v,P),m(C,B+4,y,P)}}function m(p,v,y,b){b<0&&p.x===1&&(a[v]=p.x-1),y.x===0&&y.z===0&&(a[v]=b/2/Math.PI+.5)}function A(p){return Math.atan2(p.z,-p.x)}function g(p){return Math.atan2(-p.y,Math.sqrt(p.x*p.x+p.z*p.z))}}static fromJSON(e){return new vz(e.vertices,e.indices,e.radius,e.details)}},Yoe=class extends vz{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(n,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yoe(e.radius,e.detail)}},aP=class extends nP{constructor(e){super(e),this.uuid=iu(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new nP().fromJSON(i))}return this}},uNe={triangulate:function(e,t,r=2){let i=t&&t.length,n=i?t[0]*r:e.length,a=$oe(e,0,n,r,!0),o=[];if(!a||a.next===a.prev)return o;let s,l,c,u,d,h,f;if(i&&(a=ANe(e,t,a,r)),e.length>80*r){s=c=e[0],l=u=e[1];for(let m=r;m<n;m+=r)d=e[m],h=e[m+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-s,u-l),f=f!==0?32767/f:0}return vC(a,o,r,s,l,f,0),o}};function $oe(e,t,r,i,n){let a,o;if(n===ENe(e,t,r,i)>0)for(a=t;a<r;a+=i)o=GG(a,e[a],e[a+1],o);else for(a=r-i;a>=t;a-=i)o=GG(a,e[a],e[a+1],o);return o&&x3(o,o.next)&&(bC(o),o=o.next),o}function l0(e,t){if(!e)return e;t||(t=e);let r=e,i;do if(i=!1,!r.steiner&&(x3(r,r.next)||ea(r.prev,r,r.next)===0)){if(bC(r),r=t=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==t);return t}function vC(e,t,r,i,n,a,o){if(!e)return;!o&&a&&bNe(e,i,n,a);let s=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,a?hNe(e,i,n,a):dNe(e)){t.push(l.i/r|0),t.push(e.i/r|0),t.push(c.i/r|0),bC(e),e=c.next,s=c.next;continue}if(e=c,e===s){o?o===1?(e=fNe(l0(e),t,r),vC(e,t,r,i,n,a,2)):o===2&&pNe(e,t,r,i,n,a):vC(l0(e),t,r,i,n,a,1);break}}}function dNe(e){let t=e.prev,r=e,i=e.next;if(ea(t,r,i)>=0)return!1;let n=t.x,a=r.x,o=i.x,s=t.y,l=r.y,c=i.y,u=n<a?n<o?n:o:a<o?a:o,d=s<l?s<c?s:c:l<c?l:c,h=n>a?n>o?n:o:a>o?a:o,f=s>l?s>c?s:c:l>c?l:c,m=i.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=f&&Dy(n,s,a,l,o,c,m.x,m.y)&&ea(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function hNe(e,t,r,i){let n=e.prev,a=e,o=e.next;if(ea(n,a,o)>=0)return!1;let s=n.x,l=a.x,c=o.x,u=n.y,d=a.y,h=o.y,f=s<l?s<c?s:c:l<c?l:c,m=u<d?u<h?u:h:d<h?d:h,A=s>l?s>c?s:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,p=xR(f,m,t,r,i),v=xR(A,g,t,r,i),y=e.prevZ,b=e.nextZ;for(;y&&y.z>=p&&b&&b.z<=v;){if(y.x>=f&&y.x<=A&&y.y>=m&&y.y<=g&&y!==n&&y!==o&&Dy(s,u,l,d,c,h,y.x,y.y)&&ea(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=f&&b.x<=A&&b.y>=m&&b.y<=g&&b!==n&&b!==o&&Dy(s,u,l,d,c,h,b.x,b.y)&&ea(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=p;){if(y.x>=f&&y.x<=A&&y.y>=m&&y.y<=g&&y!==n&&y!==o&&Dy(s,u,l,d,c,h,y.x,y.y)&&ea(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=f&&b.x<=A&&b.y>=m&&b.y<=g&&b!==n&&b!==o&&Dy(s,u,l,d,c,h,b.x,b.y)&&ea(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function fNe(e,t,r){let i=e;do{let n=i.prev,a=i.next.next;!x3(n,a)&&Joe(n,i,i.next,a)&&yC(n,a)&&yC(a,n)&&(t.push(n.i/r|0),t.push(i.i/r|0),t.push(a.i/r|0),bC(i),bC(i.next),i=e=a),i=i.next}while(i!==e);return l0(i)}function pNe(e,t,r,i,n,a){let o=e;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&CNe(o,s)){let l=Zoe(o,s);o=l0(o,o.next),l=l0(l,l.next),vC(o,t,r,i,n,a,0),vC(l,t,r,i,n,a,0);return}s=s.next}o=o.next}while(o!==e)}function ANe(e,t,r,i){let n=[],a,o,s,l,c;for(a=0,o=t.length;a<o;a++)s=t[a]*i,l=a<o-1?t[a+1]*i:e.length,c=$oe(e,s,l,i,!1),c===c.next&&(c.steiner=!0),n.push(xNe(c));for(n.sort(gNe),a=0;a<n.length;a++)r=mNe(n[a],r);return r}function gNe(e,t){return e.x-t.x}function mNe(e,t){let r=vNe(e,t);if(!r)return t;let i=Zoe(r,e);return l0(i,i.next),l0(r,r.next)}function vNe(e,t){let r=t,i=-1/0,n,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let h=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=a&&h>i&&(i=h,n=r.x<r.next.x?r:r.next,h===a))return n}r=r.next}while(r!==t);if(!n)return null;let s=n,l=n.x,c=n.y,u=1/0,d;r=n;do a>=r.x&&r.x>=l&&a!==r.x&&Dy(o<c?a:i,o,l,c,o<c?i:a,o,r.x,r.y)&&(d=Math.abs(o-r.y)/(a-r.x),yC(r,e)&&(d<u||d===u&&(r.x>n.x||r.x===n.x&&yNe(n,r)))&&(n=r,u=d)),r=r.next;while(r!==s);return n}function yNe(e,t){return ea(e.prev,e,t.prev)<0&&ea(t.next,e,e.next)<0}function bNe(e,t,r,i){let n=e;do n.z===0&&(n.z=xR(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,wNe(n)}function wNe(e){let t,r,i,n,a,o,s,l,c=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,i=r,s=0,t=0;t<c&&(s++,i=i.nextZ,!!i);t++);for(l=c;s>0||l>0&&i;)s!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,s--):(n=i,i=i.nextZ,l--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;r=i}a.nextZ=null,c*=2}while(o>1);return e}function xR(e,t,r,i,n){return e=(e-r)*n|0,t=(t-i)*n|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function xNe(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Dy(e,t,r,i,n,a,o,s){return(n-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(r-o)*(t-s)&&(r-o)*(a-s)>=(n-o)*(i-s)}function CNe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!_Ne(e,t)&&(yC(e,t)&&yC(t,e)&&SNe(e,t)&&(ea(e.prev,e,t.prev)||ea(e,t.prev,t))||x3(e,t)&&ea(e.prev,e,e.next)>0&&ea(t.prev,t,t.next)>0)}function ea(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x3(e,t){return e.x===t.x&&e.y===t.y}function Joe(e,t,r,i){let n=UE(ea(e,t,r)),a=UE(ea(e,t,i)),o=UE(ea(r,i,e)),s=UE(ea(r,i,t));return!!(n!==a&&o!==s||n===0&&RE(e,r,t)||a===0&&RE(e,i,t)||o===0&&RE(r,e,i)||s===0&&RE(r,t,i))}function RE(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function UE(e){return e>0?1:e<0?-1:0}function _Ne(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Joe(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function yC(e,t){return ea(e.prev,e,e.next)<0?ea(e,t,e.next)>=0&&ea(e,e.prev,t)>=0:ea(e,t,e.prev)<0||ea(e,e.next,t)<0}function SNe(e,t){let r=e,i=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e);return i}function Zoe(e,t){let r=new CR(e.i,e.x,e.y),i=new CR(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}function GG(e,t,r,i){let n=new CR(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function bC(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function CR(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ENe(e,t,r,i){let n=0;for(let a=t,o=r-i;a<r;a+=i)n+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return n}var ese=class{static area(e){let t=e.length,r=0;for(let i=t-1,n=0;n<t;i=n++)r+=e[i].x*e[n].y-e[n].x*e[i].y;return r*.5}static isClockWise(e){return ese.area(e)<0}static triangulateShape(e,t){let r=[],i=[],n=[];qG(e),KG(r,e);let a=e.length;t.forEach(qG);for(let s=0;s<t.length;s++)i.push(a),a+=t[s].length,KG(r,t[s]);let o=uNe.triangulate(r,i);for(let s=0;s<o.length;s+=3)n.push(o.slice(s,s+3));return n}};function qG(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function KG(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var tse=class extends vz{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,n,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tse(e.radius,e.detail)}},eb=class extends Mr{constructor(e=1,t=32,r=16,i=0,n=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:n,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let s=Math.min(a+o,Math.PI),l=0,c=[],u=new q,d=new q,h=[],f=[],m=[],A=[];for(let g=0;g<=r;g++){let p=[],v=g/r,y=0;g==0&&a==0?y=.5/t:g==r&&s==Math.PI&&(y=-.5/t);for(let b=0;b<=t;b++){let x=b/t;u.x=-e*Math.cos(i+x*n)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(i+x*n)*Math.sin(a+v*o),f.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),A.push(x+y,1-v),p.push(l++)}c.push(p)}for(let g=0;g<r;g++)for(let p=0;p<t;p++){let v=c[g][p+1],y=c[g][p],b=c[g+1][p],x=c[g+1][p+1];(g!==0||a>0)&&h.push(v,y,x),(g!==r-1||s<Math.PI)&&h.push(y,b,x)}this.setIndex(h),this.setAttribute("position",new sr(f,3)),this.setAttribute("normal",new sr(m,3)),this.setAttribute("uv",new sr(A,2))}static fromJSON(e){return new eb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},rse=class extends Mr{constructor(e=1,t=.4,r=12,i=48,n=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:n},r=Math.floor(r),i=Math.floor(i);let a=[],o=[],s=[],l=[],c=new q,u=new q,d=new q;for(let h=0;h<=r;h++)for(let f=0;f<=i;f++){let m=f/i*n,A=h/r*Math.PI*2;u.x=(e+t*Math.cos(A))*Math.cos(m),u.y=(e+t*Math.cos(A))*Math.sin(m),u.z=t*Math.sin(A),o.push(u.x,u.y,u.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(f/i),l.push(h/r)}for(let h=1;h<=r;h++)for(let f=1;f<=i;f++){let m=(i+1)*h+f-1,A=(i+1)*(h-1)+f-1,g=(i+1)*(h-1)+f,p=(i+1)*h+f;a.push(m,A,p),a.push(A,g,p)}this.setIndex(a),this.setAttribute("position",new sr(o,3)),this.setAttribute("normal",new sr(s,3)),this.setAttribute("uv",new sr(l,2))}static fromJSON(e){return new rse(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},ise=class extends Mr{constructor(e=1,t=.4,r=64,i=8,n=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:n,q:a},r=Math.floor(r),i=Math.floor(i);let o=[],s=[],l=[],c=[],u=new q,d=new q,h=new q,f=new q,m=new q,A=new q,g=new q;for(let v=0;v<=r;++v){let y=v/r*n*Math.PI*2;p(y,n,a,e,h),p(y+.01,n,a,e,f),A.subVectors(f,h),g.addVectors(f,h),m.crossVectors(A,g),g.crossVectors(m,A),m.normalize(),g.normalize();for(let b=0;b<=i;++b){let x=b/i*Math.PI*2,w=-t*Math.cos(x),C=t*Math.sin(x);u.x=h.x+(w*g.x+C*m.x),u.y=h.y+(w*g.y+C*m.y),u.z=h.z+(w*g.z+C*m.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(v/r),c.push(b/i)}}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){let b=(i+1)*(v-1)+(y-1),x=(i+1)*v+(y-1),w=(i+1)*v+y,C=(i+1)*(v-1)+y;o.push(b,x,C),o.push(x,w,C)}this.setIndex(o),this.setAttribute("position",new sr(s,3)),this.setAttribute("normal",new sr(l,3)),this.setAttribute("uv",new sr(c,2));function p(v,y,b,x,w){let C=Math.cos(v),_=Math.sin(v),B=b/y*v,P=Math.cos(B);w.x=x*(2+P)*.5*C,w.y=x*(2+P)*_*.5,w.z=x*Math.sin(B)*.5}}static fromJSON(e){return new ise(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Np(e,t,r){return nse(e)?new e.constructor(e.subarray(t,r!==void 0?r:e.length)):e.slice(t,r)}function NE(e,t,r){return!e||!r&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function nse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BNe(e){function t(n,a){return e[n]-e[a]}let r=e.length,i=new Array(r);for(let n=0;n!==r;++n)i[n]=n;return i.sort(t),i}function XG(e,t,r){let i=e.length,n=new e.constructor(i);for(let a=0,o=0;o!==i;++a){let s=r[a]*t;for(let l=0;l!==t;++l)n[o++]=e[s+l]}return n}function ase(e,t,r,i){let n=1,a=e[0];for(;a!==void 0&&a[i]===void 0;)a=e[n++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(t.push(a.time),r.push.apply(r,o)),a=e[n++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(t.push(a.time),o.toArray(r,r.length)),a=e[n++];while(a!==void 0);else do o=a[i],o!==void 0&&(t.push(a.time),r.push(o)),a=e[n++];while(a!==void 0)}var C3=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],n=t[r-1];e:{t:{let a;r:{n:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<n)break n;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(n=i,i=t[++r],e<i)break t}a=t.length;break r}if(!(e>=n)){let o=t[1];e<o&&(r=2,n=o);for(let s=r-2;;){if(n===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===s)break;if(i=n,n=t[--r-1],e>=n)break t}a=r,r=0;break r}break e}for(;r<a;){let o=r+a>>>1;e<t[o]?a=o:r=o+1}if(i=t[r],n=t[r-1],n===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,n,i)}return this.interpolate_(r,n,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,n=e*i;for(let a=0;a!==i;++a)t[a]=r[n+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},MNe=class extends C3{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Py,endingEnd:Py}}intervalChanged_(e,t,r){let i=this.parameterPositions,n=e-2,a=e+1,o=i[n],s=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Ty:n=e,o=2*t-r;break;case eP:n=i.length-2,o=t+i[n]-i[n+1];break;default:n=e,o=r}if(s===void 0)switch(this.getSettings_().endingEnd){case Ty:a=e,s=2*r-t;break;case eP:a=1,s=r+i[1]-i[0];break;default:a=e-1,s=t}let l=(r-t)*.5,c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-r),this._offsetPrev=n*c,this._offsetNext=a*c}interpolate_(e,t,r,i){let n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(r-t)/(i-t),m=f*f,A=m*f,g=-d*A+2*d*m-d*f,p=(1+d)*A+(-1.5-2*d)*m+(-.5+d)*f+1,v=(-1-h)*A+(1.5+h)*m+.5*f,y=h*A-h*m;for(let b=0;b!==o;++b)n[b]=g*a[c+b]+p*a[l+b]+v*a[s+b]+y*a[u+b];return n}},ose=class extends C3{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(r-t)/(i-t),u=1-c;for(let d=0;d!==o;++d)n[d]=a[l+d]*u+a[s+d]*c;return n}},PNe=class extends C3{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},xh=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=NE(t,this.TimeBufferType),this.values=NE(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:NE(e.times,Array),values:NE(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new PNe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ose(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MNe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case JM:t=this.InterpolantFactoryMethodDiscrete;break;case ZM:t=this.InterpolantFactoryMethodLinear;break;case YD:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return JM;case this.InterpolantFactoryMethodLinear:return ZM;case this.InterpolantFactoryMethodSmooth:return YD}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,n=0,a=i-1;for(;n!==i&&r[n]<e;)++n;for(;a!==-1&&r[a]>t;)--a;if(++a,n!==0||a!==i){n>=a&&(a=Math.max(a,1),n=a-1);let o=this.getValueSize();this.times=Np(r,n,a),this.values=Np(this.values,n*o,a*o)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,n=r.length;n===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==n;o++){let s=r[o];if(typeof s=="number"&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(a!==null&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(i!==void 0&&nse(i))for(let o=0,s=i.length;o!==s;++o){let l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e}optimize(){let e=Np(this.times),t=Np(this.values),r=this.getValueSize(),i=this.getInterpolation()===YD,n=e.length-1,a=1;for(let o=1;o<n;++o){let s=!1,l=e[o],c=e[o+1];if(l!==c&&(o!==1||l!==e[0]))if(i)s=!0;else{let u=o*r,d=u-r,h=u+r;for(let f=0;f!==r;++f){let m=t[u+f];if(m!==t[d+f]||m!==t[h+f]){s=!0;break}}}if(s){if(o!==a){e[a]=e[o];let u=o*r,d=a*r;for(let h=0;h!==r;++h)t[d+h]=t[u+h]}++a}}if(n>0){e[a]=e[n];for(let o=n*r,s=a*r,l=0;l!==r;++l)t[s+l]=t[o+l];++a}return a!==e.length?(this.times=Np(e,0,a),this.values=Np(t,0,a*r)):(this.times=e,this.values=t),this}clone(){let e=Np(this.times,0),t=Np(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};xh.prototype.TimeBufferType=Float32Array;xh.prototype.ValueBufferType=Float32Array;xh.prototype.DefaultInterpolation=ZM;var A1=class extends xh{};A1.prototype.ValueTypeName="bool";A1.prototype.ValueBufferType=Array;A1.prototype.DefaultInterpolation=JM;A1.prototype.InterpolantFactoryMethodLinear=void 0;A1.prototype.InterpolantFactoryMethodSmooth=void 0;var sse=class extends xh{};sse.prototype.ValueTypeName="color";var oP=class extends xh{};oP.prototype.ValueTypeName="number";var TNe=class extends C3{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(r-t)/(i-t),l=e*o;for(let c=l+o;l!==c;l+=4)qr.slerpFlat(n,0,a,l-o,a,l,s);return n}},g_=class extends xh{InterpolantFactoryMethodLinear(e){return new TNe(this.times,this.values,this.getValueSize(),e)}};g_.prototype.ValueTypeName="quaternion";g_.prototype.DefaultInterpolation=ZM;g_.prototype.InterpolantFactoryMethodSmooth=void 0;var g1=class extends xh{};g1.prototype.ValueTypeName="string";g1.prototype.ValueBufferType=Array;g1.prototype.DefaultInterpolation=JM;g1.prototype.InterpolantFactoryMethodLinear=void 0;g1.prototype.InterpolantFactoryMethodSmooth=void 0;var sP=class extends xh{};sP.prototype.ValueTypeName="vector";var _R=class{constructor(e,t=-1,r,i=sz){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=iu(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)t.push(DNe(r[a]).scale(i));let n=new this(e.name,e.duration,t,e.blendMode);return n.uuid=e.uuid,n}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let n=0,a=r.length;n!==a;++n)t.push(xh.toJSON(r[n]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let n=t.length,a=[];for(let o=0;o<n;o++){let s=[],l=[];s.push((o+n-1)%n,o,(o+1)%n),l.push(0,1,0);let c=BNe(s);s=XG(s,1,c),l=XG(l,1,c),!i&&s[0]===0&&(s.push(n),l.push(l[0])),a.push(new oP(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},n=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){let l=e[o],c=l.name.match(n);if(c&&c.length>1){let u=c[1],d=i[u];d||(i[u]=d=[]),d.push(l)}}let a=[];for(let o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(c,u,d,h,f){if(d.length!==0){let m=[],A=[];ase(d,m,A,h),m.length!==0&&f.push(new c(u,m,A))}},i=[],n=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[];for(let c=0;c<l.length;c++){let u=l[c].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let d={},h;for(h=0;h<u.length;h++)if(u[h].morphTargets)for(let f=0;f<u[h].morphTargets.length;f++)d[u[h].morphTargets[f]]=-1;for(let f in d){let m=[],A=[];for(let g=0;g!==u[h].morphTargets.length;++g){let p=u[h];m.push(p.time),A.push(p.morphTarget===f?1:0)}i.push(new oP(".morphTargetInfluence["+f+"]",m,A))}s=d.length*a}else{let d=".bones["+t[c].name+"]";r(sP,d+".position",u,"pos",i),r(g_,d+".quaternion",u,"rot",i),r(sP,d+".scale",u,"scl",i)}}return i.length===0?null:new this(n,s,i,o)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let n=this.tracks[r];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function ONe(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return oP;case"vector":case"vector2":case"vector3":case"vector4":return sP;case"color":return sse;case"quaternion":return g_;case"bool":case"boolean":return A1;case"string":return g1}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function DNe(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=ONe(e.type);if(e.times===void 0){let r=[],i=[];ase(e.keys,r,i,"value"),e.times=r,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var lP={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},lse=class{constructor(e,t,r){let i=this,n=!1,a=0,o=0,s,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){o++,n===!1&&i.onStart!==void 0&&i.onStart(c,a,o),n=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,o),a===o&&(n=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return s?s(c):c},this.setURLModifier=function(c){return s=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){let u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){let h=l[u],f=l[u+1];if(h.global&&(h.lastIndex=0),h.test(c))return f}return null}}},INe=new lse,m_=class{constructor(e){this.manager=e!==void 0?e:INe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,n){r.load(e,i,t,n)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Vh={},FNe=class extends Error{constructor(e,t){super(e),this.response=t}},SR=class extends m_{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let n=lP.get(e);if(n!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(n),this.manager.itemEnd(e)},0),n;if(Vh[e]!==void 0){Vh[e].push({onLoad:t,onProgress:r,onError:i});return}Vh[e]=[],Vh[e].push({onLoad:t,onProgress:r,onError:i});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;let c=Vh[e],u=l.body.getReader(),d=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),h=d?parseInt(d):0,f=h!==0,m=0,A=new ReadableStream({start(g){p();function p(){u.read().then(({done:v,value:y})=>{if(v)g.close();else{m+=y.byteLength;let b=new ProgressEvent("progress",{lengthComputable:f,loaded:m,total:h});for(let x=0,w=c.length;x<w;x++){let C=c[x];C.onProgress&&C.onProgress(b)}g.enqueue(y),p()}})}}});return new Response(A)}else throw new FNe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(s){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return l.json();default:if(o===void 0)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(o),u=c&&c[1]?c[1].toLowerCase():void 0,d=new TextDecoder(u);return l.arrayBuffer().then(h=>d.decode(h))}}}).then(l=>{lP.add(e,l);let c=Vh[e];delete Vh[e];for(let u=0,d=c.length;u<d;u++){let h=c[u];h.onLoad&&h.onLoad(l)}}).catch(l=>{let c=Vh[e];if(c===void 0)throw this.manager.itemError(e),l;delete Vh[e];for(let u=0,d=c.length;u<d;u++){let h=c[u];h.onError&&h.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},LNe=class extends m_{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let n=this,a=lP.get(e);if(a!==void 0)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;let o=gC("img");function s(){c(),lP.add(e,this),t&&t(this),n.manager.itemEnd(e)}function l(u){c(),i&&i(u),n.manager.itemError(e),n.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(e),o.src=e,o}},RNe=class extends m_{constructor(e){super(e)}load(e,t,r,i){let n=new ia,a=new LNe(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){n.image=o,n.needsUpdate=!0,t!==void 0&&t(n)},r,i),n}},v_=class extends on{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},UNe=class extends v_{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},E4=new kt,YG=new q,$G=new q,yz=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.map=null,this.mapPass=null,this.matrix=new kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dz,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new Xr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;YG.setFromMatrixPosition(e.matrixWorld),t.position.copy(YG),$G.setFromMatrixPosition(e.target.matrixWorld),t.lookAt($G),t.updateMatrixWorld(),E4.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(E4),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(E4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},NNe=class extends yz{constructor(){super(new Ss(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,r=AC*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;(r!==t.fov||i!==t.aspect||n!==t.far)&&(t.fov=r,t.aspect=i,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},kNe=class extends v_{constructor(e,t,r=0,i=Math.PI/3,n=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.distance=r,this.angle=i,this.penumbra=n,this.decay=a,this.map=null,this.shadow=new NNe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},JG=new kt,Ww=new q,B4=new q,jNe=class extends yz{constructor(){super(new Ss(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ke(4,2),this._viewportCount=6,this._viewports=[new Xr(2,1,1,1),new Xr(0,1,1,1),new Xr(3,1,1,1),new Xr(1,1,1,1),new Xr(3,0,1,1),new Xr(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,n=e.distance||r.far;n!==r.far&&(r.far=n,r.updateProjectionMatrix()),Ww.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ww),B4.copy(r.position),B4.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(B4),r.updateMatrixWorld(),i.makeTranslation(-Ww.x,-Ww.y,-Ww.z),JG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JG)}},zNe=class extends v_{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new jNe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},HNe=class extends yz{constructor(){super(new y3(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},VNe=class extends v_{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.shadow=new HNe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},cse=class extends Mr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},use=class extends m_{constructor(e){super(e)}load(e,t,r,i){let n=this,a=new SR(n.manager);a.setPath(n.path),a.setRequestHeader(n.requestHeader),a.setWithCredentials(n.withCredentials),a.load(e,function(o){try{t(n.parse(JSON.parse(o)))}catch(s){i?i(s):console.error(s),n.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(d,h){if(t[h]!==void 0)return t[h];let f=d.interleavedBuffers[h],m=n(d,f.buffer),A=pE(f.type,m),g=new qUe(A,f.stride);return g.uuid=f.uuid,t[h]=g,g}function n(d,h){if(r[h]!==void 0)return r[h];let f=d.arrayBuffers[h],m=new Uint32Array(f).buffer;return r[h]=m,m}let a=e.isInstancedBufferGeometry?new cse:new Mr,o=e.data.index;if(o!==void 0){let d=pE(o.type,o.array);a.setIndex(new Qr(d,1))}let s=e.data.attributes;for(let d in s){let h=s[d],f;if(h.isInterleavedBufferAttribute){let m=i(e.data,h.data);f=new wR(m,h.itemSize,h.offset,h.normalized)}else{let m=pE(h.type,h.array),A=h.isInstancedBufferAttribute?mC:Qr;f=new A(m,h.itemSize,h.normalized)}h.name!==void 0&&(f.name=h.name),h.usage!==void 0&&f.setUsage(h.usage),h.updateRange!==void 0&&(f.updateRange.offset=h.updateRange.offset,f.updateRange.count=h.updateRange.count),a.setAttribute(d,f)}let l=e.data.morphAttributes;if(l)for(let d in l){let h=l[d],f=[];for(let m=0,A=h.length;m<A;m++){let g=h[m],p;if(g.isInterleavedBufferAttribute){let v=i(e.data,g.data);p=new wR(v,g.itemSize,g.offset,g.normalized)}else{let v=pE(g.type,g.array);p=new Qr(v,g.itemSize,g.normalized)}g.name!==void 0&&(p.name=g.name),f.push(p)}a.morphAttributes[d]=f}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let d=0,h=c.length;d!==h;++d){let f=c[d];a.addGroup(f.start,f.count,f.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let d=new q;u.center!==void 0&&d.fromArray(u.center),a.boundingSphere=new jl(d,u.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}},QNe=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ZG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=ZG();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function ZG(){return(typeof performance>"u"?Date:performance).now()}var WNe=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,n,a;switch(t){case"quaternion":i=this._slerp,n=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,n=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,n=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=n,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,n=e*i+i,a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[n+o]=r[o];a=t}else{a+=t;let o=t/a;this._mixBufferRegion(r,n,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,n=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){let s=t*this._origIndex;this._mixBufferRegion(r,i,s,1-n,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(r[s]!==r[s+t]){o.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let n=r,a=i;n!==a;++n)t[n]=t[i+n%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,n){if(i>=.5)for(let a=0;a!==n;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){qr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,n){let a=this._workIndex*n;qr.multiplyQuaternionsFlat(e,a,e,t,e,r),qr.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,n){let a=1-i;for(let o=0;o!==n;++o){let s=t+o;e[s]=e[s]*a+e[r+o]*i}}_lerpAdditive(e,t,r,i,n){for(let a=0;a!==n;++a){let o=t+a;e[o]=e[o]+e[r+a]*i}}},bz="\\[\\]\\.:\\/",GNe=new RegExp("["+bz+"]","g"),wz="[^"+bz+"]",qNe="[^"+bz.replace("\\.","")+"]",KNe=/((?:WC+[\/:])*)/.source.replace("WC",wz),XNe=/(WCOD+)?/.source.replace("WCOD",qNe),YNe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wz),$Ne=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wz),JNe=new RegExp("^"+KNe+XNe+YNe+$Ne+"$"),ZNe=["material","materials","bones","map"],eke=class{constructor(e,t,r){let i=r||bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=r.length;i!==n;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},bn=class{constructor(e,t,r){this.path=t,this.parsedPath=r||bn.parseTrackName(t),this.node=bn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new bn.Composite(e,t,r):new bn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(GNe,"")}static parseTrackName(e){let t=JNe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let n=r.nodeName.substring(i+1);ZNe.indexOf(n)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=n)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(n){for(let a=0;a<n.length;a++){let o=n[a];if(o.name===t||o.uuid===t)return o;let s=r(o.children);if(s)return s}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,n=t.propertyIndex;if(e||(e=bn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let l=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}let a=e[i];if(a===void 0){let l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(n!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[n]!==void 0&&(n=e.morphTargetDictionary[n])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=n}else a.fromArray!==void 0&&a.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};bn.Composite=eke;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var tke=class{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;let n=t.tracks,a=n.length,o=new Array(a),s={endingStart:Py,endingEnd:Py};for(let l=0;l!==a;++l){let c=n[l].createInterpolant(null);o[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Moe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let i=this._clip.duration,n=e._clip.duration,a=n/i,o=i/n;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,n=i.time,a=this.timeScale,o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);let s=o.parameterPositions,l=o.sampleValues;return s[0]=n,s[1]=n+r,l[0]=e/a,l[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}let n=this._startTime;if(n!==null){let s=(e-n)*r;s<0||r===0?t=0:(this._startTime=null,t=r*s)}t*=this._updateTimeScale(e);let a=this._updateTime(t),o=this._updateWeight(e);if(o>0){let s=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case O4e:for(let c=0,u=s.length;c!==u;++c)s[c].evaluate(a),l[c].accumulateAdditive(o);break;case sz:default:for(let c=0,u=s.length;c!==u;++c)s[c].evaluate(a),l[c].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,n=this._loopCount,a=r===oz;if(e===0)return n===-1?i:a&&(n&1)===1?t-i:i;if(r===Boe){n===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(n===-1&&(e>=0?(n=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){let o=Math.floor(i/t);i-=t*o,n+=Math.abs(o);let s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(s===1){let l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(n&1)===1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=Ty,i.endingEnd=Ty):(e?i.endingStart=this.zeroSlopeAtStart?Ty:Py:i.endingStart=eP,t?i.endingEnd=this.zeroSlopeAtEnd?Ty:Py:i.endingEnd=eP)}_scheduleFading(e,t,r){let i=this._mixer,n=i.time,a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);let o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=t,o[1]=n+e,s[1]=r,this}},rke=new Float32Array(1),ike=class extends as{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,n=i.length,a=e._propertyBindings,o=e._interpolants,s=r.uuid,l=this._bindingsByRootAndName,c=l[s];c===void 0&&(c={},l[s]=c);for(let u=0;u!==n;++u){let d=i[u],h=d.name,f=c[h];if(f!==void 0)++f.referenceCount,a[u]=f;else{if(f=a[u],f!==void 0){f._cacheIndex===null&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}let m=t&&t._propertyBindings[u].binding.parsedPath;f=new WNe(bn.create(r,h,m),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,s,h),a[u]=f}o[u].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,n=this._actionsByClip[i];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,i,r)}let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let n=t[r];n.useCount++===0&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let n=t[r];--n.useCount===0&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,n=this._actionsByClip,a=n[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=a;else{let o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let n=e._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;let u=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],s.length===0&&delete a[n],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let n=t[r];--n.referenceCount===0&&this._removeInactiveBinding(n)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,n=this._bindings,a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=n.length,n.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,n=r.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[n],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new ose(new Float32Array(2),new Float32Array(2),1,rke),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,n=t[i];e.__cacheIndex=i,t[i]=e,n.__cacheIndex=r,t[r]=n}clipAction(e,t,r){let i=t||this._root,n=i.uuid,a=typeof e=="string"?_R.findByName(i,e):e,o=a!==null?a.uuid:e,s=this._actionsByClip[o],l=null;if(r===void 0&&(a!==null?r=a.blendMode:r=sz),s!==void 0){let u=s.actionByRoot[n];if(u!==void 0&&u.blendMode===r)return u;l=s.knownActions[0],a===null&&(a=l._clip)}if(a===null)return null;let c=new tke(this,a,t,r);return this._bindAction(c,l),this._addInactiveAction(c,o,n),c}existingAction(e,t){let r=t||this._root,i=r.uuid,n=typeof e=="string"?_R.findByName(r,e):e,a=n?n.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,n=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==r;++l)t[l]._update(i,e,n,a);let o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,n=i[r];if(n!==void 0){let a=n.knownActions;for(let o=0,s=a.length;o!==s;++o){let l=a[o];this._deactivateAction(l);let c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let a in r){let o=r[a].actionByRoot,s=o[t];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}let i=this._bindingsByRootAndName,n=i[t];if(n!==void 0)for(let a in n){let o=n[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}},It=class{constructor(t){this.value=t}clone(){return new It(this.value.clone===void 0?this.value:this.value.clone())}},dse=class{constructor(e,t,r=0,i=1/0){this.ray=new h1(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new cz,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return ER(e,this,r,t),r.sort(e9),r}intersectObjects(e,t=!0,r=[]){for(let i=0,n=e.length;i<n;i++)ER(e[i],this,r,t);return r.sort(e9),r}};function e9(e,t){return e.distance-t.distance}function ER(e,t,r,i){if(e.layers.test(t.layers)&&e.raycast(t,r),i===!0){let n=e.children;for(let a=0,o=n.length;a<o;a++)ER(n[a],t,r,!0)}}var t9=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Qa(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},r9=new ke,hse=class{constructor(e=new ke(1/0,1/0),t=new ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=r9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return r9.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},i9=new q,kE=new q,nu=class{constructor(e=new q,t=new q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){i9.subVectors(e,this.start),kE.subVectors(this.end,this.start);let r=kE.dot(kE),i=kE.dot(i9)/r;return t&&(i=Qa(i,0,1)),i}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},n9=new q,nke=class extends on{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let r=new Mr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){let l=a/s*Math.PI*2,c=o/s*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new sr(i,3));let n=new hg({fog:!1,toneMapped:!1});this.cone=new A_(r,n),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),n9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(n9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},ake=class extends ta{constructor(e,t,r){let i=new eb(t,4,2),n=new jf({wireframe:!0,fog:!1,toneMapped:!1});super(i,n),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},a9=new q,jE=new q,o9=new q,oke=class extends on{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Mr;i.setAttribute("position",new sr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let n=new hg({fog:!1,toneMapped:!1});this.lightPlane=new iP(i,n),this.add(this.lightPlane),i=new Mr,i.setAttribute("position",new sr([0,0,0,0,0,1],3)),this.targetLine=new iP(i,n),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),a9.setFromMatrixPosition(this.light.matrixWorld),jE.setFromMatrixPosition(this.light.target.matrixWorld),o9.subVectors(jE,a9),this.lightPlane.lookAt(jE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jE),this.targetLine.scale.z=o9.length()}},zE=new q,sa=new S0,cP=class extends A_{constructor(e){let t=new Mr,r=new hg({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],n=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(f,m){s(f),s(m)}function s(f){i.push(0,0,0),n.push(0,0,0),a[f]===void 0&&(a[f]=[]),a[f].push(i.length/3-1)}t.setAttribute("position",new sr(i,3)),t.setAttribute("color",new sr(n,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();let l=new Rr(16755200),c=new Rr(16711680),u=new Rr(43775),d=new Rr(16777215),h=new Rr(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,r,i,n){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,n.r,n.g,n.b),a.setXYZ(41,n.r,n.g,n.b),a.setXYZ(42,n.r,n.g,n.b),a.setXYZ(43,n.r,n.g,n.b),a.setXYZ(44,n.r,n.g,n.b),a.setXYZ(45,n.r,n.g,n.b),a.setXYZ(46,n.r,n.g,n.b),a.setXYZ(47,n.r,n.g,n.b),a.setXYZ(48,n.r,n.g,n.b),a.setXYZ(49,n.r,n.g,n.b),a.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,r=1,i=1;sa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ca("c",t,e,sa,0,0,-1),Ca("t",t,e,sa,0,0,1),Ca("n1",t,e,sa,-r,-i,-1),Ca("n2",t,e,sa,r,-i,-1),Ca("n3",t,e,sa,-r,i,-1),Ca("n4",t,e,sa,r,i,-1),Ca("f1",t,e,sa,-r,-i,1),Ca("f2",t,e,sa,r,-i,1),Ca("f3",t,e,sa,-r,i,1),Ca("f4",t,e,sa,r,i,1),Ca("u1",t,e,sa,r*.7,i*1.1,-1),Ca("u2",t,e,sa,-r*.7,i*1.1,-1),Ca("u3",t,e,sa,0,i*2,-1),Ca("cf1",t,e,sa,-r,0,1),Ca("cf2",t,e,sa,r,0,1),Ca("cf3",t,e,sa,0,-i,1),Ca("cf4",t,e,sa,0,i,1),Ca("cn1",t,e,sa,-r,0,-1),Ca("cn2",t,e,sa,r,0,-1),Ca("cn3",t,e,sa,0,-i,-1),Ca("cn4",t,e,sa,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ca(e,t,r,i,n,a,o){zE.set(n,a,o).unproject(i);let s=t[e];if(s!==void 0){let l=r.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],zE.x,zE.y,zE.z)}}var uP=class extends A_{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],n=new Mr;n.setIndex(new Qr(r,1)),n.setAttribute("position",new sr(i,3)),super(n,new hg({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},ske=class extends A_{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Mr;i.setAttribute("position",new sr(t,3)),i.setAttribute("color",new sr(r,3));let n=new hg({vertexColors:!0,toneMapped:!1});super(i,n),this.type="AxesHelper"}setColors(e,t,r){let i=new Rr,n=this.geometry.attributes.color.array;return i.set(e),i.toArray(n,0),i.toArray(n,3),i.set(t),i.toArray(n,6),i.toArray(n,9),i.set(r),i.toArray(n,12),i.toArray(n,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},hf=lke();function lke(){let e=new ArrayBuffer(4),t=new Float32Array(e),r=new Uint32Array(e),i=new Uint32Array(512),n=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[l|256]=32768,n[l]=24,n[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,n[l]=-c-1,n[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,n[l]=13,n[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,n[l]=24,n[l|256]=24):(i[l]=31744,i[l|256]=64512,n[l]=13,n[l|256]=13)}let a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:t,uint32View:r,baseTable:i,shiftTable:n,mantissaTable:a,exponentTable:o,offsetTable:s}}function cke(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Qa(e,-65504,65504),hf.floatView[0]=e;let t=hf.uint32View[0],r=t>>23&511;return hf.baseTable[r]+((t&8388607)>>hf.shiftTable[r])}function uke(e){let t=e>>10;return hf.uint32View[0]=hf.mantissaTable[hf.offsetTable[t]+(e&1023)]+hf.exponentTable[t],hf.floatView[0]}var dke=Object.freeze({__proto__:null,fromHalfFloat:uke,toHalfFloat:cke});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d1);var Gw=".",xz=Symbol("target"),fse=Symbol("unsubscribe");function BR(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function hke(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var $d=Array.isArray;function Cz(e){return typeof e=="symbol"}var fke={after:(e,t)=>$d(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>$d(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=Gw),Cz(t)?e+t.toString():e+t):e,initial:e=>{if($d(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(Gw);return t===-1?"":e.slice(0,t)},last:e=>{if($d(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(Gw);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if($d(e))for(let r of e)t(r);else if(e!==""){let r=0,i=e.indexOf(Gw);if(i===-1)t(e);else for(;r<e.length;)i===-1&&(i=e.length),t(e.slice(r,i)),r=i+1,i=e.indexOf(Gw,r)}},get(e,t){return this.walk(t,r=>{e&&(e=e[r])}),e}},Hc=fke;function pke(e){return typeof e=="object"&&typeof e.next=="function"}function Ake(e,t,r,i,n){let a=e.next;if(t.name==="entries")e.next=function(){let o=a.call(this);return o.done===!1&&(o.value[0]=n(o.value[0],t,o.value[0],i),o.value[1]=n(o.value[1],t,o.value[0],i)),o};else if(t.name==="values"){let o=r[xz].keys();e.next=function(){let s=a.call(this);return s.done===!1&&(s.value=n(s.value,t,o.next().value,i)),s}}else e.next=function(){let o=a.call(this);return o.done===!1&&(o.value=n(o.value,t,o.value,i)),o};return e}function s9(e,t,r){return e.isUnsubscribed||t.ignoreSymbols&&Cz(r)||t.ignoreUnderscores&&r.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(r)}var gke=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),r=t.get(e);return r===void 0&&(r={},t.set(e,r)),r}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let r=this._getProperties(e),i=r[t];return i===void 0&&(i=Reflect.getOwnPropertyDescriptor(e,t),r[t]=i),i}getProxy(e,t,r,i){if(this.isUnsubscribed)return e;let n=e[i],a=n||e;this._pathCache.set(a,t);let o=this._proxyCache.get(a);return o===void 0&&(o=n===void 0?new Proxy(e,r):e,this._proxyCache.set(a,o)),o}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Hc.get(t,this.getPath(e)))}defineProperty(e,t,r){return Reflect.defineProperty(e,t,r)?(this.isUnsubscribed||(this._getProperties(e)[t]=r),!0):!1}setProperty(e,t,r,i,n){if(!this._equals(n,r)||!(t in e)){let a=this._getOwnPropertyDescriptor(e,t);return a!==void 0&&"set"in a?Reflect.set(e,t,r,i):Reflect.set(e,t,r)}return!0}deleteProperty(e,t,r){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(r))}return!0}return!1}isSameDescriptor(e,t,r){let i=this._getOwnPropertyDescriptor(t,r);return e!==void 0&&i!==void 0&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let r=this._getOwnPropertyDescriptor(e,t);return r!==void 0&&r.configurable!==!0&&r.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function MR(e){return toString.call(e)==="[object Object]"}function HE(){return!0}function Rv(e,t){return e.length!==t.length||e.some((r,i)=>t[i]!==r)}var pse=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),mke=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),Ase={push:HE,pop:HE,shift:HE,unshift:HE,copyWithin:Rv,reverse:Rv,sort:Rv,splice:Rv,flat:Rv,fill:Rv},vke=new Set([...pse,...mke,...Object.keys(Ase)]);function VE(e,t){if(e.size!==t.size)return!0;for(let r of e)if(!t.has(r))return!0;return!1}var gse=["keys","values","entries"],mse=new Set(["has","toString"]),vse={add:VE,clear:VE,delete:VE,forEach:VE},yke=new Set([...mse,...Object.keys(vse),...gse]);function QE(e,t){if(e.size!==t.size)return!0;let r;for(let[i,n]of e)if(r=t.get(i),r!==n||r===void 0&&!t.has(i))return!0;return!1}var bke=new Set([...mse,"get"]),yse={set:QE,clear:QE,delete:QE,forEach:QE},wke=new Set([...bke,...Object.keys(yse),...gse]),ig=class{constructor(e,t,r,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return pse.has(e)}_shallowClone(e){let t=e;if(MR(e))t={...e};else if($d(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(r=>this._shallowClone(r)));else if(e instanceof Map){t=new Map;for(let[r,i]of e.entries())t.set(r,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,r,i){return e?($d(i)?this._onIsChanged=Ase[t]:i instanceof Set?this._onIsChanged=vse[t]:i instanceof Map&&(this._onIsChanged=yse[t]),i):r}update(e,t,r){let i=Hc.after(e,this._path);if(t!=="length"){let n=this.clone;Hc.walk(i,a=>{n&&n[a]&&(this._clonedCache.has(n[a])||(n[a]=this._shallowClone(n[a])),n=n[a])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:r}),n&&n[t]&&(n[t]=r)}this._isChanged=!0}undo(e){let t;for(let r=this._changes.length-1;r!==-1;r--)t=this._changes[r],Hc.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},l9=class extends ig{static isHandledMethod(e){return vke.has(e)}},xke=class extends ig{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},c9=class extends ig{static isHandledMethod(e){return yke.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},u9=class extends ig{static isHandledMethod(e){return wke.has(e)}undo(e){for(let[t,r]of this.clone.entries())e.set(t,r);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},Cke=class extends ig{constructor(e,t,r,i){super(void 0,t,r,i),this._arg1=r[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},_ke=class extends ig{constructor(e,t,r,i){super(void 0,t,r,i),this._weakKey=r[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},oy=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return MR(e)||$d(e)||BR(e)}static isHandledMethod(e,t){return MR(e)?ig.isHandledMethod(t):$d(e)?l9.isHandledMethod(t):e instanceof Set?c9.isHandledMethod(t):e instanceof Map?u9.isHandledMethod(t):BR(e)}get isCloning(){return this._stack.length>0}start(e,t,r){let i=ig;$d(e)?i=l9:e instanceof Date?i=xke:e instanceof Set?i=c9:e instanceof Map?i=u9:e instanceof WeakSet?i=Cke:e instanceof WeakMap&&(i=_ke),this._stack.push(new i(e,t,r,this._hasOnValidate))}update(e,t,r){this._stack[this._stack.length-1].update(e,t,r)}preferredThisArg(e,t,r){let{name:i}=e,n=oy.isHandledMethod(r,i);return this._stack[this._stack.length-1].preferredThisArg(n,i,t,r)}isChanged(e,t,r){return this._stack[this._stack.length-1].isChanged(e,t,r)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},Ske={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},_z=(e,t,r={})=>{r={...Ske,...r};let i=Symbol("ProxyTarget"),{equals:n,isShallow:a,ignoreDetached:o,details:s}=r,l=new gke(n),c=typeof r.onValidate=="function",u=new oy(c),d=(v,y,b,x,w)=>!c||u.isCloning||r.onValidate(Hc.concat(l.getPath(v),y),b,x,w)===!0,h=(v,y,b,x)=>{!s9(l,r,y)&&!(o&&l.isDetached(v,e))&&f(l.getPath(v),y,b,x)},f=(v,y,b,x,w)=>{u.isCloning?u.update(v,y,x):t(Hc.concat(v,y),b,x,w)},m=v=>v&&(v[i]||v),A=(v,y,b,x)=>hke(v)||b==="constructor"||a&&!oy.isHandledMethod(y,b)||s9(l,r,b)||l.isGetInvariant(y,b)||o&&l.isDetached(y,e)?v:(x===void 0&&(x=l.getPath(y)),l.getProxy(v,Hc.concat(x,b),g,i)),g={get(v,y,b){if(Cz(y)){if(y===i||y===xz)return v;if(y===fse&&!l.isUnsubscribed&&l.getPath(v).length===0)return l.unsubscribe(),v}let x=BR(v)?Reflect.get(v,y):Reflect.get(v,y,b);return A(x,v,y)},set(v,y,b,x){b=m(b);let w=v[i]||v,C=w[y];if(n(C,b)&&y in v)return!0;let _=d(v,y,b,C);return _&&l.setProperty(w,y,b,x,C)?(h(v,y,v[y],C),!0):!_},defineProperty(v,y,b){if(!l.isSameDescriptor(b,v,y)){let x=v[y];d(v,y,b.value,x)&&l.defineProperty(v,y,b,x)&&h(v,y,b.value,x)}return!0},deleteProperty(v,y){if(!Reflect.has(v,y))return!0;let b=Reflect.get(v,y),x=d(v,y,void 0,b);return x&&l.deleteProperty(v,y,b)?(h(v,y,void 0,b),!0):!x},apply(v,y,b){let x=y[i]||y;if(l.isUnsubscribed)return Reflect.apply(v,x,b);if((s===!1||s!==!0&&!s.includes(v.name))&&oy.isHandledType(x)){let w=Hc.initial(l.getPath(v)),C=oy.isHandledMethod(x,v.name);u.start(x,w,b);let _=Reflect.apply(v,u.preferredThisArg(v,y,x),C?b.map(M=>m(M)):b),B=u.isChanged(x,n),P=u.stop();if(oy.isHandledType(_)&&C&&(y instanceof Map&&v.name==="get"&&(w=Hc.concat(w,b[0])),_=l.getProxy(_,w,g)),B){let M={name:v.name,args:b,result:_},O=u.isCloning?Hc.initial(w):w,I=u.isCloning?Hc.last(w):"";d(Hc.get(e,O),I,x,P,M)?f(O,I,x,P,M):u.undo(x)}return(y instanceof Map||y instanceof Set)&&pke(_)?Ake(_,v,y,w,A):_}return Reflect.apply(v,y,b)}},p=l.getProxy(e,r.pathAsArray?[]:"",g);return t=t.bind(p),c&&(r.onValidate=r.onValidate.bind(p)),p};_z.target=e=>e&&e[xz]||e;_z.unsubscribe=e=>e[fse]||e;var d9=_z,Eke=typeof global=="object"&&global&&global.Object===Object&&global,bse=Eke,Bke=typeof self=="object"&&self&&self.Object===Object&&self,Mke=bse||Bke||Function("return this")(),sd=Mke,Pke=sd.Symbol,lu=Pke,wse=Object.prototype,Tke=wse.hasOwnProperty,Oke=wse.toString,qw=lu?lu.toStringTag:void 0;function Dke(e){var t=Tke.call(e,qw),r=e[qw];try{e[qw]=void 0;var i=!0}catch{}var n=Oke.call(e);return i&&(t?e[qw]=r:delete e[qw]),n}var Ike=Dke,Fke=Object.prototype,Lke=Fke.toString;function Rke(e){return Lke.call(e)}var Uke=Rke,Nke="[object Null]",kke="[object Undefined]",h9=lu?lu.toStringTag:void 0;function jke(e){return e==null?e===void 0?kke:Nke:h9&&h9 in Object(e)?Ike(e):Uke(e)}var E0=jke;function zke(e){return e!=null&&typeof e=="object"}var Hf=zke,Hke="[object Symbol]";function Vke(e){return typeof e=="symbol"||Hf(e)&&E0(e)==Hke}var y_=Vke;function Qke(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var xse=Qke,Wke=Array.isArray,ph=Wke,Gke=1/0,f9=lu?lu.prototype:void 0,p9=f9?f9.toString:void 0;function Cse(e){if(typeof e=="string")return e;if(ph(e))return xse(e,Cse)+"";if(y_(e))return p9?p9.call(e):"";var t=e+"";return t=="0"&&1/e==-Gke?"-0":t}var qke=Cse,Kke=/\s/;function Xke(e){for(var t=e.length;t--&&Kke.test(e.charAt(t)););return t}var Yke=Xke,$ke=/^\s+/;function Jke(e){return e&&e.slice(0,Yke(e)+1).replace($ke,"")}var Zke=Jke;function eje(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var id=eje,A9=0/0,tje=/^[-+]0x[0-9a-f]+$/i,rje=/^0b[01]+$/i,ije=/^0o[0-7]+$/i,nje=parseInt;function aje(e){if(typeof e=="number")return e;if(y_(e))return A9;if(id(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=id(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Zke(e);var r=rje.test(e);return r||ije.test(e)?nje(e.slice(2),r?2:8):tje.test(e)?A9:+e}var g9=aje;function oje(e){return e}var _se=oje,sje="[object AsyncFunction]",lje="[object Function]",cje="[object GeneratorFunction]",uje="[object Proxy]";function dje(e){if(!id(e))return!1;var t=E0(e);return t==lje||t==cje||t==sje||t==uje}var Sse=dje,hje=sd["__core-js_shared__"],M4=hje,m9=function(){var e=/[^.]+$/.exec(M4&&M4.keys&&M4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fje(e){return!!m9&&m9 in e}var pje=fje,Aje=Function.prototype,gje=Aje.toString;function mje(e){if(e!=null){try{return gje.call(e)}catch{}try{return e+""}catch{}}return""}var B0=mje,vje=/[\\^$.*+?()[\]{}|]/g,yje=/^\[object .+?Constructor\]$/,bje=Function.prototype,wje=Object.prototype,xje=bje.toString,Cje=wje.hasOwnProperty,_je=RegExp("^"+xje.call(Cje).replace(vje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sje(e){if(!id(e)||pje(e))return!1;var t=Sse(e)?_je:yje;return t.test(B0(e))}var Eje=Sje;function Bje(e,t){return e==null?void 0:e[t]}var Mje=Bje;function Pje(e,t){var r=Mje(e,t);return Eje(r)?r:void 0}var M0=Pje,Tje=M0(sd,"WeakMap"),PR=Tje,v9=Object.create,Oje=function(){function e(){}return function(t){if(!id(t))return{};if(v9)return v9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Dje=Oje;function Ije(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Fje=Ije;function Lje(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var Rje=Lje,Uje=800,Nje=16,kje=Date.now;function jje(e){var t=0,r=0;return function(){var i=kje(),n=Nje-(i-r);if(r=i,n>0){if(++t>=Uje)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zje=jje;function Hje(e){return function(){return e}}var Vje=Hje,Qje=function(){try{var e=M0(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dP=Qje,Wje=dP?function(e,t){return dP(e,"toString",{configurable:!0,enumerable:!1,value:Vje(t),writable:!0})}:_se,Gje=Wje,qje=zje(Gje),Kje=qje;function Xje(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var Yje=Xje,$je=9007199254740991,Jje=/^(?:0|[1-9]\d*)$/;function Zje(e,t){var r=typeof e;return t=t??$je,!!t&&(r=="number"||r!="symbol"&&Jje.test(e))&&e>-1&&e%1==0&&e<t}var Sz=Zje;function eze(e,t,r){t=="__proto__"&&dP?dP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ese=eze;function tze(e,t){return e===t||e!==e&&t!==t}var Ez=tze,rze=Object.prototype,ize=rze.hasOwnProperty;function nze(e,t,r){var i=e[t];(!(ize.call(e,t)&&Ez(i,r))||r===void 0&&!(t in e))&&Ese(e,t,r)}var Bz=nze;function aze(e,t,r,i){var n=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),n?Ese(r,s,l):Bz(r,s,l)}return r}var b_=aze,y9=Math.max;function oze(e,t,r){return t=y9(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,a=y9(i.length-t,0),o=Array(a);++n<a;)o[n]=i[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=i[n];return s[t]=r(o),Fje(e,this,s)}}var sze=oze,lze=9007199254740991;function cze(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lze}var Mz=cze;function uze(e){return e!=null&&Mz(e.length)&&!Sse(e)}var Bse=uze,dze=Object.prototype;function hze(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||dze;return e===r}var Pz=hze;function fze(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var pze=fze,Aze="[object Arguments]";function gze(e){return Hf(e)&&E0(e)==Aze}var b9=gze,Mse=Object.prototype,mze=Mse.hasOwnProperty,vze=Mse.propertyIsEnumerable,yze=b9(function(){return arguments}())?b9:function(e){return Hf(e)&&mze.call(e,"callee")&&!vze.call(e,"callee")},Tz=yze;function bze(){return!1}var wze=bze,Pse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,w9=Pse&&typeof module=="object"&&module&&!module.nodeType&&module,xze=w9&&w9.exports===Pse,x9=xze?sd.Buffer:void 0,Cze=x9?x9.isBuffer:void 0,_ze=Cze||wze,hP=_ze,Sze="[object Arguments]",Eze="[object Array]",Bze="[object Boolean]",Mze="[object Date]",Pze="[object Error]",Tze="[object Function]",Oze="[object Map]",Dze="[object Number]",Ize="[object Object]",Fze="[object RegExp]",Lze="[object Set]",Rze="[object String]",Uze="[object WeakMap]",Nze="[object ArrayBuffer]",kze="[object DataView]",jze="[object Float32Array]",zze="[object Float64Array]",Hze="[object Int8Array]",Vze="[object Int16Array]",Qze="[object Int32Array]",Wze="[object Uint8Array]",Gze="[object Uint8ClampedArray]",qze="[object Uint16Array]",Kze="[object Uint32Array]",Nn={};Nn[jze]=Nn[zze]=Nn[Hze]=Nn[Vze]=Nn[Qze]=Nn[Wze]=Nn[Gze]=Nn[qze]=Nn[Kze]=!0;Nn[Sze]=Nn[Eze]=Nn[Nze]=Nn[Bze]=Nn[kze]=Nn[Mze]=Nn[Pze]=Nn[Tze]=Nn[Oze]=Nn[Dze]=Nn[Ize]=Nn[Fze]=Nn[Lze]=Nn[Rze]=Nn[Uze]=!1;function Xze(e){return Hf(e)&&Mz(e.length)&&!!Nn[E0(e)]}var Yze=Xze;function $ze(e){return function(t){return e(t)}}var Oz=$ze,Tse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,v2=Tse&&typeof module=="object"&&module&&!module.nodeType&&module,Jze=v2&&v2.exports===Tse,P4=Jze&&bse.process,Zze=function(){try{var e=v2&&v2.require&&v2.require("util").types;return e||P4&&P4.binding&&P4.binding("util")}catch{}}(),Fb=Zze,C9=Fb&&Fb.isTypedArray,e6e=C9?Oz(C9):Yze,Ose=e6e,t6e=Object.prototype,r6e=t6e.hasOwnProperty;function i6e(e,t){var r=ph(e),i=!r&&Tz(e),n=!r&&!i&&hP(e),a=!r&&!i&&!n&&Ose(e),o=r||i||n||a,s=o?pze(e.length,String):[],l=s.length;for(var c in e)(t||r6e.call(e,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Sz(c,l)))&&s.push(c);return s}var Dse=i6e;function n6e(e,t){return function(r){return e(t(r))}}var Ise=n6e,a6e=Ise(Object.keys,Object),o6e=a6e,s6e=Object.prototype,l6e=s6e.hasOwnProperty;function c6e(e){if(!Pz(e))return o6e(e);var t=[];for(var r in Object(e))l6e.call(e,r)&&r!="constructor"&&t.push(r);return t}var u6e=c6e;function d6e(e){return Bse(e)?Dse(e):u6e(e)}var Dz=d6e;function h6e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var f6e=h6e,p6e=Object.prototype,A6e=p6e.hasOwnProperty;function g6e(e){if(!id(e))return f6e(e);var t=Pz(e),r=[];for(var i in e)i=="constructor"&&(t||!A6e.call(e,i))||r.push(i);return r}var m6e=g6e;function v6e(e){return Bse(e)?Dse(e,!0):m6e(e)}var Em=v6e,y6e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b6e=/^\w*$/;function w6e(e,t){if(ph(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||y_(e)?!0:b6e.test(e)||!y6e.test(e)||t!=null&&e in Object(t)}var x6e=w6e,C6e=M0(Object,"create"),wC=C6e;function _6e(){this.__data__=wC?wC(null):{},this.size=0}var S6e=_6e;function E6e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var B6e=E6e,M6e="__lodash_hash_undefined__",P6e=Object.prototype,T6e=P6e.hasOwnProperty;function O6e(e){var t=this.__data__;if(wC){var r=t[e];return r===M6e?void 0:r}return T6e.call(t,e)?t[e]:void 0}var D6e=O6e,I6e=Object.prototype,F6e=I6e.hasOwnProperty;function L6e(e){var t=this.__data__;return wC?t[e]!==void 0:F6e.call(t,e)}var R6e=L6e,U6e="__lodash_hash_undefined__";function N6e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wC&&t===void 0?U6e:t,this}var k6e=N6e;function m1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}m1.prototype.clear=S6e;m1.prototype.delete=B6e;m1.prototype.get=D6e;m1.prototype.has=R6e;m1.prototype.set=k6e;var _9=m1;function j6e(){this.__data__=[],this.size=0}var z6e=j6e;function H6e(e,t){for(var r=e.length;r--;)if(Ez(e[r][0],t))return r;return-1}var _3=H6e,V6e=Array.prototype,Q6e=V6e.splice;function W6e(e){var t=this.__data__,r=_3(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Q6e.call(t,r,1),--this.size,!0}var G6e=W6e;function q6e(e){var t=this.__data__,r=_3(t,e);return r<0?void 0:t[r][1]}var K6e=q6e;function X6e(e){return _3(this.__data__,e)>-1}var Y6e=X6e;function $6e(e,t){var r=this.__data__,i=_3(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var J6e=$6e;function v1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}v1.prototype.clear=z6e;v1.prototype.delete=G6e;v1.prototype.get=K6e;v1.prototype.has=Y6e;v1.prototype.set=J6e;var S3=v1,Z6e=M0(sd,"Map"),xC=Z6e;function eHe(){this.size=0,this.__data__={hash:new _9,map:new(xC||S3),string:new _9}}var tHe=eHe;function rHe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var iHe=rHe;function nHe(e,t){var r=e.__data__;return iHe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var E3=nHe;function aHe(e){var t=E3(this,e).delete(e);return this.size-=t?1:0,t}var oHe=aHe;function sHe(e){return E3(this,e).get(e)}var lHe=sHe;function cHe(e){return E3(this,e).has(e)}var uHe=cHe;function dHe(e,t){var r=E3(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var hHe=dHe;function y1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}y1.prototype.clear=tHe;y1.prototype.delete=oHe;y1.prototype.get=lHe;y1.prototype.has=uHe;y1.prototype.set=hHe;var B3=y1,fHe="Expected a function";function Iz(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fHe);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(Iz.Cache||B3),r}Iz.Cache=B3;var pHe=Iz,AHe=500;function gHe(e){var t=pHe(e,function(i){return r.size===AHe&&r.clear(),i}),r=t.cache;return t}var mHe=gHe,vHe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yHe=/\\(\\)?/g,bHe=mHe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vHe,function(r,i,n,a){t.push(n?a.replace(yHe,"$1"):i||r)}),t}),wHe=bHe;function xHe(e){return e==null?"":qke(e)}var CHe=xHe;function _He(e,t){return ph(e)?e:x6e(e,t)?[e]:wHe(CHe(e))}var b1=_He,SHe=1/0;function EHe(e){if(typeof e=="string"||y_(e))return e;var t=e+"";return t=="0"&&1/e==-SHe?"-0":t}var M3=EHe;function BHe(e,t){t=b1(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[M3(t[r++])];return r&&r==i?e:void 0}var Fse=BHe;function MHe(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var Fz=MHe,S9=lu?lu.isConcatSpreadable:void 0;function PHe(e){return ph(e)||Tz(e)||!!(S9&&e&&e[S9])}var THe=PHe;function Lse(e,t,r,i,n){var a=-1,o=e.length;for(r||(r=THe),n||(n=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Lse(s,t-1,r,i,n):Fz(n,s):i||(n[n.length]=s)}return n}var OHe=Lse;function DHe(e){var t=e==null?0:e.length;return t?OHe(e,1):[]}var IHe=DHe;function FHe(e){return Kje(sze(e,void 0,IHe),e+"")}var Rse=FHe,LHe=Ise(Object.getPrototypeOf,Object),Lz=LHe,RHe="[object Object]",UHe=Function.prototype,NHe=Object.prototype,Use=UHe.toString,kHe=NHe.hasOwnProperty,jHe=Use.call(Object);function zHe(e){if(!Hf(e)||E0(e)!=RHe)return!1;var t=Lz(e);if(t===null)return!0;var r=kHe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Use.call(r)==jHe}var HHe=zHe;function VHe(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++i<n;)a[i]=e[i+t];return a}var QHe=VHe;function WHe(){this.__data__=new S3,this.size=0}var GHe=WHe;function qHe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var KHe=qHe;function XHe(e){return this.__data__.get(e)}var YHe=XHe;function $He(e){return this.__data__.has(e)}var JHe=$He,ZHe=200;function eVe(e,t){var r=this.__data__;if(r instanceof S3){var i=r.__data__;if(!xC||i.length<ZHe-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new B3(i)}return r.set(e,t),this.size=r.size,this}var tVe=eVe;function w1(e){var t=this.__data__=new S3(e);this.size=t.size}w1.prototype.clear=GHe;w1.prototype.delete=KHe;w1.prototype.get=YHe;w1.prototype.has=JHe;w1.prototype.set=tVe;var F5=w1;function rVe(e,t){return e&&b_(t,Dz(t),e)}var iVe=rVe;function nVe(e,t){return e&&b_(t,Em(t),e)}var aVe=nVe,Nse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E9=Nse&&typeof module=="object"&&module&&!module.nodeType&&module,oVe=E9&&E9.exports===Nse,B9=oVe?sd.Buffer:void 0,M9=B9?B9.allocUnsafe:void 0;function sVe(e,t){if(t)return e.slice();var r=e.length,i=M9?M9(r):new e.constructor(r);return e.copy(i),i}var lVe=sVe;function cVe(e,t){for(var r=-1,i=e==null?0:e.length,n=0,a=[];++r<i;){var o=e[r];t(o,r,e)&&(a[n++]=o)}return a}var uVe=cVe;function dVe(){return[]}var kse=dVe,hVe=Object.prototype,fVe=hVe.propertyIsEnumerable,P9=Object.getOwnPropertySymbols,pVe=P9?function(e){return e==null?[]:(e=Object(e),uVe(P9(e),function(t){return fVe.call(e,t)}))}:kse,Rz=pVe;function AVe(e,t){return b_(e,Rz(e),t)}var gVe=AVe,mVe=Object.getOwnPropertySymbols,vVe=mVe?function(e){for(var t=[];e;)Fz(t,Rz(e)),e=Lz(e);return t}:kse,jse=vVe;function yVe(e,t){return b_(e,jse(e),t)}var bVe=yVe;function wVe(e,t,r){var i=t(e);return ph(e)?i:Fz(i,r(e))}var zse=wVe;function xVe(e){return zse(e,Dz,Rz)}var TR=xVe;function CVe(e){return zse(e,Em,jse)}var Hse=CVe,_Ve=M0(sd,"DataView"),OR=_Ve,SVe=M0(sd,"Promise"),DR=SVe,EVe=M0(sd,"Set"),IR=EVe,T9="[object Map]",BVe="[object Object]",O9="[object Promise]",D9="[object Set]",I9="[object WeakMap]",F9="[object DataView]",MVe=B0(OR),PVe=B0(xC),TVe=B0(DR),OVe=B0(IR),DVe=B0(PR),cm=E0;(OR&&cm(new OR(new ArrayBuffer(1)))!=F9||xC&&cm(new xC)!=T9||DR&&cm(DR.resolve())!=O9||IR&&cm(new IR)!=D9||PR&&cm(new PR)!=I9)&&(cm=function(e){var t=E0(e),r=t==BVe?e.constructor:void 0,i=r?B0(r):"";if(i)switch(i){case MVe:return F9;case PVe:return T9;case TVe:return O9;case OVe:return D9;case DVe:return I9}return t});var CC=cm,IVe=Object.prototype,FVe=IVe.hasOwnProperty;function LVe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&FVe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var RVe=LVe,UVe=sd.Uint8Array,fP=UVe;function NVe(e){var t=new e.constructor(e.byteLength);return new fP(t).set(new fP(e)),t}var Uz=NVe;function kVe(e,t){var r=t?Uz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var jVe=kVe,zVe=/\w*$/;function HVe(e){var t=new e.constructor(e.source,zVe.exec(e));return t.lastIndex=e.lastIndex,t}var VVe=HVe,L9=lu?lu.prototype:void 0,R9=L9?L9.valueOf:void 0;function QVe(e){return R9?Object(R9.call(e)):{}}var WVe=QVe;function GVe(e,t){var r=t?Uz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qVe=GVe,KVe="[object Boolean]",XVe="[object Date]",YVe="[object Map]",$Ve="[object Number]",JVe="[object RegExp]",ZVe="[object Set]",e8e="[object String]",t8e="[object Symbol]",r8e="[object ArrayBuffer]",i8e="[object DataView]",n8e="[object Float32Array]",a8e="[object Float64Array]",o8e="[object Int8Array]",s8e="[object Int16Array]",l8e="[object Int32Array]",c8e="[object Uint8Array]",u8e="[object Uint8ClampedArray]",d8e="[object Uint16Array]",h8e="[object Uint32Array]";function f8e(e,t,r){var i=e.constructor;switch(t){case r8e:return Uz(e);case KVe:case XVe:return new i(+e);case i8e:return jVe(e,r);case n8e:case a8e:case o8e:case s8e:case l8e:case c8e:case u8e:case d8e:case h8e:return qVe(e,r);case YVe:return new i;case $Ve:case e8e:return new i(e);case JVe:return VVe(e);case ZVe:return new i;case t8e:return WVe(e)}}var p8e=f8e;function A8e(e){return typeof e.constructor=="function"&&!Pz(e)?Dje(Lz(e)):{}}var g8e=A8e,m8e="[object Map]";function v8e(e){return Hf(e)&&CC(e)==m8e}var y8e=v8e,U9=Fb&&Fb.isMap,b8e=U9?Oz(U9):y8e,w8e=b8e,x8e="[object Set]";function C8e(e){return Hf(e)&&CC(e)==x8e}var _8e=C8e,N9=Fb&&Fb.isSet,S8e=N9?Oz(N9):_8e,E8e=S8e,B8e=1,M8e=2,P8e=4,Vse="[object Arguments]",T8e="[object Array]",O8e="[object Boolean]",D8e="[object Date]",I8e="[object Error]",Qse="[object Function]",F8e="[object GeneratorFunction]",L8e="[object Map]",R8e="[object Number]",Wse="[object Object]",U8e="[object RegExp]",N8e="[object Set]",k8e="[object String]",j8e="[object Symbol]",z8e="[object WeakMap]",H8e="[object ArrayBuffer]",V8e="[object DataView]",Q8e="[object Float32Array]",W8e="[object Float64Array]",G8e="[object Int8Array]",q8e="[object Int16Array]",K8e="[object Int32Array]",X8e="[object Uint8Array]",Y8e="[object Uint8ClampedArray]",$8e="[object Uint16Array]",J8e="[object Uint32Array]",Pn={};Pn[Vse]=Pn[T8e]=Pn[H8e]=Pn[V8e]=Pn[O8e]=Pn[D8e]=Pn[Q8e]=Pn[W8e]=Pn[G8e]=Pn[q8e]=Pn[K8e]=Pn[L8e]=Pn[R8e]=Pn[Wse]=Pn[U8e]=Pn[N8e]=Pn[k8e]=Pn[j8e]=Pn[X8e]=Pn[Y8e]=Pn[$8e]=Pn[J8e]=!0;Pn[I8e]=Pn[Qse]=Pn[z8e]=!1;function L5(e,t,r,i,n,a){var o,s=t&B8e,l=t&M8e,c=t&P8e;if(r&&(o=n?r(e,i,n,a):r(e)),o!==void 0)return o;if(!id(e))return e;var u=ph(e);if(u){if(o=RVe(e),!s)return Rje(e,o)}else{var d=CC(e),h=d==Qse||d==F8e;if(hP(e))return lVe(e,s);if(d==Wse||d==Vse||h&&!n){if(o=l||h?{}:g8e(e),!s)return l?bVe(e,aVe(o,e)):gVe(e,iVe(o,e))}else{if(!Pn[d])return n?e:{};o=p8e(e,d,s)}}a||(a=new F5);var f=a.get(e);if(f)return f;a.set(e,o),E8e(e)?e.forEach(function(g){o.add(L5(g,t,r,g,e,a))}):w8e(e)&&e.forEach(function(g,p){o.set(p,L5(g,t,r,p,e,a))});var m=c?l?Hse:TR:l?Em:Dz,A=u?void 0:m(e);return Yje(A||e,function(g,p){A&&(p=g,g=e[p]),Bz(o,p,L5(g,t,r,p,e,a))}),o}var Gse=L5,Z8e=1,eQe=4;function tQe(e){return Gse(e,Z8e|eQe)}var P3=tQe,rQe="__lodash_hash_undefined__";function iQe(e){return this.__data__.set(e,rQe),this}var nQe=iQe;function aQe(e){return this.__data__.has(e)}var oQe=aQe;function pP(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B3;++t<r;)this.add(e[t])}pP.prototype.add=pP.prototype.push=nQe;pP.prototype.has=oQe;var sQe=pP;function lQe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var cQe=lQe;function uQe(e,t){return e.has(t)}var dQe=uQe,hQe=1,fQe=2;function pQe(e,t,r,i,n,a){var o=r&hQe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=r&fQe?new sQe:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],A=t[d];if(i)var g=o?i(A,m,d,t,e,a):i(m,A,d,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(f){if(!cQe(t,function(p,v){if(!dQe(f,v)&&(m===p||n(m,p,r,i,a)))return f.push(v)})){h=!1;break}}else if(!(m===A||n(m,A,r,i,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var qse=pQe;function AQe(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}var gQe=AQe;function mQe(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var vQe=mQe,yQe=1,bQe=2,wQe="[object Boolean]",xQe="[object Date]",CQe="[object Error]",_Qe="[object Map]",SQe="[object Number]",EQe="[object RegExp]",BQe="[object Set]",MQe="[object String]",PQe="[object Symbol]",TQe="[object ArrayBuffer]",OQe="[object DataView]",k9=lu?lu.prototype:void 0,T4=k9?k9.valueOf:void 0;function DQe(e,t,r,i,n,a,o){switch(r){case OQe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case TQe:return!(e.byteLength!=t.byteLength||!a(new fP(e),new fP(t)));case wQe:case xQe:case SQe:return Ez(+e,+t);case CQe:return e.name==t.name&&e.message==t.message;case EQe:case MQe:return e==t+"";case _Qe:var s=gQe;case BQe:var l=i&yQe;if(s||(s=vQe),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=bQe,o.set(e,t);var u=qse(s(e),s(t),i,n,a,o);return o.delete(e),u;case PQe:if(T4)return T4.call(e)==T4.call(t)}return!1}var IQe=DQe,FQe=1,LQe=Object.prototype,RQe=LQe.hasOwnProperty;function UQe(e,t,r,i,n,a){var o=r&FQe,s=TR(e),l=s.length,c=TR(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:RQe.call(t,h)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var A=!0;a.set(e,t),a.set(t,e);for(var g=o;++d<l;){h=s[d];var p=e[h],v=t[h];if(i)var y=o?i(v,p,h,t,e,a):i(p,v,h,e,t,a);if(!(y===void 0?p===v||n(p,v,r,i,a):y)){A=!1;break}g||(g=h=="constructor")}if(A&&!g){var b=e.constructor,x=t.constructor;b!=x&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof x=="function"&&x instanceof x)&&(A=!1)}return a.delete(e),a.delete(t),A}var NQe=UQe,kQe=1,j9="[object Arguments]",z9="[object Array]",WE="[object Object]",jQe=Object.prototype,H9=jQe.hasOwnProperty;function zQe(e,t,r,i,n,a){var o=ph(e),s=ph(t),l=o?z9:CC(e),c=s?z9:CC(t);l=l==j9?WE:l,c=c==j9?WE:c;var u=l==WE,d=c==WE,h=l==c;if(h&&hP(e)){if(!hP(t))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new F5),o||Ose(e)?qse(e,t,r,i,n,a):IQe(e,t,l,r,i,n,a);if(!(r&kQe)){var f=u&&H9.call(e,"__wrapped__"),m=d&&H9.call(t,"__wrapped__");if(f||m){var A=f?e.value():e,g=m?t.value():t;return a||(a=new F5),n(A,g,r,i,a)}}return h?(a||(a=new F5),NQe(e,t,r,i,n,a)):!1}var HQe=zQe;function Kse(e,t,r,i,n){return e===t?!0:e==null||t==null||!Hf(e)&&!Hf(t)?e!==e&&t!==t:HQe(e,t,r,i,Kse,n)}var VQe=Kse;function QQe(e,t){return e!=null&&t in Object(e)}var WQe=QQe;function GQe(e,t,r){t=b1(t,e);for(var i=-1,n=t.length,a=!1;++i<n;){var o=M3(t[i]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++i!=n?a:(n=e==null?0:e.length,!!n&&Mz(n)&&Sz(o,n)&&(ph(e)||Tz(e)))}var qQe=GQe;function KQe(e,t){return e!=null&&qQe(e,t,WQe)}var XQe=KQe,YQe=function(){return sd.Date.now()},O4=YQe,$Qe="Expected a function",JQe=Math.max,ZQe=Math.min;function e7e(e,t,r){var i,n,a,o,s,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError($Qe);t=g9(t)||0,id(r)&&(u=!!r.leading,d="maxWait"in r,a=d?JQe(g9(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function f(w){var C=i,_=n;return i=n=void 0,c=w,o=e.apply(_,C),o}function m(w){return c=w,s=setTimeout(p,t),u?f(w):o}function A(w){var C=w-l,_=w-c,B=t-C;return d?ZQe(B,a-_):B}function g(w){var C=w-l,_=w-c;return l===void 0||C>=t||C<0||d&&_>=a}function p(){var w=O4();if(g(w))return v(w);s=setTimeout(p,A(w))}function v(w){return s=void 0,h&&i?f(w):(i=n=void 0,o)}function y(){s!==void 0&&clearTimeout(s),c=0,i=l=n=s=void 0}function b(){return s===void 0?o:v(O4())}function x(){var w=O4(),C=g(w);if(i=arguments,n=this,l=w,C){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(p,t),f(l)}return s===void 0&&(s=setTimeout(p,t)),o}return x.cancel=y,x.flush=b,x}var Nz=e7e;function t7e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var r7e=t7e;function i7e(e,t){return e>t}var n7e=i7e;function a7e(e,t){return t.length<2?e:Fse(e,QHe(t,0,-1))}var o7e=a7e;function s7e(e,t){return VQe(e,t)}var kz=s7e;function l7e(e,t,r){for(var i=-1,n=e.length;++i<n;){var a=e[i],o=t(a);if(o!=null&&(s===void 0?o===o&&!y_(o):r(o,s)))var s=o,l=a}return l}var c7e=l7e;function u7e(e){return e&&e.length?c7e(e,_se,n7e):void 0}var d7e=u7e;function h7e(e,t){return t=b1(t,e),e=o7e(e,t),e==null||delete e[M3(r7e(t))]}var f7e=h7e;function p7e(e){return HHe(e)?void 0:e}var A7e=p7e,g7e=1,m7e=2,v7e=4,y7e=Rse(function(e,t){var r={};if(e==null)return r;var i=!1;t=xse(t,function(a){return a=b1(a,e),i||(i=a.length>1),a}),b_(e,Hse(e),r),i&&(r=Gse(r,g7e|m7e|v7e,A7e));for(var n=t.length;n--;)f7e(r,t[n]);return r}),FR=y7e;function b7e(e,t,r,i){if(!id(e))return e;t=b1(t,e);for(var n=-1,a=t.length,o=a-1,s=e;s!=null&&++n<a;){var l=M3(t[n]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(n!=o){var u=s[l];c=i?i(u,l,s):void 0,c===void 0&&(c=id(u)?u:Sz(t[n+1])?[]:{})}Bz(s,l,c),s=s[l]}return e}var w7e=b7e;function x7e(e,t,r){for(var i=-1,n=t.length,a={};++i<n;){var o=t[i],s=Fse(e,o);r(s,o)&&w7e(a,b1(o,e),s)}return a}var C7e=x7e;function _7e(e,t){return C7e(e,t,function(r,i){return XQe(e,i)})}var S7e=_7e,E7e=Rse(function(e,t){return e==null?{}:S7e(e,t)}),dh=E7e,B7e="Expected a function";function M7e(e,t,r){var i=!0,n=!0;if(typeof e!="function")throw new TypeError(B7e);return id(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),Nz(e,t,{leading:i,maxWait:t,trailing:n})}var P7e=M7e;function Xse(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function cu(e,t){return Object.setPrototypeOf(e,t),e}var T7e=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),O7e=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),D7e=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||T3&&"ontouchend"in document,I7e=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,F7e=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,L7e=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},R7e=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},U7e=()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):window.localStorage.getItem("desktop-app-version")??"0.0.6"},Yse=T7e();Yse&&U7e();var T3=O7e(),w_=D7e(),N7e=I7e(),pc=F7e(),V9=L7e(),k7e=Number(R7e());function $se(e){return Array.isArray(e)?e:[e]}function Jse(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}function GE(e){return T3?e.metaKey:e.ctrlKey}function j7e(e){return e.wheelDeltaY===0||e.deltaY===0?T3&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var jr=[],AP={},Rx={},R5={};function Zse(e){jr.includes(e)||jr.push(e)}function tb(e){delete AP[e.pointerId];for(let t=0;t<jr.length;t++)if(jr[t].pointerId===e.pointerId){jr.splice(t,1);break}}function z7e(){jr.splice(0,jr.length)}function gP(e){if(e.pointerType!=="touch")return;let t=AP[e.pointerId];t===void 0&&(t={x:0,y:0},AP[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function D4(e){let t=e.pointerId===jr[0].pointerId?jr[1]:jr[0];return AP[t.pointerId]}function ele(e){Rx[e.key]=!0,R5[e.key]=R5[e.key]===void 0?1:R5[e.key]+1}function tle(e){if(T3&&Rx.Meta)for(let t in Rx)Rx[t]=!1;else Rx[e.key]=!1;R5={}}function H7e(e){e.addEventListener("pointerdown",Zse,!0),e.addEventListener("pointerdown",gP,!0),e.addEventListener("pointermove",gP,!0),e.addEventListener("pointerup",tb,!0),e.addEventListener("pointercancel",tb,!0),e.addEventListener("pointerleave",tb,!0),window.addEventListener("keydown",ele,!0),window.addEventListener("keyup",tle,!0)}function V7e(e){e.removeEventListener("pointerdown",Zse,!0),e.removeEventListener("pointerdown",gP,!0),e.removeEventListener("pointermove",gP,!0),e.removeEventListener("pointerup",tb,!0),e.removeEventListener("pointercancel",tb,!0),e.removeEventListener("pointerleave",tb,!0),window.removeEventListener("keydown",ele,!0),window.removeEventListener("keyup",tle,!0)}var rle,Q7e=new Promise(e=>{rle=e}),qE;function W7e(){if(qE)return qE;async function e(){let t="https://unpkg.com/@splinetool/navmesh-wasm@1.9.27/build",r=Zu(()=>import("./navmesh-0b92f809.js"),[]),[i,n]=await Promise.all([r,fetch(`${t}/navmesh.wasm`).then(s=>s.arrayBuffer())]),a=i.default,o=await a({wasmBinary:n});rle(o)}return qE=e(),qE}var ile,G7e=new Promise(e=>{ile=e}),KE;function q7e(){if(KE)return KE;async function e(){let t=await Zu(()=>import("./physics-dee4de67.js"),[]);await t.init(),ile(t)}return KE=e(),KE}var Lr=class{modifyById(e,t){let r=this;if(r[e]===void 0)throw new Error("not expected");{let i={...r,[e]:t};return Object.setPrototypeOf(i,Lr.prototype),i}}add(e,t){var r;return((r=this.runOp({type:1,id:e,data:t}))==null?void 0:r.data)??this}runOp(e){let t=this;if(e.type===1){let r=t[e.id],i;r===void 0?i={type:2,id:e.id}:i={type:1,id:e.id,data:r};let{id:n,data:a}=e,o={...t,[n]:a};return Object.setPrototypeOf(o,Lr.prototype),{data:o,actual:e,reverse:i}}else if(e.type===2){let{id:r}=e,i=t[r];if(i===void 0)return null;{let n={...t};return Object.setPrototypeOf(n,Lr.prototype),delete n[r],{data:n,actual:e,reverse:{type:1,id:r,data:i}}}}return null}};function jz(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let r of t){let i=e[r];i&&typeof i=="object"&&jz(i)}return Object.freeze(e)}function K7e(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}var nle=class extends Error{};function I4(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function wA(e,t,r){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let a=e;e=t,t=a}let i=[],n=1/(r+1);for(let a=0;a<r;a++){let o=e+(t-e)*(a+.75+Math.random()*.5)*n;i.push(o)}return i}function zz(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function X7e(){return typeof process<"u"}function ale(e,t){for(let r of e)t(r.id,r.data)!==!0&&ale(r.children,t)}function ole(e,t){if(t(e.id,e.data)!==!0)for(let r of e.children)ole(r,t)}var Jo=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jo.prototype)}deepFreeze(){let e=0;for(;e<this.length;)jz(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let r of e.children)this.fillCaches0(r,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}data(e){var t;return(t=this.get(e))==null?void 0:t.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return e===null?this:(t=this.get(e))==null?void 0:t.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let r=this.get(e);r&&ole(r,t)}}traverse(e){ale(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this.parent(e),i=this.childrenArray(r),n=i.findIndex(o=>o.id===e);if(n<0)throw new Error("not expected");let a=i[n];return i=[...i],i[n]={...a,data:t},this.modifyArrayBy(r,i)}}modifyArrayBy(e,t){let r=e,i=t;for(;r!==null;){let a=i,o=r;if(r=this.parent(r),r===void 0)throw new Error;i=this.childrenArray(r);let s=i.findIndex(l=>l.id===o);if(s<0)throw new Error;i=[...i],i[s]={...i[s],children:a}}Object.setPrototypeOf(i,Jo.prototype);let n=i;return n.fillCaches(),n}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let r of t)if(this.checkDuplicatedIdRec(r))return!0;return!1}addOp(e){let{parent:t,fi:r,id:i,data:n,children:a}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let o=t,s=this.childrenArray(o),l={fi:r,id:i,data:n,children:a};return s=[...s,l],s.sort((c,u)=>c.fi-u.fi),e.localIndex=s.indexOf(l),{data:this.modifyArrayBy(o,s),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let r=this.parent(t);if(r===void 0)return null;let i=this.childrenArray(r),n=i.findIndex(o=>o.id===t);e.localIndex=n,i=[...i];let a=i.splice(n,1)[0];return{data:this.modifyArrayBy(r,i),actual:e,reverse:{type:7,...a,parent:r}}}}moveOp(e){let{parent:t,fi:r,id:i}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:i});if(t!==null){let d=t;for(;d!==null;){if(d===void 0)throw new Error;if(d===i)throw new nle("cyclic tree");d=this.parent(d)}}let n=this.parent(i);if(n===void 0)return null;let a=n,o=this.childrenArray(n),s=o.findIndex(d=>d.id===i);o=[...o];let l=o.splice(s,1)[0],c=this.modifyArrayBy(n,o);n=t,o=c.childrenArray(n);let u=l.fi;return l={...l,fi:r},o=[...o,l],o.sort((d,h)=>d.fi-h.fi),e.localIndex=o.indexOf(l),c=c.modifyArrayBy(n,o),{data:c,actual:e,reverse:{type:9,parent:a,fi:u,id:i}}}previous(e,t){if(t===null){let i=this.childrenArray(e);return i.length===0?null:i[i.length-1].id}let r=null;for(let i of this.childrenArray(e)){if(i.id===t)return r;r=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),i=r.findIndex(n=>n.id===e)+1;if(i<r.length)return r[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),i=r.findIndex(n=>n.id===e)-1;return i>=0?this.traverseSortPrevious(r[i].id):t}}getAllSorted(e){let t=[];for(let r of e){let i=this.getWithSortKey(r.id);i!==void 0&&t.push({...r,...i})}t.sort((r,i)=>K7e(r.sortKey,i.sortKey));for(let r of t)delete r.sortKey;return t}getWithSortKey(e){var t=e;let r=[],i=this.get(t),n=i;if(i!==void 0){for(;t;)r.splice(0,0,i.fi),t=this.parent(t),t!==null&&(i=this.get(t));return{...n,sortKey:r}}}insertBeforeHelper(e,t,r){return this.insertAfterHelper(e,this.previous(e,t),r)}insertAfterHelper(e,t,r){let i=this.childrenArray(e);if(t===null){if(i.length===0)return wA(0,r,r);{let n=i[0].fi;return wA(n-r,n,r)}}else{let n=this.get(t);if(n===void 0||this.parent(t)!==e)throw new Error("illegal args");let a=i.find(o=>o.fi>n.fi);if(a===void 0){let o=i[i.length-1].fi;return wA(o,o+r,r)}else return wA(n.fi,a.fi,r)}}},mP;(e=>{function t(r,i){if(i.type!==0)return null;if(Array.isArray(r)){let n=i.props,a={},o=[...r],s=!1;if(n)for(let l of Object.keys(n)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");a[l]=o[c],o[c]=n[l],s=!0}return s?{data:o,actual:i,reverse:{type:0,props:a}}:null}else{let n=i.props,a={},o={...r},s=!1;if(n)for(let l of Object.keys(n)){a[l]=o[l];let c=n[l];c===void 0?delete o[l]:o[l]=c,s=!0}return s?{data:o,actual:i,reverse:{type:0,props:a}}:null}}e.runOp=t})(mP||(mP={}));var Br=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Br.prototype)}deepFreeze(){let e=0;for(;e<this.length;)jz(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){var t;return(t=this.get(e))==null?void 0:t.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this,i=r.findIndex(a=>a.id===e);if(i<0)throw new Error("not expected");let n=r[i];return r=[...r],r[i]={...n,data:t},this.modifyArrayBy(r)}}modifyArrayBy(e){Object.setPrototypeOf(e,Br.prototype);let t=e;return X7e()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:r,data:i}=e,n=this,a={fi:t,id:r,data:i};return n=[...n,a],n.sort((o,s)=>o.fi-s.fi),e.localIndex=n.indexOf(a),{data:this.modifyArrayBy(n),actual:e,reverse:{type:5,id:r}}}deleteOp(e){let{id:t}=e,r=this,i=r.findIndex(a=>a.id===t);if(i===-1)return null;e.localIndex=i,r=[...r];let n=r.splice(i,1)[0];return{data:this.modifyArrayBy(r),actual:e,reverse:{type:4,...n}}}moveOp(e){let{fi:t,id:r}=e,i=this;i=[...i];let n=i.findIndex(s=>s.id===r);if(n===-1)return null;let a=i[n].fi,o={...i[n],fi:t};return i[n]=o,i.sort((s,l)=>s.fi-l.fi),e.localIndex=i.indexOf(o),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:a,id:r}}}previous(e){if(e===null)return this.length===0?null:this[this.length-1].id;let t=null;for(let r of this){if(r.id===e)return t;t=r.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let r=this;if(e===null){if(r.length===0)return wA(0,t,t);{let i=r[0].fi;return wA(i-t,i,t)}}else{let i=this.get(e);if(i===void 0)throw new Error("illegal args");let n=r.find(a=>a.fi>i.fi);if(n===void 0){let a=r[r.length-1].fi;return wA(a,a+t,t)}else return wA(i.fi,n.fi,t)}}};function Lb(e){return e&&typeof e=="object"&&e instanceof $a}var $a=class{unusedFunOverridesTable(t){}runOp(t){let r=[],i=this,n=0,a={};for(;n<t.path.length;){if(r.push(i),i=i===void 0?void 0:i[t.path[n]],i!==void 0&&!Lb(i))return null;n+=1}i=i?I4(i):new $a;for(let[l,c]of Object.entries(t.props)){let u=i[l];a[l]=u,c===void 0?delete i[l]:i[l]=c}for(;n>0;){if(Object.keys(i).length===0){let l=r[n-1];l&&(i=I4(l),delete i[t.path[n-1]])}else{let l=r[n-1];if(l){let c=I4(l);c[t.path[n-1]]=i,i=c}else{let c=new $a;c[t.path[n-1]]=i,i=c}}n-=1}let o=Object.setPrototypeOf(i,$a.prototype),s={...t,props:a};return{data:o,actual:t,reverse:s}}},VA;(e=>{function t(n,a){return _C(n,a)??n}e.apply=t;function r(n,a){return Vz(n,a)}e.merge=r;function i(n,a){let o=0,s=a.path,l=n;for(;o<s.length&&l!==void 0;){if(l=co.zoomOnce(l,s[o]),l===void 0)return a;if(!Lb(l))return;o+=1}if(l===void 0)return a;if(Lb(l))if(a.type===0){let c={...a.props};for(let u of Object.keys(l))delete c[u];return{...a,props:c}}else if(a.type===1||a.type===4||a.type===7){let c=Hz([a],l);return c?(console.log(c),c):a}else return a}e.filterOp=i})(VA||(VA={}));function Hz(e,t){if(t===void 0)return;let r=!1,i=e.map(n=>{let a=n.id,o=_C(n.data,t[a]);if(r=r||o!==void 0,o===void 0&&(o=n.data),n.children){let s=Hz(n.children,t);return s!==void 0?r=!0:s=n.children,{...n,id:a,data:o,children:s}}else return{...n,id:a,data:o}});if(r)return i}function Y7e(e,t){if(t===void 0)return;let r=!1,i=e.map(n=>{let a=n.id,o=_C(n.data,t[a]);return r=r||o!==void 0,o===void 0&&(o=n.data),{...n,id:a,data:o}});if(r)return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}function _C(e,t){if(!Lb(t))return t;if(e instanceof Jo){let r=Hz(e,t);return r!==void 0&&Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}else{if(e instanceof Br)return Y7e(e,t);if(Array.isArray(e)){let r=!1,i=e.map((n,a)=>{let o=_C(n,t[a]);return r=r||o!==void 0,o===void 0&&(o=n),o});return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else{if(e instanceof $a)return Vz(e,t);if(e&&typeof e=="object"){let r={},i=!1;for(let[n,a]of Object.entries(e)){let o=_C(a,t[n]);i=i||o!==void 0,o===void 0&&(o=a),r[n]=o}return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}}}}function Vz(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!Lb(t))return t;if(!Lb(e))return VA.apply(e,t);let r=new Set;for(let n of Object.keys(e))r.add(n);for(let n of Object.keys(t))r.add(n);let i=new $a;for(let n of r){let a=Vz(e===void 0?void 0:e[n],t===void 0?void 0:t[n]);i[n]=a}return i}function $7e(e,t){let r={cur:[],result:[],len:0};return e=SC(e,t,r)??e,[e,r.result]}function vP(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function yP(e){e&&(e.len-=1)}function J7e(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function sle(e,t,r){let i=!1,n=e.map(a=>{let o=a.id,s=t[o];if(s!==void 0&&typeof s=="string"&&(i=!0,o=s,r!==null))throw new Error("not supported");let l=SC(a.data,t,vP(r,o));yP(r),i=i||l!==void 0,l===void 0&&(l=a.data);let c=sle(a.children,t,r);return c!==void 0?i=!0:c=a.children,{...a,id:o,data:l,children:c}});if(i)return n}function Z7e(e,t,r){let i=!1,n=e.map(a=>{let o=a.id,s=t[o];if(s!==void 0&&typeof s=="string"&&(i=!0,o=s,r!==null))throw new Error("not supported");let l=SC(a.data,t,vP(r,o));return yP(r),i=i||l!==void 0,l===void 0&&(l=a.data),{...a,id:o,data:l}});if(i)return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}function SC(e,t,r){if(e instanceof Jo){let i=sle(e,t,r);return i!==void 0&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}else{if(e instanceof Br)return Z7e(e,t,r);if(Array.isArray(e)){let i=!1,n=e.map((a,o)=>{let s=SC(a,t,vP(r,o));return yP(r),i=i||s!==void 0,s===void 0&&(s=a),s});return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else if(e&&typeof e=="object"&&!zz(e)){let i={},n=!1;for(let[a,o]of Object.entries(e))if(a!=="name"&&a!=="variableId"){let s=t[a];if(typeof s=="string"){if(r!==null)throw new Error("not supported");n=!0,a=s}let l=SC(o,t,vP(r,a));yP(r),n=n||l!==void 0,l===void 0&&(l=o),i[a]=l}else i[a]=o;return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else if(typeof e=="string"){let i=t[e];return i!==void 0&&J7e(r),i}else return}}var bP;(e=>{function t(r,i){let n=co.zoom(i,r.path);if(typeof n=="object"){let a={};for(let o of Object.keys(r.props))a[o]=n[o];return{...r,props:a}}else return{...r,props:{}}}e.replaceProps=t})(bP||(bP={}));var To;(e=>{function t(l,c){return{...l,path:l.path.slice(c)}}e.drop=t;function r(l,c){var u;return((u=i(l,c))==null?void 0:u.data)??l}e.applySimple=r;function i(l,c){var h,f;let u=c.path;for(var d=[];;){let m;if(l instanceof $a&&c.type===0&&(m=l.runOp({...c,path:u.slice(d.length)}),m===null&&(m=void 0)),m===void 0&&d.length===u.length&&(l instanceof Jo||l instanceof Br||l instanceof Lr?m=l.runOp(c):m=mP.runOp(l,c)),m!==void 0)if(m!==null){let p=m.data;for(let v=d.length-1;v>=0;v--){let y=u[v],b=d[v];if(b instanceof Jo){if(typeof y=="number")throw new Error("illegal arg");p=b.modifyById(y,p)}else if(b instanceof Br){if(typeof y=="number")throw new Error("illegal arg");p=b.modifyById(y,p)}else if(b instanceof Lr){if(typeof y=="number")throw new Error("illegal arg");p=b.modifyById(y,p)}else if(b instanceof $a){let x={...b,[y]:p};p=Object.setPrototypeOf(x,$a.prototype)}else if(typeof b=="object")if(Array.isArray(b)){if(typeof y=="string"&&(y=parseInt(y),isNaN(y)))throw new Error("Invalid path");let x=p;p=[...b],p[y]=x}else p={...b,[y]:p};else return null}return{data:p,actual:{...m.actual,path:u},reverse:{...m.reverse,path:u}}}else return null;let A=u[d.length],g;if(l instanceof Jo){if(typeof A=="number")throw new Error("");g=(h=l.get(A))==null?void 0:h.data}else if(l instanceof Br){if(typeof A=="number")throw new Error("");g=(f=l.get(A))==null?void 0:f.data}else l!==null&&(g=l[A]);if(g!==void 0)d.push(l),l=g;else return null}}e.apply=i;function n(l,c){for(let u=0;u<l.length&&u<c.length;u++)if(l[u]!==c[u])return!0;return!1}e.pathDisjoint=n;function a(l,c){if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++)if(l[u]!==c[u])return!1;return!0}e.pathEq=a;function o(l,c){return n(l.path,c.path)}e.commutative=o;function s(l,c){return l.type===0&&c.type===0&&a(l.path,c.path)?Object.keys(l.props).every(u=>c.props[u]!==void 0):!1}e.subsumed=s})(To||(To={}));var LR;(e=>{function t(){return[]}e.empty=t;function r(c,u){let d=[];for(let h of c){let[f,...m]=h.path;f===u&&d.push({...h,path:m})}return d}e.removePrefix=r;function i(c,u){return c.map(d=>({...d,path:[u,...d.path]}))}e.addPrefix=i;function n(c,u){return[...c,...u]}e.concat=n;function a(c,u){return[...c.filter(d=>!u.some(h=>To.subsumed(d,h))),...u]}e.compress=a;function o(c,u){return c.every(d=>u.every(h=>To.commutative(d,h)))}e.commutative=o;function s(c,u){for(let d of u){let h=l(c,d);h!==null&&(c=h.data)}return c}e.applyAll=s;function l(c,u){var d=c;let h=[],f=[];for(let m of u)try{if(m.type===3||m.type===5&&m.path[m.path.length-1]==="variables"){let A,g,p;if(m.type===3?(A=co.zoom(d,[...m.path,m.id]),p=To.apply(d,{...m,type:2})):(A=co.zoom(d,[...m.path,m.id,"value"]),p=To.apply(d,m)),p!==null){d=p.data;let[v,y]=$7e(d,{[m.id]:A});d=v;for(let b=0;b<y.length;b++){let x=y[b],w=x.pop();if(typeof w=="number"){let C=[w];for(let B=b+1;B<y.length;B++){let P=y[B],M=P[P.length-1];if(typeof M=="number"&&co.equal(x,P.slice(0,P.length-1)))C.push(M),y.splice(B,1);else break}let _=co.zoom(d,x);g=_.map((B,P)=>C.includes(P)?m.id:B),A=_,w=x.pop()}else{if(w==="alphaOverride"||w==="alpha"){A/=100;let C=A,_=co.zoom(d,x.slice(0,x.length-2)),B=_.layers.map(P=>P.id===x[x.length-1]?{...P,data:{...P.data,[w]:C}}:P);Object.setPrototypeOf(B,Object.getPrototypeOf(_.layers)),_.layers=B}g=m.id}h.push({type:0,path:x,props:{[w]:A}}),f.push({type:0,path:x,props:{[w]:g}})}f.push(p.reverse),h.push(p.actual)}}else{let A=To.apply(d,m);A!==null&&(h.push(A.actual),d=A.data,f.push(A.reverse))}}catch(A){if(A instanceof nle)return null;throw A}return{data:d,actual:h,reverse:f.reverse()}}e.apply=l})(LR||(LR={}));var lle=Symbol(),eWe=Symbol(),O3=Symbol(),x_=class{reportOp(e,t,r=[]){let i=this;if(t===null)return;i._current=t.data;let n=r;for(;!(i instanceof ule);){let a=i._path,o=i._current;if(a!==""&&n.splice(0,0,a),i=i._parent,i===null)return;i.update(a,o)}i.push(n,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let r=t[O3];r&&r(),delete this._children[e]}}}},tWe=class extends x_{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,mP.runOp(this._current,e),e.path)}},rWe=class extends x_{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,Lr.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},cle={get(e,t){if(t===O3)return()=>{e._parent=null};if(t===lle)return e._current;if(t===eWe)return e;let{_current:r,_children:i}=e;if(t==="push"&&Array.isArray(r))throw new Error("not supported to expand array");let n=i===void 0?void 0:i[t];if(n!==void 0)return n;let a=r[t],o=D3(e,t,a);return o!==a?(i===void 0&&(i={},e._children=i),i[t]=o,o):a},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let r=e._current,i=Reflect.getOwnPropertyDescriptor(r,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:r[t]}}},iWe={...cle,set(e,t,r){let i={type:0,props:{[t]:Da(r)??r}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let r={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(r),!0}},nWe={...cle,set(e,t,r){return r===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:r})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},Qz=class extends x_{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[O3]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,r)=>{e(t,this.data(t))})}data(e){var o;let{_current:t,_children:r}=this,i=r===void 0?void 0:r[e];if(i!==void 0)return i;let n=(o=t.get(e))==null?void 0:o.data,a=D3(this,e,n);return a!==n?(r===void 0&&(r={},this._children=r),r[e]=a,a):n}add(e,t,r,i,n){this.runOp({type:7,parent:e,fi:t,id:r,data:i,children:n})}move(e,t,r){this.runOp({type:9,parent:e,fi:t,id:r})}insertAfter(e,t,r){let i=this._current.insertAfterHelper(e,t,r.length);for(let n=0;n<r.length;n++){let a=r[n];this.add(e,i[n],a.id,a.data,a.children)}}insertBefore(e,t,r){let i=this._current.insertBeforeHelper(e,t,r.length);for(let n=0;n<r.length;n++){let a=r[n];this.add(e,i[n],a.id,a.data,a.children)}}moveAfter(e,t,r){let i=this._current.insertAfterHelper(e,t,r.length);for(let n=0;n<r.length;n++){let a=r[n];this.move(e,i[n],a)}}moveBefore(e,t,r){let i=this._current.insertBeforeHelper(e,t,r.length);for(let n=0;n<r.length;n++){let a=r[n];this.move(e,i[n],a)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},Wz=class extends x_{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[O3]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let r=0;r<t;r++){let i=this._current[r].id,n=this._current[r].fi;e(this.data(this._current[r].id),i,n)}}find(e){let t=this.length;for(let r=0;r<t;r++){let i=this._current[r].id;if(e(this.data(i),i))return this.get(i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){var o;let{_current:t,_children:r}=this,i=r===void 0?void 0:r[e];if(i!==void 0)return i;let n=(o=t.get(e))==null?void 0:o.data,a=D3(this,e,n);return a!==n?(r===void 0&&(r={},this._children=r),r[e]=a,a):n}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,r){this.runOp({type:4,fi:e,id:t,data:r})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let n=t[i];this.add(r[i],n.id,n.data)}}insertBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let n=t[i];this.add(r[i],n.id,n.data)}}moveAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let n=t[i];this.move(r[i],n)}}moveBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let n=t[i];this.move(r[i],n)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function F4(e,t,r){if(e.length>0){let i=e[e.length-1];if(i.type===0&&t.type===0&&co.equal(i.path,r)){Object.assign(i.props,t.props);return}}e.push({...t,path:r})}var ule=class extends x_{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,r,i){F4(this.ts,t,e),F4(this.actual,r,e),F4(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function D3(e,t,r){return r instanceof Jo?new Qz(e,t,r):r instanceof Br?new Wz(e,t,r):r instanceof Lr?new Proxy(new rWe(e,t,r),nWe):r!==null&&typeof r=="object"?zz(r)?r:new Proxy(new tWe(e,t,r),iWe):r}function dle(e){let t=new ule(e);return[D3(t,"",e),t]}function EC(e,t){let[r,i]=dle(e);return t(r),i.result()}function Da(e){return e instanceof Qz||e instanceof Wz?e._current:e!==null&&typeof e=="object"?e[lle]:e}var co;(e=>{function t(a,o){if(o.length===a.length)for(var s=0;s<a.length;){if(a[s]!==o[s])return!1;s+=1}else return!1;return!0}e.equal=t;function r(a,o,s){let l=n(s,a);if(l!==void 0&&typeof l=="object"&&l!==null){let c={...o};return Object.keys(l).forEach(u=>{delete c[u]}),c}else return o}e.removeOverridden=r;function i(a,o){if((a instanceof Jo||a instanceof Qz)&&typeof o=="string"||(a instanceof Br||a instanceof Wz)&&typeof o=="string")return a.data(o);if(typeof o=="number"&&Array.isArray(a)||typeof o=="string"&&typeof a=="object"&&a!==null)return a[o]}e.zoomOnce=i;function n(a,o,s=0){for(;s<o.length&&a!==void 0;)a=i(a,o[s]),s+=1;return a}e.zoom=n})(co||(co={}));function aWe(e,t){let r=[];if(t.length===e.length)for(var i=0;i<e.length;){if(t[i]==="*")r.push(e[i]);else if(e[i]!==t[i])return null;i+=1}else return null;return r}function xn(e,t){let r=[];if(t.length<=e.length)for(var i=0;i<t.length;){if(t[i]==="*")r.push(e[i]);else if(e[i]!==t[i])return null;i+=1}else return null;return r}var hle=class{},Q9=class extends hle{constructor(e){super(),this.id=e}},W9=class extends hle{constructor(e){super(),this.data=e}},RR;try{RR=new TextDecoder}catch{}var yr,QA,ft=0,Ol={},qi,xA,Vc=0,Jd=0,uc,Tf,sl=[],an,G9={useRecords:!1,mapsAsObjects:!0},fle=class{},ple=new fle;ple.name="MessagePack 0xC1";var Rb=!1,wP=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(yr)return ble(()=>(NR(),this?this.unpack(e,t):wP.prototype.unpack.call(G9,e,t)));QA=t>-1?t:e.length,ft=0,Jd=0,xA=null,uc=null,yr=e;try{an=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw yr=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof wP){if(Ol=this,this.structures)return qi=this.structures,XE();(!qi||qi.length>0)&&(qi=[])}else Ol=G9,(!qi||qi.length>0)&&(qi=[]);return XE()}unpackMultiple(e,t){let r,i=0;try{Rb=!0;let n=e.length,a=this?this.unpack(e,n):F3.unpack(e,n);if(t){for(t(a);ft<n;)if(i=ft,t(XE())===!1)return}else{for(r=[a];ft<n;)i=ft,r.push(XE());return r}}catch(n){throw n.lastPosition=i,n.values=r,n}finally{Rb=!1,NR()}}_mergeStructures(e,t){e=e||[];for(let r=0,i=e.length;r<i;r++){let n=e[r];n&&(n.isShared=!0,r>=32&&(n.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let i=e[r],n=t[r];n&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[r]=i),e[r]=n)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function XE(){try{if(!Ol.trusted&&!Rb){let t=qi.sharedLength||0;t<qi.length&&(qi.length=t)}let e=pa();if(ft==QA)qi.restoreStructures&&q9(),qi=null,yr=null,Tf&&(Tf=null);else if(ft>QA){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!Rb)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw qi.restoreStructures&&q9(),NR(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function q9(){for(let e in qi.restoreStructures)qi[e]=qi.restoreStructures[e];qi.restoreStructures=null}function pa(){let e=yr[ft++];if(e<160)if(e<128){if(e<64)return e;{let t=qi[e&63]||Ol.getStructures&&Ale()[e&63];return t?(t.read||(t.read=Gz(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ol.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[mle()]=pa();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(pa(),pa());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=pa();return t}else if(e<192){let t=e-160;if(Jd>=ft)return xA.slice(ft-Vc,(ft+=t)-Vc);if(Jd==0&&QA<140){let r=t<16?qz(t):gle(t);if(r!=null)return r}return UR(t)}else{let t;switch(e){case 192:return null;case 193:return uc?(t=pa(),t>0?uc[1].slice(uc.position1,uc.position1+=t):uc[0].slice(uc.position0,uc.position0-=t)):ple;case 194:return!1;case 195:return!0;case 196:return L4(yr[ft++]);case 197:return t=an.getUint16(ft),ft+=2,L4(t);case 198:return t=an.getUint32(ft),ft+=4,L4(t);case 199:return $g(yr[ft++]);case 200:return t=an.getUint16(ft),ft+=2,$g(t);case 201:return t=an.getUint32(ft),ft+=4,$g(t);case 202:if(t=an.getFloat32(ft),Ol.useFloat32>2){let r=Kz[(yr[ft]&127)<<1|yr[ft+1]>>7];return ft+=4,(r*t+(t>0?.5:-.5)>>0)/r}return ft+=4,t;case 203:return t=an.getFloat64(ft),ft+=8,t;case 204:return yr[ft++];case 205:return t=an.getUint16(ft),ft+=2,t;case 206:return t=an.getUint32(ft),ft+=4,t;case 207:return Ol.int64AsNumber?(t=an.getUint32(ft)*4294967296,t+=an.getUint32(ft+4)):t=an.getBigUint64(ft),ft+=8,t;case 208:return an.getInt8(ft++);case 209:return t=an.getInt16(ft),ft+=2,t;case 210:return t=an.getInt32(ft),ft+=4,t;case 211:return Ol.int64AsNumber?(t=an.getInt32(ft)*4294967296,t+=an.getUint32(ft+4)):t=an.getBigInt64(ft),ft+=8,t;case 212:if(t=yr[ft++],t==114)return J9(yr[ft++]&63);{let r=sl[t];if(r)return r.read?(ft++,r.read(pa())):r.noBuffer?(ft++,r()):r(yr.subarray(ft,++ft));throw new Error("Unknown extension "+t)}case 213:return t=yr[ft],t==114?(ft++,J9(yr[ft++]&63,yr[ft++])):$g(2);case 214:return $g(4);case 215:return $g(8);case 216:return $g(16);case 217:return t=yr[ft++],Jd>=ft?xA.slice(ft-Vc,(ft+=t)-Vc):sWe(t);case 218:return t=an.getUint16(ft),ft+=2,Jd>=ft?xA.slice(ft-Vc,(ft+=t)-Vc):lWe(t);case 219:return t=an.getUint32(ft),ft+=4,Jd>=ft?xA.slice(ft-Vc,(ft+=t)-Vc):cWe(t);case 220:return t=an.getUint16(ft),ft+=2,X9(t);case 221:return t=an.getUint32(ft),ft+=4,X9(t);case 222:return t=an.getUint16(ft),ft+=2,Y9(t);case 223:return t=an.getUint32(ft),ft+=4,Y9(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}var oWe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Gz(e,t){function r(){if(r.count++>2){let n=e.read=new Function("r","return function(){return {"+e.map(a=>oWe.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}}")(pa);return e.highByte===0&&(e.read=K9(t,e.read)),n()}let i={};for(let n=0,a=e.length;n<a;n++){let o=e[n];i[o]=pa()}return i}return r.count=0,e.highByte===0?K9(t,r):r}var K9=(e,t)=>function(){let r=yr[ft++];if(r===0)return t();let i=e<32?-(e+(r<<5)):e+(r<<5),n=qi[i]||Ale()[i];if(!n)throw new Error("Record id is not defined for "+i);return n.read||(n.read=Gz(n,e)),n.read()};function Ale(){let e=ble(()=>(yr=null,Ol.getStructures()));return qi=Ol._mergeStructures(e,qi)}var UR=I3,sWe=I3,lWe=I3,cWe=I3;function I3(e){let t;if(e<16&&(t=qz(e)))return t;if(e>64&&RR)return RR.decode(yr.subarray(ft,ft+=e));let r=ft+e,i=[];for(t="";ft<r;){let n=yr[ft++];if(!(n&128))i.push(n);else if((n&224)===192){let a=yr[ft++]&63;i.push((n&31)<<6|a)}else if((n&240)===224){let a=yr[ft++]&63,o=yr[ft++]&63;i.push((n&31)<<12|a<<6|o)}else if((n&248)===240){let a=yr[ft++]&63,o=yr[ft++]&63,s=yr[ft++]&63,l=(n&7)<<18|a<<12|o<<6|s;l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l)}else i.push(n);i.length>=4096&&(t+=xo.apply(String,i),i.length=0)}return i.length>0&&(t+=xo.apply(String,i)),t}function X9(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=pa();return t}function Y9(e){if(Ol.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[mle()]=pa();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(pa(),pa());return t}}var xo=String.fromCharCode;function gle(e){let t=ft,r=new Array(e);for(let i=0;i<e;i++){let n=yr[ft++];if((n&128)>0){ft=t;return}r[i]=n}return xo.apply(String,r)}function qz(e){if(e<4)if(e<2){if(e===0)return"";{let t=yr[ft++];if((t&128)>1){ft-=1;return}return xo(t)}}else{let t=yr[ft++],r=yr[ft++];if((t&128)>0||(r&128)>0){ft-=2;return}if(e<3)return xo(t,r);let i=yr[ft++];if((i&128)>0){ft-=3;return}return xo(t,r,i)}else{let t=yr[ft++],r=yr[ft++],i=yr[ft++],n=yr[ft++];if((t&128)>0||(r&128)>0||(i&128)>0||(n&128)>0){ft-=4;return}if(e<6){if(e===4)return xo(t,r,i,n);{let a=yr[ft++];if((a&128)>0){ft-=5;return}return xo(t,r,i,n,a)}}else if(e<8){let a=yr[ft++],o=yr[ft++];if((a&128)>0||(o&128)>0){ft-=6;return}if(e<7)return xo(t,r,i,n,a,o);let s=yr[ft++];if((s&128)>0){ft-=7;return}return xo(t,r,i,n,a,o,s)}else{let a=yr[ft++],o=yr[ft++],s=yr[ft++],l=yr[ft++];if((a&128)>0||(o&128)>0||(s&128)>0||(l&128)>0){ft-=8;return}if(e<10){if(e===8)return xo(t,r,i,n,a,o,s,l);{let c=yr[ft++];if((c&128)>0){ft-=9;return}return xo(t,r,i,n,a,o,s,l,c)}}else if(e<12){let c=yr[ft++],u=yr[ft++];if((c&128)>0||(u&128)>0){ft-=10;return}if(e<11)return xo(t,r,i,n,a,o,s,l,c,u);let d=yr[ft++];if((d&128)>0){ft-=11;return}return xo(t,r,i,n,a,o,s,l,c,u,d)}else{let c=yr[ft++],u=yr[ft++],d=yr[ft++],h=yr[ft++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){ft-=12;return}if(e<14){if(e===12)return xo(t,r,i,n,a,o,s,l,c,u,d,h);{let f=yr[ft++];if((f&128)>0){ft-=13;return}return xo(t,r,i,n,a,o,s,l,c,u,d,h,f)}}else{let f=yr[ft++],m=yr[ft++];if((f&128)>0||(m&128)>0){ft-=14;return}if(e<15)return xo(t,r,i,n,a,o,s,l,c,u,d,h,f,m);let A=yr[ft++];if((A&128)>0){ft-=15;return}return xo(t,r,i,n,a,o,s,l,c,u,d,h,f,m,A)}}}}}function L4(e){return Ol.copyBuffers?Uint8Array.prototype.slice.call(yr,ft,ft+=e):yr.subarray(ft,ft+=e)}function $g(e){let t=yr[ft++];if(sl[t])return sl[t](yr.subarray(ft,ft+=e));throw new Error("Unknown extension type "+t)}var $9=new Array(4096);function mle(){let e=yr[ft++];if(e>=160&&e<192){if(e=e-160,Jd>=ft)return xA.slice(ft-Vc,(ft+=e)-Vc);if(!(Jd==0&&QA<180))return UR(e)}else return ft--,pa();let t=(e<<5^(e>1?an.getUint16(ft):e>0?yr[ft]:0))&4095,r=$9[t],i=ft,n=ft+e-3,a,o=0;if(r&&r.bytes==e){for(;i<n;){if(a=an.getUint32(i),a!=r[o++]){i=1879048192;break}i+=4}for(n+=3;i<n;)if(a=yr[i++],a!=r[o++]){i=1879048192;break}if(i===n)return ft=i,r.string;n-=3,i=ft}for(r=[],$9[t]=r,r.bytes=e;i<n;)a=an.getUint32(i),r.push(a),i+=4;for(n+=3;i<n;)a=yr[i++],r.push(a);let s=e<16?qz(e):gle(e);return s!=null?r.string=s:r.string=UR(e)}var J9=(e,t)=>{var r=pa();let i=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let n=qi[e];return n&&n.isShared&&((qi.restoreStructures||(qi.restoreStructures=[]))[e]=n),qi[e]=r,r.read=Gz(r,i),r.read()},vle=typeof self=="object"?self:global;sl[0]=()=>{};sl[0].noBuffer=!0;sl[101]=()=>{let e=pa();return(vle[e[0]]||Error)(e[1])};sl[105]=e=>{let t=an.getUint32(ft-4);Tf||(Tf=new Map);let r=yr[ft],i;r>=144&&r<160||r==220||r==221?i=[]:i={};let n={target:i};Tf.set(t,n);let a=pa();return n.used?Object.assign(i,a):(n.target=a,a)};sl[112]=e=>{let t=an.getUint32(ft-4),r=Tf.get(t);return r.used=!0,r.target};sl[115]=()=>new Set(pa());var yle=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");sl[116]=e=>{let t=e[0],r=yle[t];if(!r)throw new Error("Could not find typed array for code "+t);return new vle[r](Uint8Array.prototype.slice.call(e,1).buffer)};sl[120]=()=>{let e=pa();return new RegExp(e[0],e[1])};sl[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=ft;ft+=t-4,uc=[pa(),pa()],uc.position0=0,uc.position1=0;let i=ft;ft=r;try{return pa()}finally{ft=i}};sl[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function ble(e){let t=QA,r=ft,i=Vc,n=Jd,a=xA,o=Tf,s=uc,l=new Uint8Array(yr.slice(0,QA)),c=qi,u=qi.slice(0,qi.length),d=Ol,h=Rb,f=e();return QA=t,ft=r,Vc=i,Jd=n,xA=a,Tf=o,uc=s,yr=l,Rb=h,qi=c,qi.splice(0,qi.length,...u),Ol=d,an=new DataView(yr.buffer,yr.byteOffset,yr.byteLength),f}function NR(){yr=null,Tf=null,qi=null}function uWe(e){e.unpack?sl[e.type]=e.unpack:sl[e.type]=e}var Kz=new Array(147);for(let e=0;e<256;e++)Kz[e]=+("1e"+Math.floor(45.15-e*.30103));var F3=new wP({useRecords:!1});F3.unpack;F3.unpackMultiple;F3.unpack;var dWe=new Float32Array(1);new Uint8Array(dWe.buffer,0,4);var U5;try{U5=new TextEncoder}catch{}var xP,Xz,L3=typeof Buffer<"u",R4=L3?Buffer.allocUnsafeSlow:Uint8Array,wle=L3?Buffer:Uint8Array,Z9=L3?4294967296:2144337920,Lt,_a,bt=0,Bd,Md=null,hWe=/[\u0080-\uFFFF]/,Kw=Symbol("record-id"),xle=class extends wP{constructor(e){super(e),this.offset=0;let t,r,i,n,a,o=0,s=wle.prototype.utf8Write?function(w,C,_){return Lt.utf8Write(w,C,_)}:U5&&U5.encodeInto?function(w,C){return U5.encodeInto(w,Lt.subarray(C)).written}:!1,l=this;e||(e={});let c=e&&e.sequential,u=e.structures||e.saveStructures,d=e.maxSharedStructures;if(d==null&&(d=u?32:0),d>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;h==null&&(h=u?32:64),c&&!e.saveStructures&&(this.structures=[]);let f=d>32||h+d>64,m=d+64,A=d+h+64;if(A>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let g=[],p=0,v=0;this.pack=this.encode=function(w,C){if(Lt||(Lt=new R4(8192),_a=new DataView(Lt.buffer,0,8192),bt=0),Bd=Lt.length-10,Bd-bt<2048?(Lt=new R4(Lt.length),_a=new DataView(Lt.buffer,0,Lt.length),Bd=Lt.length-10,bt=0):bt=bt+7&2147483640,t=bt,a=l.structuredClone?new Map:null,l.bundleStrings?(Md=["",""],Lt[bt++]=214,Lt[bt++]=98,Md.position=bt-t,bt+=4):Md=null,r=l.structures,r){r.uninitialized&&(r=l._mergeStructures(l.getStructures()));let _=r.sharedLength||0;if(_>d)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let B=0;B<_;B++){let P=r[B];if(!P)continue;let M,O=r.transitions;for(let I=0,F=P.length;I<F;I++){let V=P[I];M=O[V],M||(M=O[V]=Object.create(null)),O=M}O[Kw]=B+64}o=_}c||(r.nextId=_+64)}i&&(i=!1),n=r||[];try{if(y(w),Md){_a.setUint32(Md.position+t,bt-Md.position-t);let _=Md;Md=null,y(_[0]),y(_[1])}if(l.offset=bt,a&&a.idsToInsert){bt+=a.idsToInsert.length*6,bt>Bd&&x(bt),l.offset=bt;let _=pWe(Lt.subarray(t,bt),a.idsToInsert);return a=null,_}return C&AWe?(Lt.start=t,Lt.end=bt,Lt):Lt.subarray(t,bt)}finally{if(r){if(v<10&&v++,p>1e4)r.transitions=null,v=0,p=0,g.length>0&&(g=[]);else if(g.length>0&&!c){for(let _=0,B=g.length;_<B;_++)g[_][Kw]=0;g=[]}if(i&&l.saveStructures){let _=r.sharedLength||d;r.length>_&&(r=r.slice(0,_));let B=Lt.subarray(t,bt);return l.saveStructures(r,o)===!1?(l._mergeStructures(l.getStructures()),l.pack(w)):(o=_,B)}}C&gWe&&(bt=t)}};let y=w=>{bt>Bd&&(Lt=x(bt));var C=typeof w,_;if(C==="string"){let B=w.length;if(Md&&B>=8&&B<4096){let O=hWe.test(w);Md[O?0:1]+=w,Lt[bt++]=193,y(O?-B:B);return}let P;B<32?P=1:B<256?P=2:B<65536?P=3:P=5;let M=B*3;if(bt+M>Bd&&(Lt=x(bt+M)),B<64||!s){let O,I,F,V=bt+P;for(O=0;O<B;O++)I=w.charCodeAt(O),I<128?Lt[V++]=I:I<2048?(Lt[V++]=I>>6|192,Lt[V++]=I&63|128):(I&64512)===55296&&((F=w.charCodeAt(O+1))&64512)===56320?(I=65536+((I&1023)<<10)+(F&1023),O++,Lt[V++]=I>>18|240,Lt[V++]=I>>12&63|128,Lt[V++]=I>>6&63|128,Lt[V++]=I&63|128):(Lt[V++]=I>>12|224,Lt[V++]=I>>6&63|128,Lt[V++]=I&63|128);_=V-bt-P}else _=s(w,bt+P,M);_<32?Lt[bt++]=160|_:_<256?(P<2&&Lt.copyWithin(bt+2,bt+1,bt+1+_),Lt[bt++]=217,Lt[bt++]=_):_<65536?(P<3&&Lt.copyWithin(bt+3,bt+2,bt+2+_),Lt[bt++]=218,Lt[bt++]=_>>8,Lt[bt++]=_&255):(P<5&&Lt.copyWithin(bt+5,bt+3,bt+3+_),Lt[bt++]=219,_a.setUint32(bt,_),bt+=4),bt+=_}else if(C==="number")if(w>>>0===w)w<64?Lt[bt++]=w:w<256?(Lt[bt++]=204,Lt[bt++]=w):w<65536?(Lt[bt++]=205,Lt[bt++]=w>>8,Lt[bt++]=w&255):(Lt[bt++]=206,_a.setUint32(bt,w),bt+=4);else if(w>>0===w)w>=-32?Lt[bt++]=256+w:w>=-128?(Lt[bt++]=208,Lt[bt++]=w+256):w>=-32768?(Lt[bt++]=209,_a.setInt16(bt,w),bt+=2):(Lt[bt++]=210,_a.setInt32(bt,w),bt+=4);else{let B;if((B=this.useFloat32)>0&&w<4294967296&&w>=-2147483648){Lt[bt++]=202,_a.setFloat32(bt,w);let P;if(B<4||(P=w*Kz[(Lt[bt]&127)<<1|Lt[bt+1]>>7])>>0===P){bt+=4;return}else bt--}Lt[bt++]=203,_a.setFloat64(bt,w),bt+=8}else if(C==="object")if(!w)Lt[bt++]=192;else{if(a){let P=a.get(w);if(P){if(!P.id){let M=a.idsToInsert||(a.idsToInsert=[]);P.id=M.push(P)}Lt[bt++]=214,Lt[bt++]=112,_a.setUint32(bt,P.id),bt+=4;return}else a.set(w,{offset:bt-t})}let B=w.constructor;if(B===Object)b(w,!0);else if(B===Array){_=w.length,_<16?Lt[bt++]=144|_:_<65536?(Lt[bt++]=220,Lt[bt++]=_>>8,Lt[bt++]=_&255):(Lt[bt++]=221,_a.setUint32(bt,_),bt+=4);for(let P=0;P<_;P++)y(w[P])}else if(B===Map){_=w.size,_<16?Lt[bt++]=128|_:_<65536?(Lt[bt++]=222,Lt[bt++]=_>>8,Lt[bt++]=_&255):(Lt[bt++]=223,_a.setUint32(bt,_),bt+=4);for(let[P,M]of w)y(P),y(M)}else{for(let P=0,M=xP.length;P<M;P++){let O=Xz[P];if(w instanceof O){let I=xP[P];if(I.write){I.type&&(Lt[bt++]=212,Lt[bt++]=I.type,Lt[bt++]=0),y(I.write.call(this,w));return}let F=Lt,V=_a,Y=bt;Lt=null;let j;try{j=I.pack.call(this,w,R=>(Lt=F,F=null,bt+=R,bt>Bd&&x(bt),{target:Lt,targetView:_a,position:bt-R}),y)}finally{F&&(Lt=F,_a=V,bt=Y,Bd=Lt.length-10)}j&&(j.length+bt>Bd&&x(j.length+bt),bt=fWe(j,Lt,bt,I.type));return}}b(w,!w.hasOwnProperty)}}else if(C==="boolean")Lt[bt++]=w?195:194;else if(C==="bigint"){if(w<BigInt(1)<<BigInt(63)&&w>=-(BigInt(1)<<BigInt(63)))Lt[bt++]=211,_a.setBigInt64(bt,w);else if(w<BigInt(1)<<BigInt(64)&&w>0)Lt[bt++]=207,_a.setBigUint64(bt,w);else if(this.largeBigIntToFloat)Lt[bt++]=203,_a.setFloat64(bt,Number(w));else throw new RangeError(w+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");bt+=8}else if(C==="undefined")this.encodeUndefinedAsNil?Lt[bt++]=192:(Lt[bt++]=212,Lt[bt++]=0,Lt[bt++]=0);else if(C==="function")y(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+C)},b=this.useRecords===!1?this.variableMapSize?w=>{let C=Object.keys(w),_=C.length;_<16?Lt[bt++]=128|_:_<65536?(Lt[bt++]=222,Lt[bt++]=_>>8,Lt[bt++]=_&255):(Lt[bt++]=223,_a.setUint32(bt,_),bt+=4);let B;for(let P=0;P<_;P++)y(B=C[P]),y(w[B])}:(w,C)=>{Lt[bt++]=222;let _=bt-t;bt+=2;let B=0;for(let P in w)(C||w.hasOwnProperty(P))&&(y(P),y(w[P]),B++);Lt[_+++t]=B>>8,Lt[_+t]=B&255}:w=>{let C=Object.keys(w),_,B=n.transitions||(n.transitions=Object.create(null)),P=0;for(let O=0,I=C.length;O<I;O++){let F=C[O];_=B[F],_||(_=B[F]=Object.create(null),P++),B=_}let M=B[Kw];if(M)M>=96&&f?(Lt[bt++]=((M-=96)&31)+96,Lt[bt++]=M>>5):Lt[bt++]=M;else{M=n.nextId,M||(M=64),M<m&&this.shouldShareStructure&&!this.shouldShareStructure(C)?(M=n.nextOwnId,M<A||(M=m),n.nextOwnId=M+1):(M>=A&&(M=m),n.nextId=M+1);let O=C.highByte=M>=96&&f?M-96>>5:-1;B[Kw]=M,n[M-64]=C,M<m?(C.isShared=!0,n.sharedLength=M-63,i=!0,O>=0?(Lt[bt++]=(M&31)+96,Lt[bt++]=O):Lt[bt++]=M):(O>=0?(Lt[bt++]=213,Lt[bt++]=114,Lt[bt++]=(M&31)+96,Lt[bt++]=O):(Lt[bt++]=212,Lt[bt++]=114,Lt[bt++]=M),P&&(p+=v*P),g.length>=h&&(g.shift()[Kw]=0),g.push(B),y(C))}for(let O=0,I=C.length;O<I;O++)y(w[C[O]])},x=w=>{let C;if(w>16777216){if(w-t>Z9)throw new Error("Packed buffer would be larger than maximum buffer size");C=Math.min(Z9,Math.round(Math.max((w-t)*(w>67108864?1.25:2),4194304)/4096)*4096)}else C=(Math.max(w-t<<2,Lt.length-1)>>12)+1<<12;let _=new R4(C);return _a=new DataView(_.buffer,0,C),Lt.copy?Lt.copy(_,0,t,w):_.set(Lt.slice(t,w)),bt-=t,t=0,Bd=_.length-10,Lt=_}}useBuffer(e){Lt=e,_a=new DataView(Lt.buffer,Lt.byteOffset,Lt.byteLength),bt=0}};Xz=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,fle];xP=[{pack(e,t,r){let i=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&i>=0&&i<4294967296){let{target:n,targetView:a,position:o}=t(6);n[o++]=214,n[o++]=255,a.setUint32(o,i)}else if(i>0&&i<17179869184){let{target:n,targetView:a,position:o}=t(10);n[o++]=215,n[o++]=255,a.setUint32(o,e.getMilliseconds()*4e6+(i/1e3/4294967296>>0)),a.setUint32(o+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:n,targetView:a,position:o}=t(3);n[o++]=212,n[o++]=255,n[o++]=255}else{let{target:n,targetView:a,position:o}=t(15);n[o++]=199,n[o++]=12,n[o++]=255,a.setUint32(o,e.getMilliseconds()*1e6),a.setBigInt64(o+4,BigInt(Math.floor(i)))}}},{pack(e,t,r){let i=Array.from(e),{target:n,position:a}=t(this.structuredClone?3:0);this.structuredClone&&(n[a++]=212,n[a++]=115,n[a++]=0),r(i)}},{pack(e,t,r){let{target:i,position:n}=t(this.structuredClone?3:0);this.structuredClone&&(i[n++]=212,i[n++]=101,i[n++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:i,position:n}=t(this.structuredClone?3:0);this.structuredClone&&(i[n++]=212,i[n++]=120,i[n++]=0),r([e.source,e.flags])}},{pack(e,t){this.structuredClone?eq(e,16,t):tq(L3?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==wle&&this.structuredClone?eq(e,yle.indexOf(r.name),t):tq(e,t)}},{pack(e,t){let{target:r,position:i}=t(1);r[i]=193}}];function eq(e,t,r,i){let n=e.byteLength;if(n+1<256){var{target:a,position:o}=r(4+n);a[o++]=199,a[o++]=n+1}else if(n+1<65536){var{target:a,position:o}=r(5+n);a[o++]=200,a[o++]=n+1>>8,a[o++]=n+1&255}else{var{target:a,position:o,targetView:s}=r(7+n);a[o++]=201,s.setUint32(o,n+1),o+=4}a[o++]=116,a[o++]=t,a.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function tq(e,t){let r=e.byteLength;var i,n;if(r<256){var{target:i,position:n}=t(r+2);i[n++]=196,i[n++]=r}else if(r<65536){var{target:i,position:n}=t(r+3);i[n++]=197,i[n++]=r>>8,i[n++]=r&255}else{var{target:i,position:n,targetView:a}=t(r+5);i[n++]=198,a.setUint32(n,r),n+=4}i.set(e,n)}function fWe(e,t,r,i){let n=e.length;switch(n){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:n<256?(t[r++]=199,t[r++]=n):n<65536?(t[r++]=200,t[r++]=n>>8,t[r++]=n&255):(t[r++]=201,t[r++]=n>>24,t[r++]=n>>16&255,t[r++]=n>>8&255,t[r++]=n&255)}return t[r++]=i,t.set(e,r),r+=n,r}function pWe(e,t){let r,i=t.length*6,n=e.length-i;for(t.sort((a,o)=>a.offset>o.offset?1:-1);r=t.pop();){let a=r.offset,o=r.id;e.copyWithin(a+i,a,n),i-=6;let s=a+i;e[s++]=214,e[s++]=105,e[s++]=o>>24,e[s++]=o>>16&255,e[s++]=o>>8&255,e[s++]=o&255,n=a}return e}function x1(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");Xz.unshift(e.Class),xP.unshift(e)}uWe(e)}var Cle=new xle({useRecords:!1});Cle.pack;Cle.pack;var AWe=512,gWe=1024,rq=new xle({structuredClone:!0});x1({Class:Lr.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,Lr.prototype),e}});x1({Class:Br.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,Br.prototype),e}});x1({Class:Jo.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,Jo.prototype),e}});x1({Class:Q9.prototype.constructor,type:4,write(e){return e.id},read(e){return new Q9(e)}});x1({Class:W9.prototype.constructor,type:5,write(e){return e.data},read(e){return new W9(e)}});x1({Class:$a.prototype.constructor,type:6,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,$a.prototype),e}});function mWe(e){var t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let i=e[r];t=(t<<5)-t+i,t=t&t}return t}function kR(e){if(zz(e))return e;if(Array.isArray(e))return e.map(kR);if(typeof e=="object"&&e!==null){let t={};for(let r of Object.keys(e).sort())t[r]=kR(e[r]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var jR;(e=>{function t(n){return rq.pack(n)}e.serialize=t;function r(n){return rq.unpack(n)}e.deserialize=r;function i(n){return mWe(t(kR(n))).toString()}e.checksum=i})(jR||(jR={}));var iq;(e=>{function t(i){return i.type==="Conditional"?i.condition.type==="Distance"?"Distance":"StateChange":i.type}e.toEventUIType=t;function r(i){return i==="Distance"||i==="StateChange"?"Conditional":i}e.fromEventUIType=r})(iq||(iq={}));function nq(e){return e==="MouseDown"||e==="MouseUp"||e==="KeyDown"||e==="KeyUp"||e==="Collision"||e==="Trigger"}var ys={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],API:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],WEBHOOK:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"]},aq;(e=>{function t(i){return i.type==="MouseDown"||i.type==="MouseUp"||i.type==="MousePress"||i.type==="KeyDown"||i.type==="KeyUp"||i.type==="KeyPress"}e.is=t;function r(i){return i==="MouseDown"||i==="MouseUp"||i==="MousePress"?{type:i,mode:"Object",disabled:!1,actions:new Br}:{type:i,disabled:!1,key:void 0,actions:new Br}}e.defaultData=r})(aq||(aq={}));var CP;(e=>{function t(r){return{type:"Property",value:[r??null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(CP||(CP={}));var zR;(e=>{function t(n){return{type:"Comparison",operator:"==",lOperand:CP.propertyDefaultData(n),rOperand:{...CP.valueDefaultData}}}e.comparisonDefaultData=t;function r(n){return{type:"Distance",toObject:n??null,fromObject:n??null,distance:200}}e.distanceDefaultData=r;function i(n,a){return{type:"State",object:n??null,state:a??null}}e.stateDefaultData=i})(zR||(zR={}));var oq;(e=>{function t(r){return r.find(i=>i==="ifActions"||i==="elseActions")!==void 0}e.isConditionalSubActions=t})(oq||(oq={}));var sq;(e=>{function t(i){return i.type==="Conditional"}e.is=t;function r(i){return{type:"Conditional",disabled:!1,inActions:new Br,outActions:new Br,condition:zR.distanceDefaultData(i)}}e.defaultData=r})(sq||(sq={}));var lq;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new Br,drop:new Br}})(lq||(lq={}));var HR;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new Br})(HR||(HR={}));var VR;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(VR||(VR={}));var cq;(e=>{function t(i){return i.type==="MouseHover"}e.is=t;function r(){return{type:"MouseHover",disabled:!1,actions:new Br}}e.defaultData=r})(cq||(cq={}));var uq;(e=>{function t(i){return i.type==="Scroll"}e.is=t;function r(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new Br}}e.defaultData=r})(uq||(uq={}));var dq;(e=>{function t(i){return i.type==="Start"}e.is=t;function r(){return{type:"Start",disabled:!1,actions:new Br}}e.defaultData=r})(dq||(dq={}));var hq;(e=>{function t(i){return i.type==="Collision"}e.is=t;function r(){return{type:"Collision",disabled:!1,target:"character",actions:new Br}}e.defaultData=r})(hq||(hq={}));var fq;(e=>{function t(i){return i.type==="Trigger"}e.is=t;function r(i,n){return{type:"Trigger",disabled:!1,target:"all",triggeringObjects:[],actions:new Br,triggerZone:"box",position:n.toArray(),rotation:[0,0,0],size:i.toArray(),radius:i.length()/2,helperVisible:!0}}e.defaultData=r})(fq||(fq={}));var QR;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(o){return o.type==="Resize"}e.is=t;function r(o){return typeof o=="string"?o:"custom"}e.sizeToDevice=r;function i(o){return typeof o=="string"?[...e.defaultSizes[o]]:[...o]}e.deviceToSize=i;function n(){let o={size:"mobile",operator:"<",actions:new Br},s={size:"tablet",operator:"<",actions:new Br},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new Br},c=new Br;return c.push({id:fr.generateUUID(),fi:0,data:o},{id:fr.generateUUID(),fi:1,data:s},{id:fr.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:c}}e.defaultData=n;function a(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new Br}}e.defaultBreakpointData=a})(QR||(QR={}));var WR;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(i){return i.type==="VariableChange"}e.is=t;function r(){return{disabled:!1,type:"VariableChange",actions:new Br,variableId:"",objectId:null,property:"Position X"}}e.defaultData=r})(WR||(WR={}));var pq;(e=>{function t(i){return i.type==="API"}e.is=t;function r(){return{disabled:!1,type:"API",successActions:new Br,errorActions:new Br,userAPIId:""}}e.defaultData=r})(pq||(pq={}));var Aq;(e=>{function t(i){return i.type==="WEBHOOK"}e.is=t;function r(){return{disabled:!1,type:"WEBHOOK",actions:new Br,userWebhookId:""}}e.defaultData=r})(Aq||(Aq={}));var C1="personal camera",y2="a218fcc3-276b-49b9-b485-49037fd14f5f",vWe=2960946,vc=5526619,Cf;(e=>{function t(m,A){return m[0]===A[0]&&m[1]===A[1]}e.isEqual=t;function r(m,A,g){return[m[0]+(A[0]-m[0])*g,m[1]+(A[1]-m[1])*g]}e.lerp=r;function i(m,A){return[m[0]+A[0],m[1]+A[1]]}e.add=i;function n(m,A){return[m[0]-A[0],m[1]-A[1]]}e.sub=n;function a(m,A){return[m[0]*A[0],m[1]*A[1]]}e.multiply=a;function o(m,A){return[m[0]/A[0],m[1]/A[1]]}e.divide=o;function s(m,A){return Math.pow(A[0]-m[0],2)+Math.pow(A[1]-m[1],2)}e.distanceSquared=s;function l(m,A){return Math.sqrt(s(m,A))}e.distance=l;function c(m,A){return m[0]*A[0]+m[1]*A[1]}e.dot=c;function u(m,A){return[m[0]*A,m[1]*A]}e.scalarMultiply=u;function d(m,A,g){let p=e.sub(A,m),v=e.sub(g,m),y=e.dot(p,v)/e.dot(p,p),b=e.scalarMultiply(p,y);return e.add(m,b)}e.projectionOnto=d;function h(m,A,g){return l(m,d(m,A,g))}e.projectionOntoDistance=h;function f(m,A){return[(m[0]+A[0])*.5,(m[1]+A[1])*.5]}e.center=f})(Cf||(Cf={}));var Km;(e=>{function t(l,c){return l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2]}e.isEqual=t;function r(l,c){return[l[0]+c[0],l[1]+c[1],l[2]+c[2]]}e.add=r;function i(l,c){return[l[0]-c[0],l[1]-c[1],l[2]-c[2]]}e.sub=i;function n(l,c){return[l[0]/c[0],l[1]/c[1],l[2]/c[2]]}e.div=n;function a(l,c){return[l[0]*c[0],l[1]*c[1],l[2]*c[2]]}e.mul=a;function o(l,c){return Math.hypot(l[0]-c[0],l[1]-c[1],l[2]-c[2])}e.dist=o;function s(l,c,u){return[l[0]+(c[0]-l[0])*u,l[1]+(c[1]-l[1])*u,l[2]+(c[2]-l[2])*u]}e.lerp=s})(Km||(Km={}));var _P;(e=>{function t(i,n){return i[0]===n[0]&&i[1]===n[1]&&i[2]===n[2]&&i[3]===n[3]}e.isEqual=t;function r(i,n,a){return[i[0]+(n[0]-i[0])*a,i[1]+(n[1]-i[1])*a,i[2]+(n[2]-i[2])*a,i[3]+(n[3]-i[3])*a]}e.lerp=r})(_P||(_P={}));var gq;(e=>{let t=180/Math.PI,r=Math.PI/180;function i(s){return typeof s=="number"?s*t:s}function n(s){return typeof s=="number"?s*r:s}function a(s){return[i(s[0]),i(s[1]),i(s[2])]}e.radToDeg=a;function o(s){return[n(s[0]),n(s[1]),n(s[2])]}e.degToRad=o})(gq||(gq={}));var Ub;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(n,a){for(let o=0;o<16;o++)if(n[o]!==a[o])return!1;return!0}e.isEqual=t;function r(n){return n??e.identity}e.simplify=r;function i(n,a){let o=a.slice(0);for(var s=0,l=a.length;s<l;s+=3){let c=n[3]*a[s]+n[7]*a[s+1]+n[11]*a[s+2]+n[15];o[s]=(n[0]*a[s]+n[4]*a[s+1]+n[8]*a[s+2]+n[12])/c,o[s+1]=(n[1]*a[s]+n[5]*a[s+1]+n[9]*a[s+2]+n[13])/c,o[s+2]=(n[2]*a[s]+n[6]*a[s+1]+n[10]*a[s+2]+n[14])/c}return o}e.applyMatrix4=i})(Ub||(Ub={}));var Xo;(e=>{function t(c){return typeof c=="object"&&typeof c.r=="number"&&typeof c.g=="number"&&typeof c.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function r(c){return{r:Math.round(c.r*255),g:Math.round(c.g*255),b:Math.round(c.b*255),a:1}}e.toRgb255a1=r;function i(c){return{r:c.r,g:c.g,b:c.b}}e.clone=i;function n(c){return c=Math.floor(c),{r:(c>>16&255)/255,g:(c>>8&255)/255,b:(c&255)/255}}e.fromHex=n;function a(c){return Math.round(c.r*255)*65536+Math.round(c.g*255)*256+Math.round(c.b*255)}e.toHex=a;function o(c,u){return c.r===u.r&&c.g===u.g&&c.b===u.b}e.equals=o;function s(c,u){return c.r.toFixed(2)===u.r.toFixed(2)&&c.g.toFixed(2)===u.g.toFixed(2)&&c.b.toFixed(2)===u.b.toFixed(2)}e.equalsFixed=s;function l(c,u,d){return{r:c.r+(u.r-c.r)*d,g:c.g+(u.g-c.g)*d,b:c.b+(u.b-c.b)*d}}e.lerp=l})(Xo||(Xo={}));var An;(e=>{e.white={...Xo.white,a:1},e.transparent={...Xo.white,a:0};function t(l){return{r:l[0],g:l[1],b:l[2],a:l[3]}}e.from0to1=t;function r(l,c){return{...Xo.fromHex(l),a:c}}e.fromHexAndA=r;function i(l){return{r:Math.round(l.r*255),g:Math.round(l.g*255),b:Math.round(l.b*255),a:l.a}}e.toRgb255a1=i;function n(l,c){return Xo.equals(l,c)&&l.a===c.a}e.equals=n;function a(l,c){return Xo.equalsFixed(l,c)&&l.a.toFixed(2)===c.a.toFixed(2)}e.equalsFixed=a;function o(l,c,u){return{r:l.r+(c.r-l.r)*u,g:l.g+(c.g-l.g)*u,b:l.b+(c.b-l.b)*u,a:l.a+(c.a-l.a)*u}}e.lerp=o;function s({r:l,g:c,b:u,a:d}=e.white){return`rgba(${l*255}, ${c*255}, ${u*255}, ${d})`}e.toStyle=s})(An||(An={}));var GR;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(GR||(GR={}));var mq;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(mq||(mq={}));var vq;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})(vq||(vq={}));var tA;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(tA||(tA={}));function yq(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var c0;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(r){return e.all.includes(r)}e.is=t})(c0||(c0={}));var Nb;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(r){var i,n;return r.type==="PerspectiveCamera"?((i=r.perspective)==null?void 0:i.zoom)??1:((n=r.orthographic)==null?void 0:n.zoom)??1}e.getZoom=t})(Nb||(Nb={}));var CA;(e=>{function t(i,n=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(i[0],i[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[i[0]+i[0]*n,0,0]},grid:{count:[2,2,2],size:i.map(a=>a*(1+n)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function r(i,n){let a={...i};if(_le.forEach(o=>{Object.assign(a,{[o]:n[o]??i[o]})}),a.radial={...i.radial},n.radial){let o=i.radial,s=n.radial;Sle.forEach(l=>{Object.assign(a.radial,{[l]:s[l]??o[l]})})}if(a.linear={...i.linear},n.linear){let o=i.linear,s=n.linear;Ele.forEach(l=>{Object.assign(a.linear,{[l]:s[l]??o[l]})})}if(a.grid={...i.grid},n.grid){let o=i.grid,s=n.grid;Ble.forEach(l=>{Object.assign(a.grid,{[l]:s[l]??o[l]})})}if(a.toObject={...i.toObject},n.toObject){let o=i.toObject,s=n.toObject;Mle.forEach(l=>{Object.assign(a.toObject,{[l]:s[l]??o[l]})})}if(a.randomnessObject={...i.randomnessObject},n.randomnessObject){let o=i.randomnessObject,s=n.randomnessObject;Ple.forEach(l=>{Object.assign(a.randomnessObject,{[l]:s[l]??o[l]})})}return a}e.merge=r})(CA||(CA={}));var qR;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function r(i,n){let a=[];i.count!==void 0&&a.push({type:0,path:n,props:{count:i.count}});for(let o of t){let s=i[o];s&&Object.keys(s).length>0&&a.push({type:0,path:[...n,o],props:s})}return a}e.toOps=r})(qR||(qR={}));var _le=["count"],Sle=["radius","start","end","position","scale","rotation"],Ele=["position","scale","rotation"],Ble=["count","size"],Mle=["count","position","scale","rotation"],Ple=["strength","scale","rotation","position","movement","seed","freqScale"],KR;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(r){return e.all.includes(r)}e.is=t})(KR||(KR={}));var XR;(e=>{function t(i){return r(i)}e.defaultData=t;function r(i){if(i==="PointLight")return{type:i,color:An.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(i==="SpotLight")return{type:i,color:An.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(i==="DirectionalLight")return{type:i,color:An.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(XR||(XR={}));var SP;(e=>(e.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},e.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},e.defaultData={renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:e.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeDuration:1,...e.defaultCollisionData}))(SP||(SP={}));var kb;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(kb||(kb={}));var YR;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(r,i){return r.castShadow===i.castShadow&&r.receiveShadow===i.receiveShadow}e.equals=t})(YR||(YR={}));var $R;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(r,i){return r.flatShading===i.flatShading&&r.side===i.side&&r.wireframe===i.wireframe}e.equals=t})($R||($R={}));var JR;(e=>e.defaultData={...$R.defaultData,...YR.defaultData})(JR||(JR={}));var bq;(e=>{function t(r,i){var a,o;let n=[];if("material"in r){let s=typeof r.material=="string"?i.materials[r.material]??((a=i.lib.materials[r.material])==null?void 0:a.asset):r.material;s&&n.push(s)}else if("materials"in r)for(let s of r.materials){let l=typeof s=="string"?i.materials[s]??((o=i.lib.materials[s])==null?void 0:o.asset):s;l&&n.push(l)}return n}e.getMaterialData=t})(bq||(bq={}));var EP;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(EP||(EP={}));var wq;(e=>{function t(r){return r==="texture"||r==="video"||r==="color"||r==="depth"||r==="normal"||r==="gradient"||r==="noise"||r==="fresnel"||r==="rainbow"||r==="toon"||r==="outline"||r==="particle"||r==="transmission"||r==="matcap"||r==="displace"||r==="pattern"||r==="light"}e.is=t})(wq||(wq={}));function yWe(e){return e.type!=="displace"}var xq;(e=>{function t(r){return r==="phong"||r==="toon"||r==="lambert"||r==="physical"}e.is=t})(xq||(xq={}));var Tle=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],bWe=["wrapping","image","video","name","minFilter","magFilter"],Co;(e=>{function t(a,o){let{texture:s,...l}=o;if(Object.assign(a,l),s){let c=a.texture;c&&Object.assign(c,s)}}e.patch=t;function r(a,o){return a==="light"&&o?i(o):n(a)}e.defaultData=r;function i(a){let o={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(a){case"phong":return{...o,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...o,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...o,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...o,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}function n(a){let o={alpha:1,mode:0,isMask:!1,visible:!0};switch(a){case"texture":return{...o,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"video":return{...o,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:EP.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"color":return{...o,type:"color",color:Xo.fromHex(vc)};case"depth":return{...o,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...o,type:"normal",cnormal:[1,1,1]};case"gradient":return{...o,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...o,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...Xo.fromHex(6710886),a:1},colorB:{...Xo.fromHex(6710886),a:1},colorC:{...Xo.fromHex(16777215),a:1},colorD:{...Xo.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...o,type:"fresnel",color:An.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...o,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...o,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:An.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...o,type:"outline",outlineColor:An.fromHexAndA(0,1),contourColor:An.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...o,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006}};case"transmission":return{...o,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...o,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...Xo.fromHex(0),a:1},colorB:{...Xo.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}})(Co||(Co={}));var Zo;(e=>{function t(u){return!u.layers.some(d=>d.data.type==="texture"&&d.data.projection!==0||d.data.type==="depth"&&!d.data.isWorldSpace||d.data.type==="noise"||d.data.type==="displace")}e.isMergable=t;function r(u){let d="";return u.layers.forEach(h=>{Object.entries(h.data).forEach(([f,m])=>{d+=`${f}${m}`,Array.isArray(m)?m.forEach(A=>d+=`${A}`):typeof m=="object"?Object.values(m).forEach(A=>{typeof A=="number"?d+=`${A.toFixed(4)}`:d+=`${A}`}):d+=`${m}`})}),d}e.getHash=r;function i(){return{layers:new Br}}e.defaultEmptyData=i;function n(u="layer1",d="layer2"){return o("phong",u,d)}e.defaultData=n;function a(u,d){return{...u,name:d}}e.withName=a;function o(u,d="layer1",h="layer2"){let f=new Br;return f.push({fi:0,data:Co.defaultData("light",u),id:d}),f.push({fi:1,data:Co.defaultData("color"),id:h}),{layers:f}}e.defaultTwoLayerData=o;function s(u){let d=Co.defaultData("texture");u&&Object.assign(d.texture,{image:u});let h=new Br;return h.push({fi:0,data:d,id:"layer1"}),h.push({fi:1,data:{...Co.defaultData("transmission"),alpha:1},id:"layer2"}),h.push({fi:2,data:{...Co.defaultData("light","lambert"),alpha:0},id:"layer3"}),{layers:h}}e.defaultUIObjectMaterial=s;function l(u,d="phong",h="layer1",f="layer2"){let m=Co.defaultData("texture");Object.assign(m.texture,{image:u});let A=new Br;return A.push({fi:0,data:m,id:h}),A.push({fi:1,data:Co.defaultData("light",d),id:f}),{layers:A}}e.defaultTwoLayerTextureData=l;function c(u,d="phong",h="layer1",f="layer2"){let m=Co.defaultData("video");Object.assign(m.texture,{video:u});let A=new Br;return A.push({fi:0,data:m,id:h}),A.push({fi:1,data:Co.defaultData("light",d),id:f}),{layers:A}}e.defaultTwoLayerVideoTextureData=c})(Zo||(Zo={}));var BP;(e=>{function t(){return{points:new Br,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(BP||(BP={}));var MP;(e=>{function t(){return{points:new Br,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(MP||(MP={}));var Ole={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},ZR;(e=>{function t(r,i){let n={...r};return Ile.forEach(a=>{Object.assign(n,{[a]:i[a]??r[a]})}),n}e.merge=t})(ZR||(ZR={}));var Dle={shape:Ole,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},Ile=["depth","offset","angle","twist","startScale","endScale"],PP;(e=>{function t(i){return i==="PolygonGeometry"||i==="RectangleGeometry"||i==="StarGeometry"||i==="TriangleGeometry"||i==="EllipseGeometry"||i==="UIGeometry"}e.is2DParametricMesh=t;function r(i){return i==="PolygonGeometry"||i==="PolygonGeometry"||i==="RectangleGeometry"||i==="StarGeometry"||i==="TriangleGeometry"||i==="EllipseGeometry"||i==="PathGeometry"||i==="VectorGeometry"||i==="ConeGeometry"||i==="CubeGeometry"||i==="CylinderGeometry"||i==="DodecahedronGeometry"||i==="HelixGeometry"||i==="IcosahedronGeometry"||i==="LatheGeometry"||i==="PyramidGeometry"||i==="SphereGeometry"||i==="PlaneGeometry"||i==="BackdropGeometry"||i==="TorusGeometry"||i==="TorusKnotGeometry"||i==="BooleanGeometry"||i==="TextGeometry"||i==="InputGeometry"}e.isParametricMesh=r})(PP||(PP={}));var eU;(e=>{function t(r,i){let n={...r};return Object.assign(n,i),n.type==="PathGeometry"&&"extrusion"in i&&i.extrusion&&(n.extrusion={...r.extrusion},Object.assign(n.extrusion,ZR.merge(n.extrusion,i.extrusion))),n}e.merge=t})(eU||(eU={}));var Bm;(e=>{function t(r){if(r==="RectangleGeometry")return{width:320,height:320,type:r,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="UIGeometry")return{type:r,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if(r==="PathGeometry")return{type:r,width:1,height:1,depth:1,path:MP.defaultData(),extrusion:Dle};if(r==="VectorGeometry")return{width:1,height:1,type:r,subdivisions:12,shape:BP.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="BooleanGeometry")return{type:r,operation:2,width:0,height:0,depth:0,phongAngle:35};if(r==="TextGeometry")return{type:r,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",editable:!1,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="InputGeometry")return{...e.defaultData("TextGeometry"),type:r,editable:!0};if(r==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(Bm||(Bm={}));var U4=["width","height","depth"],tU;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:Xo.white,near:.1,far:2e3})(tU||(tU={}));var TP;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focusDistance:100,focalLength:20,bokehScale:5},noise:{...t,blendFunction:16}}})(TP||(TP={}));var rU;(e=>e.defaultData={softShadowQuality:"low"})(rU||(rU={}));var iU;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(iU||(iU={}));var nU;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(nU||(nU={}));var jb;(e=>e.defaultData={usePhysics:!1,gravity:-10})(jb||(jb={}));var aU;(e=>e.defaultData={playCamera:C1,gameControlObject:null})(aU||(aU={}));var oU;(e=>e.defaultData={backgroundColor:An.fromHexAndA(vWe,1),postprocessing:TP.defaultData,fog:tU.defaultData,globalPhysics:jb.defaultData,ambient:iU.defaultData,ao:nU.defaultData,shadow:rU.defaultData,publish:aU.defaultData})(oU||(oU={}));var sU;(e=>e.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95})(sU||(sU={}));var Cq;(e=>{function t(i){return i==="Component"||i==="Instance"}e.isComponentRelated=t;function r(i){return i==="Empty"||i==="Instance"}e.isEmptyOrComponent=r})(Cq||(Cq={}));var zb;(e=>{e.identity={...GR.identity,hiddenMatrix:Ub.identity};function t(n){return{position:n.position,rotation:n.rotation,scale:n.scale,hiddenMatrix:n.hiddenMatrix}}e.fromObject=t;function r(n,a){return{position:(a==null?void 0:a.position)||n.position,rotation:(a==null?void 0:a.rotation)||n.rotation,scale:(a==null?void 0:a.scale)||n.scale,hiddenMatrix:(a==null?void 0:a.hiddenMatrix)||n.hiddenMatrix}}e.merge=r;function i(n,a){return Xse({position:Km.isEqual(n.position,a.position)?void 0:a.position,rotation:Km.isEqual(n.rotation,a.rotation)?void 0:a.rotation,scale:Km.isEqual(n.scale,a.scale)?null:a.scale,hiddenMatrix:Ub.isEqual(n.hiddenMatrix,a.hiddenMatrix)?void 0:a.hiddenMatrix})}e.diff=i})(zb||(zb={}));var Io;(e=>e.defaultData={states:new Br,events:new Br,visible:!0,raycastLock:!1,physics:kb.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...zb.identity,cloner:null})(Io||(Io={}));var lU;(e=>e.defaultData={type:"Empty",...Io.defaultData})(lU||(lU={}));var _q;(e=>e.defaultData={type:"ParticleCollider",...sU.defaultData,...Io.defaultData})(_q||(_q={}));var Sq;(e=>e.defaultData={type:"Component",...Io.defaultData})(Sq||(Sq={}));var Eq;(e=>e.defaultData={type:"Particle",...Io.defaultData,...SP.defaultData})(Eq||(Eq={}));var Mm;(e=>e.defaultData={type:"Mesh",...Io.defaultData,...JR.defaultData})(Mm||(Mm={}));var BC;(e=>e.defaultData={...Io.defaultData,...zb.identity,position:[0,0,Nb.DefaultTargetOffset],...Nb.defaultData})(BC||(BC={}));var cU;(e=>{function t(r){return{...Io.defaultData,...XR.defaultData(r)}}e.defaultData=t,e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(cU||(cU={}));var OP;(e=>{function t(i,n,a=0){for(;a<n.length;){let o=i?i[n[a]]:void 0;if(n.length===a+1)return o;if(o)i=o.descendants,a+=1;else return}}e.resolveWithDes=t;function r(i,n,a=0){let o=t(i,n,a);if(o){let s=Object.keys(o);if(s.length===1&&s[0]==="descendants")return}return o}e.resolve=r})(OP||(OP={}));var _A;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(i,n){return{...Io.defaultData,...n,component:i,overrides:new $a,physics:void 0,events:void 0,type:"Instance"}}e.ofComponent=t;function r(i){let n=zb.fromObject(i.data);return t(i.id,n)}e.fromComponentData=r})(_A||(_A={}));var Hb;(e=>{e.defaultData={type:"Page",...Io.defaultData,physics:{...kb.defaultData,fusedBody:!1},...oU.defaultData,camera:BC.defaultData};function t(r){return r.uiScene!==void 0}e.isUIPage=t})(Hb||(Hb={}));var uU;(e=>(e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:Ub.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:kb.defaultData,states:new Br,events:new Br,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...Nb.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...Io.defaultData,...Mm.defaultData,geometry:Bm.defaultData("RectangleGeometry"),material:Zo.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...Io.defaultData,...Mm.defaultData,geometry:Bm.defaultData("BooleanGeometry"),material:Zo.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...Io.defaultData,...Mm.defaultData,geometry:Bm.defaultData("TextGeometry"),material:Zo.defaultTwoLayerData("phong","layer1","layer2")},e.defaultInputObject={name:"Input",...Io.defaultData,...Mm.defaultData,geometry:Bm.defaultData("InputGeometry"),material:Zo.defaultTwoLayerData("phong","layer1","layer2")}))(uU||(uU={}));var Pm;(e=>{function t(a,o){let s={name:o};return a.type==="Mesh"?(s.geometry={},"material"in a&&(s.material={layers:new $a}),"materials"in a&&(s.materials=a.materials.map(l=>({layers:new $a})))):c0.is(a.type)&&(s.perspective={},s.orthographic={}),s}e.newEmpty=t;function r(a,o){if(o===void 0)return a;let s={...a};return"material"in s&&"material"in o&&o.material&&(s.material=EC(s.material,l=>{if(typeof l!="string")for(let[c,u]of Object.entries(o.material.layers)){let d=l.layers.data(c);d&&Co.patch(d,u)}}).data),s.materials&&o.materials&&(s.materials=EC(s.materials,l=>{var c,u;for(let d=0;d<s.materials.length;d++){let h=o.materials[d];if(typeof h!="string")for(let[f,m]of Object.entries(h.layers)){let A=(u=(c=l[d])==null?void 0:c.layers)==null?void 0:u.data(f);A&&Co.patch(A,m)}}}).data),s}function i(a,o){let s,l=[],c={orthographic:0,perspective:0,geometry:0};function u(d,h){for(let[f,m]of Object.entries(h.layers)){let{texture:A,...g}=m;if(A!==void 0&&Object.keys(A).length>0){let p={path:[...d,"layers",f,"texture"],props:A,type:0};l.push(p)}if(Object.keys(g).length>0){let p={path:[...d,"layers",f],props:g,type:0};l.push(p)}}}for(let[d,h]of Object.entries(o))if(d!=="name")if(d==="cloner")l.push(...qR.toOps(h,["cloner"]));else if(d==="pathSnapping")l.push({path:[d],props:{slide:h.slide,offset:h.offset},type:0});else if(d==="material")u(["material"],h);else if(d==="materials")for(let[f,m]of Object.entries(h))u(["materials",f],m);else if(c[d]===0){if(d==="geometry"&&h.extrusion!==void 0){let f={path:[d,"extrusion"],props:h.extrusion,type:0};l.push(f),h={...h},delete h.extrusion}if(Object.keys(h).length>0){let f={path:[d],props:h,type:0};l.push(f)}}else s===void 0&&(s={path:[],props:{},type:0},l.push(s)),s.props[d]=h;return l}e.toOps=i;function n(a,o){var l,c,u,d,h,f;if(o===void 0)return a;let s={...a};if(Object.assign(s,zb.merge(s,o)),Object.assign(s,{pathSnapping:Object.assign({},s.pathSnapping,{slide:((l=o.pathSnapping)==null?void 0:l.slide)??((c=s.pathSnapping)==null?void 0:c.slide)??0,offset:((u=o.pathSnapping)==null?void 0:u.offset)??((d=s.pathSnapping)==null?void 0:d.offset)??0})}),c0.is(a.type)){s.orthographic={...s.orthographic},s.perspective={...s.perspective};let m=o;((h=m.orthographic)==null?void 0:h.zoom)!==void 0&&(s.orthographic.zoom=m.orthographic.zoom),((f=m.perspective)==null?void 0:f.zoom)!==void 0&&(s.perspective.zoom=m.perspective.zoom),m.isUpVectorFlipped!==void 0&&(s.isUpVectorFlipped=m.isUpVectorFlipped),m.targetOffset!==void 0&&(s.targetOffset=m.targetOffset)}else if(a.type==="Mesh")"geometry"in o&&Object.assign(s,{geometry:eU.merge(s.geometry,o.geometry)}),(o.material||o.materials)&&(s=r(s,o)),s.cloner&&"cloner"in o&&Object.assign(s,{cloner:CA.merge(s.cloner,o.cloner)});else if(a.type==="Empty")s.cloner&&"cloner"in o&&Object.assign(s,{cloner:CA.merge(s.cloner,o.cloner)});else if(KR.is(a.type)){let m=o;m.intensity!==void 0&&(s.intensity=m.intensity),m.color!==void 0&&(typeof m.color=="string"?s.color=m.color:s.color=Xo.clone(m.color))}return s}e.patch=n})(Pm||(Pm={}));var DP;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(DP||(DP={}));var SA;(e=>e.defaultData={orbitControls:DP.defaultData,playPage:y2,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,r)=>{let i=0,n=0;return r<5?n=-30:r<10&&(n=30),r===0||r===10||r===5?i=30:(r===4||r===11||r===9)&&(i=-30),[120,[i,n],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1,imageQuality:70}},stopRaycast:!0,hdTransmission:!1})(SA||(SA={}));var dU;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(dU||(dU={}));var hU;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(hU||(hU={}));var Tm;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...dU.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:hU.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(Tm||(Tm={}));var MC;(e=>{function t(i){return i.find(n=>n.data.type==="Page"&&n.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function r(i,n,a){i.scene.objects.traverseFrom(n,(o,s)=>{var l;if(s.type==="Instance"){let c=(l=LP.getComponentData(i,s.component))==null?void 0:l.data;c&&a(o,s,c.events)}else a(o,s,s.events)})}e.traverseModuleInstances=r})(MC||(MC={}));var Om;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultLight={fi:-1,data:cU.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]};function t(n=!0,a=[]){let o=[],s=uU.defaultMeshObject;n&&(o.push({...e.defaultLight}),o.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:s,children:[]})),o.push(...a);let l=new Jo;return l.push({fi:1,id:y2,data:{...Hb.defaultData,name:"Scene 1"},children:o}),l}e.createDefaultObjectTreeWithPage=t,e.defaultData={objects:t(),publish:SA.defaultData,styles:Tm.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new Jo,publish:SA.defaultData,styles:Tm.defaultData()}},e.emptyDataWithPage=function(n=!0){return{objects:t(n),publish:SA.defaultData,styles:Tm.defaultData()}},e.emptyData=function(){return{objects:new Jo,publish:{...SA.defaultData},styles:Tm.defaultData()}};function r(n){return{...e.defaultData,objects:cu(n,Jo.prototype)}}e.withObjs=r;function i(n,a){return r([{id:n,data:a,children:[],fi:0}])}e.withObj=i})(Om||(Om={}));var b2;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(b2||(b2={}));var fU;(e=>(e.defaultData=t=>({url:t,name:"New Webhook",parametersSchemas:new Br}),e.defaultParameterValueByType=t=>t==="number"?0:t==="boolean"?!1:""))(fU||(fU={}));var Bq;(e=>e.defaultData=(t,r="GET")=>({url:t,method:r,name:"New API",headers:new Br,queries:new Br,autoStart:!0}))(Bq||(Bq={}));var es;(e=>{function t(o){return o.textValue!==void 0}e.isTextValue=t;function r(o){return typeof o=="number"}e.isNumber=r;function i(o){return typeof o=="boolean"}e.isBoolean=i;function n(o){return t(o)?"string":i(o)?"boolean":"number"}e.typeOfVariable=n;function a(o){return e.isTextValue(o)?Array.isArray(o.textValue)?o.textValue.map(s=>s.toString().padStart(o.padding??2,"0")).join(o.deliminator??":")+(o.suffix!==void 0?" "+o.suffix:""):o.textValue.toString():e.isBoolean(o)?o?"True":"False":e.isNumber(o)?parseFloat(o.toFixed(3)).toString():o.toString()}e.getDisplayedValue=a})(es||(es={}));var pU;(e=>e.all=["images","videos","colors","audios","particles","fonts","materials","variables"])(pU||(pU={}));var Mq;(e=>e.all=[...pU.all,"components"])(Mq||(Mq={}));var Pq;(e=>{function t(){return{images:new Lr,videos:new Lr,colors:new Lr,audios:new Lr,particles:new Lr,fonts:new Lr,materials:new Lr,components:new Lr,variables:new Lr,userAPIs:new Lr,userWebhooks:new Lr}}e.defaultData=t})(Pq||(Pq={}));var Vf;(e=>{function t(){return{images:new Lr,videos:new Lr,colors:new Lr,audios:new Lr,particles:new Lr,fonts:new Lr,materials:new Lr,components:new Lr,variables:new Lr,userAPIs:new Lr,userWebhooks:new Lr}}e.defaultData=t})(Vf||(Vf={}));var Qc;(e=>{function t(){let o={};return o["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},cu(o,Lr.prototype)}e.defaultColors=t;function r(){return cu({},Lr.prototype)}e.defaultImages=r;function i(){return{catelogs:new Lr,materials:new Lr,images:new Lr,videos:new Lr,colors:new Lr,audios:new Lr,particles:new Lr,fonts:new Lr,variables:new Br,userAPIs:new Lr,userWebhooks:new Lr,lib:Vf.defaultData()}}e.emptyData=i;function n(o){switch(o){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let s=[0,0,0];return{name:"Time",value:{textValue:s,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:s,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",o)}}e.defaultVariables=n;function a(o,s){if(s.format==="HH:mm:ss"){let l=Math.floor(o/3600),c=Math.floor((o-l*3600)/60),u=Math.round(o-l*3600-c*60);return{textValue:[l,c,u]}}else if(s.format==="mm:ss"){let l=Math.floor(o/60),c=Math.round(o-l*60);return{textValue:[l,c]}}else return s.format==="number"?o=Math.round(o):o=Math.round(o*1e3)/1e3,o}e.getFormattedTimerTime=a})(Qc||(Qc={}));var IP;(e=>e.list=["idle","move","jump","run"])(IP||(IP={}));var FP;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","▲"],["rotPosY","◀"],["rotNegX","▼"],["rotNegY","▶"],["jump","Space"],["run","⇧"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new Br,move:new Br,jump:new Br,run:new Br},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:An.fromHexAndA(3728051,1)}}))(FP||(FP={}));function Tq(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let r=t.colorA,i=t.colorB,n=[[r.r,r.g,r.b,r.a],[i.r,i.g,i.b,i.a]],a=[0,1];for(let s=2;s<10;s++)n.push(n[1]),a.push(1);let o={...dh(Da(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:n,steps:a,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,o)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let r={...Da(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,r)}})}function aA(e,t){Object.values(e.shared.materials).forEach(r=>t(r))}function oA(e,t){e.scene.objects.traverse((r,i)=>{"materials"in i?i.materials.forEach((n,a)=>{n===void 0&&(i.materials[a]=Zo.defaultData(),n=i.materials[a]),typeof n!="string"&&t(n)}):"material"in i?typeof i.material!="string"&&(i.material===void 0&&(i.material=Zo.defaultData()),t(i.material)):i.type==="Mesh"&&(i.material===void 0&&(i.material=Zo.defaultData()),t(i.material)),"overrides"in i&&Object.values(i.overrides).forEach(n=>{n.material&&typeof n.material!="string"&&Object.getPrototypeOf(n.material)!==$a.prototype&&t(n.material)})})}function wWe(e){Object.assign(e.scene.publish,{orbitControls:{...DP.defaultData,...Da(e.scene.publish.orbitControls)}})}function xWe(e){Object.assign(e.scene.publish.settings,{video:{...SA.defaultData.settings.video,...Da(e.scene.publish.settings.video)}})}function CWe(e){function t(r){if(r.layers){for(let i of Object.values(r.layers))if(i){for(let[n,a]of Object.entries(i))if((Tle.includes(n)||typeof a=="boolean")&&delete i[n],n==="texture")for(let[o,s]of Object.entries(a))(bWe.includes(o)||typeof s=="boolean")&&delete a[o]}}}e.scene.objects.traverse((r,i)=>{i.states.forEach(n=>{let a=n;a.material?t(a.material):a.materials&&a.materials.forEach(o=>{t(o)})})})}function _We(e){e.scene.publish.withBackground=!0}function SWe(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function EWe(e){e.scene.objects.traverse((t,r)=>{let i=r.cloner;i&&(i.radial.scale=i.radial.scale.map(n=>n+1),i.linear.scale=i.linear.scale.map(n=>n+1))})}function BWe(e){e.scene.objects.traverse((t,r)=>{let i=r.geometry;i&&(i.type==="DodecahedronGeometry"||i.type==="IcosahedronGeometry")&&(i.detail=Math.round(i.detail))})}function MWe(e){e.scene.objects.traverse((t,r)=>{let i=e.scene.objects.unproxy().parent(t);if(i){let n=Da(e.scene.objects.data(i));n&&n.type==="Mesh"&&n.geometry.type==="BooleanGeometry"&&r.type==="Mesh"&&(r.visible=Da(r).booleanExclude!==!0)}})}function PWe(e){e.scene.objects.traverse((t,r)=>{if(r.type==="Mesh"){let i=r;r.geometry.type==="NonParametricGeometry"?i.material!==void 0&&delete i.material:i.materials!==void 0&&delete i.materials}})}function TWe(e){function t(i){Object.setPrototypeOf(i,$a.prototype),i.texture&&Object.setPrototypeOf(i.texture,$a.prototype)}function r(i){Object.setPrototypeOf(i,$a.prototype);for(let n in i)t(i[n])}e.scene.objects.traverse((i,n)=>{n.states.forEach(a=>{let o=a;if(o.material){let s=Da(o.material).layers;r(s),o.material.layers=s}if(o.materials)for(let s=0;s<o.materials.length;s++){let l=o.materials[s],c=Da(l).layers;r(c),l.layers=c}})})}function Oq(e){e.layers===void 0&&Object.assign(e,Zo.defaultTwoLayerData("lambert"))}function N4(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let r=[...t.colors];r.push(t.colors[9]);let i=[...t.steps];i.push(t.steps[9]);let n={...Da(t),colors:r,steps:i};Object.assign(t,n)}})}function OWe(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&(r.geometry.type==="BooleanGeometry"||r.geometry.type==="SubdivGeometry")&&(r.geometry.phongAngle=35)})}function Dq(e){e.scene.objects.traverse((t,r)=>{"materials"in r?r.materials.forEach(i=>{typeof i!="string"&&N4(i)}):"material"in r&&typeof r.material!="string"&&N4(r.material)}),Object.values(e.shared.materials).forEach(t=>N4(t))}function DWe(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,r)=>{(r.type==="DirectionalLight"||r.type==="SpotLight")&&(r.shadowResolution=1024,r.shadowRadius=1,r.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function IWe(e){e.shared.audios=cu({},Lr.prototype)}function FWe(e){e.shared.videos=cu({},Lr.prototype)}function LWe(e){let t=e.shared.materials;Object.entries(t).forEach(([r,i])=>{if(!i.layers){let n={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[r]:n})}})}function RWe(e){Object.entries(Da(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Da(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function UWe(e){e.scene.publish.settings.web.preload=!1}function Iq(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function Fq(e){e.layers&&e.layers.forEach(t=>{yWe(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function NWe(e){e.shared.fonts=cu({},Lr.prototype)}function kWe(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function jWe(e){let t=[];e.scene.objects.traverse((r,i)=>{let n=i;if(n.type==="TextFrame"){let a=Zo.defaultTwoLayerData("phong"),o=typeof n.color=="string"?e.shared.colors[n.color]:n.color;a.layers[1].data.color={r:o.r,g:o.g,b:o.b},a.layers[1].data.alpha=n.alpha;let s=kWe(n.font);e.shared.fonts[s]===void 0&&(e.shared.fonts[s]={name:s});let l={name:n.name,...Io.defaultData,...Mm.defaultData,flatShading:!1,wireframe:!1,geometry:{...Bm.defaultData("TextGeometry"),width:n.width,height:n.height,font:s,depth:0,horizontalAlign:n.horizontalAlign,verticalAlign:n.verticalAlign,fontSize:n.fontSize*1.40625,lineHeight:n.lineHeight/1.40625,letterSpacing:n.letterSpacing-1,text:n.text,textTransform:n.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:a,states:Da(n.states),events:Da(n.events),visible:n.visible,raycastLock:n.raycastLock,position:n.position,rotation:n.rotation,scale:n.scale,hiddenMatrix:n.hiddenMatrix},c=Da(e.scene.objects).parent(r);e.scene.objects.insertAfter(c??null,r,[{id:r+"new",data:l,children:[]}]),t.push(r)}}),t.forEach(r=>{e.scene.objects.delete(r)})}function zWe(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((r,i)=>{i.events.forEach(n=>{if(t[Number(n.type)])if(Object.assign(n,{type:t[Number(n.type)]}),n.type==="Audio"&&"audioEvent"in n&&(Object.assign(n,{playAudio:n.audioEvent}),delete n.audioEvent),n.type==="GameControl")Object.assign(n,{gameActions:{idle:new Br,move:new Br,jump:new Br}});else{let a=new Br;Object.assign(n,{actions:a}),(n.type==="MouseDown"||n.type==="MouseUp"||n.type==="KeyDown"||n.type==="KeyUp")&&"url"in n&&a.push({fi:0,id:fr.generateUUID(),data:{type:"Link",url:n.url,delay:0}}),"targets"in n&&(n.targets.forEach((o,s,l)=>{let c={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},u={easing:o.easing,duration:o.duration};o.easing===6?Object.assign(u,dh(o,"mass","stiffness","damping","velocity")):o.easing===5&&Object.assign(u,{control1:{...o.control1},control2:{...o.control2}});let d={repeat:o.repeat?-1:0,delay:o.delay,delayDirection:o.delayDirection,direction:o.cycle&&o.rewind?"pingpong-rewind":o.cycle?"pingpong":"normal"},h={state:o.state,...d,...u},f={allowSlerp:!0,type:"Transition",object:o.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new Br({fi:0,id:fr.generateUUID(),data:c},{fi:1,id:fr.generateUUID(),data:h})};a.push({fi:l,id:s,data:f})}),delete n.targets)}})})}function HWe(e){e.scene.objects.traverse((t,r)=>{function i(n,a){var l;let o=new Br,s=[];if(r.events.forEach((c,u,d)=>{if(c.type==="Audio"&&c.trigger===a){let h;s.push(u),c.interaction==="play"?h={...dh(c,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in c?c.after:void 0,toggle:"after"in c?c.toggle:void 0,type:"Audio"}:(c.interaction==="pause"||c.interaction==="stop")&&(h={...dh(c,"interaction","delay","object","playAudio"),type:"Audio"}),h&&o.push({fi:d,id:u,data:h})}}),s.forEach(c=>r.events.delete(c)),o.length){let c=(l=r.events.find(u=>u.type===n))==null?void 0:l.data;c?"actions"in c&&c.actions.insertBefore(null,o):r.events.insertBefore(null,[{id:fr.generateUUID(),data:{type:n,actions:o}}])}}i("Start","start"),i("MouseDown","mouseDown"),i("MouseUp","mouseUp"),i("KeyDown","keyDown"),i("KeyUp","keyUp")})}function Lq(e){var r;let t=(r=e.layers.find(i=>i.type==="light"))==null?void 0:r.data;if((t==null?void 0:t.category)==="basic"){let i=Co.defaultData("light","phong"),n=t;Object.assign(n,i),n.visible=!1}}function Rq(e){aA(e,Lq),oA(e,Lq)}function VWe(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="SubdivGeometry"&&(r.geometry.scaleBaked||(r.geometry.scaleBaked=[1,1,1]))})}function QWe(e){e.scene.objects.traverse((t,r)=>{(r.type==="Empty"||r.type==="Mesh")&&r.cloner&&!r.cloner.randomnessObject&&!r.cloner.toObject&&!r.cloner.randomness&&(r.cloner={...r.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}function WWe(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="NonParametricGeometry"&&!("material"in r)&&!("materials"in r)&&(r.material=Zo.defaultTwoLayerData("phong"))})}function GWe(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,r)=>{(r.type==="OrthographicCamera"||r.type==="PerspectiveCamera")&&(r.orthographic.autoZoom===void 0&&(r.orthographic.autoZoom=!1),r.orthographic.autoZoomFrustumSize===void 0&&(r.orthographic.autoZoomFrustumSize=790))})}function qWe(e){e.scene.objects.traverse((t,r)=>{r.pathSnapping===void 0&&(r.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),r.pathSnapping.offset===void 0&&(r.pathSnapping.offset=0)})}function KWe(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function XWe(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function YWe(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(i=>{i.type==="GameControl"&&(i.resetYPosition=Math.abs(i.resetYPosition-r.position[1]))})})}function $We(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((r,i)=>{t&&i.physics===null?i.collision=!1:i.collision="visibility"})}function JWe(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(i=>{i.type==="GameControl"&&(i.navmesh=FP.defaultDataThirdPerson.navmesh)})})}function ZWe(e){e.scene.styles||(e.scene.styles=Tm.defaultData())}function Uq(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function eGe(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),oA(e,Uq),aA(e,Uq)}function tGe(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(i=>{i.type==="GameControl"&&Object.assign(i.gameActions,{run:new Br})})})}function rGe(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(i=>{i.type==="GameControl"&&(i.keyAssignments=[...i.keyAssignments,["run","⇧"],["none","Ctrl"]])})})}function Nq(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function iGe(e,t){if(t<1&&(oA(e,Tq),aA(e,Tq),e.schema=1),t<2&&(wWe(e),e.schema=2),t<3&&(CWe(e),e.schema=3),t<4&&(_We(e),e.schema=4),t<5&&(SWe(e),e.schema=5),t<6&&(EWe(e),e.schema=6),t<7&&(BWe(e),e.schema=7),t<8&&(e.schema=8),t<9&&(Dq(e),e.schema=9),t<10&&(OWe(e),e.schema=10),t<11&&(DWe(e),e.schema=11),t<12&&(Dq(e),e.schema=12),t<13&&(IWe(e),e.schema=13),t<14&&(LWe(e),e.schema=14),t<15&&(RWe(e),e.schema=15),t<16&&(UWe(e),e.schema=16),t<17&&(oA(e,Iq),aA(e,Iq),e.schema=17),t<18&&(oA(e,Oq),aA(e,Oq),e.schema=18),t<19&&(xWe(e),e.schema=19),t<20&&(NWe(e),jWe(e),e.schema=20),t<21&&(zWe(e),HWe(e),e.schema=21),t<22&&(Rq(e),e.schema=22),t<23&&(VWe(e),e.schema=23),t<24&&(QWe(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(FWe(e),t<25&&(e.schema=25)),t<26&&(MWe(e),e.schema=26),t<27&&(PWe(e),e.schema=27),t<28&&(Rq(e),e.schema=28),t<29&&(TWe(e),e.schema=29),t<30&&(WWe(e),e.schema=30),t<31&&(GWe(e),e.schema=31),t<33&&(qWe(e),e.schema=33),t<34&&(KWe(e),e.schema=34),t<35&&(XWe(e),e.schema=35),t<36&&(YWe(e),e.schema=36),t<37&&($We(e),e.schema=37),t<38&&(oA(e,Fq),aA(e,Fq),e.schema=38),t<39&&(JWe(e),e.schema=39),t<40&&(ZWe(e),e.schema=40),t<41&&(eGe(e),e.schema=41),t<42&&(tGe(e),e.schema=42),t<43&&(rGe(e),e.schema=43),t<99){oA(e,Nq),aA(e,Nq),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=C1);let r=Da(e.scene.objects),i=e.scene.objects;e.scene.publish.playPage=y2,i.insertBefore(null,null,[{id:y2,data:{...Hb.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:dh(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:dh(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...jb.defaultData,...dh(e.scene.environment,"usePhysics","gravity")},camera:Da(e.scene.ownerCamera)??Hb.defaultData.camera,name:"Scene"},children:[]}]);for(let o of r)o.id!==Om.TRASH_CAN_ID&&i.move(y2,o.fi,o.id);let n=0,a=0;e.shared.penumbraSize&&e.scene.objects.traverse((o,s)=>{s.type==="DirectionalLight"?(s.penumbraSize=e.shared.penumbraSize[Math.min(n,2)],n+=1):s.type==="SpotLight"&&(s.penumbraSize=e.shared.penumbraSize[3+Math.min(a,1)],a+=1),(s.physics===void 0||s.physics===null)&&s.type!=="Instance"&&(s.physics={},Object.assign(s.physics,kb.defaultData)),s.physics!==void 0&&s.physics!==null&&(s.physics.enabled=s.collision??"visibility",delete s.collision)}),e.schema=99}}function kq(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function nGe(e){e.scene.objects.traverse((t,r)=>{let i=r.geometry;i&&i.type==="PathGeometry"&&(i.extrusion.capType="flat",i.extrusion.bevel=50,i.extrusion.bevelSides=6,i.extrusion.shape.type==="Custom"&&(i.extrusion.shape.shapeQuality="low"))})}function aGe(e){var t;Array.isArray(Da(e.events))&&((t=e.events)==null||t.forEach(r=>{"disabled"in r||(r.disabled=!1),(r.type==="MouseDown"||r.type==="MouseUp"||r.type==="MousePress")&&(r.mode=r.mode||"Object")}))}var sy=180/Math.PI;function jq(e){e.rotation=e.rotation.slice(0,3).map(t=>t*sy)}function Fle(e){var r,i;jq(e),e.type==="Page"&&jq(e.camera),(r=e.states)==null||r.forEach(n=>{n.rotation===void 0||n.rotation===null||(n.rotation=n.rotation.slice(0,3).map(a=>a*sy))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=(t.thetaLength??180)*sy),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*sy),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=sy,t.extrusion.twist*=sy),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Da(e.events))&&((i=e.events)==null||i.forEach(n=>{(n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"||n.type==="Collision"||n.type==="Trigger")&&(n.runMode=n.toggle?"Toggle":"Repeat")}))}function oGe(e){e.shared.variables=cu({},Lr.prototype)}function sGe(e){let t=Da(e.shared.variables);e.shared.variables=cu(Object.entries(t??{}).map(([r,i],n)=>({fi:n,id:r,data:i})),Br.prototype)}var lf=115;function Lle(e,t){t(e.data);for(let r of e.children)Lle(r,t)}function lGe(e){let t=e.schema??104;t!==lf&&t<105&&(Lle(e.asset,Fle),e.schema=105)}function cGe(e){e.shared.particles=cu({},Lr.prototype),e.shared.lib&&(e.shared.lib.particles=Vf.defaultData().particles)}function uGe(e){e.scene.objects.traverse((t,r)=>{r.type==="Particle"&&typeof r.renderMaterial.size=="number"&&Object.assign(r.renderMaterial,{size:[r.renderMaterial.size,r.renderMaterial.size]})})}function dGe(e){e.scene.objects.traverse((t,r)=>{r.type==="Page"&&(r.postprocessing.depthOfField.focusDistance=100,r.postprocessing.depthOfField.focalLength=20,r.postprocessing.depthOfField.bokehScale=5)})}function hGe(e){e.scene.objects.traverse((t,r)=>{var i;Array.isArray(Da(r.events))!==!1&&((i=r.events)==null||i.forEach(n=>{var o,s,l,c,u,d,h,f,m,A,g;let a=n.runMode;n.type==="MouseDown"||n.type==="MouseUp"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="Collision"||n.type==="Trigger"?(o=n.actions)==null||o.forEach(p=>{p.type==="Transition"&&(p.runMode=a??"Repeat"),(p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode=a==="Toggle"?"Toggle":"Normal")}):n.type==="MouseHover"||n.type==="MousePress"||n.type==="KeyPress"?(s=n.actions)==null||s.forEach(p=>{(p.type==="Transition"||p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Toggle")}):n.type==="GameControl"?(delete n.actions,Object.keys(n.gameActions).forEach(p=>{var v;(v=n.gameActions[p])==null||v.forEach(y=>{y.type==="Transition"&&(y.runMode="Repeat"),y.type==="Animation"&&(y.runMode="Normal")})})):n.type==="DragDrop"?(delete n.actions,(c=(l=n.dragDropActions)==null?void 0:l.drag)==null||c.forEach(p=>{(p.type==="Transition"||p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Toggle")}),(d=(u=n.dragDropActions)==null?void 0:u.drop)==null||d.forEach(p=>{(p.type==="Transition"||p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Toggle")})):n.type==="Resize"?(delete n.actions,(h=n.breakpoints)==null||h.forEach(p=>{var v;(v=p.actions)==null||v.forEach(y=>{(y.type==="Transition"||y.type==="Animation"||y.type==="SwitchCamera")&&(y.runMode="Toggle")})})):n.type==="Start"?(f=n.actions)==null||f.forEach(p=>{p.type==="Transition"&&(p.runMode="Once"),(p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Normal")}):n.type==="VariableChange"||n.type==="Scroll"?(m=n.actions)==null||m.forEach(p=>{p.type==="Transition"&&(p.runMode="Repeat"),(p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Normal")}):n.type==="Conditional"&&(delete n.actions,(A=n.inActions)==null||A.forEach(p=>{p.type==="Transition"&&(p.runMode="Repeat"),(p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Normal")}),(g=n.outActions)==null||g.forEach(p=>{p.type==="Transition"&&(p.runMode="Repeat"),(p.type==="Animation"||p.type==="SwitchCamera")&&(p.runMode="Normal")}))}))})}function fGe(e){e.shared.userAPIs=cu({},Lr.prototype),e.shared.userWebhooks=cu({},Lr.prototype),e.shared.lib&&(e.shared.lib.userAPIs=Vf.defaultData().userAPIs,e.shared.lib.userWebhooks=Vf.defaultData().userWebhooks)}function Rle(e){let t=e.schema??0;if(t!==lf){console.warn("updating from ",t,"to ",lf),iGe(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=SA.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(oA(e,kq),aA(e,kq),e.schema=101),t<102&&(nGe(e),e.schema=102),t<104&&(e.shared.catelogs=new Lr,e.shared.lib=Vf.defaultData(),e.schema=104),t<105&&(oGe(e),e.scene.objects.traverse((r,i)=>{Fle(i)}),e.schema=105);for(let r of Object.values(e.shared.lib.components))lGe(r);t<106&&(sGe(e),e.schema=106),t<107&&(e.shared.lib.variables=Vf.defaultData().variables,e.schema=107),t<109&&(cGe(e),e.schema=109),t<110&&(uGe(e),e.schema=110),t<111&&(e.scene.objects.traverse((r,i)=>{aGe(i)}),e.schema=111),t<112&&(dGe(e),e.schema=112),t<113&&(hGe(e),e.schema=113),t<114&&(e.scene.publish.settings.web.imageQuality===void 0&&(e.scene.publish.settings.web.imageQuality=70),e.schema=114),t<115&&(fGe(e),e.schema=115)}}var LP;(e=>{e.defaultData={schema:lf,scene:Om.defaultData,frames:new Lr().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",b2.defaultData),shared:{...Qc.emptyData(),colors:Qc.defaultColors()}},e.emptyDataForImports=function(){let a=Om.emptyDataWithPage();return{schema:lf,scene:a,frames:new Lr().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",b2.defaultData),shared:{...Qc.emptyData(),colors:Qc.defaultColors(),images:Qc.defaultImages()}}},e.emptyData=function(){return{schema:lf,scene:Om.emptyDataWithPage(),frames:new Lr().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",b2.defaultData),shared:Qc.emptyData()}},e.clipboard2dData=function(){return{schema:lf,scene:Om.emptyData(),frames:new Lr,shared:Qc.emptyData()}},e.collabHelper={...LR,updateSchema(a){return(a.schema??0)<lf?EC(a,Rle):(a.schema??0)-lf}};function t(a){let o=e.collabHelper.updateSchema(a);return typeof o=="number"?o===0?a:null:o.data}e.updateSchemaDirectly=t;function r(a){return{...a,shared:{...a.shared,lib:Vf.defaultData()}}}e.withoutLib=r;function i(a,o){let s=a.scene.objects.get(o);if(s&&s.data.type==="Component")return s;{let l=a.shared.lib.components[o];if(l)return l.asset}}e.getComponentData=i;function n(a){let o=Object.values(a.shared.userAPIs);for(let s of o){let l=s.headers;for(let c of l)if(c.data.key.toLowerCase()==="authorization"&&c.data.value!=="")return!0}return!1}e.hasSensitiveData=n})(LP||(LP={}));var AU;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(AU||(AU={}));var zq;(e=>{function t(r){return!0}e.is=t})(zq||(zq={}));var RP;(e=>{e.defaultData={position:[0,0],scale:[1,1],rotation:0,shear:[0,0]};function t(i,n){return{position:(n==null?void 0:n.position)??i.position,rotation:(n==null?void 0:n.rotation)??i.rotation,scale:(n==null?void 0:n.scale)??i.scale,shear:(n==null?void 0:n.shear)??i.shear}}e.merge=t;function r(i,n){return Xse({position:Cf.isEqual(i.position,n.position)?void 0:n.position,rotation:i.rotation===n.rotation?void 0:n.rotation,scale:Cf.isEqual(i.scale,n.scale)?void 0:n.scale,shear:i.shear&&n.shear&&Cf.isEqual(i.shear,n.shear)?void 0:n.shear})}e.diff=r})(RP||(RP={}));var gU;(e=>e.defaultData={horizontalConstraint:0,verticalConstraint:0})(gU||(gU={}));var Hq;(e=>e.defaultData={direction:"row",wrap:"unwrap",align:"top-left",gap:10,rowGap:10,autoGap:!1,autoRowGap:!1,leftPadding:8,rightPadding:8,topPadding:8,bottomPadding:8})(Hq||(Hq={}));var UP;(e=>e.defaultData={opacity:1,fill:{color:An.fromHexAndA(vc,1),enabled:!0},stroke:{color:An.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:An.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:An.from0to1([0,0,0,1]),enabled:!1,spread:0}})(UP||(UP={}));var Dm;(e=>{function t(o,s){return{name:s}}e.newEmpty=t;function r(o,s){if(s===void 0)return o;let l={...o},c=["width","height","cornerRadius"];for(let u of c)u in l&&u in s&&s[u]!==void 0&&Object.assign(l,{[u]:s[u]});return l}function i(o,s){if(s===void 0)return o;let l={...o};return"fill"in l&&"fill"in s&&s.fill!==void 0&&Object.assign(l,{fill:{...l.fill,...s.fill}}),"stroke"in l&&"stroke"in s&&s.stroke!==void 0&&Object.assign(l,{stroke:{...l.stroke,...s.stroke}}),"layerBlur"in l&&"layerBlur"in s&&s.layerBlur!==void 0&&Object.assign(l,{layerBlur:{...l.layerBlur,...s.layerBlur}}),"backgroundBlur"in l&&"backgroundBlur"in s&&s.backgroundBlur!==void 0&&Object.assign(l,{backgroundBlur:{...l.backgroundBlur,...s.backgroundBlur}}),"dropShadow"in l&&"dropShadow"in s&&s.dropShadow!==void 0&&Object.assign(l,{dropShadow:{...l.dropShadow,...s.dropShadow}}),"innerShadow"in l&&"innerShadow"in s&&s.innerShadow!==void 0&&Object.assign(l,{innerShadow:{...l.innerShadow,...s.innerShadow}}),l}function n(o,s){if(s===void 0)return o;let l={...o};return Object.assign(l,RP.merge(l,s)),l=r(l,s),l=i(l,s),l}e.patch=n;function a(o,s){let l,c=[];for(let[u,d]of Object.entries(s))u!=="name"&&(l===void 0&&(l={path:[],props:{},type:0},c.push(l)),l.props[u]=d);return c}e.toOps=a})(Dm||(Dm={}));var PC;(e=>e.defaultData={...RP.defaultData,...gU.defaultData,states:new Br,events:new Br,visible:!0,raycastLock:!1})(PC||(PC={}));var Vb;(e=>e.defaultData={...PC.defaultData,...UP.defaultData})(Vb||(Vb={}));var NP;(e=>e.defaultData={cornerRadius:[0,0,0,0]})(NP||(NP={}));var mU;(e=>e.defaultData={...Vb.defaultData,type:"ellipse2d",width:100,height:100,name:"Ellipse"})(mU||(mU={}));var TC;(e=>e.defaultData={...Vb.defaultData,...NP.defaultData,type:"rectangle2d",width:100,height:100,name:"Rectangle"})(TC||(TC={}));var vU;(e=>e.defaultData={...Vb.defaultData,type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"})(vU||(vU={}));var yU;(e=>e.defaultData={...Vb.defaultData,type:"path2d",path:"",name:"Path"})(yU||(yU={}));var Vq;(e=>{function t(r){return r.type==="ellipse2d"||r.type==="rectangle2d"||r.type==="text2d"||r.type==="vector2d"||r.type==="path2d"}e.is=t})(Vq||(Vq={}));var kP;(e=>e.defaultData={...PC.defaultData,name:"Group",type:"group2d"})(kP||(kP={}));var bU;(e=>e.defaultData=()=>({...PC.defaultData,...NP.defaultData,...UP.defaultData,name:"Frame",type:"frame2d",clipped:!0,width:200,height:200,fill:{color:An.fromHexAndA(4737101,1),enabled:!0},stroke:{color:An.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}}))(bU||(bU={}));var Xm;(e=>{function t(o){switch(o){case"rectangle2d":return{...TC.defaultData};case"ellipse2d":return{...mU.defaultData};case"text2d":return{...vU.defaultData};case"vector2d":return{...TC.defaultData};case"path2d":return{...yU.defaultData};case"frame2d":return{...bU.defaultData()};case"group2d":return{...kP.defaultData}}}e.defaultData=t;function r(o){return"width"in o&&"height"in o?[typeof o.width=="number"?o.width*.5:0,typeof o.height=="number"?o.height*.5:0]:[0,0]}e.getPivot=r;function i(o){return o.type==="rectangle2d"||o.type==="ellipse2d"||o.type==="text2d"||o.type==="frame2d"}e.isResizeable=i;function n(o){return o.type==="frame2d"&&o.autoLayout!==void 0}e.isAutoLayoutable=n;function a(o){return o.type==="rectangle2d"||o.type==="frame2d"}e.hasCorners=a})(Xm||(Xm={}));var wU;(e=>(e.defaultData={name:"UI",type:"scene2d",objects:new Jo},e.emptyData=function(){return{type:"scene2d",objects:new Jo}}))(wU||(wU={}));function Im(e,t=!1){let r=e[0].index!==null,i=new Set(Object.keys(e[0].attributes)),n=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new Mr,c=0;for(let u=0;u<e.length;++u){let d=e[u],h=0;if(r!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let f in d.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;a[f]===void 0&&(a[f]=[]),a[f].push(d.attributes[f]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let f in d.morphAttributes){if(!n.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;o[f]===void 0&&(o[f]=[]),o[f].push(d.morphAttributes[f])}if(t){let f;if(r)f=d.index.count;else if(d.attributes.position!==void 0)f=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,f,u),c+=f}}if(r){let u=0,d=[];for(let h=0;h<e.length;++h){let f=e[h].index;for(let m=0;m<f.count;++m)d.push(f.getX(m)+u);u+=e[h].attributes.position.count}l.setIndex(d)}for(let u in a){let d=Qq(a[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,d)}for(let u in o){let d=o[u][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let h=0;h<d;++h){let f=[];for(let A=0;A<o[u].length;++A)f.push(o[u][A][h]);let m=Qq(f);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(m)}}return l}function Qq(e){let t,r,i,n=0;for(let s=0;s<e.length;++s){let l=e[s];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(r===void 0&&(r=l.itemSize),r!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;n+=l.array.length}let a=new t(n),o=0;for(let s=0;s<e.length;++s)a.set(e[s].array,o),o+=e[s].array.length;return new Qr(a,r,i)}var pGe=Math.pow(2,-24),YE=class{constructor(){}};function Zd(e,t,r){return r.min.x=t[e],r.min.y=t[e+1],r.min.z=t[e+2],r.max.x=t[e+3],r.max.y=t[e+4],r.max.z=t[e+5],r}function Wq(e){let t=-1,r=-1/0;for(let i=0;i<3;i++){let n=e[i+3]-e[i];n>r&&(r=n,t=i)}return t}function Gq(e,t){t.set(e)}function qq(e,t,r){let i,n;for(let a=0;a<3;a++){let o=a+3;i=e[a],n=t[a],r[a]=i<n?i:n,i=e[o],n=t[o],r[o]=i>n?i:n}}function $E(e,t,r){for(let i=0;i<3;i++){let n=t[e+2*i],a=t[e+2*i+1],o=n-a,s=n+a;o<r[i]&&(r[i]=o),s>r[i+3]&&(r[i+3]=s)}}function Xw(e){let t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return 2*(t*r+r*i+i*t)}function AGe(e,t){if(!e.index){let r=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,n;r>65535?n=new Uint32Array(new i(4*r)):n=new Uint16Array(new i(2*r)),e.setIndex(new Qr(n,1));for(let a=0;a<r;a++)n[a]=a}}function gGe(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],r=new Set;for(let n of e.groups)r.add(n.start),r.add(n.start+n.count);let i=Array.from(r.values()).sort((n,a)=>n-a);for(let n=0;n<i.length-1;n++){let a=i[n],o=i[n+1];t.push({offset:a/3,count:(o-a)/3})}return t}function k4(e,t,r,i,n=null){let a=1/0,o=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0,d=1/0,h=1/0,f=1/0,m=-1/0,A=-1/0,g=-1/0,p=n!==null;for(let v=t*6,y=(t+r)*6;v<y;v+=6){let b=e[v+0],x=e[v+1],w=b-x,C=b+x;w<a&&(a=w),C>l&&(l=C),p&&b<d&&(d=b),p&&b>m&&(m=b);let _=e[v+2],B=e[v+3],P=_-B,M=_+B;P<o&&(o=P),M>c&&(c=M),p&&_<h&&(h=_),p&&_>A&&(A=_);let O=e[v+4],I=e[v+5],F=O-I,V=O+I;F<s&&(s=F),V>u&&(u=V),p&&O<f&&(f=O),p&&O>g&&(g=O)}i[0]=a,i[1]=o,i[2]=s,i[3]=l,i[4]=c,i[5]=u,p&&(n[0]=d,n[1]=h,n[2]=f,n[3]=m,n[4]=A,n[5]=g)}function mGe(e,t,r,i){let n=1/0,a=1/0,o=1/0,s=-1/0,l=-1/0,c=-1/0;for(let u=t*6,d=(t+r)*6;u<d;u+=6){let h=e[u+0];h<n&&(n=h),h>s&&(s=h);let f=e[u+2];f<a&&(a=f),f>l&&(l=f);let m=e[u+4];m<o&&(o=m),m>c&&(c=m)}i[0]=n,i[1]=a,i[2]=o,i[3]=s,i[4]=l,i[5]=c}function vGe(e,t,r,i,n){let a=r,o=r+i-1,s=n.pos,l=n.axis*2;for(;;){for(;a<=o&&t[a*6+l]<s;)a++;for(;a<=o&&t[o*6+l]>=s;)o--;if(a<o){for(let c=0;c<3;c++){let u=e[a*3+c];e[a*3+c]=e[o*3+c],e[o*3+c]=u;let d=t[a*6+c*2+0];t[a*6+c*2+0]=t[o*6+c*2+0],t[o*6+c*2+0]=d;let h=t[a*6+c*2+1];t[a*6+c*2+1]=t[o*6+c*2+1],t[o*6+c*2+1]=h}a++,o--}else return a}}var Jh=32,yGe=(e,t)=>e.candidate-t.candidate,kp=new Array(Jh).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),JE=new Float32Array(6);function bGe(e,t,r,i,n,a){let o=-1,s=0;if(a===0)o=Wq(t),o!==-1&&(s=(t[o]+t[o+3])/2);else if(a===1)o=Wq(e),o!==-1&&(s=wGe(r,i,n,o));else if(a===2){let l=Xw(e),c=1.25*n,u=i*6,d=(i+n)*6;for(let h=0;h<3;h++){let f=t[h],m=(t[h+3]-f)/Jh;if(n<Jh/4){let A=[...kp];A.length=n;let g=0;for(let v=u;v<d;v+=6,g++){let y=A[g];y.candidate=r[v+2*h],y.count=0;let{bounds:b,leftCacheBounds:x,rightCacheBounds:w}=y;for(let C=0;C<3;C++)w[C]=1/0,w[C+3]=-1/0,x[C]=1/0,x[C+3]=-1/0,b[C]=1/0,b[C+3]=-1/0;$E(v,r,b)}A.sort(yGe);let p=n;for(let v=0;v<p;v++){let y=A[v];for(;v+1<p&&A[v+1].candidate===y.candidate;)A.splice(v+1,1),p--}for(let v=u;v<d;v+=6){let y=r[v+2*h];for(let b=0;b<p;b++){let x=A[b];y>=x.candidate?$E(v,r,x.rightCacheBounds):($E(v,r,x.leftCacheBounds),x.count++)}}for(let v=0;v<p;v++){let y=A[v],b=y.count,x=n-y.count,w=y.leftCacheBounds,C=y.rightCacheBounds,_=0;b!==0&&(_=Xw(w)/l);let B=0;x!==0&&(B=Xw(C)/l);let P=1+1.25*(_*b+B*x);P<c&&(o=h,c=P,s=y.candidate)}}else{for(let p=0;p<Jh;p++){let v=kp[p];v.count=0,v.candidate=f+m+p*m;let y=v.bounds;for(let b=0;b<3;b++)y[b]=1/0,y[b+3]=-1/0}for(let p=u;p<d;p+=6){let v=~~((r[p+2*h]-f)/m);v>=Jh&&(v=Jh-1);let y=kp[v];y.count++,$E(p,r,y.bounds)}let A=kp[Jh-1];Gq(A.bounds,A.rightCacheBounds);for(let p=Jh-2;p>=0;p--){let v=kp[p],y=kp[p+1];qq(v.bounds,y.rightCacheBounds,v.rightCacheBounds)}let g=0;for(let p=0;p<Jh-1;p++){let v=kp[p],y=v.count,b=v.bounds,x=kp[p+1].rightCacheBounds;y!==0&&(g===0?Gq(b,JE):qq(b,JE,JE)),g+=y;let w=0,C=0;g!==0&&(w=Xw(JE)/l);let _=n-g;_!==0&&(C=Xw(x)/l);let B=1+1.25*(w*g+C*_);B<c&&(o=h,c=B,s=v.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${a} used.`);return{axis:o,pos:s}}function wGe(e,t,r,i){let n=0;for(let a=t,o=t+r;a<o;a++)n+=e[a*6+i*2];return n/r}function xGe(e,t){let r=e.attributes.position,i=e.index.array,n=i.length/3,a=new Float32Array(n*6),o=r.normalized,s=r.array,l=r.offset||0,c=3;r.isInterleavedBufferAttribute&&(c=r.data.stride);let u=["getX","getY","getZ"];for(let d=0;d<n;d++){let h=d*3,f=d*6,m,A,g;o?(m=i[h+0],A=i[h+1],g=i[h+2]):(m=i[h+0]*c+l,A=i[h+1]*c+l,g=i[h+2]*c+l);for(let p=0;p<3;p++){let v,y,b;o?(v=r[u[p]](m),y=r[u[p]](A),b=r[u[p]](g)):(v=s[m+p],y=s[A+p],b=s[g+p]);let x=v;y<x&&(x=y),b<x&&(x=b);let w=v;y>w&&(w=y),b>w&&(w=b);let C=(w-x)/2,_=p*2;a[f+_+0]=x+C,a[f+_+1]=C+(Math.abs(x)+C)*pGe,x<t[p]&&(t[p]=x),w>t[p+3]&&(t[p+3]=w)}}return a}function CGe(e,t){function r(p){h&&h(p/f)}function i(p,v,y,b=null,x=0){if(!m&&x>=l&&(m=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),y<=u||x>=l)return r(v+y),p.offset=v,p.count=y,p;let w=bGe(p.boundingData,b,o,v,y,d);if(w.axis===-1)return r(v+y),p.offset=v,p.count=y,p;let C=vGe(s,o,v,y,w);if(C===v||C===v+y)r(v+y),p.offset=v,p.count=y;else{p.splitAxis=w.axis;let _=new YE,B=v,P=C-v;p.left=_,_.boundingData=new Float32Array(6),k4(o,B,P,_.boundingData,a),i(_,B,P,a,x+1);let M=new YE,O=C,I=y-P;p.right=M,M.boundingData=new Float32Array(6),k4(o,O,I,M.boundingData,a),i(M,O,I,a,x+1)}return p}AGe(e,t);let n=new Float32Array(6),a=new Float32Array(6),o=xGe(e,n),s=e.index.array,l=t.maxDepth,c=t.verbose,u=t.maxLeafTris,d=t.strategy,h=t.onProgress,f=e.index.count/3,m=!1,A=[],g=gGe(e);if(g.length===1){let p=g[0],v=new YE;v.boundingData=n,mGe(o,p.offset,p.count,a),i(v,p.offset,p.count,a),A.push(v)}else for(let p of g){let v=new YE;v.boundingData=new Float32Array(6),k4(o,p.offset,p.count,v.boundingData,a),i(v,p.offset,p.count,a),A.push(v)}return A}function _Ge(e,t){let r=CGe(e,t),i,n,a,o=[],s=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<r.length;u++){let d=r[u],h=l(d),f=new s(32*h);i=new Float32Array(f),n=new Uint32Array(f),a=new Uint16Array(f),c(0,d),o.push(f)}return o;function l(u){return u.count?1:1+l(u.left)+l(u.right)}function c(u,d){let h=u/4,f=u/2,m=!!d.count,A=d.boundingData;for(let g=0;g<6;g++)i[h+g]=A[g];if(m){let g=d.offset,p=d.count;return n[h+6]=g,a[f+14]=p,a[f+15]=65535,u+32}else{let g=d.left,p=d.right,v=d.splitAxis,y;if(y=c(u+32,g),y/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return n[h+6]=y/4,y=c(y,p),n[h+7]=v,y}}}var Qf=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let r=1/0,i=-1/0;for(let n=0,a=e.length;n<a;n++){let o=e[n][t];r=o<r?o:r,i=o>i?o:i}this.min=r,this.max=i}setFromPoints(e,t){let r=1/0,i=-1/0;for(let n=0,a=t.length;n<a;n++){let o=t[n],s=e.dot(o);r=s<r?s:r,i=s>i?s:i}this.min=r,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};Qf.prototype.setFromBox=function(){let e=new q;return function(t,r){let i=r.min,n=r.max,a=1/0,o=-1/0;for(let s=0;s<=1;s++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*s+n.x*(1-s),e.y=i.y*l+n.y*(1-l),e.z=i.z*c+n.z*(1-c);let u=t.dot(e);a=Math.min(u,a),o=Math.max(u,o)}this.min=a,this.max=o}}();var SGe=function(){let e=new q,t=new q,r=new q;return function(i,n,a){let o=i.start,s=e,l=n.start,c=t;r.subVectors(o,l),e.subVectors(i.end,i.start),t.subVectors(n.end,n.start);let u=r.dot(c),d=c.dot(s),h=c.dot(c),f=r.dot(s),m=s.dot(s)*h-d*d,A,g;m!==0?A=(u*d-f*h)/m:A=0,g=(u+A*d)/h,a.x=A,a.y=g}}(),Yz=function(){let e=new ke,t=new q,r=new q;return function(i,n,a,o){SGe(i,n,e);let s=e.x,l=e.y;if(s>=0&&s<=1&&l>=0&&l<=1){i.at(s,a),n.at(l,o);return}else if(s>=0&&s<=1){l<0?n.at(0,o):n.at(1,o),i.closestPointToPoint(o,!0,a);return}else if(l>=0&&l<=1){s<0?i.at(0,a):i.at(1,a),n.closestPointToPoint(a,!0,o);return}else{let c;s<0?c=i.start:c=i.end;let u;l<0?u=n.start:u=n.end;let d=t,h=r;if(i.closestPointToPoint(u,!0,t),n.closestPointToPoint(c,!0,r),d.distanceToSquared(u)<=h.distanceToSquared(c)){a.copy(d),o.copy(u);return}else{a.copy(c),o.copy(h);return}}}}(),EGe=function(){let e=new q,t=new q,r=new Bl,i=new nu;return function(n,a){let{radius:o,center:s}=n,{a:l,b:c,c:u}=a;if(i.start=l,i.end=c,i.closestPointToPoint(s,!0,e).distanceTo(s)<=o||(i.start=l,i.end=u,i.closestPointToPoint(s,!0,e).distanceTo(s)<=o)||(i.start=c,i.end=u,i.closestPointToPoint(s,!0,e).distanceTo(s)<=o))return!0;let d=a.getPlane(r);if(Math.abs(d.distanceToPoint(s))<=o){let h=d.projectPoint(s,t);if(a.containsPoint(h))return!0}return!1}}(),BGe=1e-15;function Uv(e){return Math.abs(e)<BGe}var Wf=class extends Yo{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new q),this.satBounds=new Array(4).fill().map(()=>new Qf),this.points=[this.a,this.b,this.c],this.sphere=new jl,this.plane=new Bl,this.needsUpdate=!0}intersectsSphere(e){return EGe(e,this)}update(){let e=this.a,t=this.b,r=this.c,i=this.points,n=this.satAxes,a=this.satBounds,o=n[0],s=a[0];this.getNormal(o),s.setFromPoints(o,i);let l=n[1],c=a[1];l.subVectors(e,t),c.setFromPoints(l,i);let u=n[2],d=a[2];u.subVectors(t,r),d.setFromPoints(u,i);let h=n[3],f=a[3];h.subVectors(r,e),f.setFromPoints(h,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(o,e),this.needsUpdate=!1}};Wf.prototype.closestPointToSegment=function(){let e=new q,t=new q,r=new nu;return function(i,n=null,a=null){let{start:o,end:s}=i,l=this.points,c,u=1/0;for(let d=0;d<3;d++){let h=(d+1)%3;r.start.copy(l[d]),r.end.copy(l[h]),Yz(r,i,e,t),c=e.distanceToSquared(t),c<u&&(u=c,n&&n.copy(e),a&&a.copy(t))}return this.closestPointToPoint(o,e),c=o.distanceToSquared(e),c<u&&(u=c,n&&n.copy(e),a&&a.copy(o)),this.closestPointToPoint(s,e),c=s.distanceToSquared(e),c<u&&(u=c,n&&n.copy(e),a&&a.copy(s)),Math.sqrt(u)}}();Wf.prototype.intersectsTriangle=function(){let e=new Wf,t=new Array(3),r=new Array(3),i=new Qf,n=new Qf,a=new q,o=new q,s=new q,l=new q,c=new nu,u=new nu,d=new nu;return function(h,f=null,m=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let A=this.plane,g=h.plane;if(Math.abs(A.normal.dot(g.normal))>1-1e-10){let p=this.satBounds,v=this.satAxes;r[0]=h.a,r[1]=h.b,r[2]=h.c;for(let x=0;x<4;x++){let w=p[x],C=v[x];if(i.setFromPoints(C,r),w.isSeparated(i))return!1}let y=h.satBounds,b=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let x=0;x<4;x++){let w=y[x],C=b[x];if(i.setFromPoints(C,t),w.isSeparated(i))return!1}for(let x=0;x<4;x++){let w=v[x];for(let C=0;C<4;C++){let _=b[C];if(a.crossVectors(w,_),i.setFromPoints(a,t),n.setFromPoints(a,r),i.isSeparated(n))return!1}}return f&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),f.start.set(0,0,0),f.end.set(0,0,0)),!0}else{let p=this.points,v=!1,y=0;for(let I=0;I<3;I++){let F=p[I],V=p[(I+1)%3];c.start.copy(F),c.end.copy(V),c.delta(o);let Y=v?u.start:u.end,j=Uv(g.distanceToPoint(F));if(Uv(g.normal.dot(o))&&j){u.copy(c),y=2;break}if((g.intersectLine(c,Y)||j)&&!Uv(Y.distanceTo(V))){if(y++,v)break;v=!0}}if(y===1&&h.containsPoint(u.end))return f&&(f.start.copy(u.end),f.end.copy(u.end)),!0;if(y!==2)return!1;let b=h.points,x=!1,w=0;for(let I=0;I<3;I++){let F=b[I],V=b[(I+1)%3];c.start.copy(F),c.end.copy(V),c.delta(s);let Y=x?d.start:d.end,j=Uv(A.distanceToPoint(F));if(Uv(A.normal.dot(s))&&j){d.copy(c),w=2;break}if((A.intersectLine(c,Y)||j)&&!Uv(Y.distanceTo(V))){if(w++,x)break;x=!0}}if(w===1&&this.containsPoint(d.end))return f&&(f.start.copy(d.end),f.end.copy(d.end)),!0;if(w!==2)return!1;if(u.delta(o),d.delta(s),o.dot(s)<0){let I=d.start;d.start=d.end,d.end=I}let C=u.start.dot(o),_=u.end.dot(o),B=d.start.dot(o),P=d.end.dot(o),M=_<B,O=C<P;return C!==P&&B!==_&&M===O?!1:(f&&(l.subVectors(u.start,d.start),l.dot(o)>0?f.start.copy(u.start):f.start.copy(d.start),l.subVectors(u.end,d.end),l.dot(o)<0?f.end.copy(u.end):f.end.copy(d.end)),!0)}}}();Wf.prototype.distanceToPoint=function(){let e=new q;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Wf.prototype.distanceToTriangle=function(){let e=new q,t=new q,r=["a","b","c"],i=new nu,n=new nu;return function(a,o=null,s=null){let l=o||s?i:null;if(this.intersectsTriangle(a,l))return(o||s)&&(o&&l.getCenter(o),s&&l.getCenter(s)),0;let c=1/0;for(let u=0;u<3;u++){let d,h=r[u],f=a[h];this.closestPointToPoint(f,e),d=f.distanceToSquared(e),d<c&&(c=d,o&&o.copy(e),s&&s.copy(f));let m=this[h];a.closestPointToPoint(m,e),d=m.distanceToSquared(e),d<c&&(c=d,o&&o.copy(m),s&&s.copy(e))}for(let u=0;u<3;u++){let d=r[u],h=r[(u+1)%3];i.set(this[d],this[h]);for(let f=0;f<3;f++){let m=r[f],A=r[(f+1)%3];n.set(a[m],a[A]),Yz(i,n,e,t);let g=e.distanceToSquared(t);g<c&&(c=g,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();var Ah=class{constructor(e,t,r){this.isOrientedBox=!0,this.min=new q,this.max=new q,this.matrix=new kt,this.invMatrix=new kt,this.points=new Array(8).fill().map(()=>new q),this.satAxes=new Array(3).fill().map(()=>new q),this.satBounds=new Array(3).fill().map(()=>new Qf),this.alignedSatBounds=new Array(3).fill().map(()=>new Qf),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),r&&this.matrix.copy(r)}set(e,t,r){this.min.copy(e),this.max.copy(t),this.matrix.copy(r),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};Ah.prototype.update=function(){return function(){let e=this.matrix,t=this.min,r=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){let d=1*l|2*c|4*u,h=i[d];h.x=l?r.x:t.x,h.y=c?r.y:t.y,h.z=u?r.z:t.z,h.applyMatrix4(e)}let n=this.satBounds,a=this.satAxes,o=i[0];for(let l=0;l<3;l++){let c=a[l],u=n[l],d=1<<l,h=i[d];c.subVectors(o,h),u.setFromPoints(c,i)}let s=this.alignedSatBounds;s[0].setFromPointsField(i,"x"),s[1].setFromPointsField(i,"y"),s[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Ah.prototype.intersectsBox=function(){let e=new Qf;return function(t){this.needsUpdate&&this.update();let r=t.min,i=t.max,n=this.satBounds,a=this.satAxes,o=this.alignedSatBounds;if(e.min=r.x,e.max=i.x,o[0].isSeparated(e)||(e.min=r.y,e.max=i.y,o[1].isSeparated(e))||(e.min=r.z,e.max=i.z,o[2].isSeparated(e)))return!1;for(let s=0;s<3;s++){let l=a[s],c=n[s];if(e.setFromBox(l,t),c.isSeparated(e))return!1}return!0}}();Ah.prototype.intersectsTriangle=function(){let e=new Wf,t=new Array(3),r=new Qf,i=new Qf,n=new q;return function(a){this.needsUpdate&&this.update(),a.isExtendedTriangle?a.needsUpdate&&a.update():(e.copy(a),e.update(),a=e);let o=this.satBounds,s=this.satAxes;t[0]=a.a,t[1]=a.b,t[2]=a.c;for(let d=0;d<3;d++){let h=o[d],f=s[d];if(r.setFromPoints(f,t),h.isSeparated(r))return!1}let l=a.satBounds,c=a.satAxes,u=this.points;for(let d=0;d<3;d++){let h=l[d],f=c[d];if(r.setFromPoints(f,u),h.isSeparated(r))return!1}for(let d=0;d<3;d++){let h=s[d];for(let f=0;f<4;f++){let m=c[f];if(n.crossVectors(h,m),r.setFromPoints(n,t),i.setFromPoints(n,u),r.isSeparated(i))return!1}}return!0}}();Ah.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();Ah.prototype.distanceToPoint=function(){let e=new q;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Ah.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new nu),r=new Array(12).fill().map(()=>new nu),i=new q,n=new q;return function(a,o=0,s=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(a))return(s||l)&&(a.getCenter(n),this.closestPointToPoint(n,i),a.closestPointToPoint(i,n),s&&s.copy(i),l&&l.copy(n)),0;let c=o*o,u=a.min,d=a.max,h=this.points,f=1/0;for(let A=0;A<8;A++){let g=h[A];n.copy(g).clamp(u,d);let p=g.distanceToSquared(n);if(p<f&&(f=p,s&&s.copy(g),l&&l.copy(n),p<c))return Math.sqrt(p)}let m=0;for(let A=0;A<3;A++)for(let g=0;g<=1;g++)for(let p=0;p<=1;p++){let v=(A+1)%3,y=(A+2)%3,b=g<<v|p<<y,x=1<<A|g<<v|p<<y,w=h[b],C=h[x];t[m].set(w,C);let _=e[A],B=e[v],P=e[y],M=r[m],O=M.start,I=M.end;O[_]=u[_],O[B]=g?u[B]:d[B],O[P]=p?u[P]:d[B],I[_]=d[_],I[B]=g?u[B]:d[B],I[P]=p?u[P]:d[B],m++}for(let A=0;A<=1;A++)for(let g=0;g<=1;g++)for(let p=0;p<=1;p++){n.x=A?d.x:u.x,n.y=g?d.y:u.y,n.z=p?d.z:u.z,this.closestPointToPoint(n,i);let v=n.distanceToSquared(i);if(v<f&&(f=v,s&&s.copy(i),l&&l.copy(n),v<c))return Math.sqrt(v)}for(let A=0;A<12;A++){let g=t[A];for(let p=0;p<12;p++){let v=r[p];Yz(g,v,i,n);let y=i.distanceToSquared(n);if(y<f&&(f=y,s&&s.copy(i),l&&l.copy(n),y<c))return Math.sqrt(y)}}return Math.sqrt(f)}}();var Nv=new q,kv=new q,jv=new q,ZE=new ke,eB=new ke,tB=new ke,Kq=new q,Xq=new q,Yq=new q,rB=new q;function MGe(e,t,r,i,n,a){let o;return a===Do?o=e.intersectTriangle(i,r,t,!0,n):o=e.intersectTriangle(t,r,i,a!==Ms,n),o===null?null:{distance:e.origin.distanceTo(n),point:n.clone()}}function PGe(e,t,r,i,n,a,o,s,l){Nv.fromBufferAttribute(t,a),kv.fromBufferAttribute(t,o),jv.fromBufferAttribute(t,s);let c=MGe(e,Nv,kv,jv,rB,l);if(c){i&&(ZE.fromBufferAttribute(i,a),eB.fromBufferAttribute(i,o),tB.fromBufferAttribute(i,s),c.uv=Yo.getInterpolation(rB,Nv,kv,jv,ZE,eB,tB,new ke)),n&&(ZE.fromBufferAttribute(n,a),eB.fromBufferAttribute(n,o),tB.fromBufferAttribute(n,s),c.uv1=Yo.getInterpolation(rB,Nv,kv,jv,ZE,eB,tB,new ke)),r&&(Kq.fromBufferAttribute(r,a),Xq.fromBufferAttribute(r,o),Yq.fromBufferAttribute(r,s),c.normal=Yo.getInterpolation(rB,Nv,kv,jv,Kq,Xq,Yq,new q),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let u={a,b:o,c:s,normal:new q,materialIndex:0};Yo.getNormal(Nv,kv,jv,u.normal),c.face=u,c.faceIndex=a}return c}function Ule(e,t,r,i,n){let a=i*3,o=e.index.getX(a),s=e.index.getX(a+1),l=e.index.getX(a+2),{position:c,normal:u,uv:d,uv1:h}=e.attributes,f=PGe(r,c,u,d,h,o,s,l,t);return f?(f.faceIndex=i,n&&n.push(f),f):null}function TGe(e,t,r,i,n,a){for(let o=i,s=i+n;o<s;o++)Ule(e,t,r,o,a)}function OGe(e,t,r,i,n){let a=1/0,o=null;for(let s=i,l=i+n;s<l;s++){let c=Ule(e,t,r,s);c&&c.distance<a&&(o=c,a=c.distance)}return o}function Kd(e,t,r,i){let n=e.a,a=e.b,o=e.c,s=t,l=t+1,c=t+2;r&&(s=r.getX(t),l=r.getX(t+1),c=r.getX(t+2)),n.x=i.getX(s),n.y=i.getY(s),n.z=i.getZ(s),a.x=i.getX(l),a.y=i.getY(l),a.z=i.getZ(l),o.x=i.getX(c),o.y=i.getY(c),o.z=i.getZ(c)}function $q(e,t,r,i,n,a,o){let s=r.index,l=r.attributes.position;for(let c=e,u=t+e;c<u;c++)if(Kd(o,c*3,s,l),o.needsUpdate=!0,i(o,c,n,a))return!0;return!1}var Nle=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function sA(e,t){return t[e+15]===65535}function rb(e,t){return t[e+6]}function OC(e,t){return t[e+14]}function DC(e){return e+8}function IC(e,t){return t[e+6]}function DGe(e,t){return t[e+7]}var Iy=new Fa,jP=new q,IGe=["x","y","z"];function xU(e,t,r,i,n){let a=e*2,o=_1,s=WA,l=GA;if(sA(a,s)){let c=rb(e,l),u=OC(a,s);TGe(t,r,i,c,u,n)}else{let c=DC(e);zP(c,o,i,jP)&&xU(c,t,r,i,n);let u=IC(e,l);zP(u,o,i,jP)&&xU(u,t,r,i,n)}}function CU(e,t,r,i){let n=e*2,a=_1,o=WA,s=GA;if(sA(n,o)){let l=rb(e,s),c=OC(n,o);return OGe(t,r,i,l,c)}else{let l=DGe(e,s),c=IGe[l],u=i.direction[c]>=0,d,h;u?(d=DC(e),h=IC(e,s)):(d=IC(e,s),h=DC(e));let f=zP(d,a,i,jP)?CU(d,t,r,i):null;if(f){let A=f.point[c];if(u?A<=a[h+l]:A>=a[h+l+3])return f}let m=zP(h,a,i,jP)?CU(h,t,r,i):null;return f&&m?f.distance<=m.distance?f:m:f||m||null}}var FGe=function(){let e,t,r=[],i=new Nle(()=>new Fa);return function(...a){e=i.getPrimitive(),t=i.getPrimitive(),r.push(e,t);let o=n(...a);i.releasePrimitive(e),i.releasePrimitive(t),r.pop(),r.pop();let s=r.length;return s>0&&(t=r[s-1],e=r[s-2]),o};function n(a,o,s,l,c=null,u=0,d=0){function h(v){let y=v*2,b=WA,x=GA;for(;!sA(y,b);)v=DC(v),y=v*2;return rb(v,x)}function f(v){let y=v*2,b=WA,x=GA;for(;!sA(y,b);)v=IC(v,x),y=v*2;return rb(v,x)+OC(y,b)}let m=a*2,A=_1,g=WA,p=GA;if(sA(m,g)){let v=rb(a,p),y=OC(m,g);return Zd(a,A,e),l(v,y,!1,d,u+a,e)}else{let v=DC(a),y=IC(a,p),b=v,x=y,w,C,_,B;if(c&&(_=e,B=t,Zd(b,A,_),Zd(x,A,B),w=c(_),C=c(B),C<w)){b=y,x=v;let Y=w;w=C,C=Y,_=B}_||(_=e,Zd(b,A,_));let P=sA(b*2,g),M=s(_,P,w,d+1,u+b),O;if(M===2){let Y=h(b),j=f(b)-Y;O=l(Y,j,!0,d+1,u+b,_)}else O=M&&n(b,o,s,l,c,u,d+1);if(O)return!0;B=t,Zd(x,A,B);let I=sA(x*2,g),F=s(B,I,C,d+1,u+x),V;if(F===2){let Y=h(x),j=f(x)-Y;V=l(Y,j,!0,d+1,u+x,B)}else V=F&&n(x,o,s,l,c,u,d+1);return!!V}}}(),LGe=function(){let e=new Wf,t=new Wf,r=new kt,i=new Ah,n=new Ah;return function a(o,s,l,c,u=null){let d=o*2,h=_1,f=WA,m=GA;if(u===null&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),u=i),sA(d,f)){let A=s,g=A.index,p=A.attributes.position,v=l.index,y=l.attributes.position,b=rb(o,m),x=OC(d,f);if(r.copy(c).invert(),l.boundsTree)return Zd(o,h,n),n.matrix.copy(r),n.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:w=>n.intersectsBox(w),intersectsTriangle:w=>{w.a.applyMatrix4(c),w.b.applyMatrix4(c),w.c.applyMatrix4(c),w.needsUpdate=!0;for(let C=b*3,_=(x+b)*3;C<_;C+=3)if(Kd(t,C,g,p),t.needsUpdate=!0,w.intersectsTriangle(t))return!0;return!1}});for(let w=b*3,C=x+b*3;w<C;w+=3){Kd(e,w,g,p),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.needsUpdate=!0;for(let _=0,B=v.count;_<B;_+=3)if(Kd(t,_,v,y),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let A=o+8,g=m[o+6];return Zd(A,h,Iy),!!(u.intersectsBox(Iy)&&a(A,s,l,c,u)||(Zd(g,h,Iy),u.intersectsBox(Iy)&&a(g,s,l,c,u)))}}}();function zP(e,t,r,i){return Zd(e,t,Iy),r.intersectBox(Iy,i)}var _U=[],N5,_1,WA,GA;function Ux(e){N5&&_U.push(N5),N5=e,_1=new Float32Array(e),WA=new Uint16Array(e),GA=new Uint32Array(e)}function iB(){N5=null,_1=null,WA=null,GA=null,_U.length&&Ux(_U.pop())}var j4=Symbol("skip tree generation"),z4=new Fa,H4=new Fa,zv=new kt,Jg=new Ah,Yw=new Ah,$w=new q,nB=new q,RGe=new q,UGe=new q,NGe=new q,Jq=new Fa,Pd=new Nle(()=>new Wf),w2=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),w2.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};let r=e.geometry,i=e._roots,n=r.getIndex(),a;return t.cloneBuffers?a={roots:i.map(o=>o.slice()),index:n.array.slice()}:a={roots:i,index:n.array},a}static deserialize(e,t,r={}){if(typeof r=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),w2.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});r={setIndex:!0,...r};let{index:i,roots:n}=e,a=new w2(t,{...r,[j4]:!0});if(a._roots=n,r.setIndex){let o=t.getIndex();if(o===null){let s=new Qr(e.index,1,!1);t.setIndex(s)}else o.array!==i&&(o.array.set(i),o.needsUpdate=!0)}return a}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[j4]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[j4]||(this._roots=_Ge(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Fa))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,r=t.index.array,i=t.attributes.position,n,a,o,s,l=0,c=this._roots;for(let d=0,h=c.length;d<h;d++)n=c[d],a=new Uint32Array(n),o=new Uint16Array(n),s=new Float32Array(n),u(0,l),l+=n.byteLength;function u(d,h,f=!1){let m=d*2;if(o[m+15]===65535){let A=a[d+6],g=o[m+14],p=1/0,v=1/0,y=1/0,b=-1/0,x=-1/0,w=-1/0;for(let C=3*A,_=3*(A+g);C<_;C++){let B=r[C],P=i.getX(B),M=i.getY(B),O=i.getZ(B);P<p&&(p=P),P>b&&(b=P),M<v&&(v=M),M>x&&(x=M),O<y&&(y=O),O>w&&(w=O)}return s[d+0]!==p||s[d+1]!==v||s[d+2]!==y||s[d+3]!==b||s[d+4]!==x||s[d+5]!==w?(s[d+0]=p,s[d+1]=v,s[d+2]=y,s[d+3]=b,s[d+4]=x,s[d+5]=w,!0):!1}else{let A=d+8,g=a[d+6],p=A+h,v=g+h,y=f,b=!1,x=!1;e?y||(b=e.has(p),x=e.has(v),y=!b&&!x):(b=!0,x=!0);let w=y||b,C=y||x,_=!1;w&&(_=u(A,h,y));let B=!1;C&&(B=u(g,h,y));let P=_||B;if(P)for(let M=0;M<3;M++){let O=A+M,I=g+M,F=s[O],V=s[O+3],Y=s[I],j=s[I+3];s[d+M]=F<Y?F:Y,s[d+M+3]=V>j?V:j}return P}}}traverse(e,t=0){let r=this._roots[t],i=new Uint32Array(r),n=new Uint16Array(r);a(0);function a(o,s=0){let l=o*2,c=n[l+15]===65535;if(c){let u=i[o+6],d=n[l+14];e(s,c,new Float32Array(r,o*4,6),u,d)}else{let u=o+8,d=i[o+6],h=i[o+7];e(s,c,new Float32Array(r,o*4,6),h)||(a(u,s+1),a(d,s+1))}}}raycast(e,t=ed){let r=this._roots,i=this.geometry,n=[],a=t.isMaterial,o=Array.isArray(t),s=i.groups,l=a?t.side:t;for(let c=0,u=r.length;c<u;c++){let d=o?t[s[c].materialIndex].side:l,h=n.length;if(Ux(r[c]),xU(0,i,d,e,n),iB(),o){let f=s[c].materialIndex;for(let m=h,A=n.length;m<A;m++)n[m].face.materialIndex=f}}return n}raycastFirst(e,t=ed){let r=this._roots,i=this.geometry,n=t.isMaterial,a=Array.isArray(t),o=null,s=i.groups,l=n?t.side:t;for(let c=0,u=r.length;c<u;c++){let d=a?t[s[c].materialIndex].side:l;Ux(r[c]);let h=CU(0,i,d,e);iB(),h!=null&&(o==null||h.distance<o.distance)&&(o=h,a&&(h.face.materialIndex=s[c].materialIndex))}return o}intersectsGeometry(e,t){let r=this.geometry,i=!1;for(let n of this._roots)if(Ux(n),i=LGe(0,r,e,t),iB(),i)break;return i}shapecast(e,t,r){let i=this.geometry;if(e instanceof Function){if(t){let d=t;t=(h,f,m,A)=>{let g=f*3;return d(h,g,g+1,g+2,m,A)}}e={boundsTraverseOrder:r,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let n=Pd.getPrimitive(),{boundsTraverseOrder:a,intersectsBounds:o,intersectsRange:s,intersectsTriangle:l}=e;if(s&&l){let d=s;s=(h,f,m,A,g)=>d(h,f,m,A,g)?!0:$q(h,f,i,l,m,A,n)}else s||(l?s=(d,h,f,m)=>$q(d,h,i,l,f,m,n):s=(d,h,f)=>f);let c=!1,u=0;for(let d of this._roots){if(Ux(d),c=FGe(0,i,o,s,a,u),iB(),c)break;u+=d.byteLength}return Pd.releasePrimitive(n),c}bvhcast(e,t,r){let{intersectsRanges:i,intersectsTriangles:n}=r,a=this.geometry.index,o=this.geometry.attributes.position,s=e.geometry.index,l=e.geometry.attributes.position;zv.copy(t).invert();let c=Pd.getPrimitive(),u=Pd.getPrimitive();if(n){let h=function(f,m,A,g,p,v,y,b){for(let x=A,w=A+g;x<w;x++){Kd(u,x*3,s,l),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let C=f,_=f+m;C<_;C++)if(Kd(c,C*3,a,o),c.needsUpdate=!0,n(c,u,C,x,p,v,y,b))return!0}return!1};if(i){let f=i;i=function(m,A,g,p,v,y,b,x){return f(m,A,g,p,v,y,b,x)?!0:h(m,A,g,p,v,y,b,x)}}else i=h}e.getBoundingBox(H4),H4.applyMatrix4(t);let d=this.shapecast({intersectsBounds:h=>H4.intersectsBox(h),intersectsRange:(h,f,m,A,g,p)=>(z4.copy(p),z4.applyMatrix4(zv),e.shapecast({intersectsBounds:v=>z4.intersectsBox(v),intersectsRange:(v,y,b,x,w)=>i(h,f,v,y,A,g,x,w)}))});return Pd.releasePrimitive(c),Pd.releasePrimitive(u),d}intersectsBox(e,t){return Jg.set(e.min,e.max,t),Jg.needsUpdate=!0,this.shapecast({intersectsBounds:r=>Jg.intersectsBox(r),intersectsTriangle:r=>Jg.intersectsTriangle(r)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,r={},i={},n=0,a=1/0){e.boundingBox||e.computeBoundingBox(),Jg.set(e.boundingBox.min,e.boundingBox.max,t),Jg.needsUpdate=!0;let o=this.geometry,s=o.attributes.position,l=o.index,c=e.attributes.position,u=e.index,d=Pd.getPrimitive(),h=Pd.getPrimitive(),f=nB,m=RGe,A=null,g=null;i&&(A=UGe,g=NGe);let p=1/0,v=null,y=null;return zv.copy(t).invert(),Yw.matrix.copy(zv),this.shapecast({boundsTraverseOrder:b=>Jg.distanceToBox(b),intersectsBounds:(b,x,w)=>w<p&&w<a?(x&&(Yw.min.copy(b.min),Yw.max.copy(b.max),Yw.needsUpdate=!0),!0):!1,intersectsRange:(b,x)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:w=>Yw.distanceToBox(w),intersectsBounds:(w,C,_)=>_<p&&_<a,intersectsRange:(w,C)=>{for(let _=w*3,B=(w+C)*3;_<B;_+=3){Kd(h,_,u,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let P=b*3,M=(b+x)*3;P<M;P+=3){Kd(d,P,l,s),d.needsUpdate=!0;let O=d.distanceToTriangle(h,f,A);if(O<p&&(m.copy(f),g&&g.copy(A),p=O,v=P/3,y=_/3),O<n)return!0}}}});{let w=u?u.count:c.count;for(let C=0,_=w;C<_;C+=3){Kd(h,C,u,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let B=b*3,P=(b+x)*3;B<P;B+=3){Kd(d,B,l,s),d.needsUpdate=!0;let M=d.distanceToTriangle(h,f,A);if(M<p&&(m.copy(f),g&&g.copy(A),p=M,v=B/3,y=C/3),M<n)return!0}}}}}),Pd.releasePrimitive(d),Pd.releasePrimitive(h),p===1/0?null:(r.point?r.point.copy(m):r.point=m.clone(),r.distance=p,r.faceIndex=v,i&&(i.point?i.point.copy(g):i.point=g.clone(),i.point.applyMatrix4(zv),m.applyMatrix4(zv),i.distance=m.sub(i.point).length(),i.faceIndex=y),r)}closestPointToPoint(e,t={},r=0,i=1/0){let n=r*r,a=i*i,o=1/0,s=null;if(this.shapecast({boundsTraverseOrder:c=>($w.copy(e).clamp(c.min,c.max),$w.distanceToSquared(e)),intersectsBounds:(c,u,d)=>d<o&&d<a,intersectsTriangle:(c,u)=>{c.closestPointToPoint(e,$w);let d=e.distanceToSquared($w);return d<o&&(nB.copy($w),o=d,s=u),d<n}}),o===1/0)return null;let l=Math.sqrt(o);return t.point?t.point.copy(nB):t.point=nB.clone(),t.distance=l,t.faceIndex=s,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{Zd(0,new Float32Array(t),Jq),e.union(Jq)}),e}},Jw=Xf(LDe()),kGe=.5*(Math.sqrt(3)-1),Zw=(3-Math.sqrt(3))/6,jGe=1/3,Td=1/6,x2=e=>Math.floor(e)|0,Zq=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),V4=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function Q4(e=Math.random){let t=kle(e),r=new Float64Array(t).map(n=>Zq[n%12*2]),i=new Float64Array(t).map(n=>Zq[n%12*2+1]);return function(n,a){let o=0,s=0,l=0,c=(n+a)*kGe,u=x2(n+c),d=x2(a+c),h=(u+d)*Zw,f=u-h,m=d-h,A=n-f,g=a-m,p,v;A>g?(p=1,v=0):(p=0,v=1);let y=A-p+Zw,b=g-v+Zw,x=A-1+2*Zw,w=g-1+2*Zw,C=u&255,_=d&255,B=.5-A*A-g*g;if(B>=0){let O=C+t[_],I=r[O],F=i[O];B*=B,o=B*B*(I*A+F*g)}let P=.5-y*y-b*b;if(P>=0){let O=C+p+t[_+v],I=r[O],F=i[O];P*=P,s=P*P*(I*y+F*b)}let M=.5-x*x-w*w;if(M>=0){let O=C+1+t[_+1],I=r[O],F=i[O];M*=M,l=M*M*(I*x+F*w)}return 70*(o+s+l)}}function zGe(e=Math.random){let t=kle(e),r=new Float64Array(t).map(a=>V4[a%12*3]),i=new Float64Array(t).map(a=>V4[a%12*3+1]),n=new Float64Array(t).map(a=>V4[a%12*3+2]);return function(a,o,s){let l,c,u,d,h=(a+o+s)*jGe,f=x2(a+h),m=x2(o+h),A=x2(s+h),g=(f+m+A)*Td,p=f-g,v=m-g,y=A-g,b=a-p,x=o-v,w=s-y,C,_,B,P,M,O;b>=x?x>=w?(C=1,_=0,B=0,P=1,M=1,O=0):b>=w?(C=1,_=0,B=0,P=1,M=0,O=1):(C=0,_=0,B=1,P=1,M=0,O=1):x<w?(C=0,_=0,B=1,P=0,M=1,O=1):b<w?(C=0,_=1,B=0,P=0,M=1,O=1):(C=0,_=1,B=0,P=1,M=1,O=0);let I=b-C+Td,F=x-_+Td,V=w-B+Td,Y=b-P+2*Td,j=x-M+2*Td,R=w-O+2*Td,H=b-1+3*Td,G=x-1+3*Td,$=w-1+3*Td,L=f&255,K=m&255,X=A&255,ee=.6-b*b-x*x-w*w;if(ee<0)l=0;else{let le=L+t[K+t[X]];ee*=ee,l=ee*ee*(r[le]*b+i[le]*x+n[le]*w)}let W=.6-I*I-F*F-V*V;if(W<0)c=0;else{let le=L+C+t[K+_+t[X+B]];W*=W,c=W*W*(r[le]*I+i[le]*F+n[le]*V)}let te=.6-Y*Y-j*j-R*R;if(te<0)u=0;else{let le=L+P+t[K+M+t[X+O]];te*=te,u=te*te*(r[le]*Y+i[le]*j+n[le]*R)}let oe=.6-H*H-G*G-$*$;if(oe<0)d=0;else{let le=L+1+t[K+1+t[X+1]];oe*=oe,d=oe*oe*(r[le]*H+i[le]*G+n[le]*$)}return 32*(l+c+u+d)}}function kle(e){let t=new Uint8Array(512);for(let r=0;r<512/2;r++)t[r]=r;for(let r=0;r<512/2-1;r++){let i=r+~~(e()*(256-r)),n=t[r];t[r]=t[i],t[i]=n}for(let r=256;r<512;r++)t[r]=t[r-256];return t}var Bu=new Yo,HGe=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let i=0;i<e.count;i+=3){let n=1;Bu.a.fromBufferAttribute(e,i),Bu.b.fromBufferAttribute(e,i+1),Bu.c.fromBufferAttribute(e,i+2),n*=Bu.getArea(),t[i/3]=n}this.distribution=new Float32Array(e.count/3);let r=0;for(let i=0;i<t.length;i++)r+=t[i],this.distribution[i]=r;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let r=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*r);return this.sampleFace(i,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,r=0,i=t.length-1,n=-1;for(;r<=i;){let a=Math.ceil((r+i)/2);if(a===0||t[a-1]<=e&&t[a]>e){n=a;break}else e<t[a]?i=a-1:r=a+1}return n}sampleFace(e,t,r){let i=this.randomFunction(),n=this.randomFunction();return i+n>1&&(i=1-i,n=1-n),Bu.a.fromBufferAttribute(this.positionAttribute,e*3),Bu.b.fromBufferAttribute(this.positionAttribute,e*3+1),Bu.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Bu.a,i).addScaledVector(Bu.b,n).addScaledVector(Bu.c,1-(i+n)),Bu.getNormal(r),this}},VGe=Xf(yoe()),QGe=new kt,WGe=new kt,GGe=new kt,FC;(e=>{function t(r){return r&&r.__isSPEObject}e.is=t})(FC||(FC={}));var $z=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new kt,this.copyPreviousMatrix=!0,this.hiddenMatrix=new kt,this.matrixWorldRigid=new kt,this.shearScale=new kt,this.shearScaleInv=new kt}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof on&&(t=t.uuid);let r=this;for(;r.parent;){if(r.parent.uuid===t)return!0;r=r.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let r of this.children)r.updateMatrixWorld(t)}updateWorldMatrix(t,r){let i=this.parent;if(t&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),r)for(let n of this.children)n.updateWorldMatrix(!1,!0)}traverseChildren(t,r=0){for(let i of this.children)FC.is(i)&&i.traverseObject(t,r+1)}traverseObject(t,r=0){if(t(this,r)!==!0)for(let i of this.children)FC.is(i)&&i.traverseObject(t,r+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,r=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:i,v:n,q:a}=(0,VGe.SVD)(r),o=QGe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),s=WGe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),l=GGe.copy(s).transpose();this.shearScale.makeScale(a[0],a[1],a[2]).multiply(l).premultiply(s),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(o,l).copyPosition(this.matrixWorld),a.every(c=>Math.abs(a[0]-c)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,r){this.updateWorldMatrix(!0,!1);let i=new kt().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof kt?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),r!==void 0&&(this.children.pop(),this.children.splice(r,0,t)),this}copy(t,r=!1){return super.copy(t,r),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,r,i,n,a,o){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},qGe=class extends $z(on){},KGe=e=>e.type==="Mesh",Ps=class extends qGe{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let r=this.children[e];(r==null?void 0:r.object)!==t&&(r&&this.remove(r),r=new Ps(t),this.add(r),this.children.splice(e,0,this.children.pop()),r.matrixWorldNeedsUpdate=!0,r.matrixAutoUpdate=!1,r.matrix=t.matrix,r.hiddenMatrix=t.hiddenMatrix),r.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){var e;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((e=this.object.dataPatched.cloner)==null?void 0:e.hideBase)===!0}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return KGe(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},mm=new q,vm=new q,ib=new kt,jle=[new q(-1,1,1),new q(-1,-1,1),new q(1,-1,1),new q(1,1,1),new q(-1,1,-1),new q(-1,-1,-1),new q(1,-1,-1),new q(1,1,-1)],XGe=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],YGe=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],eK=(e,t,r)=>{e.updateEntityBoxSize(mm,vm),ib.copy(t).multiply(e.matrixWorld),vm.x===0&&vm.y===0&&vm.z===0?r.push(new q(mm.x,mm.y,mm.z).applyMatrix4(ib)):jle.forEach(i=>{r.push(i.clone().multiply(vm).add(mm).applyMatrix4(ib))})},tK=class extends Fa{constructor(){super(...arguments),this.matrix=new kt,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let r=new kt().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let i=[];return r===!0?e.traverseEntity(n=>{if(n.visible||n.cloner&&n.data.visible){if(!("geometry"in n)){i.push(new q);return}eK(n,t,i)}}):eK(e,t,i),this.setFromPoints(i)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(ib.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(vm).multiplyScalar(.5),this.getCenter(mm),ib.copy(this.matrix).setPosition(mm),this.vertices=jle.map(e=>e.clone().multiply(vm).applyMatrix4(ib))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=XGe.map(([e,t])=>new nu(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new q))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=YGe.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},EA={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},$Ge=class extends Koe{constructor(){super()}getPoints(e=12){let t=[],r,i=this.getCurveLengths(),n=i[i.length-1]/i.length;for(let a=0,o=this.curves;a<o.length;a++){let s=o[a],l=a===0?i[a]:i[a]-i[a-1],c=Math.ceil(e*l/n),u=s.getPoints(c);for(let d=0;d<u.length;d++){let h=u[d];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},SU=.001;function EU(e,t,r){return t.clone().sub(e).cross(t.clone().sub(r)).length()<=SU}function W4(e,t){let r=new q(...e.position),i=new q(...e.controlNext.position),n=new q(...t.controlPrevious.position),a=new q(...t.position);return EU(r,i,a)&&EU(r,n,a)}function zle(e){let t=e.points.map(u=>new q(...u.data.position)),r=[e.points[0]],i=new q(...r[0].data.position);for(let u=0;u<e.points.length-1;u++)EU(i,t[u],t[u+1])||(r.push(e.points[u]),i=t[u]);r.push(e.points[e.points.length-1]);let n=e.isClosed,a=r.length-(n?0:1),o=r.length,s=[];for(let u=0;u<o;u++){let d=r[u].data,h=new q(...d.position),f=new q(...d.controlPrevious.position),m=new q(...d.controlNext.position),A={position:h,baseRoundness:d.roundness,controlPrevious:f,controlNext:m};if(d.roundness===0||!e.isClosed&&(u===0||u===o-1)){s[u]={...A,removedLength:0};continue}let g=n&&u==0?o-1:u-1,p=n&&u==o-1?0:u+1,v=r[g].data,y=r[p].data,b=new q(...v.position),x=new q(...y.position),w=b.clone().sub(h).normalize(),C=x.clone().sub(h).normalize();Object.assign(A,{prevDir:w,nextDir:C});let _=W4(v,d),B=W4(d,y);if(!_||!B)s[u]={...A,removedLength:0};else{let P=w.clone().add(C).normalize(),M=P.clone().cross(w).length()/w.dot(P);s[u]={...A,tan:M,removedLength:d.roundness/M}}}for(let u=0;u<a;u++){let d=u,h=n&&u===o-1?0:u+1,f=s[d],m=s[h];if(f.removedLength!==0||m.removedLength!==0){let A=f.position.distanceTo(m.position);f.removedLength=Math.min(f.removedLength,A/2),m.removedLength=Math.min(m.removedLength,A/2)}}let l=[];for(let u=0;u<a;u++){let d=u,h=n&&u===o-1?0:u+1,f=s[d],m=s[h],A=null;if(!W4(r[d].data,r[h].data))f.position.distanceTo(m.position)>SU&&(A=new I5(f.position,f.controlNext,m.controlPrevious,m.position));else{let g=f.position.clone(),p=m.position.clone();(f.removedLength!==0||m.removedLength!==0)&&(f.nextDir&&g.add(f.nextDir.clone().setLength(f.removedLength)),m.prevDir&&p.add(m.prevDir.clone().setLength(m.removedLength))),g.distanceTo(p)>SU&&(A=new I5(g,g.clone().lerp(p,.3),p.clone().lerp(g,.3),p))}l[2*u+1]=A}for(let u=0;u<o;u++){let d=s[u];if(d.removedLength===0){l[2*u]=null;continue}let h=d.position,f=d.prevDir.clone().multiplyScalar(d.removedLength).add(h),m=d.nextDir.clone().multiplyScalar(d.removedLength).add(h),A=d.tan*d.removedLength,g=d.prevDir.clone().add(d.nextDir).normalize(),p=f.clone().lerp(m,.5),v=f.distanceTo(m)/2,y=g.clone().multiplyScalar(Math.sqrt(Math.pow(A,2)-Math.pow(v,2))).add(p),b=g.clone().multiplyScalar(-A).add(y),x=h.distanceTo(b)/h.distanceTo(p),w=d.prevDir.clone().multiplyScalar(x*h.distanceTo(f)).add(h),C=w.clone().lerp(b,2),_=f.clone().lerp(w,4/3),B=m.clone().lerp(C,4/3);l[2*u]=new I5(f,_,B,m)}let c=new $Ge;return l.forEach(u=>{u&&c.add(u)}),c}var Oi;(e=>{function t(r){return r&&r.__isEntity}e.is=t})(Oi||(Oi={}));var cf=e=>Oi.is(e),JGe={type:"completeState",isfromEntity:!0},ZGe=["x","y","z"],G4=new q,e9e=new q().set(0,1,0),Jz=e=>class extends $z(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new tK,this._recursiveBBox=new tK,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let r=this.children[t];if(Oi.is(r))return r}entityChildrenCount(){let t=this.children.length;for(;t--;)if(Oi.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let r=t.parent;if(Oi.is(r))t=r;else return}return t}forInstancesRec(t){this.instances.forEach(r=>{r.disposed||t(r),r.forInstancesRec(t)})}super_Entity(t,r){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=r,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,r,i=!1){if(!(this.data.states.length===0&&!i)){for(let n of this.data.states)Pm.toOps(this.data,n.data).forEach(a=>{let o=bP.replaceProps(a,this.data);this.dataPatched=this.data,this.updateByPatchedOp(o,this.data,r)});if(t!==null){let n=this.data.states.data(t);n&&(this.dataPatched=Pm.patch(this.data,n),Pm.toOps(this.data,n).forEach(a=>{this.updateByPatchedOp(a,this.dataPatched,r)}))}i&&this.updateTransformState(this.dataPatched,r),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,r){t.setScalar(0),r.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{cf(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let r;return this.traverseEntity(i=>{i.uuid===t&&(r=i)}),r}traverseSortNextHelper(){let t=this.parent;if(t){let r=t.children,i=r.indexOf(this)+1;if(Oi.is(r[i]))return r[i];if(Oi.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&Oi.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let r=this;for(;t>0&&r!==null;)r=r.parent,t-=1;return r}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let r=this.parent;for(;r;){if(t===r)return!0;r=r.parent}return!1}countToAccestor(t){let r=0,i=this;for(;i!==t;){if(i===null)return-1;i=i.parent,r+=1}return r}forEachEntity(t){for(let r of this.children)cf(r)&&t(r)}traverseEntityAncestors(t){this.traverseAncestors(r=>{Oi.is(r)&&t(r)})}traverseConcreteEntity(t,r=0){if(t(this,r)!==!0)for(let i of this.children)cf(i)&&i.isConcreteEntity&&i.traverseEntity(t,r+1)}traverseEntity(t,r=0){if(t(this,r)!==!0)for(let i of this.children)cf(i)&&i.traverseEntity(t,r+1)}traverseVisibleEntity(t){t(this);for(let r of this.children)cf(r)&&r.visible&&r.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,r=!1){return super.copy(t,r),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>cf(t))}isAncestorOf(t){if(this.uuid===t)return!1;let r=!1;return this.traverseEntity(i=>{i.uuid===t&&(r=!0)}),r}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let r={position:this.position.toArray(),rotation:[this.rotation.x*fr.RAD2DEG,this.rotation.y*fr.RAD2DEG,this.rotation.z*fr.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return FR(r,t)}getTransformValues(t,r,i){return r[t].map((n,a)=>(i==null?void 0:i.shared.getVariable(n,[this.uuid,t,ZGe[a]]))??n)}updateTransformState(t,r){let i=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,r)),i=!0),t.rotation&&(G4.fromArray(this.getTransformValues("rotation",t,r)).multiplyScalar(fr.DEG2RAD),this.rotation.setFromVector3(G4),i=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,r)),i=!0),t.hiddenMatrix!==void 0&&(i=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??Ub.identity)),i&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),i}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)Oi.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{Oi.is(t)&&t.disposeRecursively()})}toState(t=[]){let r={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return FR(r,t)}updateByObjUpdateOp(t,r){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},r,!1)}updateByOp(t,r,i,n){let a=this.data;this.data=r;let o=t,s=xn(t.path,["states","*"]);if(s!==null){if(t.type===0){let[l]=s;if((this==null?void 0:this.stateSelection)===l){let c={...t.props};if(delete c.name,Object.values(t.props).some(u=>u===void 0)){let u=this.data;if(u!==void 0){let d=co.zoom(u,t.path.slice(2));if(d)for(let h in t.props)t.props[h]===void 0&&h in d&&(c[h]=d[h])}}o={...t,props:c,path:t.path.slice(2)}}}}else if(t.type===0){let l=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(l!==void 0){if(t.props.name!==void 0&&l.name){let{name:u,...d}=l;l=d}if(t.props.material!==void 0&&"material"in l){let{material:u,...d}=l;l=d}let c=co.removeOverridden(t.path,t.props,l);o={...t,props:c}}}if(this.updateByPatchedOpBase(o,Pm.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i),xn(t.path,["overrides"])){let l=[],c=[...t.path];for(l.push(c[1]),c.splice(0,2);c.length>0&&c[0]==="descendants";)l.push(c[1]),c.splice(0,2);if(l[l.length-1]===void 0){if(t.type===0)for(let u of Object.keys(t.props)){l[l.length-1]=u;let d=i.scene.findInstance([this.uuid,...l]);d&&(d.overrideData=t.props[u],d.updateState(VA.apply(d.component.data,d.overrideData),i))}}else{let u=i.scene.findInstance([this.uuid,...l]);if(u){let d=co.zoom(u.component.data,c);if(t={...t,path:c},t.type===0){let h=t.props;if(d)for(let[f,m]of Object.entries(t.props))m===void 0&&(h===t.props&&(h={...t.props}),h[f]=d[f]);t={...t,props:h}}u.overrideData=OP.resolve(r.overrides,l),u.updateByOp(t,To.applySimple(u.data,t),i,!1)}}}else if(this.instances.length>0){let l;if(t.path.length===0&&t.type===0){let c;for(let u of _A.rootOverrideProps)u in t.props&&(c===void 0&&(c={}),c[u]=t.props[u]);c&&(l={...t,props:c})}else for(let c of _A.rootOverrideProps)if(xn(t.path,[c])){l=t;break}l!==void 0&&this.instances.forEach(c=>{if(c.isInstanceRoot){let u=VA.filterOp(c.overrideData,l);u&&c.updateByOp(u,To.applySimple(c.data,u),i,!0)}}),this.instances.forEach(c=>{if(!c.isInstanceRoot){let u=VA.filterOp(c.overrideData,t);if(u){let d;a===c.data&&t===u?d=r:d=To.applySimple(c.data,u),c.updateByOp(u,d,i,!0)}}})}}updateByPatchedOpBase(t,r,i){if(this.dataPatched=r,t.path.length===0&&t.type===0)t.props.type!==void 0&&!c0.is(t.props.type)&&EA.changeEntityProptotype(this,r,i);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){EA.changeEntityProptotype(this,r,i);for(let n of this.children)Oi.is(n)&&n.updateVisible(i.scene)}this.updateByPatchedOp(t,r,i)}updateByPatchedOp(t,r,i){if(t.path.length===0&&t.type===0&&this.updateState(t.props,i),xn(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(r.pathSnapping),xn(t.path,["cloner"])!==null){let n=To.drop(t,1);n.path.length===0&&n.type===0&&n.props.disabled===!0?this.setFromClonerState(null,i):this.cloner?this.cloner.updateState(r.cloner,i.scene):(this.setFromClonerState(r.cloner,i),this.expandCloner(i.scene)),this.updateVisible(i.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){var m,A,g,p,v;let r=((m=this._updatedPathSnapping)==null?void 0:m.pathId)??this.dataPatched.pathSnapping.pathId,i=((A=this._updatedPathSnapping)==null?void 0:A.slide)??this.dataPatched.pathSnapping.slide??0,n=((g=this._updatedPathSnapping)==null?void 0:g.offset)??this.dataPatched.pathSnapping.offset??0,a=((p=this._updatedPathSnapping)==null?void 0:p.orientation)??this.dataPatched.pathSnapping.orientation;if(r===null)return;let o=t.find(r);if(!o||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let s=o.data;if(s.geometry.path.points.length<=1)return;let l=zle(s.geometry.path),c=(i+n)%1;i+n===1&&c===0&&(c=1);let u=l.curves.length?l.getPointAt(c):null;if(u===null)return;let d=this.parent?(v=this.parent)==null?void 0:v.matrixWorld:new kt;o.updateMatrixWorld();let h=new kt().multiplyMatrices(d.clone().invert(),o.matrixWorld);u.applyMatrix4(h);let f={position:u.toArray(),rotation:s.rotation};if(a==="tangential"){let y=new kt().extractRotation(o.matrixWorld),b=l.getTangentAt(c).applyMatrix4(y).add(u),x=new kt().lookAt(u,b,e9e),w=G4.setFromEuler(new lo().setFromRotationMatrix(x)).multiplyScalar(fr.RAD2DEG);f={...f,rotation:w.toArray()}}this.updateTransformState(f),this.traverseEntity(y=>{y._cameraType&&y.dispatchEvent(JGe)})}updateVisible(t){var i;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||((i=this.dataPatched.cloner)==null?void 0:i.hideBase)!==!0),!t)return;let r=!1;this.traverseEntity(n=>{if(n.data.type==="Splat")return r=!0,!0}),r&&t.reloadSplats()}updateState_Entity(t,r){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(r==null?void 0:r.scene),this.resetBBoxNeedsUpdate()),r&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,r),this.updateVisible(r.scene)),this.updateTransformState(t,r)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof EA.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,r){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new EA.Cloner(this,t),r.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,r.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}requestRender(){this.dispatchEvent({type:"requestRender"})}},Hle=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);r.thetaLength=fr.clamp(r.thetaLength,0,360);let i=r.width/2,n=r.radiusTop??i,a=r.radiusBottom??i;return n===a?(n=i,a=i):n>a?(n=i,a=a*i/n):(n=n*i/a,a=i),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),radiusTop:n,radiusBottom:a})}}static build(e){let{width:t,depth:r,height:i,radialSegments:n,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l,radiusTop:c,radiusBottom:u,cornerRadius:d,cornerSegments:h,hollow:f}=e.parameters,m;return l===0?(m=new Mr,m.setAttribute("position",new sr([],3))):d||f?m=new Vle(c,u,i,n,a,o,s,l*Math.PI/180,d,d,h,f):m=new gz(c,u,i,n,a,o,s,l*Math.PI/180),m.scale(1,1,r/t),Object.assign(m,{userData:{...e,type:"CylinderGeometry"}})}};function jp(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function rK(e){return new ke(e.y,-e.x)}var Vle=class extends Mr{constructor(e,t,r,i,n,a,o,s,l,c,u,d,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,r=r||1,i=Math.floor(i)||8,n=Math.floor(n)||1,a=a!==void 0?a:!1,o=o!==void 0?o:0,s=s!==void 0?s:Math.PI*2,a&&(l=0,c=0);let f=[],m=[],A=[],g=[],p=0,v=r/2,y=new q,b=new q;h&&e==0&&(e=l),h&&t==0&&(t=c);let x=new ke(e,v),w=new ke(t,-v),C=null,_=null,B=null,P=null,M=x.clone().sub(w),O=0,I=0,F=0;d>0&&(O=Math.min(e,t)*(1-d),I=e-O,F=t-O);let V=x.clone();V.x-=O;let Y=Math.PI-M.angle(),j=M.angle(),R=Math.tan(j/2),H=Math.tan(Y/2),G=R+H,$=d?G:H,L=d?G:R;if(l=Math.min(l,(e-I)/$,M.length()/G),c=Math.min(c,(t-F)/L,M.length()/G),l>0){let oe=l/R;C=x.clone().sub(new ke(oe,l)),d&&(B=C.clone(),B.x-=O-G*l),x.sub(M.clone().setLength(oe))}if(c>0){let oe=c/H;_=w.clone().sub(new ke(oe,-c)),w.add(M.clone().setLength(oe)),d&&(P=_.clone(),P.x-=O-G*c,V.sub(M.clone().setLength(oe)))}M=x.clone().sub(w);let K=M.length()<.5,X=[];for(let oe=0;oe<=i;oe++){let le=[],be=oe/i,ve=be*s+o,se=new ke(Math.sin(ve),Math.cos(ve));P&&_?(ee(le,be,se,Y,c,P,-1,!0),ee(le,be,se,j,c,_,-1,!1)):_?(W(le,se,_.x,0,-1),ee(le,be,se,j,c,_,-1,!1)):a||W(le,se,t,F,-1);let ye=rK(M).normalize();if(jp(ye,se,y),!K)for(let Be=0;Be<=n;Be++){let ge=Be/n,ae=M.clone().multiplyScalar(ge).add(w);jp(ae,se,b),m.push(b.x,b.y,b.z),A.push(y.x,y.y,y.z),g.push(be,.5+b.y/r),le.push(p++)}if(B&&C?(ee(le,be,se,Y,l,C,1,!1),ee(le,be,se,j,l,B,1,!0)):C?(ee(le,be,se,Y,l,C,1,!1),W(le,se,C.x,0,1)):a||W(le,se,e,I,1),d&&!K){let Be=rK(M).multiplyScalar(-1).normalize();jp(Be,se,y);for(let ge=0;ge<=n;ge++){let ae=ge/n,Ne=M.clone().multiplyScalar(-ae).add(V);jp(Ne,se,b),m.push(b.x,b.y,b.z),A.push(y.x,y.y,y.z),g.push(be,.5+b.y/r),le.push(p++)}}d&&!a&&le.push(le[0]),X.push(le)}for(let oe=0;oe<X.length-1;oe++)for(let le=0;le<X[0].length-1;le++){if(a&&d&&le==n)continue;let be=X[oe][le],ve=X[oe+1][le],se=X[oe+1][le+1],ye=X[oe][le+1],Be=m[se*3+0],ge=m[se*3+2];f.push(be,ve,ye),(Be!=0||ge!=0)&&f.push(ve,se,ye)}s<Math.PI*2&&(te(-1,X[0],o),te(1,X[X.length-1],o+s)),this.setIndex(f),this.setAttribute("position",new sr(m,3)),this.setAttribute("normal",new sr(A,3)),this.setAttribute("uv",new sr(g,2));function ee(oe,le,be,ve,se,ye,Be,ge){for(let ae=0;ae<u+1;ae++){let Ne=ae/u,Ie=Be<0?Ne:1-Ne;ge&&(Ie-=1),Ie*=ve;let Ee=new ke(Math.sin(Ie),Math.cos(Ie)*Be),Qe=Ee.clone().multiplyScalar(se).add(ye);jp(Qe,be,b),m.push(b.x,b.y,b.z),jp(Ee,be,y),A.push(y.x,y.y,y.z),g.push(le,.5+b.y/r),oe.push(p++)}}function W(oe,le,be,ve,se){let ye=new q,Be=new ke,ge=[be,ve];se<0&&ge.reverse();for(let ae of ge)Be.set(ae,v*se),jp(Be,le,ye),m.push(ye.x,ye.y,ye.z),A.push(0,se,0),g.push(.5,.5),oe.push(p++)}function te(oe,le,be){let ve=new ke(Math.sin(be),Math.cos(be)),se=new ke(-Math.cos(be),Math.sin(be)),ye=new q,Be=oe<0?(Ne,Ie,Ee)=>f.push(Ne,Ie,Ee):(Ne,Ie,Ee)=>f.push(Ne,Ee,Ie),ge=new ke((e+t+I+F)/4,0);jp(ge,ve,ye),m.push(ye.x,ye.y,ye.z),A.push(se.x,0,se.y),g.push(.5,.5);let ae=p++;for(let Ne of le){let Ie=m.slice(Ne*3,Ne*3+3);m.push(...Ie),A.push(se.x,0,se.y);let Ee=g.slice(Ne*2,Ne*2+2);g.push(...Ee),p++}for(let Ne=ae+1;Ne<p-1;Ne++)Be(ae,Ne,Ne+1);Be(ae,p-1,ae+1)}}},t9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return r.thetaLength=fr.clamp(r.thetaLength,0,360),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,depth:r,height:i,radialSegments:n,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:u,cornerSegments:d}=e.parameters,h;return l===0?(h=new Mr,h.setAttribute("position",new sr([],3))):c>0||u>0||l<360?h=new Vle(0,t/2,i,n,a,o,s,l*Math.PI/180,c,u,d,0,!0):h=new mz(t/2,i,n,a,o),h.scale(1,1,r/t),Object.assign(h,{userData:{...e,type:"ConeGeometry"}})}},r9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,widthSegments:n,heightSegments:a,depthSegments:o,cornerRadius:s,cornerSegments:l}=e.parameters,c;return s===0?c=new rd(t,r,i,n,a,o):c=new i9e(t,r,i,n,a,o,s,l),Object.assign(c,{userData:{...e,type:"CubeGeometry"}})}},q4=Math.PI/2,i9e=class extends Mr{constructor(e=1,t=1,r=1,i=1,n=1,a=1,o=0,s=4){super(),this.type="BoxGeometry",i=Math.floor(i),n=Math.floor(n),a=Math.floor(a),s=Math.floor(s),o=Math.min(o,e/2,t/2,r/2);let l=[],c=[],u=[],d=[],h=0;f("z","y","x",-1,-1,r,t,e,a,n),f("z","y","x",1,-1,r,t,-e,a,n),f("x","z","y",1,1,e,r,t,i,a),f("x","z","y",1,-1,e,r,-t,i,a),f("x","y","z",1,-1,e,t,r,i,n),f("x","y","z",-1,-1,e,t,-r,i,n),o>0&&(m("z","y","x",-1,-1,1,r,t,e,a),m("z","y","x",1,-1,-1,r,t,e,a),m("z","y","x",-1,1,-1,r,t,e,a),m("z","y","x",1,1,1,r,t,e,a),m("x","y","z",-1,-1,-1,e,t,r,i),m("x","y","z",1,-1,1,e,t,r,i),m("x","y","z",-1,1,1,e,t,r,i),m("x","y","z",1,1,-1,e,t,r,i),m("y","x","z",-1,-1,1,t,e,r,n),m("y","x","z",1,-1,-1,t,e,r,n),m("y","x","z",1,1,1,t,e,r,n),m("y","x","z",-1,1,-1,t,e,r,n),A(1,1,1),A(-1,1,1),A(1,-1,1),A(-1,-1,1),A(1,1,-1),A(-1,1,-1),A(1,-1,-1),A(-1,-1,-1)),this.setIndex(l),this.setAttribute("position",new sr(c,3)),this.setAttribute("normal",new sr(u,3)),this.setAttribute("uv",new sr(d,2));function f(g,p,v,y,b,x,w,C,_,B){let P=(x-2*o)/_,M=(w-2*o)/B,O=x/2-o,I=w/2-o,F=C/2,V=_+1,Y=B+1,j=0,R=new q;for(let H=0;H<Y;H++){let G=H*M-I;for(let $=0;$<V;$++){let L=$*P-O;R[g]=L*y,R[p]=G*b,R[v]=F,c.push(R.x,R.y,R.z),R[g]=0,R[p]=0,R[v]=C>0?1:-1,u.push(R.x,R.y,R.z),d.push($/_),d.push(1-H/B),j+=1}}for(let H=0;H<B;H++)for(let G=0;G<_;G++){let $=h+G+V*H,L=h+G+V*(H+1),K=h+(G+1)+V*(H+1),X=h+(G+1)+V*H;l.push($,L,X),l.push(L,K,X)}h+=j}function m(g,p,v,y,b,x,w,C,_,B){let P=(w-2*o)/B,M=w/2-o,O=C/2-o,I=_/2,F=B+1,V=0,Y=new q,j=new q;for(let R=0;R<s+1;R++){let H=R/s*q4,G=Math.sin(H)*o,$=(1-Math.cos(H))*o,L=Math.sin(H),K=Math.cos(H);Y[p]=(O+G)*b,Y[v]=(I-$)*x,j[g]=0,j[p]=L*Math.sign(Y[p]),j[v]=K*Math.sign(Y[v]);for(let X=0;X<F;X++){let ee=X*P-M;Y[g]=ee*y,c.push(Y.x,Y.y,Y.z),u.push(j.x,j.y,j.z),d.push(X/B),d.push(0),V+=1}}for(let R=0;R<s;R++)for(let H=0;H<B;H++){let G=h+H+F*R,$=h+H+F*(R+1),L=h+(H+1)+F*(R+1),K=h+(H+1)+F*R;l.push(G,$,K),l.push($,L,K)}h+=V}function A(g,p,v){let y=new q,b=new q(e/2,t/2,r/2);b.subScalar(o);let x=[],w=g*p*v>0?(_,B,P)=>l.push(_,B,P):(_,B,P)=>l.push(_,P,B);for(let _=0;_<=s;_++){let B=[],P=q4*(1-_/s),M=Math.cos(P),O=Math.sin(P),I=0;for(let F=0;F<=_;F++){let V=Math.cos(I),Y=Math.sin(I);y.x=M*V,y.y=O,y.z=M*Y;let j=b.clone().addScaledVector(y,o);c.push(g*j.x,p*j.y,v*j.z),u.push(g*y.x,p*y.y,v*y.z),d.push(0,0),B.push(h++),I+=q4/_}x.push(B)}let C=x.length-1;for(let _=0;_<C;_++){let B=x[_],P=x[_+1],M=B.length-1;w(B[0],P[1],P[0]);for(let O=1;O<=M;O++)w(B[O-1],B[O],P[O]),w(B[O],P[O+1],P[O])}}}},Zz=class extends Mr{constructor(e=[],t=[],r="",i=1,n=.2,a=4){super(),this.type="PolyhedronGeometryRound";let o=[],s=[],l=[];c(),u(),this.setAttribute("position",new sr(o,3)),this.setAttribute("normal",new sr(l,3)),this.setAttribute("uv",new sr(s,2));return;function c(){var j;n=Math.min(1-1e-5,n),n==0&&(a=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[r],h=new q,f=h.clone(),m=new Yo,A=n*i,g=i-A,p=a+1,v=new q,y=(R,H)=>v.subVectors(R,H).normalize(),b=(R,H)=>Array(R).fill(void 0).map(H),x=b(e.length/3,(R,H)=>new q().fromArray(e,H*3).setLength(i)),w=[],C=1e6;for(let R=0;R<x.length;R++){let H=x[R],G=[],$,L,K,X=1e10,ee=-1;for(;(ee=t.indexOf(R,ee+1))!=-1;){let le=ee-ee%3;$=t[le+(ee+1)%3],L=t[le+(ee+2)%3],K=H.distanceToSquared(x[$]),X=Math.min(X,K),G.push([$,L,K])}X+=1e-6;let W=[],te=0,oe=G.length;for(let le=0;le<oe;le++){[$,L,K]=G[te];let be=((j=w[$])==null?void 0:j.includes(R))==!0;K<=X&&W.push($+ +be*C),te=G.findIndex(ve=>ve[0]==L)}w.push(W)}let _=[];{let R=0,H=0,G,$,L=d==3;for(let K=0;K<=a;K++){G=K*(K+1)/2,$=(K+1)*(K+2)/2;for(let X=0;X<a-K;X++)[R,H]=[G+X+K+2,$+X+K+3],_.push(G,$,...L?[H,G]:[R,$],H,R),[G,$]=[R,H];_.push(G,$,G+a+2)}}let B=h.clone(),P=h.clone(),M=h.clone(),O=h.clone(),I=h.clone(),F=[],V=b(x.length,()=>b(d,()=>h.clone()));for(let R=0;R<x.length;R++){h.copy(x[R]).normalize(),B.copy(h).multiplyScalar(g);let H=w[R];for(let W=0;W<H.length;W++){let te=H[W],oe=H[(W+1)%d];m.setFromPointsAndIndices(x,R,te%C,oe%C),m.b.sub(m.a).setLength(1e10).add(m.a),m.c.sub(m.a).setLength(1e10).add(m.a),m.closestPointToPoint(B,V[R][W])}let G=[],$=[],L=[],K=new q;a==0&&[...V[R]].reduce((W,te)=>W.add(te),K).multiplyScalar(1/d);for(let W=0;W<d;W++){let te=[],oe=(W-1+d)%d,le=V[R][oe],be=V[R][W];h.copy(le).sub(B),f.copy(be).sub(B);let ve=B.angleTo(h),se=h.angleTo(f),ye=Math.cos(ve)*A;a==0?P.copy(K):P.copy(B).setLength(g+ye),$.push(ye);let Be=[P,le,be];for(let ge=0;ge<2;ge++){let ae=Be[ge],Ne=Be[ge+1];O.subVectors(ae,B),I.subVectors(Ne,B),M.crossVectors(O,I).normalize();for(let Ie=0;Ie<p;Ie++){let Ee=[ve,se][ge]*Ie/p;h.copy(O).applyAxisAngle(M,Ee).add(B),G.push(h.clone()),ge&&(y(h,B),te.push([Ie==0?ae:h.clone(),v.clone()]))}ge&&(y(Ne,B),te.push([Ne,v.clone()]))}L.push(te)}F.push(L);let X=2*p,ee=2;for(let W=0;W<d;W++){let te=X*W,oe=X*((W+1)%d),le=[G[te]];for(let ve=1;ve<p;ve++){O=G[te+ve],I=G[oe+ve],le.push(O);for(let se=1,ye=ve-ee+1;se<=ye;se++)h.lerpVectors(O,I,se/(ye+1)),h.sub(B).setLength($[W]).add(B),le.push(h.clone());le.push(I)}for(let ve=0;ve<p;ve++)le.push(G[ve+p+te]);le.push(G[oe+p]);let be=_.map(ve=>le[ve]);o.push(...be.map(ve=>[ve.x,ve.y,ve.z]).flat()),l.push(...be.map(ve=>(y(ve,B),[v.x,v.y,v.z])).flat())}}let Y=[];for(let R=0;R<w.length;R++)for(let H=0;H<d;H++){let G=w[R][H];if(G<C){let $=w[G].findIndex(X=>X%C==R),L=F[R][H],K=F[G][$];for(let X=0;X<p;X++){let ee=L[X],W=K[p-X],te=L[X+1],oe=K[p-(X+1)];[ee,W,te,te,W,oe].forEach(le=>{o.push(le[0].x,le[0].y,le[0].z),l.push(le[1].x,le[1].y,le[1].z)})}Y.push(L[0][0],K[p][0],L[p][0],K[0][0])}}for(;Y.length;){let R,H,G,$;[R,H]=Y.splice(0,2);let L=[R];for(;R!=H;)L.push(H),G=Y.indexOf(H),$=G%2,H=Y.splice(G-$,2)[1-$];v.subVectors(L[0],L[1]).cross(h.subVectors(L[0],L[2])).normalize();let K=v.dot(L[0])<0;K&&v.negate();for(let X=1;X<=L.length-2;X++)[L[X+ +K],L[X+1-+K],L[0]].forEach(ee=>{o.push(ee.x,ee.y,ee.z),l.push(v.x,v.y,v.z)})}}function u(){let d=new q;for(let w=0;w<o.length;w+=3){d.x=o[w+0],d.y=o[w+1],d.z=o[w+2];let C=b(d)/2/Math.PI+.5,_=x(d)/Math.PI+.5;s.push(C,1-_)}let h=new q,f=new q,m=new q,A=new q,g=new ke,p=new ke,v=new ke,y=(w,C,_,B)=>{B<0&&w.x===1&&(s[C]=w.x-1),_.x===0&&_.z===0&&(s[C]=B/2/Math.PI+.5)};for(let w=0,C=0;w<o.length;w+=9,C+=6){h.set(o[w+0],o[w+1],o[w+2]),f.set(o[w+3],o[w+4],o[w+5]),m.set(o[w+6],o[w+7],o[w+8]),g.set(s[C+0],s[C+1]),p.set(s[C+2],s[C+3]),v.set(s[C+4],s[C+5]),A.copy(h).add(f).add(m).divideScalar(3);let _=b(A);y(g,C+0,h,_),y(p,C+2,f,_),y(v,C+4,m,_)}for(let w=0;w<s.length;w+=6){let C=s[w+0],_=s[w+2],B=s[w+4],P=Math.max(C,_,B),M=Math.min(C,_,B);P>.9&&M<.1&&(C<.2&&(s[w+0]+=1),_<.2&&(s[w+2]+=1),B<.2&&(s[w+4]+=1))}function b(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}}static fromJSON(e){return new Zz(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},n9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,detail:n,corner:a,cornerSides:o}=e.parameters,s=n===0&&a!==0?new Qle(t*.5,a,o):new Yoe(t*.5,n);return s.scale(1,r/t,i/t),Object.assign(s,{userData:{...e,type:"DodecahedronGeometry"}})}},Qle=class extends Zz{constructor(e=1,t=.2,r=4){let i=(1+Math.sqrt(5))/2,n=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],s="DodecahedronGeometry";super(a,o,s,e,t,r),this.type=s}static fromJSON(e){return new Qle(e.radius,e.corner,e.cornerSides)}},ex=1e-12,e6=class{constructor(e){this.position=new ke,this.startPosition=new ke,this.uuid=fr.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new e6(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},BU=class extends e6{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new BU(this.parent).copy(this)}},nb=class extends e6{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new BU(this),new BU(this))}static create(e,t){let r=new nb(e,new ke(...t.position));return r.controls[0].position.set(...t.controlPrevious.position),r.controls[1].position.set(...t.controlNext.position),r.roundness=t.roundness,r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,r}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let r=0,i=this.controls.length;r<i;r++){let n=this.controls[r];this.position.distanceTo(n.position)<=t?n.position.copy(this.position):n.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new nb(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var r,i;let e=(r=this.curveBefore)==null?void 0:r.getTangentAt(1),t=(i=this.curveAfter)==null?void 0:i.getTangentAt(0);return[e,t]}computeNormals(e=new ke,t=new ke){let[r,i]=this.computeTangents();return r&&i&&(iK(r,e),iK(i,t)),[e,t]}computeTangent(e=new ke){let[t,r]=this.computeTangents();return t&&r&&e.copy(t).add(r).normalize(),e}computeNormal(e=new ke){let[t,r]=this.computeNormals();return e.copy(t).add(r).normalize(),e}};function iK(e,t=new ke){let r=e.length();return t.set(-e.y/r,e.x/r)}var t6=e=>e,S1=new ke,R3=new ke,a9e=new ke,o9e=new ke,s9e=new ke,l9e=new ke,Wle=new q,Gle=new q;function c9e(e){let t=new ke;t.addVectors(e.v0,S1.subVectors(e.v1,e.v0).multiplyScalar(2/3));let r=new ke;return r.addVectors(e.v2,R3.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new Qu(e.v0,t,r,e.v2)}function Nx(e,t,r=Number.EPSILON){return Math.abs(e-t)<r}function u9e(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function d9e(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function qle(e,t,r){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),n=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),a=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));return Math.acos((n*n+i*i-a*a)/(2*n*i))}function h9e(e,t,r){return aK(e,t)&&aK(t,r)&&MU(e.position,t.position,r.position)}function MU(e,t,r){return S1.copy(t).sub(e).cross(R3.copy(r).sub(e))===0}function f9e(e,t,r,i,n){let a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=(e.y+t.y)/2,s=(e.x+t.x)/2,l=Math.sqrt(Math.pow(r,2)-Math.pow(a/2,2))*(e.y-t.y)/a,c=Math.sqrt(Math.pow(r,2)-Math.pow(a/2,2))*(t.x-e.x)/a;return i.set(s+l,o+c),n.set(s-l,o-c),[i,n]}function p9e(e,t,r){let i=e.distanceTo(r),n=t.distanceTo(r);return i<n?t:e}function A9e(e,t,r,i,n,a){let o=t.x-e.x,s=t.y-e.y,l=r.x-e.x,c=r.y-e.y,u=Math.sqrt((o+l)*(o+l)+(s+c)*(s+c)),d;return qle(t,e,r)>Math.PI&&(u*=-1),Nx(c,s)?d=(s+c)*(i/u-.5)*8/3/(o-l):d=(o+l)*(i/u-.5)*8/3/(c-s),n.set(t.x-d*s,t.y+d*o),a.set(r.x+d*c,r.y-d*l),[n,a]}function nK(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function aK(e,t){return MU(e.position,e.controls[1].position,t.position)&&MU(e.position,t.controls[0].position,t.position)}function g9e(e,t,r,i,n=.5){let a=S1.subVectors(t,e).multiplyScalar(n).add(e),o=R3.subVectors(r,t).multiplyScalar(n).add(t),s=a9e.subVectors(i,r).multiplyScalar(n).add(r),l=a,c=o9e.subVectors(o,a).multiplyScalar(n).add(a),u=s9e.subVectors(s,o).multiplyScalar(n).add(o),d=s,h=l9e.subVectors(u,c).multiplyScalar(n).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,h.x,h.y,u.x,u.y,d.x,d.y,i.x,i.y]}function m9e(e,t,r=12,i=!0){let n=Gle.set(0,0,0),a,o=0;for(let s=0;s<t.length;s++){let l=t6(t[s]),c=S1,u=Ym(l,r);for(let d=0;d<=u;d++)if(l instanceof Qu||l instanceof rg||l instanceof $u){if(l.getPoint(d/u,c),n.set(c.x,c.y,0),a!==void 0&&d9e(a,n))continue;a===void 0&&(a=Wle),a.copy(n),e.setXYZ(o,n.x,n.y,n.z),o++}}return i&&o>1&&!(e.getX(o-1)===e.getX(0)&&e.getY(o-1)===e.getY(0)&&e.getZ(o-1)===e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++),e}function v9e(e,t,r,i=12,n=!0){let a=Gle.set(0,0,0),o=0,s=[];for(let l=0;l<t.length;l++){if(r[l]===!1)continue;let c,u=t6(t[l]),d=S1,h=Ym(u,i);s.push(h);for(let f=0;f<=h;f++)if(u instanceof Qu||u instanceof rg||u instanceof $u){if(u.getPoint(f/h,d),a.set(d.x,d.y,0),c==null?void 0:c.equals(a))continue;c===void 0?c=Wle:(e.setXYZ(o,c.x,c.y,c.z),o++,e.setXYZ(o,a.x,a.y,a.z),o++),c.copy(a)}}return n&&o>1&&!(e.getX(o-1)===e.getX(0)&&e.getY(o-1)===e.getY(0)&&e.getZ(o-1)===e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++),s}function oK(e,t=12,r=!1){let i=[];for(let n=0,a=e.length;n<a;n++){let o=e[n],s=0;if(r&&o.roundedCurveCorner!==void 0){let l=Ym(o.roundedCurveCorner,t)*.5;n>0&&(i[n-1]+=l),s+=l}o.curveAfter!==void 0&&(s+=Ym(o.curveAfter,t)),i.push(s)}return e.length>0&&r&&e[0].roundedCurveCorner!==void 0&&(i[e.length-1]+=Ym(e[0].roundedCurveCorner,t)*.5),i}function Ym(e,t=12){return e&&e instanceof w3?t*2:e&&(e instanceof $u||e instanceof qoe)?1:e&&e instanceof Az?t*e.points.length:t}function y9e(e,t,r=12,i=!0){let n,a=0;for(let o=0;o<t.length;o++){let s=t6(t[o]),l=Ym(s,r),c=S1;for(let u=0;u<=l;u++)if(s instanceof Qu||s instanceof rg||s instanceof $u){if(s.getPoint(u/l,c),n!==void 0&&u9e(n,c,ex))continue;n===void 0&&(n=R3),n.copy(c),e.push(c.x,c.y),a++}}return Nx(e[0],e[e.length-2],ex)&&Nx(e[1],e[e.length-1],ex)&&(e.pop(),e.pop()),i&&a>1&&!(Nx(e[a-1],e[1],ex)&&Nx(e[a-2],e[0],ex))&&(e.push(e[0],e[1]),a++),e}var K4=new ke,b9e=new ke,w9e=new ke,x9e=new ke,C9e=new ke,_9e=new ke,Aa=class extends aP{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Bl(new q(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=fr.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,r){let i=new Aa;return i.isClosed=e.isClosed,i.points=e.points.map(n=>nb.create(n.id,n.data)),typeof e.roundness=="number"&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(n=>Aa.createFromState(n)),t!==void 0&&r!==void 0&&i.applySize(t,r),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,r=this.points.length;t<r;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,r=this.points.findIndex(i=>i.uuid===e);if(r<0){let i=t;for(let n=0,a=this.shapeHoles.length;n<a;n++){let o=this.shapeHoles[n],s=o.points.length,l=o.getPointIndexById(e);if(l<0)i+=s;else return l+i}}return r}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let r=0,i=this.shapeHoles.length;r<i;r++){let n=this.shapeHoles[r],a=e-t;if(a<=n.points.length-1)return n.points[a];t+=n.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let r=0,i=this.shapeHoles.length;r<i;r++){let n=this.shapeHoles[r],a=n.points.indexOf(e);if(a>=0)return t+a;t+=n.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let r=K4.set(e,t);for(let i=0,n=this.points.length;i<n;i++){let a=this.points[i];a.position.multiply(r),a.controls[0].position.multiply(r),a.controls[1].position.multiply(r)}for(let i=0,n=this.shapeHoles.length;i<n;i++)this.shapeHoles[i].applyScale(e,t);this._update()}createPoint(e,t=0,r=fr.generateUUID()){let i;e instanceof ke?i=e:i=new ke(e,t);let n=new nb(r,i);return n.roundness=this.roundness,n}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,r=this.shapeHoles.length;t<r;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(r=>r.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,r=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let i=r?this.roundedCurveDivisions:this.curveDivisions;return m9e(e,r?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((n,a)=>n+a,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=oK(this.points,e,!1),this.roundedCurveDivisions=oK(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,r=12){return v9e(e,this.curves,t,r,this.autoClose).reduce((i,n)=>i+n,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),y9e(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let r=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,n=0;t&&this.points[0].roundedCurveCorner!==void 0&&(n=Ym(this.points[0].roundedCurveCorner,this.subdivision)*.5);let a=e-n;a<0&&(a+=i.reduce((o,s)=>o+s,0));for(let o=0,s=i.length;o<s;o++){let l=i[o];if(a<r+l)return[o,(a-r+1)/l];r+=l}return[0,1]}getCurveT(e,t,r){let i=this.points[e],n=this.points[e>=this.points.length-1?0:e+1],a=this.curveDivisions,o=a[e];if(nK(i,n)){let l=i.position.distanceTo(n.position);return i.position.distanceTo(K4.set(r.x,r.y))/l}let s=0;for(let l=0;l<e;l++)s+=a[l];return(t-s)/o}dispose(){}_applyCurveForPoint(e,t){nK(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let r=this.curves[this.curves.length-1];e.curveBefore=r,t.curveAfter=r;let i=r.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];if(t===0)this.moveTo(i.position.x,i.position.y);else{let n=this.points[t-1];this._applyCurveForPoint(i,n)}}let e=this.getLastPoint();if(e!=null&&e.curveAfter&&(e.curveAfter=void 0),this.isClosed){let t=this.points[0],r=this.points[this.points.length-1];this._applyCurveForPoint(t,r)}if(this.points.length>2){let t=0;for(let r=0,i=this.points.length;r<i;r++){let n=this.points[r],a=this.points[r-1]??this.points[this.points.length-1],o=this.points[r+1]??this.points[0],s=n.roundness,l=a&&o&&h9e(a,n,o);if(!n.controlsMoved()&&s>0&&!l){let c=n.curveBefore,u=n.curveAfter;if(c===void 0||u===void 0)continue;let d=n.roundedCurveBefore,h=n.roundedCurveAfter,f=c.getLength(),m=u.getLength(),A=Math.min(s,f*.499),g=Math.min(s,m*.499),p=Math.min(A,g),v=1-p/f,y=p/m,b=c.getPointAt(v,K4),x=u.getPointAt(y,b9e);this._subSplitCurve(c,d,v,b,void 0),this._subSplitCurve(u,h,y,void 0,x);let w;if(this.useCubicForRoundedCorners){let C=qle(b,n.position,x)/2,_=Math.tan(C)*b.distanceTo(n.position),[B,P]=f9e(b,x,_,w9e,x9e),M=p9e(B,P,n.position),[O,I]=A9e(M,b,x,_,C9e,_9e);w=new Qu(b.clone(),O.clone(),I.clone(),x.clone())}else w=new rg(b.clone(),n.position.clone(),x.clone());n.roundedCurveCorner=w,this.roundedCurves.splice(r+t,0,w),t++}}}}_subSplitCurve(e,t,r,i,n){if(e instanceof $u)i!==void 0&&t.v2.copy(i),n!==void 0&&t.v1.copy(n);else{let a=e,o=t,s=a.getUtoTmapping(r,0),l=g9e(a.v0,a.v1,a.v2,a.v3,s);return i!==void 0&&(o.v0.set(l[0],l[1]),o.v1.set(l[2],l[3]),o.v2.set(l[4],l[5]),o.v3.set(l[6],l[7])),n!==void 0&&(o.v0.set(l[6],l[7]),o.v1.set(l[8],l[9]),o.v2.set(l[10],l[11]),o.v3.set(l[12],l[13])),o}return t}clone(){let e=new Aa(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var r;this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let i=0;i<t;i++){let n=i*7,a=e.points[n+0],o=e.points[n+1],s=e.points[n+2],l=e.points[n+3],c=e.points[n+4],u=e.points[n+5],d=e.points[n+6],h=new nb(fr.generateUUID(),new ke(a,o));h.controls[0].position.set(s,l),h.controls[1].position.set(c,u),h.roundness=d,this.points.push(h)}return this.shapeHoles=(r=e.shapeHoles)!=null&&r.length?e.shapeHoles.map(i=>{let n=new Aa;return n.fromJSON(i),n}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let r=(n,a)=>{a instanceof Qu&&a.v3.equals(n.position)&&n.controls[0].position.copy(a.v2)},i=n=>{let a=[],o,s;for(o=0,s=n.length;o<s;o++)n[o]instanceof rg&&(n[o]=c9e(n[o]));for(o=0,s=n.length;o<s;o++){let u=n[o],d=o>0?n[o-1]:null,h;u instanceof Qu?(h=this.createPoint(u.v0),h.controls[1].position.copy(u.v1)):u instanceof $u&&(h=this.createPoint(u.v1)),h!==void 0&&(d!==null&&r(h,d),a.push(h))}let l=n[n.length-1],c=!1;return l instanceof Qu?l.v3.equals(a[0].position)&&(a[0].controls[0].position.copy(l.v2),c=!0):l instanceof $u&&l.v2.equals(a[0].position)&&(c=!0),this.isClosed=c,a};return this.points=i(e.curves),e instanceof aP&&(this.shapeHoles=e.holes.map(n=>{let a=new Aa;return a.fromShape(n),a})),this.update(),this}updatePoint(e,t){let r=this.getPointByUuid(e);r&&(t.position!==void 0&&r.position.fromArray(t.position),t.roundness!==void 0&&(r.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){var i;let r=(i=this.getPointByUuid(e))==null?void 0:i.controls[0];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){var i;let r=(i=this.getPointByUuid(e))==null?void 0:i.controls[1];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}},PU=Math.PI*2;function X4({x:e,y:t},r,i,n,a){return{x:e*r+n,y:t*i+a}}function S9e(e,t){let r=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),n=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:i-n*r,y:n+i*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]}function sK(e,t,r,i){let n=e*i-t*r<0?-1:1,a=Math.min(1,Math.max(-1,e*r+t*i));return n*Math.acos(a)}function E9e(e,t,r,i,n,a,o,s,l,c){let u=Math.pow(n,2),d=Math.pow(a,2),h=Math.pow(o,2),f=Math.pow(s,2),m=u*d-u*f-d*h;m<0&&(m=0),m/=u*f+d*h,m=Math.sqrt(m)*(l===c?-1:1);let A=m*n/a*s,g=m*-a/n*o,p=A+(e+r)/2,v=g+(t+i)/2,y=(o-A)/n,b=(s-g)/a,x=(-o-A)/n,w=(-s-g)/a,C=sK(1,0,y,b),_=sK(y,b,x,w);return!c&&_>0&&(_-=PU),c&&_<0&&(_+=PU),{centerx:p,centery:v,ang1:C,ang2:_}}function B9e({px:e,py:t,cx:r,cy:i,rx:n,ry:a,largeArcFlag:o,sweepFlag:s}){let l=[];if(n===0||a===0)return[];let c=(e-r)/2,u=(t-i)/2;if(c===0&&u===0)return[];n=Math.abs(n),a=Math.abs(a);let d=Math.pow(c,2)/Math.pow(n,2)+Math.pow(u,2)/Math.pow(a,2);d>1&&(n*=Math.sqrt(d),a*=Math.sqrt(d));let h=E9e(e,t,r,i,n,a,c,u,o,s),{ang1:f,ang2:m}=h,{centerx:A,centery:g}=h,p=Math.abs(m)/(PU/4);Math.abs(1-p)<1e-7&&(p=1);let v=Math.max(Math.ceil(p),1);m/=v;for(let y=0;y<v;y++)l.push(S9e(f,m)),f+=m;return l.map(y=>{let{x:b,y:x}=X4(y[0],n,a,A,g),{x:w,y:C}=X4(y[1],n,a,A,g),{x:_,y:B}=X4(y[2],n,a,A,g);return{x1:b,y1:x,x2:w,y2:C,x:_,y:B}})}var fn;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(fn||(fn={}));var Ga;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(Ga||(Ga={}));function Hr(e,t){if(!e)throw t||"Assertion Failed!"}var Fr=function(){function e(){}return e.vertEq=function(t,r){return t.s===r.s&&t.t===r.t},e.vertLeq=function(t,r){return t.s<r.s||t.s===r.s&&t.t<=r.t},e.transLeq=function(t,r){return t.t<r.t||t.t===r.t&&t.s<=r.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,r){return Math.abs(t.s-r.s)+Math.abs(t.t-r.t)},e.edgeEval=function(t,r,i){Hr(e.vertLeq(t,r)&&e.vertLeq(r,i));var n=r.s-t.s,a=i.s-r.s;return n+a>0?n<a?r.t-t.t+(t.t-i.t)*(n/(n+a)):r.t-i.t+(i.t-t.t)*(a/(n+a)):0},e.edgeSign=function(t,r,i){Hr(e.vertLeq(t,r)&&e.vertLeq(r,i));var n=r.s-t.s,a=i.s-r.s;return n+a>0?(r.t-i.t)*n+(r.t-t.t)*a:0},e.transEval=function(t,r,i){Hr(e.transLeq(t,r)&&e.transLeq(r,i));var n=r.t-t.t,a=i.t-r.t;return n+a>0?n<a?r.s-t.s+(t.s-i.s)*(n/(n+a)):r.s-i.s+(i.s-t.s)*(a/(n+a)):0},e.transSign=function(t,r,i){Hr(e.transLeq(t,r)&&e.transLeq(r,i));var n=r.t-t.t,a=i.t-r.t;return n+a>0?(r.s-i.s)*n+(r.s-t.s)*a:0},e.vertCCW=function(t,r,i){return t.s*(r.t-i.t)+r.s*(i.t-t.t)+i.s*(t.t-r.t)>=0},e.interpolate=function(t,r,i,n){return t=t<0?0:t,i=i<0?0:i,t<=i?i===0?(r+n)/2:r+(n-r)*(t/(t+i)):n+(r-n)*(i/(t+i))},e.intersect=function(t,r,i,n,a){var o,s,l;e.vertLeq(t,r)||(l=t,t=r,r=l),e.vertLeq(i,n)||(l=i,i=n,n=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=r,r=n,n=l),e.vertLeq(i,r)?e.vertLeq(r,n)?(o=e.edgeEval(t,i,r),s=e.edgeEval(i,r,n),o+s<0&&(o=-o,s=-s),a.s=e.interpolate(o,i.s,s,r.s)):(o=e.edgeSign(t,i,r),s=-e.edgeSign(t,n,r),o+s<0&&(o=-o,s=-s),a.s=e.interpolate(o,i.s,s,n.s)):a.s=(i.s+r.s)/2,e.transLeq(t,r)||(l=t,t=r,r=l),e.transLeq(i,n)||(l=i,i=n,n=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=r,r=n,n=l),e.transLeq(i,r)?e.transLeq(r,n)?(o=e.transEval(t,i,r),s=e.transEval(i,r,n),o+s<0&&(o=-o,s=-s),a.t=e.interpolate(o,i.t,s,r.t)):(o=e.transSign(t,i,r),s=-e.transSign(t,n,r),o+s<0&&(o=-o,s=-s),a.t=e.interpolate(o,i.t,s,n.t)):a.t=(i.t+r.t)/2},e}(),tx=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),aB=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),ly=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),lK=function(){function e(){var t=new ly,r=new tx,i=new aB(0),n=new aB(1);t.next=t.prev=t,t.anEdge=null,r.next=r.prev=r,i.next=i,i.Sym=n,n.next=n,n.Sym=i,this.vHead=t,this.fHead=r,this.eHead=i,this.eHeadSym=n}return e.prototype.makeEdge_=function(t){var r=new aB(0),i=new aB(1);t.Sym.side<t.side&&(t=t.Sym);var n=t.Sym.next;return i.next=n,n.Sym.next=r,r.next=t,t.Sym.next=i,r.Sym=i,r.Onext=r,r.Lnext=i,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,i.Sym=r,i.Onext=i,i.Lnext=r,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,r},e.prototype.splice_=function(t,r){var i=t.Onext,n=r.Onext;i.Sym.Lnext=r,n.Sym.Lnext=t,t.Onext=n,r.Onext=i},e.prototype.makeVertex_=function(t,r,i){var n=t;Hr(n,"Vertex can't be null!");var a=i.prev;n.prev=a,a.next=n,n.next=i,i.prev=n,n.anEdge=r;var o=r;do o.Org=n,o=o.Onext;while(o!==r)},e.prototype.makeFace_=function(t,r,i){var n=t;Hr(n,"Face can't be null");var a=i.prev;n.prev=a,a.next=n,n.next=i,i.prev=n,n.anEdge=r,n.trail=null,n.marked=!1,n.inside=i.inside;var o=r;do o.Lface=n,o=o.Lnext;while(o!==r)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var r=t.next,i=t.Sym.next;r.Sym.next=i,i.Sym.next=r},e.prototype.killVertex_=function(t,r){var i=t.anEdge,n=i;do n.Org=r,n=n.Onext;while(n!==i);var a=t.prev,o=t.next;o.prev=a,a.next=o},e.prototype.killFace_=function(t,r){var i=t.anEdge,n=i;do n.Lface=r,n=n.Lnext;while(n!==i);var a=t.prev,o=t.next;o.prev=a,a.next=o},e.prototype.makeEdge=function(){var t=new ly,r=new ly,i=new tx,n=this.makeEdge_(this.eHead);return this.makeVertex_(t,n,this.vHead),this.makeVertex_(r,n.Sym,this.vHead),this.makeFace_(i,n,this.fHead),n},e.prototype.splice=function(t,r){var i=!1,n=!1;if(t!==r){if(r.Org!==t.Org&&(n=!0,this.killVertex_(r.Org,t.Org)),r.Lface!==t.Lface&&(i=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(r,t),!n){var a=new ly;this.makeVertex_(a,r,t.Org),t.Org.anEdge=t}if(!i){var o=new tx;this.makeFace_(o,r,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var r=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var n=new tx;this.makeFace_(n,t,t.Lface)}r.Onext===r?(this.killVertex_(r.Org,null),this.killFace_(r.Lface,null)):(t.Lface.anEdge=r.Oprev,r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var r=this.makeEdge_(t),i=r.Sym;this.splice_(r,t.Lnext),r.Org=t.Dst;var n=new ly;return this.makeVertex_(n,i,r.Org),r.Lface=i.Lface=t.Lface,r},e.prototype.splitEdge=function(t){var r=this.addEdgeVertex(t),i=r.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,r){var i=!1,n=this.makeEdge_(t),a=n.Sym;if(r.Lface!==t.Lface&&(i=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(n,t.Lnext),this.splice_(a,r),n.Org=t.Dst,a.Org=r.Org,n.Lface=a.Lface=t.Lface,t.Lface.anEdge=a,!i){var o=new tx;this.makeFace_(o,n,t.Lface)}return n},e.prototype.zapFace=function(t){var r=t.anEdge,i,n,a,o,s;n=r.Lnext;do i=n,n=i.Lnext,i.Lface=null,i.Rface===null&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),a=i.Sym,a.Onext===a?this.killVertex_(a.Org,null):(a.Org.anEdge=a.Onext,this.splice_(a,a.Oprev)),this.killEdge_(i));while(i!=r);o=t.prev,s=t.next,s.prev=o,o.next=s},e.prototype.countFaceVerts_=function(t){var r=t.anEdge,i=0;do i++,r=r.Lnext;while(r!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var r,i,n,a,o,s,l;for(r=this.fHead.next;r!==this.fHead;r=r.next)if(r.inside)for(i=r.anEdge,o=i.Org;n=i.Lnext,a=i.Sym,a&&a.Lface&&a.Lface.inside&&(s=this.countFaceVerts_(r),l=this.countFaceVerts_(a.Lface),s+l-2<=t&&Fr.vertCCW(i.Lprev.Org,i.Org,a.Lnext.Lnext.Org)&&Fr.vertCCW(a.Lprev.Org,a.Org,i.Lnext.Lnext.Org)&&(n=a.Lnext,this.delete(a),i=null,a=null)),!(i&&i.Lnext.Org===o);)i=n;return!0},e.prototype.check=function(){var t=this.fHead,r=this.vHead,i=this.eHead,n,a,o,s,l,c;for(a=t,a=t;(n=a.next)!==t;a=n){Hr(n.prev===a),l=n.anEdge;do Hr(l.Sym!==l),Hr(l.Sym.Sym===l),Hr(l.Lnext.Onext.Sym===l),Hr(l.Onext.Sym.Lnext===l),Hr(l.Lface===n),l=l.Lnext;while(l!==n.anEdge)}for(Hr(n.prev===a&&n.anEdge===null),s=r,s=r;(o=s.next)!==r;s=o){Hr(o.prev===s),l=o.anEdge;do Hr(l.Sym!==l),Hr(l.Sym.Sym===l),Hr(l.Lnext.Onext.Sym===l),Hr(l.Onext.Sym.Lnext===l),Hr(l.Org===o),l=l.Onext;while(l!==o.anEdge)}for(Hr(o.prev===s&&o.anEdge===null),c=i,c=i;(l=c.next)!==i;c=l)Hr(l.Sym.next===c.Sym),Hr(l.Sym!==l),Hr(l.Sym.Sym===l),Hr(l.Org!==null),Hr(l.Dst!==null),Hr(l.Lnext.Onext.Sym===l),Hr(l.Onext.Sym.Lnext===l);Hr(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&l.Org===null&&l.Dst===null&&l.Lface===null&&l.Rface===null)},e}(),cK=function(){function e(){this.handle=null}return e}(),uK=function(){function e(){this.key=null,this.node=0}return e}(),M9e=function(){function e(t,r){this.leq=r,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new cK,this.handles[i]=new uK;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r=this.nodes,i=this.handles,n,a,o;for(n=r[t].handle;;){if(o=t<<1,o<this.size&&this.leq(i[r[o+1].handle].key,i[r[o].handle].key)&&++o,Hr(o<=this.max),a=r[o].handle,o>this.size||this.leq(i[n].key,i[a].key)){r[t].handle=n,i[n].node=t;break}r[t].handle=a,i[a].node=t,t=o}},e.prototype.floatUp_=function(t){var r=this.nodes,i=this.handles,n,a,o;for(n=r[t].handle;;){if(o=t>>1,a=r[o].handle,o===0||this.leq(i[a].key,i[n].key)){r[t].handle=n,i[n].node=t;break}r[t].handle=a,i[a].node=t,t=o}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var r,i;if(r=++this.size,r*2>this.max){this.max*=2;var n,a;for(a=this.nodes.length,this.nodes.length=this.max+1,n=a;n<this.nodes.length;n++)this.nodes[n]=new cK;for(a=this.handles.length,this.handles.length=this.max+1,n=a;n<this.handles.length;n++)this.handles[n]=new uK}return this.freeList===0?i=r:(i=this.freeList,this.freeList=this.handles[i].node),this.nodes[r].handle=i,this.handles[i].node=r,this.handles[i].key=t,this.initialized&&this.floatUp_(r),i},e.prototype.extractMin=function(){var t=this.nodes,r=this.handles,i=t[1].handle,n=r[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,r[t[1].handle].node=1,r[i].key=null,r[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),n},e.prototype.delete=function(t){var r=this.nodes,i=this.handles,n;Hr(t>=1&&t<=this.max&&i[t].key!==null),n=i[t].node,r[n].handle=r[this.size].handle,i[r[n].handle].node=n,--this.size,n<=this.size&&(n<=1||this.leq(i[r[n>>1].handle].key,i[r[n].handle].key)?this.floatDown_(n):this.floatUp_(n)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),Y4=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),dK=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),P9e=function(){function e(t,r){this.frame=t,this.leq=r,this.head=new dK,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var r=this.head;do r=r.next;while(r.key!==null&&!this.leq(this.frame,t,r.key));return r},e.prototype.insertBefore=function(t,r){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,r));var i=new dK;return i.key=r,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),T9e=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.edgeLeq=function(t,r,i){var n=t.event,a=r.eUp,o=i.eUp;if(a.Dst===n)return o.Dst===n?Fr.vertLeq(a.Org,o.Org)?Fr.edgeSign(o.Dst,a.Org,o.Org)<=0:Fr.edgeSign(a.Dst,o.Org,a.Org)>=0:Fr.edgeSign(o.Dst,n,o.Org)<=0;if(o.Dst===n)return Fr.edgeSign(a.Dst,n,a.Org)>=0;var s=Fr.edgeEval(a.Dst,n,a.Org),l=Fr.edgeEval(o.Dst,n,o.Org);return s>=l},e.deleteRegion=function(t,r){r.fixUpperEdge&&Hr(r.eUp.winding===0),r.eUp.activeRegion=null,t.dict.delete(r.nodeUp)},e.fixUpperEdge=function(t,r,i){Hr(r.fixUpperEdge),t.mesh.delete(r.eUp),r.fixUpperEdge=!1,r.eUp=i,i.activeRegion=r},e.topLeftRegion=function(t,r){var i=r.eUp.Org,n;do r=e.regionAbove(r);while(r.eUp.Org===i);if(r.fixUpperEdge){if(n=t.mesh.connect(e.regionBelow(r).eUp.Sym,r.eUp.Lnext),n===null)return null;e.fixUpperEdge(t,r,n),r=e.regionAbove(r)}return r},e.topRightRegion=function(t){var r=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===r);return t},e.addRegionBelow=function(t,r,i){var n=new Y4;return n.eUp=i,n.nodeUp=t.dict.insertBefore(r.nodeUp,n),n.fixUpperEdge=!1,n.sentinel=!1,n.dirty=!1,i.activeRegion=n,n},e.isWindingInside=function(t,r){switch(t.windingRule){case fn.ODD:return(r&1)!==0;case fn.NONZERO:return r!==0;case fn.POSITIVE:return r>0;case fn.NEGATIVE:return r<0;case fn.ABS_GEQ_TWO:return r>=2||r<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,r){r.windingNumber=e.regionAbove(r).windingNumber+r.eUp.winding,r.inside=e.isWindingInside(t,r.windingNumber)},e.finishRegion=function(t,r){var i=r.eUp,n=i.Lface;n.inside=r.inside,n.anEdge=i,e.deleteRegion(t,r)},e.finishLeftRegions=function(t,r,i){for(var n,a=null,o=r,s=r.eUp;o!==i;){if(o.fixUpperEdge=!1,a=e.regionBelow(o),n=a.eUp,n.Org!=s.Org){if(!a.fixUpperEdge){e.finishRegion(t,o);break}n=t.mesh.connect(s.Lprev,n.Sym),e.fixUpperEdge(t,a,n)}s.Onext!==n&&(t.mesh.splice(n.Oprev,n),t.mesh.splice(s,n)),e.finishRegion(t,o),s=a.eUp,o=a}return s},e.addRightEdges=function(t,r,i,n,a,o){var s,l,c,u,d=!0;c=i;do Hr(Fr.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,r,c.Sym),c=c.Onext;while(c!==n);for(a===null&&(a=e.regionBelow(r).eUp.Rprev),l=r,u=a;s=e.regionBelow(l),c=s.eUp.Sym,c.Org===u.Org;)c.Onext!==u&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(u.Oprev,c)),s.windingNumber=l.windingNumber-c.winding,s.inside=e.isWindingInside(t,s.windingNumber),l.dirty=!0,!d&&e.checkForRightSplice(t,l)&&(e.addWinding(c,u),e.deleteRegion(t,l),t.mesh.delete(u)),d=!1,l=s,u=c;l.dirty=!0,Hr(l.windingNumber-c.winding===s.windingNumber),o&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,r,i){t.mesh.splice(r,i)},e.vertexWeights=function(t,r,i){var n=Fr.vertL1dist(r,t),a=Fr.vertL1dist(i,t),o=.5*a/(n+a),s=.5*n/(n+a);t.coords[0]+=o*r.coords[0]+s*i.coords[0],t.coords[1]+=o*r.coords[1]+s*i.coords[1],t.coords[2]+=o*r.coords[2]+s*i.coords[2]},e.getIntersectData=function(t,r,i,n,a,o){r.coords[0]=r.coords[1]=r.coords[2]=0,r.idx=-1,e.vertexWeights(r,i,n),e.vertexWeights(r,a,o)},e.checkForRightSplice=function(t,r){var i=e.regionBelow(r),n=r.eUp,a=i.eUp;if(Fr.vertLeq(n.Org,a.Org)){if(Fr.edgeSign(a.Dst,n.Org,a.Org)>0)return!1;Fr.vertEq(n.Org,a.Org)?n.Org!==a.Org&&(t.pq.delete(n.Org.pqHandle),e.spliceMergeVertices(t,a.Oprev,n)):(t.mesh.splitEdge(a.Sym),t.mesh.splice(n,a.Oprev),r.dirty=i.dirty=!0)}else{if(Fr.edgeSign(n.Dst,a.Org,n.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(n.Sym),t.mesh.splice(a.Oprev,n)}return!0},e.checkForLeftSplice=function(t,r){var i=e.regionBelow(r),n=r.eUp,a=i.eUp,o;if(Hr(!Fr.vertEq(n.Dst,a.Dst)),Fr.vertLeq(n.Dst,a.Dst)){if(Fr.edgeSign(n.Dst,a.Dst,n.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,o=t.mesh.splitEdge(n),t.mesh.splice(a.Sym,o),o.Lface.inside=r.inside}else{if(Fr.edgeSign(a.Dst,n.Dst,a.Org)>0)return!1;r.dirty=i.dirty=!0,o=t.mesh.splitEdge(a),t.mesh.splice(n.Lnext,a.Sym),o.Rface.inside=r.inside}return!0},e.checkForIntersect=function(t,r){var i=e.regionBelow(r),n=r.eUp,a=i.eUp,o=n.Org,s=a.Org,l=n.Dst,c=a.Dst,u,d,h=new ly,f,m;if(Hr(!Fr.vertEq(c,l)),Hr(Fr.edgeSign(l,t.event,o)<=0),Hr(Fr.edgeSign(c,t.event,s)>=0),Hr(o!==t.event&&s!==t.event),Hr(!r.fixUpperEdge&&!i.fixUpperEdge),o===s||(u=Math.min(o.t,l.t),d=Math.max(s.t,c.t),u>d))return!1;if(Fr.vertLeq(o,s)){if(Fr.edgeSign(c,o,s)>0)return!1}else if(Fr.edgeSign(l,s,o)<0)return!1;return e.debugEvent(t),Fr.intersect(l,o,c,s,h),Hr(Math.min(o.t,l.t)<=h.t),Hr(h.t<=Math.max(s.t,c.t)),Hr(Math.min(c.s,l.s)<=h.s),Hr(h.s<=Math.max(s.s,o.s)),Fr.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),f=Fr.vertLeq(o,s)?o:s,Fr.vertLeq(f,h)&&(h.s=f.s,h.t=f.t),Fr.vertEq(h,o)||Fr.vertEq(h,s)?(e.checkForRightSplice(t,r),!1):!Fr.vertEq(l,t.event)&&Fr.edgeSign(l,t.event,h)>=0||!Fr.vertEq(c,t.event)&&Fr.edgeSign(c,t.event,h)<=0?c===t.event?(t.mesh.splitEdge(n.Sym),t.mesh.splice(a.Sym,n),r=e.topLeftRegion(t,r),n=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),i),e.addRightEdges(t,r,n.Oprev,n,n,!0),!0):l===t.event?(t.mesh.splitEdge(a.Sym),t.mesh.splice(n.Lnext,a.Oprev),i=r,r=e.topRightRegion(r),m=e.regionBelow(r).eUp.Rprev,i.eUp=a.Oprev,a=e.finishLeftRegions(t,i,null),e.addRightEdges(t,r,a.Onext,n.Rprev,m,!0),!0):(Fr.edgeSign(l,t.event,h)>=0&&(e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(n.Sym),n.Org.s=t.event.s,n.Org.t=t.event.t),Fr.edgeSign(c,t.event,h)<=0&&(r.dirty=i.dirty=!0,t.mesh.splitEdge(a.Sym),a.Org.s=t.event.s,a.Org.t=t.event.t),!1):(t.mesh.splitEdge(n.Sym),t.mesh.splitEdge(a.Sym),t.mesh.splice(a.Oprev,n),n.Org.s=h.s,n.Org.t=h.t,n.Org.pqHandle=t.pq.insert(n.Org),e.getIntersectData(t,n.Org,o,l,s,c),e.regionAbove(r).dirty=r.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,r){for(var i=e.regionBelow(r),n,a;;){for(;i.dirty;)r=i,i=e.regionBelow(i);if(!r.dirty&&(i=r,r=e.regionAbove(r),r===null||!r.dirty))return;if(r.dirty=!1,n=r.eUp,a=i.eUp,n.Dst!==a.Dst&&e.checkForLeftSplice(t,r)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(a),i=e.regionBelow(r),a=i.eUp):r.fixUpperEdge&&(e.deleteRegion(t,r),t.mesh.delete(n),r=e.regionAbove(i),n=r.eUp)),n.Org!==a.Org)if(n.Dst!==a.Dst&&!r.fixUpperEdge&&!i.fixUpperEdge&&(n.Dst===t.event||a.Dst===t.event)){if(e.checkForIntersect(t,r))return}else e.checkForRightSplice(t,r);n.Org===a.Org&&n.Dst===a.Dst&&(e.addWinding(a,n),e.deleteRegion(t,r),t.mesh.delete(n),r=e.regionAbove(i))}},e.connectRightVertex=function(t,r,i){var n,a=i.Onext,o=e.regionBelow(r),s=r.eUp,l=o.eUp,c=!1;if(s.Dst!==l.Dst&&e.checkForIntersect(t,r),Fr.vertEq(s.Org,t.event)&&(t.mesh.splice(a.Oprev,s),r=e.topLeftRegion(t,r),a=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),o),c=!0),Fr.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,o,null),c=!0),c){e.addRightEdges(t,r,i.Onext,a,a,!0);return}Fr.vertLeq(l.Org,s.Org)?n=l.Oprev:n=s,n=t.mesh.connect(i.Lprev,n),e.addRightEdges(t,r,n,n.Onext,n.Onext,!1),n.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,r)},e.connectLeftDegenerate=function(t,r,i){var n,a,o,s,l;if(n=r.eUp,Fr.vertEq(n.Org,i)){Hr(!1),e.spliceMergeVertices(t,n,i.anEdge);return}if(!Fr.vertEq(n.Dst,i)){t.mesh.splitEdge(n.Sym),r.fixUpperEdge&&(t.mesh.delete(n.Onext),r.fixUpperEdge=!1),t.mesh.splice(i.anEdge,n),e.sweepEvent(t,i);return}Hr(!1),r=e.topRightRegion(r),l=e.regionBelow(r),o=l.eUp.Sym,a=s=o.Onext,l.fixUpperEdge&&(Hr(a!==o),e.deleteRegion(t,l),t.mesh.delete(o),o=a.Oprev),t.mesh.splice(i.anEdge,o),Fr.edgeGoesLeft(a)||(a=null),e.addRightEdges(t,r,o.Onext,s,a,!0)},e.connectLeftVertex=function(t,r){var i,n,a,o,s,l,c=new Y4;if(c.eUp=r.anEdge.Sym,i=t.dict.search(c).key,n=e.regionBelow(i),!!n){if(o=i.eUp,s=n.eUp,Fr.edgeSign(o.Dst,r,o.Org)===0){e.connectLeftDegenerate(t,i,r);return}if(a=Fr.vertLeq(s.Dst,o.Dst)?i:n,i.inside||a.fixUpperEdge){if(a===i)l=t.mesh.connect(r.anEdge.Sym,o.Lnext);else{var u=t.mesh.connect(s.Dnext,r.anEdge);l=u.Sym}a.fixUpperEdge?e.fixUpperEdge(t,a,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,r)}else e.addRightEdges(t,i,r.anEdge,r.anEdge,null,!0)}},e.sweepEvent=function(t,r){t.event=r,e.debugEvent(t);for(var i=r.anEdge;i.activeRegion===null;)if(i=i.Onext,i===r.anEdge){e.connectLeftVertex(t,r);return}var n=e.topLeftRegion(t,i.activeRegion);Hr(n!==null);var a=e.regionBelow(n),o=a.eUp,s=e.finishLeftRegions(t,a,null);s.Onext===o?e.connectRightVertex(t,n,s):e.addRightEdges(t,n,s.Onext,o,o,!0)},e.addSentinel=function(t,r,i,n){var a=new Y4,o=t.mesh.makeEdge();o.Org.s=i,o.Org.t=n,o.Dst.s=r,o.Dst.t=n,t.event=o.Dst,a.eUp=o,a.windingNumber=0,a.inside=!1,a.fixUpperEdge=!1,a.sentinel=!0,a.dirty=!1,a.nodeUp=t.dict.insert(a)},e.initEdgeDict=function(t){t.dict=new P9e(t,e.edgeLeq);var r=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],n=t.bmin[0]-r,a=t.bmax[0]+r,o=t.bmin[1]-i,s=t.bmax[1]+i;e.addSentinel(t,n,a,o),e.addSentinel(t,n,a,s)},e.doneEdgeDict=function(t){for(var r,i=0;(r=t.dict.min().key)!==null;)r.sentinel||(Hr(r.fixUpperEdge),Hr(++i===1)),Hr(r.windingNumber===0),e.deleteRegion(t,r)},e.removeDegenerateEdges=function(t){var r,i,n,a=t.mesh.eHead;for(r=a.next;r!==a;r=i)i=r.next,n=r.Lnext,Fr.vertEq(r.Org,r.Dst)&&r.Lnext.Lnext!==r&&(e.spliceMergeVertices(t,n,r),t.mesh.delete(r),r=n,n=r.Lnext),n.Lnext===r&&(n!==r&&((n===i||n===i.Sym)&&(i=i.next),t.mesh.delete(n)),(r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r))},e.initPriorityQ=function(t){var r,i,n,a=0;for(n=t.mesh.vHead,i=n.next;i!==n;i=i.next)a++;for(a+=8,r=t.pq=new M9e(a,Fr.vertLeq),n=t.mesh.vHead,i=n.next;i!==n;i=i.next)i.pqHandle=r.insert(i);return i!==n?!1:(r.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,r){var i,n,a;for(i=r.fHead.next;i!==r.fHead;i=n)n=i.next,a=i.anEdge,Hr(a.Lnext!==a),a.Lnext.Lnext===a&&(e.addWinding(a.Onext,a),t.mesh.delete(a));return!0},e.computeInterior=function(t,r){r===void 0&&(r=!0);var i,n;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(i=t.pq.extractMin())!==null;){for(;n=t.pq.min(),!(n===null||!Fr.vertEq(n,i));)n=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,n.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(r&&t.mesh.check(),!0):!1},e}(),O9e=function(){function e(){this.mesh=new lK,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=fn.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},e.prototype.normalize_=function(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!r)throw"Zero-size vector!";r=Math.sqrt(r),t[0]/=r,t[1]/=r,t[2]/=r},e.prototype.longAxis_=function(t){var r=0;return Math.abs(t[1])>Math.abs(t[0])&&(r=1),Math.abs(t[2])>Math.abs(t[r])&&(r=2),r},e.prototype.computeNormal_=function(t){var r,i,n,a,o,s,l=[0,0,0],c=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],f=[null,null,null],m=[null,null,null],A=this.mesh.vHead;r=A.next;for(var g=0;g<3;++g)a=r.coords[g],c[g]=a,m[g]=r,l[g]=a,f[g]=r;for(r=A.next;r!==A;r=r.next)for(var p=0;p<3;++p)a=r.coords[p],a<c[p]&&(c[p]=a,m[p]=r),a>l[p]&&(l[p]=a,f[p]=r);var v=0;if(l[1]-c[1]>l[0]-c[0]&&(v=1),l[2]-c[2]>l[v]-c[v]&&(v=2),c[v]>=l[v]){t[0]=0,t[1]=0,t[2]=1;return}for(s=0,i=m[v],n=f[v],u[0]=i.coords[0]-n.coords[0],u[1]=i.coords[1]-n.coords[1],u[2]=i.coords[2]-n.coords[2],r=A.next;r!==A;r=r.next)d[0]=r.coords[0]-n.coords[0],d[1]=r.coords[1]-n.coords[1],d[2]=r.coords[2]-n.coords[2],h[0]=u[1]*d[2]-u[2]*d[1],h[1]=u[2]*d[0]-u[0]*d[2],h[2]=u[0]*d[1]-u[1]*d[0],o=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],o>s&&(s=o,t[0]=h[0],t[1]=h[1],t[2]=h[2]);s<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,r,i=this.mesh.vHead,n,a=0,o=t.next;o!==t;o=o.next)if(n=o.anEdge,!(n.winding<=0))do a+=(n.Org.s-n.Dst.s)*(n.Org.t+n.Dst.t),n=n.Lnext;while(n!==o.anEdge);if(a<0){for(r=i.next;r!==i;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,r=[0,0,0],i,n,a=!1;r[0]=this.normal[0],r[1]=this.normal[1],r[2]=this.normal[2],!r[0]&&!r[1]&&!r[2]&&(this.computeNormal_(r),a=!0),i=this.sUnit,n=this.tUnit;var o=this.longAxis_(r);i[o]=0,i[(o+1)%3]=1,i[(o+2)%3]=0,n[o]=0,n[(o+1)%3]=0,n[(o+2)%3]=r[o]>0?1:-1;for(var s=t.next;s!==t;s=s.next)s.s=this.dot_(s.coords,i),s.t=this.dot_(s.coords,n);a&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,r){var i,n;if(i=r.anEdge,!(i.Lnext!==i&&i.Lnext.Lnext!==i))throw"Mono region invalid";for(;Fr.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;Fr.vertLeq(i.Org,i.Dst);i=i.Lnext);n=i.Lprev;for(var a=void 0;i.Lnext!==n;)if(Fr.vertLeq(i.Dst,n.Org)){for(;n.Lnext!==i&&(Fr.edgeGoesLeft(n.Lnext)||Fr.edgeSign(n.Org,n.Dst,n.Lnext.Dst)<=0);)a=t.connect(n.Lnext,n),n=a.Sym;n=n.Lprev}else{for(;n.Lnext!==i&&(Fr.edgeGoesRight(i.Lprev)||Fr.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)a=t.connect(i,i.Lprev),i=a.Sym;i=i.Lnext}if(n.Lnext===i)throw"Mono region invalid";for(;n.Lnext.Lnext!==i;)a=t.connect(n.Lnext,n),n=a.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)if(r=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)r=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,r,i){for(var n,a=t.eHead.next;a!==t.eHead;a=n)n=a.next,a.Rface.inside!==a.Lface.inside?a.winding=a.Lface.inside?r:-r:i?t.delete(a):a.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,r,i,n){var a,o=0,s=0,l;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,!!u.inside){a=u.anEdge,l=0;do{var c=a.Org;c.n===-1&&(c.n=s,s++),l++,a=a.Lnext}while(a!==u.anEdge);if(l>i)throw"Face vertex greater that support polygon";u.n=o,++o}this.elementCount=o,r===Ga.CONNECTED_POLYGONS&&(o*=2),this.elements=[],this.elements.length=o*i,this.vertexCount=s,this.vertices=[],this.vertices.length=s*n,this.vertexIndices=[],this.vertexIndices.length=s;for(var c=t.vHead.next;c!==t.vHead;c=c.next)if(c.n!==-1){var d=c.n*n;this.vertices[d+0]=c.coords[0],this.vertices[d+1]=c.coords[1],n>2&&(this.vertices[d+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}for(var h=0,u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){a=u.anEdge,l=0;do{var c=a.Org;this.elements[h++]=c.n,l++,a=a.Lnext}while(a!==u.anEdge);for(var f=l;f<i;++f)this.elements[h++]=-1;if(r===Ga.CONNECTED_POLYGONS){a=u.anEdge;do this.elements[h++]=this.getNeighbourFace_(a),a=a.Lnext;while(a!==u.anEdge);for(var m=l;m<i;++m)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,r){var i,n,a=0,o=0;this.vertexCount=0,this.elementCount=0;for(var s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){n=i=s.anEdge;do this.vertexCount++,i=i.Lnext;while(i!==n);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*r,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,u=0;a=0;for(var s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){o=0,n=i=s.anEdge;do this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],r>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,o++,i=i.Lnext;while(i!==n);this.elements[u++]=a,this.elements[u++]=o,a+=o}},e.prototype.addContour=function(t,r){this.mesh===null&&(this.mesh=new lK),t<2&&(t=2),t>3&&(t=3);for(var i=null,n=0;n<r.length;n+=t)i===null?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=r[n+0],i.Org.coords[1]=r[n+1],t>2?i.Org.coords[2]=r[n+2]:i.Org.coords[2]=0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,r,i,n,a,o){if(t===void 0&&(t=fn.ODD),r===void 0&&(r=Ga.POLYGONS),o===void 0&&(o=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,n<2&&(n=2),n>3&&(n=3),!this.mesh)return!1;this.projectPolygon_(),T9e.computeInterior(this,o);var s=this.mesh;return r===Ga.BOUNDARY_CONTOURS?this.setWindingNumber_(s,1,!0):this.tessellateInterior_(s),o&&s.check(),r===Ga.BOUNDARY_CONTOURS?this.outputContours_(s,n):this.outputPolymesh_(s,r,i,n),!0},e}();function BA(e){var t=e.windingRule,r=t===void 0?fn.ODD:t,i=e.elementType,n=i===void 0?Ga.POLYGONS:i,a=e.polySize,o=a===void 0?3:a,s=e.vertexSize,l=s===void 0?2:s,c=e.normal,u=c===void 0?[0,0,1]:c,d=e.contours,h=d===void 0?[]:d,f=e.strict,m=f===void 0?!0:f,A=e.debug,g=A===void 0?!1:A;if(!h&&m)throw new Error("Contours can't be empty");if(h){var p=new O9e;e.edgeCreateCallback&&(p.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(p.vertexIdCallback=e.vertexIdCallback);for(var v=0;v<h.length;v++)p.addContour(l||2,h[v]);return p.tesselate(r,n,o,l,u,m),{vertices:p.vertices,vertexIndices:p.vertexIndices,vertexCount:p.vertexCount,elements:p.elements,elementCount:p.elementCount,mesh:g?p.mesh:void 0}}}fn.ODD;fn.NONZERO;fn.POSITIVE;fn.NEGATIVE;fn.ABS_GEQ_TWO;Ga.POLYGONS;Ga.CONNECTED_POLYGONS;Ga.BOUNDARY_CONTOURS;var TU=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let r=e*TU.eSize;this.buffer=new ArrayBuffer(r);let i=Float32Array.BYTES_PER_ELEMENT,n=0;this.positions=new Float32Array(this.buffer,n*i,3*e),n+=3*e,this.normals=new Float32Array(this.buffer,n*i,3*e),n+=3*e,this.uvs=new Float32Array(this.buffer,n*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} → ${e}`);let r=e*TU.eSize,i=new ArrayBuffer(r),n=Float32Array.BYTES_PER_ELEMENT,a=0,o=new Float32Array(i,a*n,3*e);a+=3*e;let s=new Float32Array(i,a*n,3*e);a+=3*e;let l=new Float32Array(i,a*n,2*e);t?(o.set(this.positions.subarray(0,this.size*3)),s.set(this.normals.subarray(0,this.size*3)),l.set(this.uvs.subarray(0,this.size*2))):(o.set(this.positions),s.set(this.normals),l.set(this.uvs)),this.buffer=i,this.positions=o,this.normals=s,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let r=this.size;return this.size=t,r}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} → ${this.size}`),this.realloc(this.size,!0)}},Kle=TU;Kle.eSize=(3+3+2)*Float32Array.BYTES_PER_ELEMENT;var D9e=Xf(UDe()),r6={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},Xle={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},Yle={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},$4=(e,t)=>([r,i])=>(i<r&&(i+=t),(e>=r?e:e+t)<=i),i6=class extends Mr{constructor(e,t,r=0,i=12,n=3,a=fn.ODD,o=!1){super(),this.forPathBevel=o,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=i,this._bevelSegmentsInput=n;let s=this._shape.extractShapePointsToFlatArray([],i),l=this._shape.shapeHoles.map(B=>{let P=B.extractShapePointsToFlatArray([],i),M=[];for(let O=P.length-1;O>=1;O-=2){let I=P[O-1],F=P[O-0];M.push(I,F)}return M}),c=[],u=[];for(let B=0;B<s.length;B+=2)u.push([s[B],s[B+1]]);c.push(u);for(let B=0;B<l.length;B++){let P=l[B],M=[];for(let O=0;O<P.length;O+=2)M.push([P[O],P[O+1]]);c.push(M)}let d;e.isText?d=new hse().setFromPoints(e.points.map(B=>B.position)).getSize(new ke).length()*.1:c[0].length===0?d=r:d=(0,D9e.default)(c).distance,r<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(r,d,t/2),this._bevelSegments=Math.floor(n));let h;try{h=BA({windingRule:a,elementType:Ga.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[s]})}catch{h=r6}let f;try{f=BA({windingRule:fn.ODD,elementType:Ga.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch{f=Xle}if(!h)throw new Error("error generating geometry");let m=h.elementCount;if(f){h.elementCount+=f.elementCount;for(let B=0;B<f.elements.length;B++){let P=f.elements[B],M=B%2===0?h.vertexCount:0;h.elements.push(P+M)}for(let B=0;B<f.vertexIndices.length;B++){let P=f.vertexIndices[B],M=h.vertexCount;h.vertexIndices.push(P+M)}for(let B=0;B<f.vertices.length;B++){let P=f.vertices[B];h.vertices.push(P)}}let A=1/0,g=-1/0,p=1/0,v=-1/0;for(let B=0,P=h.vertexCount;B<P;B++){let M=B*2,O=h.vertices[M+0],I=h.vertices[M+1];O<A&&(A=O),O>g&&(g=O),I<p&&(p=I),I>v&&(v=I)}this._minX=A,this._minY=p,this._width=g-A,this._height=v-p,this._buffer=new Kle(this._computeBufferEstimatedSize(h));let y=[],b=[];for(let B=h.elementCount-1;B>=0;B--){let P=B>=m,M=B*2,O=h.elements[M+0],I=h.elements[M+1],F=O+I,V={start:O,count:I,normals:[],continuous:[],concave:[]},Y=O,j=F-1,R=O+1,H=this._shape.roundedCurves.length;do{let X=Y-O,ee=h.vertices[j*2+0],W=h.vertices[j*2+1],te=h.vertices[Y*2+0],oe=h.vertices[Y*2+1],le=h.vertices[R*2+0],be=h.vertices[R*2+1],ve=te-ee,se=oe-W,ye=Math.sqrt(ve*ve+se*se);ve/=ye,se/=ye;let Be=te-le,ge=oe-be,ae=Math.sqrt(Be*Be+ge*ge);Be/=ae,ge/=ae,V.normals[X*2+0]=-ge,V.normals[X*2+1]=Be,V.concave[X]=ve*ge-se*Be>0;let Ne=h.vertexIndices[Y];if(Array.isArray(Ne))V.continuous[X]=!1;else{let[Ie,Ee]=this._shape.getCurveIndexFromVertexId(Ne-1,!0);if(Ee>0&&Ee<1)V.continuous[X]=!0;else{let Qe=Ee===1?Ie+1:Ie-1;Qe=(Qe+H)%H;let We=Ee===1?0:1,de=this._shape.roundedCurves[Ie].getTangent(Ee),re=this._shape.roundedCurves[Qe].getTangent(We);V.continuous[X]=de.dot(re)>.95}}P&&(V.normals[X*2+0]*=-1,V.normals[X*2+1]*=-1),[j,Y,R]=[Y,R,R+1],R>=F&&(R-=I)}while(R!==O+1);let G=[];G.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(O*2,F*2),vertexCount:I,vertexIndices:new Array(I).fill(!0).map((X,ee)=>[ee,ee]),elements:[0,I],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(O*2,F*2)});let $=0;for(let X=1;X<=this._bevelSegments;X++){let ee=X/this._bevelSegments*Math.PI/2,W=(1-Math.cos(ee))*this._bevel,te=[],oe=[],le=0;for(let ve=0;ve<I;ve++){let se=ve*2,ye=(ve-1+I)%I*2,Be=h.vertices[V.start*2+se+0],ge=h.vertices[V.start*2+se+1],ae=-V.normals[ye+0]*W,Ne=-V.normals[ye+1]*W,Ie=-V.normals[se+0]*W,Ee=-V.normals[se+1]*W;if(V.concave[ve]||!V.concave[ve]&&P){let Qe=Math.atan2(Ne,ae),We=Math.atan2(Ee,Ie);We>Qe&&(We-=Math.PI*2);let de=We-Qe;if(V.continuous[ve]||P){let re=Qe+de/2,Re=Math.cos(re)*W,Ke=Math.sin(re)*W;te[2*le+0]=Be+Re*(P?-1:1),te[2*le+1]=ge+Ke*(P?-1:1),oe[le]=ve,le++}else{let re=Math.max(1,Math.floor(i/4*Math.abs(de)/Math.PI));for(let Re=0;Re<=re;Re++){let Ke=Qe+de*(Re/re),ie=Math.cos(Ke)*W,st=Math.sin(Ke)*W;te[2*le+0]=Be+ie,te[2*le+1]=ge+st,oe[le]=ve,le++}}}else te[2*le+0]=Be+ae,te[2*le+1]=ge+Ne,oe[le]=ve,le++,te[2*le+0]=Be,te[2*le+1]=ge,oe[le]=ve,le++,te[2*le+0]=Be+Ie,te[2*le+1]=ge+Ee,oe[le]=ve,le++}let be=BA({windingRule:fn.POSITIVE,elementType:Ga.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[te],edgeCreateCallback:ve=>{let se=ve.Org.idx,ye=oe[se],Be=oe[(se+1)%oe.length];ve.idx=[ye,Be],ve.Sym.idx=[Be,ye]},vertexIdCallback:ve=>{let se=ve.Lprev.idx;return[se?se[1]:0,ve.idx?ve.idx[0]:0]}});if(!be)throw console.log("Error"),new Error(`error generating bevel geometry for ${X}'th loop`);if(!be.vertexCount){let ve=(X-1)/this._bevelSegments*Math.PI/2;$=(1-Math.sin(ve))*this._bevel;break}for(let ve=0;ve<be.vertexIndices.length;ve++){let[se,ye]=be.vertexIndices[ve];if(se===ye)continue;let Be=ye;ye<se&&(Be+=I);for(let ge=se;ge<Be;ge++){let ae=ge%I,Ne=(ge+1)%I;if(!V.continuous[ae]||!V.continuous[Ne]){be.vertexIndices[ve]=[se,ae],be.vertexIndices.splice(ve+1,0,[Ne,ye]),be.vertices.splice((ve+1)*2,0,be.vertices[ve*2],be.vertices[ve*2+1]);break}}}G.push({bevelI:X,angle:ee,size:W,boundary:be,reverseMap:oe,insetPoints:te})}let L=(X,ee,W)=>{let te=0,oe=X.boundary.vertexIndices.length;for(;te<oe&&W(X.boundary.vertexIndices[ee]);)ee=(ee+1)%oe,te++;return te},K=y.length;for(let X=1;X<G.length;X++){let ee=G[X-1],W=G[X],te=ee.boundary.vertexIndices.length,oe=W.boundary.vertexIndices.length;if(!te||!oe)break;let le=V.concave.length,be=0,ve=$4(be,I);for(;!ee.boundary.vertexIndices.filter(ve).length||!W.boundary.vertexIndices.filter(ve).length;)be++,ve=$4(be,I);let se=ee.boundary.vertexIndices.findIndex(ve),ye=W.boundary.vertexIndices.findIndex(ve);do se=(se+1)%te;while(ve(ee.boundary.vertexIndices[se]));do ye=(ye+1)%oe;while(ve(W.boundary.vertexIndices[ye]));be=(be+1)%I;let Be=be,ge=0,ae=this._buildBevelVert(V,ee,(se-1+te)%te,void 0,ge),Ne=this._buildBevelVert(V,W,(ye-1+oe)%oe,void 0,ge),Ie=ae,Ee=Ne,Qe,We,de=!1;do{ge=(be||le)/le,ve=$4(be,I);let re=L(ee,se,ve),Re=L(W,ye,ve),Ke=de;if(de=!1,re&&!Re){for(let ie=0;ie<re;ie++)Qe=this._buildBevelVert(V,ee,(se+ie)%te,ie/(re-1),ge),y.push(Ie.topN,Qe.topP,Ee.topN),o===!1&&y.push(Qe.bottomP,Ie.bottomN,Ee.bottomN),Ie=Qe;de=!0}else if(!re&&Re)for(let ie=0;ie<Re;ie++)We=this._buildBevelVert(V,W,(ye+ie)%oe,ie/(Re-1),ge),y.push(Ee.topN,Ie.topP,We.topP),o===!1&&y.push(Ie.bottomP,Ee.bottomN,We.bottomP),Ee=We;else if(re&&Re)if(Qe=this._buildBevelVert(V,ee,se,0,ge),We=this._buildBevelVert(V,W,ye,0,ge),Ke?(y.push(Ie.topN,We.topP,Ee.topN),y.push(Ie.topN,Qe.topP,We.topP),o===!1&&(y.push(We.bottomP,Ie.bottomN,Ee.bottomN),y.push(We.bottomP,Qe.bottomP,Ie.bottomN))):(y.push(Ee.topN,Ie.topN,Qe.topP),y.push(Ee.topN,Qe.topP,We.topP),o===!1&&(y.push(Qe.bottomP,Ie.bottomN,Ee.bottomN),y.push(Qe.bottomP,Ee.bottomN,We.bottomP))),Ie=Qe,Ee=We,re===Re)for(let ie=1;ie<re;ie++)Qe=this._buildBevelVert(V,ee,(se+ie)%te,ie/(re-1),ge),We=this._buildBevelVert(V,W,(ye+ie)%oe,ie/(Re-1),ge),y.push(Ie.topN,Qe.topP,Ee.topN),y.push(Ee.topN,Qe.topP,We.topP),o===!1&&(y.push(Qe.bottomP,Ie.bottomN,Ee.bottomN),y.push(Qe.bottomP,Ee.bottomN,We.bottomP)),Ie=Qe,Ee=We;else if(re>Re){let ie=re/Re,st=0;for(let wt=1;wt<re;wt++)Qe=this._buildBevelVert(V,ee,(se+wt)%te,wt/(re-1),ge),y.push(Ie.topN,Qe.topP,Ee.topN),o===!1&&y.push(Qe.bottomP,Ie.bottomN,Ee.bottomN),Ie=Qe,wt>(st+1)*ie&&(st++,We=this._buildBevelVert(V,W,(ye+st)%oe,st/(Re-1),ge),y.push(Ee.topN,Qe.topP,We.topP),o===!1&&y.push(Qe.bottomP,Ee.bottomN,We.bottomP),Ee=We)}else{let ie=Re/re,st=0;for(let wt=1;wt<Re;wt++)We=this._buildBevelVert(V,W,(ye+wt)%oe,wt/(Re-1),ge),y.push(Ee.topN,Qe.topP,We.topP),o===!1&&y.push(Qe.bottomP,Ee.bottomN,We.bottomP),Ee=We,wt>(st+1)*ie&&(st++,Qe=this._buildBevelVert(V,ee,(se+st)%te,st/(re-1),ge),y.push(Ie.topN,Qe.topP,Ee.topN),o===!1&&y.push(Qe.bottomP,Ie.bottomN,Ee.bottomN),Ie=Qe)}se=(se+re)%te,ye=(ye+Re)%oe,be=(be+1)%le}while(be!==Be)}if(o===!1&&this._depth>this._bevel*2&&this._buildWall(G,V,y),P){let X=[];for(let ee=y.length-1;ee>=K+2;ee-=3){let W=y[ee-2],te=y[ee-1],oe=y[ee-0];X.push(oe,te,W)}y.splice(K,y.length-K,...X)}if(P){let X=[];for(let ee=G[G.length-1].boundary.vertices.length-1;ee>=1;ee-=2){let W=G[G.length-1].boundary.vertices[ee-1],te=G[G.length-1].boundary.vertices[ee-0];X.push(W,te)}b.push(X)}if(!P){let X=G[G.length-1],ee;try{ee=BA({windingRule:G.length>1?fn.POSITIVE:fn.ODD,elementType:Ga.POLYGONS,vertexSize:2,strict:!0,contours:[X.insetPoints,...b]})}catch{ee=Yle}if(!ee)throw new Error("Error generating geometry for surface");l.length===0&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let W=0;W<ee.elementCount*3;W+=3){let te=this._buildSurfaceVert(ee,ee.elements[W+0],$),oe=this._buildSurfaceVert(ee,ee.elements[W+1],$),le=this._buildSurfaceVert(ee,ee.elements[W+2],$);y.push(te.top,oe.top,le.top),o===!1&&y.push(le.bottom,oe.bottom,te.bottom)}}this.vertexCache={}}this._buffer.shrink();let x=new Qr(Uint32Array.from(y),1),w=new Qr(this._buffer.positions,3),C=new Qr(this._buffer.normals,3),_=new Qr(this._buffer.uvs,2);w.needsUpdate=!0,C.needsUpdate=!0,_.needsUpdate=!0,x.needsUpdate=!0,this.setAttribute("position",w),this.setAttribute("normal",C),this.setAttribute("uv",_),this.setIndex(x)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let i=e[0];for(let n=0,a=i.boundary.vertexCount;n<a;n++){let o=this._buildBevelVert(t,i,n),s=this._buildBevelVert(t,i,(n+1)%a);r.push(s.topP,o.topN,o.bottomN),r.push(s.topP,o.bottomN,s.bottomP)}}_buildSurfaceVert(e,t,r){let i=t.toString();if(i in this.vertexCache)return this.vertexCache[i];let n=e.vertices[t*2+0],a=e.vertices[t*2+1],o=(n-this._minX)/this._width,s=(a-this._minY)/this._height;this.forPathBevel&&(s=1);let l=this._buffer.get(this.forPathBevel?1:2),c=l*3,u=l*2,d={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=n,this._buffer.positions[c+1]=a,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-r,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[u+0]=o,this._buffer.uvs[u+1]=s,this.forPathBevel===!1&&(this._buffer.positions[c+3]=n,this._buffer.positions[c+4]=a,this._buffer.positions[c+5]=r,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[u+2]=o,this._buffer.uvs[u+3]=s),this.vertexCache[i]=d,d}_buildBevelVert(e,t,r,i=1,n){let a=`${t.bevelI}:${r}`;if(a in this.vertexCache&&n!==0&&n!==1&&(!n||n===this.vertexCache[a].pathBevelUCoord))return this.vertexCache[a];let[o,s]=t.boundary.vertexIndices[r],l,c,u,d;o!==s?(c=o,l=s,d=!1,u=e.continuous[c]&&e.continuous[l]):(l=o,c=(l-1+e.count)%e.count,d=e.concave[l]&&t.bevelI>0,u=e.continuous[l]||d);let h=Math.cos(t.angle),f=Math.sin(t.angle),m=r*2,A=l*2,g=c*2,p=t.boundary.vertices[m+0],v=t.boundary.vertices[m+1],y=(1-f)*this._bevel,b=(p-this._minX)/this._width,x=(v-this._minY)/this._height;this.forPathBevel&&(n!==void 0&&(b=n),x=1);let w=e.normals[A+0],C=e.normals[A+1],_=e.normals[g+0],B=e.normals[g+1];if(d){let F=_-w,V=B-C;w=w+F*(1-i),C=C+V*(1-i);let Y=Math.sqrt(w*w+C*C);w/=Y,C/=Y}let P=this.forPathBevel?this._buffer.get(u?1:2):this._buffer.get(u?2:4),M=P*3,O=P*2,I={i:r,fi:l,topP:P+0,topN:P+0,bottomP:P+1,bottomN:P+1,pathBevelUCoord:n};return this._buffer.positions[M+0]=p,this._buffer.positions[M+1]=v,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[M+0]=w*h,this._buffer.normals[M+1]=C*h,this._buffer.normals[M+2]=f,this._buffer.uvs[O+0]=b,this._buffer.uvs[O+1]=x,this.forPathBevel===!1&&(this._buffer.positions[M+3]=p,this._buffer.positions[M+4]=v,this._buffer.positions[M+5]=y,this._buffer.normals[M+3]=w*h,this._buffer.normals[M+4]=C*h,this._buffer.normals[M+5]=-f,this._buffer.uvs[O+2]=x,this._buffer.uvs[O+3]=b),u||(this.forPathBevel?(P+=1,M+=3,O+=2):(P+=2,M+=6,O+=4),I.topP=P+0,I.bottomP=P+1,this._buffer.positions[M+0]=p,this._buffer.positions[M+1]=v,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[M+0]=_*h,this._buffer.normals[M+1]=B*h,this._buffer.normals[M+2]=f,this._buffer.uvs[O+0]=b,this._buffer.uvs[O+1]=x,this.forPathBevel===!1&&(this._buffer.positions[M+3]=p,this._buffer.positions[M+4]=v,this._buffer.positions[M+5]=y,this._buffer.normals[M+3]=_*h,this._buffer.normals[M+4]=B*h,this._buffer.normals[M+5]=-f,this._buffer.uvs[O+2]=x,this._buffer.uvs[O+3]=b)),this.vertexCache[a]=I,I}clone(){let e=new i6(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=P3(this.userData),e}},$le=class extends Mr{constructor(e,t=12,r={}){super(),this.type="ShapeGeometry",this.windingRule=fn.ODD,this.elementType=Ga.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:fn.ODD,elementType:Ga.POLYGONS,polySize:3,vertexSize:2,strict:!0},r);let i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),n=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),a,o=!0,s=!0,l,c;for(let h=0,f=i.length/2;h<f;h++){let m=h*2,A=i[m+0],g=i[m+1];if(l!==void 0&&A!==l&&(o=!1),c!==void 0&&g!==c&&(s=!1),l=A,c=g,!o&&!s)break}if(!o&&!s)try{a=BA({contours:[i,...n],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{a=r6}let u=(a==null?void 0:a.vertexCount)??1,d=(a==null?void 0:a.elementCount)??1;if(this._positionAttribute=new Qr(new Float32Array(u*3),3),this._normalAttribute=new Qr(new Float32Array(u*3),3),this._uvAttribute=new Qr(new Float32Array(u*2),2),this._indexAttribute=new Qr(new Uint32Array(d*3),1),a){let h=1/0,f=-1/0,m=1/0,A=-1/0;for(let v=0,y=u;v<y;v++){let b=v*2,x=a.vertices[b+0],w=a.vertices[b+1];x<h&&(h=x),x>f&&(f=x),w<m&&(m=w),w>A&&(A=w)}let g=f-h,p=A-m;for(let v=0,y=u;v<y;v++){let b=v*2,x=a.vertices[b+0],w=a.vertices[b+1],C=(x-h)/g,_=(w-m)/p;this._positionAttribute.setXYZ(v,x,w,0),this._normalAttribute.setXYZ(v,0,0,1),this._uvAttribute.setXY(v,C,_)}for(let v=0,y=d;v<y;v++){let b=v*3,x=a.elements[b+0],w=a.elements[b+1],C=a.elements[b+2];this._indexAttribute.setX(b+0,x),this._indexAttribute.setX(b+1,w),this._indexAttribute.setX(b+2,C)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((a==null?void 0:a.elementCount)??1)*3)}clone(){let e=new $le(this._shape,this._curveSegments);return e.userData=P3(this.userData),e}},Jle=class extends i6{constructor(e,t,r=0,i=12,n=3,a=fn.ODD){super(e,t,r,i,n,a),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let i=e[0];for(let n=0,a=i.boundary.vertexCount;n<a;n++){let o=this._buildBevelVert(t,i,n),s=this._buildBevelVert(t,i,(n+1)%a);r.push(s.topP,o.topN,o.bottomN),r.push(s.topP,o.bottomN,s.bottomP)}}clone(){let e=new Jle(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=P3(this.userData),e}},P0=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var c,u;let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:fn.ODD},e.parameters),i=Math.abs(r.width),n=Math.abs(r.height??r.width),a=Math.abs(r.depth??0),o=e.shape??(t==null?void 0:t.shape),s=(o==null?void 0:o.roundness)??r.roundness;o!==void 0&&(o instanceof Aa?(o.width!==i||o.height!==n)&&o.applySize(i,n):o=new Aa(i,n).fromJSON(o),((c=e.parameters)==null?void 0:c.roundness)!==void 0&&((u=e.parameters)==null?void 0:u.roundness)>0&&o.update());let l=o??new Aa(i,n);return{parameters:Object.assign(r,{width:i,height:n,depth:a,roundness:s}),shape:l}}static build(e){let{depth:t,extrudeBevelSize:r,extrudeBevelSegments:i,subdivisions:n,roundness:a,windingRule:o}=e.parameters;e.shape.roundness=a;let s;return t<=0?s=new $le(e.shape,n,{windingRule:o}):s=new Jle(e.shape,t,r,n,i,o),Object.assign(s,{userData:{...e,type:"VectorGeometry"}})}},Zle=Math.PI*2,n6=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return r.angle=fr.clamp(r.angle,0,360),{shape:e.shape&&e.shape instanceof Aa?e.shape:new Aa,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:i,angle:n,innerRadius:a,depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}=e.parameters,c=e.shape,u=t*.5,d=r*.5,h=I9e(c,u,d,n*Math.PI/180,i,a);c.isClosed=!0,c.update();let f;return n===0?(f=new Mr,f.setAttribute("position",new sr([],3))):f=P0.create({shape:c,parameters:{subdivisions:h,depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}}),Object.assign(f,{userData:{...e,type:"EllipseGeometry"}})}};function I9e(e,t,r,i,n,a){if(i>=Zle)return n>30||n%4===0?(L9e(e,t,r,a),Math.round(n/4)):hK(e,i,n,t,r,a);i=Math.max(i,.001);let o={x:0,y:r},s=i+Math.PI*.5,l={x:Math.cos(s)*t,y:Math.sin(s)*r},c=B9e({px:o.x,py:o.y,cx:l.x,cy:l.y,rx:t,ry:r,largeArcFlag:i>Math.PI,sweepFlag:!0});return n>30||n%c.length===0?F9e(e,o.x,o.y,c,n,t,r,a):hK(e,i,n,t,r,a)}function F9e(e,t,r,i,n,a,o,s){let l=Math.round(n/i.length);e.addPoint(ab(t,r));for(let c=0,u=i.length;c<u;c++){let d=i[c],h=e.points[c],f=ab(d.x,d.y);h.controls[1].position.set(d.x1,d.y1),f.controls[0].position.set(d.x2,d.y2),e.addPoint(f)}return s>0?ece(e,a,o,s):e.addPoint(ab(0,0)),l}function hK(e,t,r,i,n,a){let o=-t/r;for(let s=0;s<=r;s++){let l=o*s,c=Math.sin(l)*i,u=Math.cos(l)*n;e.addPoint(ab(c,u))}return t<Zle?a>0?ece(e,i,n,a):e.addPoint(ab(0,0)):(e.removePoint(e.points[e.points.length-1]),a>0&&tce(e,i,n,a)),1}function L9e(e,t,r,i=0,n=0,a=0){let o=.5522847498,s=t*o,l=r*o;e.addPoint(oB(n-t,a,n-t,a-l,n-t,a+l)),e.addPoint(oB(n,a+r,n-s,a+r,n+s,a+r)),e.addPoint(oB(n+t,a,n+t,a+l,n+t,a-l)),e.addPoint(oB(n,a-r,n+s,a-r,n-s,a-r)),i>0&&tce(e,t,r,i)}function ab(e,t){return new nb(fr.generateUUID(),new ke(e,t))}function oB(e,t,r,i,n,a){let o=ab(e,t);return o.controls[0].position.set(r,i),o.controls[1].position.set(n,a),o}function ece(e,t,r,i){rce(e,t,r,i).forEach(n=>e.addPoint(n))}function tce(e,t,r,i){let n=rce(e,t,r,i),a=new Aa;n.forEach(o=>a.addPoint(o)),a.isClosed=!0,e.shapeHoles.push(a)}function rce(e,t,r,i){let n=i*t/100,a=n*(Math.abs(r)/Math.abs(t)),o=new ke(n/t,a/r),s=e.points.map(l=>{let c=l.clone();return c.uuid=fr.generateUUID(),c}).reverse();return s.forEach(l=>{l.position.multiply(o);let c=l.controls[0].position.clone().multiply(o),u=l.controls[1].position.clone().multiply(o);l.controls[0].position.copy(u),l.controls[1].position.copy(c)}),s}var R9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(r.width),n=Math.abs(r.height??i),a=Math.abs(r.depth??i),o=Math.abs(Math.min(i,a))/2;return{parameters:Object.assign(r,{width:i,height:n,depth:a,radius:o,segments:Math.round(r.segments),pathSegments:Math.round(r.pathSegments),cornerSegments:Math.round(r.cornerSegments)})}}static build(e){let{width:t,height:r,depth:i,radius:n,revolutions:a,segments:o,pathRadius:s,pathType:l,pathSegments:c,cornerRadius:u,cornerSegments:d}=e.parameters,h=new ice(!1,t,r,i,n,a,o,s,l,c,u,d);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}},J4=new Zy([0,0,0],1),ice=class extends Mr{constructor(e=!0,t=1,r=1,i=1,n=1,a=1,o=1,s=1,l=1,c=1,u=1,d=1){if(super(),a===0)return;let h=e&&a===1;h&&(d=0),u>100&&(u=100),u===0&&(d=0);let f=()=>new q,m=new q,A=f(),g=f(),p=f(),v,y,b,x,w,C,_,B,P=f(),M=f(),O=f(),I=f(),F=f(),V=f(),Y=f(),j=f(),R=r-2*s+.001,H=R/a,G=Math.ceil(o*a),$=G+1,L=R/G,K=-R/2,X=c+1,ee=2*Math.PI/c,W=Math.PI/2/d,te=.01,oe=Math.min((1-u/100)*s,s-te),le=s-oe,be=0,ve=2,se=d*ve+ve,ye=X*se/ve,Be=ye+X*$,ge=Math.max(0,X*($+se)),[ae,Ne,Ie]=[3,3,2].map(Ze=>Array(ge*Ze).fill(0)),Ee=[],Qe=n-s;function We(Ze,ht){let Mt=Math.PI/2;C=ht*L,B=2*Math.PI*(C%H)/H+Mt,C+=K,_=Math.sin(B)*Qe,w=Math.cos(B)*Qe,e?Ze.set(w,_,C):Ze.set(w,C,_)}We(m,-1e-10),We(A,0),P.copy(m),We(m,1);let de=m.distanceTo(A),re=h?0:le+oe,Re=de*G+2*re,Ke=oe,ie=Re-re;for(let Ze=0;Ze<=G;Ze++){We(g,Ze),j.subVectors(g,P).normalize(),P.copy(g),V.copy(g).setComponent(+e+1,0).normalize(),Y.crossVectors(j,V).normalize();let ht=Ze===0,Mt=Ze===G,Pt=ht?3*Math.PI/2:W,Yt=ht?Ke:ie,Tt=ht?X:Be,Vt=ht?0:ge-X,Or=j.clone().multiplyScalar(ht?-le:le).add(g),lr=j.clone().multiplyScalar(ht?-1:1).normalize();for(let Ge=0;Ge<X;Ge++){let At=Ge*ee;if(M.addVectors(m.copy(V).multiplyScalar(s*Math.cos(At)),A.copy(Y).multiplyScalar(s*Math.sin(At))),O.copy(M).normalize(),ht||Mt){h||(be=Vt+Ge,[0,1,2].forEach(yt=>{ae[be*3+yt]=Or.getComponent(yt),Ne[be*3+yt]=lr.getComponent(yt)}),Ie[be*2]=+Mt,Ie[be*2+1]=Ge/c),A.copy(O).multiplyScalar(oe),p.addVectors(g,A);for(let yt=0;yt<d;yt++){let Wt=yt*W+Pt;I.addVectors(m.copy(j).multiplyScalar(le*Math.sin(Wt)),A.copy(O).multiplyScalar(le*Math.cos(Wt))),F.copy(I).normalize(),A.addVectors(p,I),I.normalize(),be=Tt+yt*X+Ge,[0,1,2].forEach(qt=>{ae[be*3+qt]=A.getComponent(qt),Ne[be*3+qt]=F.getComponent(qt)});let rr=+ht+Math.sin(Wt);Ie[be*2]=(Yt+le*rr)/Re,Ie[be*2+1]=Ge/c}}A.addVectors(g,M),be=ye+Ze*X+Ge,[0,1,2].forEach(yt=>{ae[be*3+yt]=A.getComponent(yt),Ne[be*3+yt]=O.getComponent(yt)}),Ie[be*2]=(re+Ze*de)/Re,Ie[be*2+1]=Ge/c}}let st=$+2*d+ve,[wt,ut]=[+h,st-1];for(let Ze=wt;Ze<=ut-1;Ze++){let ht=h&&Ze===ut-1;for(let Mt=0;Mt<X-1;Mt++)v=Ze*X+Mt,y=v+1,b=(ht?Mt:v)+X,x=(ht?Mt+1:y)+X,Ze===0?Ee.push(y,x,b):Ze===st-2?Ee.push(v,y,b):Ee.push(v,y,b,y,x,b)}this.setIndex(Ee),this.setAttribute("position",new sr(ae,3)),this.setAttribute("normal",new sr(Ne,3)),this.setAttribute("uv",new sr(Ie,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),r=e.radialSegments+1,i=Array.from(this.getIndex().array),n,a,o,s,l=6*(t-1)*e.radialSegments,c=t,u=c===t;for(let d=0;d<e.radialSegments;d++)n=c*r+d,a=n+1,o=(u?d:n)+r,s=(u?d+1:a)+r,i[l++]=n,i[l++]=a,i[l++]=o,i[l++]=a,i[l++]=s,i[l++]=o;return i.length=l,J4.array=i,J4.count=i.length,J4}},U9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,detail:n,corner:a,cornerSides:o}=e.parameters,s=n===0&&a!==0?new nce(t*.5,a,o):new tse(t*.5,n);return s.scale(1,r/t,i/t),Object.assign(s,{userData:{...e,type:"IcosahedronGeometry"}})}},nce=class extends Zz{constructor(e=1,t=.2,r=4){let i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],o="IcosahedronGeometry";super(n,a,o,e,t,r),this.type=o}static fromJSON(e){return new nce(e.radius,e.corner,e.cornerSides)}},N9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var i;(((i=e.parameters)==null?void 0:i.points)??[]).forEach(n=>{Array.isArray(n)&&(n.x=n[0],n.y=n[1])});let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{points:t,segments:r,verticalSegments:i}=e.parameters,n=new aP;n.moveTo(t[0].x,t[0].y),n.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let a=new Xoe(n.extractPoints(i).shape,r);return a.rotateZ(Math.PI),Object.assign(a,{userData:{...e,type:"LatheGeometry"}})}},Od=new kt,Z4=new on,sB=new q,HP=class extends as{constructor(){super(),this.uuid=fr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new Ka().getNormalMatrix(e);for(let r=0,i=this.vertices.length;r<i;r++)this.vertices[r].applyMatrix4(e);for(let r=0,i=this.faces.length;r<i;r++){let n=this.faces[r];n.normal.applyMatrix3(t).normalize();for(let a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Od.makeRotationX(e),this.applyMatrix4(Od),this}rotateY(e){return Od.makeRotationY(e),this.applyMatrix4(Od),this}rotateZ(e){return Od.makeRotationZ(e),this.applyMatrix4(Od),this}translate(e,t,r){return Od.makeTranslation(e,t,r),this.applyMatrix4(Od),this}scale(e,t,r){return Od.makeScale(e,t,r),this.applyMatrix4(Od),this}lookAt(e){return Z4.lookAt(e),Z4.updateMatrix(),this.applyMatrix4(Z4.matrix),this}fromBufferGeometry(e){let t=this,r=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let n=i.position,a=i.normal,o=i.color,s=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<n.count;d++)t.vertices.push(new q().fromBufferAttribute(n,d)),o!==void 0&&t.colors.push(new Rr().fromBufferAttribute(o,d));function c(d,h,f,m){let A=o===void 0?[]:[t.colors[d].clone(),t.colors[h].clone(),t.colors[f].clone()],g=a===void 0?[]:[new q().fromBufferAttribute(a,d),new q().fromBufferAttribute(a,h),new q().fromBufferAttribute(a,f)],p=new OU(d,h,f,g,A,m);t.faces.push(p),s!==void 0&&t.faceVertexUvs[0].push([new ke().fromBufferAttribute(s,d),new ke().fromBufferAttribute(s,h),new ke().fromBufferAttribute(s,f)]),l!==void 0&&t.faceVertexUvs[1].push([new ke().fromBufferAttribute(l,d),new ke().fromBufferAttribute(l,h),new ke().fromBufferAttribute(l,f)])}let u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){let h=u[d],f=h.start,m=h.count;for(let A=f,g=f+m;A<g;A+=3)r!==void 0?c(r.getX(A),r.getX(A+1),r.getX(A+2),h.materialIndex):c(A,A+1,A+2,h.materialIndex)}else if(r!==void 0)for(let d=0;d<r.count;d+=3)c(r.getX(d),r.getX(d+1),r.getX(d+2));else for(let d=0;d<n.count;d+=3)c(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sB).negate(),this.translate(sB.x,sB.y,sB.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,r=t===0?1:1/t,i=new kt;return i.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new q,t=new q;for(let r=0,i=this.faces.length;r<i;r++){let n=this.faces[r],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),n.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let r=0,i=this.vertices.length;r<i;r++)t[r]=new q;if(e){let r=new q,i=new q;for(let n=0,a=this.faces.length;n<a;n++){let o=this.faces[n],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c];r.subVectors(c,l),i.subVectors(s,l),r.cross(i),t[o.a].add(r),t[o.b].add(r),t[o.c].add(r)}}else{this.computeFaceNormals();for(let r=0,i=this.faces.length;r<i;r++){let n=this.faces[r];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let r=0,i=this.vertices.length;r<i;r++)t[r].normalize();for(let r=0,i=this.faces.length;r<i;r++){let n=this.faces[r],a=n.vertexNormals;a.length===3?(a[0].copy(t[n.a]),a[1].copy(t[n.b]),a[2].copy(t[n.c])):(a[0]=t[n.a].clone(),a[1]=t[n.b].clone(),a[2]=t[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let r=this.faces[e],i=r.vertexNormals;i.length===3?(i[0].copy(r.normal),i[1].copy(r.normal),i[2].copy(r.normal)):(i[0]=r.normal.clone(),i[1]=r.normal.clone(),i[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,r=this.faces.length;t<r;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let n=0,a=i.vertexNormals.length;n<a;n++)i.__originalVertexNormals[n]?i.__originalVertexNormals[n].copy(i.vertexNormals[n]):i.__originalVertexNormals[n]=i.vertexNormals[n].clone()}let e=new HP;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let n=this.morphNormals[t].faceNormals,a=this.morphNormals[t].vertexNormals;for(let o=0,s=this.faces.length;o<s;o++){let l=new q,c={a:new q,b:new q,c:new q};n.push(l),a.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let n=0,a=this.faces.length;n<a;n++){let o=this.faces[n],s=i.faceNormals[n],l=i.vertexNormals[n];s.copy(o.normal),l.a.copy(o.vertexNormals[0]),l.b.copy(o.vertexNormals[1]),l.c.copy(o.vertexNormals[2])}}for(let t=0,r=this.faces.length;t<r;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jl),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,r=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,n=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;t!==void 0&&(i=new Ka().getNormalMatrix(t));for(let d=0,h=o.length;d<h;d++){let f=o[d].clone();t!==void 0&&f.applyMatrix4(t),a.push(f)}for(let d=0,h=u.length;d<h;d++)c.push(u[d].clone());for(let d=0,h=l.length;d<h;d++){let f=l[d],m,A,g=f.vertexNormals,p=f.vertexColors,v=new OU(f.a+n,f.b+n,f.c+n);v.normal.copy(f.normal),i!==void 0&&v.normal.applyMatrix3(i).normalize();for(let y=0,b=g.length;y<b;y++)m=g[y].clone(),i!==void 0&&m.applyMatrix3(i).normalize(),v.vertexNormals.push(m);v.color.copy(f.color);for(let y=0,b=p.length;y<b;y++)A=p[y],v.vertexColors.push(A.clone());v.materialIndex=f.materialIndex+r,s.push(v)}for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,A=f.length;m<A;m++){let g=f[m],p=[];for(let v=0,y=g.length;v<y;v++)p.push(g[v].clone());this.faceVertexUvs[d].push(p)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},r=[],i=[],n=Math.pow(10,e);for(let s=0,l=this.vertices.length;s<l;s++){let c=this.vertices[s],u=Math.round(c.x*n)+"_"+Math.round(c.y*n)+"_"+Math.round(c.z*n);t[u]===void 0?(t[u]=s,r.push(this.vertices[s]),i[s]=r.length-1):i[s]=i[t[u]]}let a=[];for(let s=0,l=this.faces.length;s<l;s++){let c=this.faces[s];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let u=[c.a,c.b,c.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){a.push(s);break}}for(let s=a.length-1;s>=0;s--){let l=a[s];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}let o=this.vertices.length-r.length;return this.vertices=r,o}setFromPoints(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){let i=e[t];this.vertices.push(new q(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function r(s,l){return s.materialIndex-l.materialIndex}e.sort(r);let i=this.faceVertexUvs[0],n=this.faceVertexUvs[1],a,o;i&&i.length===t&&(a=[]),n&&n.length===t&&(o=[]);for(let s=0;s<t;s++){let l=e[s]._id;a&&a.push(i[l]),o&&o.push(n[l])}a&&(this.faceVertexUvs[0]=a),o&&(this.faceVertexUvs[1]=o)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let f=this.parameters;for(let m in f)f[m]!==void 0&&(e[m]=f[m]);return e}let t=[];for(let f=0;f<this.vertices.length;f++){let m=this.vertices[f];t.push(m.x,m.y,m.z)}let r=[],i=[],n={},a=[],o={},s=[],l={};for(let f=0;f<this.faces.length;f++){let m=this.faces[f],A=!0,g=!1,p=this.faceVertexUvs[0][f]!==void 0,v=m.normal.length()>0,y=m.vertexNormals.length>0,b=m.color.r!==1||m.color.g!==1||m.color.b!==1,x=m.vertexColors.length>0,w=0;if(w=c(w,0,0),w=c(w,1,A),w=c(w,2,g),w=c(w,3,p),w=c(w,4,v),w=c(w,5,y),w=c(w,6,b),w=c(w,7,x),r.push(w),r.push(m.a,m.b,m.c),r.push(m.materialIndex),p){let C=this.faceVertexUvs[0][f];r.push(h(C[0]),h(C[1]),h(C[2]))}if(v&&r.push(u(m.normal)),y){let C=m.vertexNormals;r.push(u(C[0]),u(C[1]),u(C[2]))}if(b&&r.push(d(m.color)),x){let C=m.vertexColors;r.push(d(C[0]),d(C[1]),d(C[2]))}}function c(f,m,A){return A?f|1<<m:f&~(1<<m)}function u(f){let m=f.x.toString()+f.y.toString()+f.z.toString();return n[m]!==void 0||(n[m]=i.length/3,i.push(f.x,f.y,f.z)),n[m]}function d(f){let m=f.r.toString()+f.g.toString()+f.b.toString();return o[m]!==void 0||(o[m]=a.length,a.push(f.getHex())),o[m]}function h(f){let m=f.x.toString()+f.y.toString();return l[m]!==void 0||(l[m]=s.length/2,s.push(f.x,f.y)),l[m]}return e.data={},e.data.vertices=t,e.data.normals=i,a.length>0&&(e.data.colors=a),s.length>0&&(e.data.uvs=[s]),e.data.faces=r,e}clone(){return new HP().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,h=t.length;d<h;d++)this.vertices.push(t[d].clone());let r=e.colors;for(let d=0,h=r.length;d<h;d++)this.colors.push(r[d].clone());let i=e.faces;for(let d=0,h=i.length;d<h;d++)this.faces.push(i[d].clone());for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,A=f.length;m<A;m++){let g=f[m],p=[];for(let v=0,y=g.length;v<y;v++){let b=g[v];p.push(b.clone())}this.faceVertexUvs[d].push(p)}}let n=e.morphTargets;for(let d=0,h=n.length;d<h;d++){let f={};if(f.name=n[d].name,n[d].vertices!==void 0){f.vertices=[];for(let m=0,A=n[d].vertices.length;m<A;m++)f.vertices.push(n[d].vertices[m].clone())}if(n[d].normals!==void 0){f.normals=[];for(let m=0,A=n[d].normals.length;m<A;m++)f.normals.push(n[d].normals[m].clone())}this.morphTargets.push(f)}let a=e.morphNormals;for(let d=0,h=a.length;d<h;d++){let f={};if(a[d].vertexNormals!==void 0){f.vertexNormals=[];for(let m=0,A=a[d].vertexNormals.length;m<A;m++){let g=a[d].vertexNormals[m],p={};p.a=g.a.clone(),p.b=g.b.clone(),p.c=g.c.clone(),f.vertexNormals.push(p)}}if(a[d].faceNormals!==void 0){f.faceNormals=[];for(let m=0,A=a[d].faceNormals.length;m<A;m++)f.faceNormals.push(a[d].faceNormals[m].clone())}this.morphNormals.push(f)}let o=e.skinWeights;for(let d=0,h=o.length;d<h;d++)this.skinWeights.push(o[d].clone());let s=e.skinIndices;for(let d=0,h=s.length;d<h;d++)this.skinIndices.push(s[d].clone());let l=e.lineDistances;for(let d=0,h=l.length;d<h;d++)this.lineDistances.push(l[d]);let c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());let u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new k9e().fromGeometry(this),t=new Mr,r=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",lB.call(new Qr(r,3),e.vertices)),e.normals.length>0){let i=new Float32Array(e.normals.length*3);t.setAttribute("normal",lB.call(new Qr(i,3),e.normals))}if(e.colors.length>0){let i=new Float32Array(e.colors.length*3);t.setAttribute("color",fK.call(new Qr(i,3),e.colors))}if(e.uvs.length>0){let i=new Float32Array(e.uvs.length*2);t.setAttribute("uv",pK.call(new Qr(i,2),e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",pK.call(new Qr(i,2),e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let n=[],a=e.morphTargets[i];for(let o=0,s=a.length;o<s;o++){let l=a[o],c=new sr(l.data.length*3,3);c.name=l.name,n.push(lB.call(c,l.data))}t.morphAttributes[i]=n}if(e.skinIndices.length>0){let i=new sr(e.skinIndices.length*4,4);t.setAttribute("skinIndex",AK.call(i,e.skinIndices))}if(e.skinWeights.length>0){let i=new sr(e.skinWeights.length*4,4);t.setAttribute("skinWeight",AK.call(i,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new Mr,r=e.geometry;if(e.isPoints||e.isLine){let i=new sr(r.vertices.length*3,3),n=new sr(r.colors.length*3,3);if(t.setAttribute("position",lB.call(i,r.vertices)),t.setAttribute("color",fK.call(n,r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){let a=new sr(r.lineDistances.length,1);t.setAttribute("lineDistance",j9e.call(a,r.lineDistances))}r.boundingSphere!==null&&(t.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(t.boundingBox=r.boundingBox.clone())}else e.isMesh&&(t=r.toBufferGeometry());return t}};HP.prototype.isGeometry=!0;var k9e=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],r,i,n,a=e.faces;for(i=0;i<a.length;i++){let o=a[i];o.materialIndex!==n&&(n=o.materialIndex,r!==void 0&&(r.count=i*3-r.start,t.push(r)),r={start:i*3,materialIndex:n})}r!==void 0&&(r.count=i*3-r.start,t.push(r)),this.groups=t}fromGeometry(e){let t=e.faces,r=e.vertices,i=e.faceVertexUvs,n=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,o=e.morphTargets,s=o.length,l;if(s>0){l=[];for(let g=0;g<s;g++)l[g]={name:o[g].name,data:[]};this.morphTargets.position=l}let c=e.morphNormals,u=c.length,d;if(u>0){d=[];for(let g=0;g<u;g++)d[g]={name:c[g].name,data:[]};this.morphTargets.normal=d}let h=e.skinIndices,f=e.skinWeights,m=h.length===r.length,A=f.length===r.length;r.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){let p=t[g];this.vertices.push(r[p.a],r[p.b],r[p.c]);let v=p.vertexNormals;if(v.length===3)this.normals.push(v[0],v[1],v[2]);else{let b=p.normal;this.normals.push(b,b,b)}let y=p.vertexColors;if(y.length===3)this.colors.push(y[0],y[1],y[2]);else{let b=p.color;this.colors.push(b,b,b)}if(n===!0){let b=i[0][g];b!==void 0?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new ke,new ke,new ke))}if(a===!0){let b=i[1][g];b!==void 0?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new ke,new ke,new ke))}for(let b=0;b<s;b++){let x=o[b].vertices;l[b].data.push(x[p.a],x[p.b],x[p.c])}for(let b=0;b<u;b++){let x=c[b].vertexNormals[g];d[b].data.push(x.a,x.b,x.c)}m&&this.skinIndices.push(h[p.a],h[p.b],h[p.c]),A&&this.skinWeights.push(f[p.a],f[p.b],f[p.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},OU=class{constructor(e,t,r,i,n,a=0){this.a=e,this.b=t,this.c=r,this.normal=i&&i.isVector3?i:new q,this.vertexNormals=Array.isArray(i)?i:[],this.color=n&&n.isColor?n:new Rr,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=a}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function j9e(e){return this.array.set(e),this}function fK(e){let t=this.array,r=0;for(let i=0,n=e.length;i<n;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new Rr),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this}function pK(e){let t=this.array,r=0;for(let i=0,n=e.length;i<n;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new ke),t[r++]=a.x,t[r++]=a.y}return this}function lB(e){let t=this.array,r=0;for(let i=0,n=e.length;i<n;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new q),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this}function AK(e){let t=this.array,r=0;for(let i=0,n=e.length;i<n;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Xr),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this}var z9e=["a","b","c"];function H9e(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function eI(e,t,r){let i=Math.min(e,t),n=Math.max(e,t),a=i+"_"+n;return r.get(a)}function tI(e,t,r,i,n,a){let o=Math.min(e,t),s=Math.max(e,t),l=o+"_"+s,c;if(i.has(l))c=i.get(l);else{let u=r[o],d=r[s];c={a:u,b:d,newEdge:null,faces:[]},i.set(l,c)}c.faces.push(n),a[e].edges.push(c),a[t].edges.push(c)}function V9e(e,t,r,i){let n,a,o;for(n=0,a=e.length;n<a;n++)r[n]={edges:[]};for(n=0,a=t.length;n<a;n++)o=t[n],tI(o.a,o.b,e,i,o,r),tI(o.b,o.c,e,i,o,r),tI(o.c,o.a,e,i,o,r)}function cB(e,t,r,i,n){e.push(new OU(t,r,i,void 0,void 0,n))}function Hv(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function uB(e,t,r,i){e.push([t.clone(),r.clone(),i.clone()])}var Q9e=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof Mr?e=new HP().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new q,r,i,n,a,o,s=e.vertices,l=e.faces,c=e.faceVertexUvs[0],u=c!==void 0&&c.length>0,d=[],h=new Map;V9e(s,l,d,h);let f=[],m,A,g,p,v,y,b;for(let te of Array.from(h.keys())){for(A=h.get(te),g=new q,v=3/8,y=1/8,b=A.faces.length,b!=2&&(v=.5,y=0,b!=1),g.addVectors(A.a,A.b).multiplyScalar(v),t.set(0,0,0),a=0;a<b;a++){for(p=A.faces[a],o=0;o<3&&(m=s[H9e(p,z9e[o])],!(m!==A.a&&m!==A.b));o++);m&&t.add(m)}t.multiplyScalar(y),g.add(t),A.newEdge=f.length,f.push(g)}let x,w,C,_,B,P,M,O=[];for(i=0,n=s.length;i<n;i++){for(P=s[i],B=d[i].edges,r=B.length,r==3?x=3/16:r>3&&(x=3/(8*r)),w=1-r*Number(x),C=x,r<=2&&(r==2?(w=3/4,C=1/8):r==1||r==0),M=P.clone().multiplyScalar(w),t.set(0,0,0),a=0;a<r;a++)_=B[a],m=_.a!==P?_.a:_.b,t.add(m);t.multiplyScalar(Number(C)),M.add(t),O.push(M)}let I=O.concat(f),F=O.length,V,Y,j,R=[],H=[],G,$,L,K,X=new ke,ee=new ke,W=new ke;for(i=0,n=l.length;i<n;i++)p=l[i],V=Number(eI(p.a,p.b,h).newEdge)+F,Y=Number(eI(p.b,p.c,h).newEdge)+F,j=Number(eI(p.c,p.a,h).newEdge)+F,cB(R,V,Y,j,p.materialIndex),cB(R,p.a,V,j,p.materialIndex),cB(R,p.b,Y,V,p.materialIndex),cB(R,p.c,j,Y,p.materialIndex),u&&(G=c[i],$=G[0],L=G[1],K=G[2],X.set(Hv($.x,L.x),Hv($.y,L.y)),ee.set(Hv(L.x,K.x),Hv(L.y,K.y)),W.set(Hv($.x,K.x),Hv($.y,K.y)),uB(H,X,ee,W),uB(H,$,X,W),uB(H,L,ee,X),uB(H,K,W,ee));e.vertices=I,e.faces=R,u&&(e.faceVertexUvs[0]=H)}},to=new q,W9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=e.geometry??(t==null?void 0:t.geometry)??new Mr().copy(new rd(100,100,100)),i;t===void 0?(r.computeBoundingBox(),r.boundingBox.getSize(to),i={width:to.x,height:to.y,depth:to.z,subdivisions:0}):i=t.parameters;let n={...i,...e.parameters};return{parameters:{width:Math.abs(n.width),height:Math.abs(n.height),depth:Math.abs(n.depth),subdivisions:Math.abs(n.subdivisions)},geometry:r}}static build(e){let{width:t,height:r,depth:i,subdivisions:n}=e.parameters,a=e.geometry??new Mr().copy(new rd(100,100,100)),o=a.userData.parameters;o===void 0?(a.computeBoundingBox(),a.boundingBox.getSize(to)):to.set(o.width,o.height,o.depth),(t!==to.x||r!==to.y||i!==to.z)&&a.scale(to.x===0?1:t/to.x,to.y===0?1:r/to.y,to.z===0?1:i/to.z);let s=a.originalGeometry;try{n>0?(s===void 0||(o==null?void 0:o.subdivisions)!==n)&&(s===void 0&&(s=a),a=new Q9e(n).modify(s).toBufferGeometry()):(s!==void 0&&(a=s),s=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals())}catch{s!==void 0&&(a=s),s=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals()}return s!==void 0&&Object.assign(a,{originalGeometry:s}),delete e.geometry,Object.assign(a,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,r){new use(r).load(e,i=>{let n=this.normalizeInputs({geometry:i});i.boundingBox.getSize(to);let a=100/to.x;Object.assign(n.parameters,{width:100,height:to.y*a,depth:to.z*a}),t(this.build(n))})}},ace=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof Aa?e.shape:new Aa,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:i,cornerRadius:n,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s}=e.parameters,l=e.shape,c=t*.5,u=r*.5,d=0,h=0,f=2*Math.PI/i;for(let A=0;A<i;A++){let g=f*A,p=d+Math.sin(g)*c,v=h+Math.cos(g)*u;l.addPoint(l.createPoint(p,v))}l.isClosed=!0;for(let A=0,g=l.points.length;A<g;A++)l.points[A].roundness=n;l.roundness=n,l.update();let m=P0.create({shape:l,parameters:{roundness:n,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(m,{userData:{...e,type:"PolygonGeometry"}})}},G9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,radialSegments:n,heightSegments:a,openEnded:o,cornerRadius:s,cornerSegments:l}=e.parameters,c=new K9e(t*.5,r,n,a,o,s,l);return c.scale(1,1,i/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}};function rx(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function rI(e,t,r,i,n,a){let o=t.clone().sub(e),s=r.clone().sub(e),l=o.angleTo(s);if(o.normalize(),s.normalize(),i===n){let c=o.add(s).normalize();a.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=o.angleTo(s);a.copy(e),a.addScaledVector(o,n/Math.sin(c)),a.addScaledVector(s,i/Math.sin(c))}}function q9e(e,t,r){let i=e.clone().sub(t),n=r.clone().sub(t);return i.projectOnVector(n),i.add(t)}var K9e=class extends Mr{constructor(e=.5,t=1,r=4,i=1,n=!1,a=0,o=4){super(),r=Math.floor(Math.max(3,r)),i=Math.floor(i),o=Math.floor(o);let s=[],l=[],c=[],u=[],d=0,h=t/2,f=Math.PI/r,m=e*Math.cos(Math.PI/r),A=2*Math.PI/r,g=(r-2)*Math.PI/r,p=Math.PI-g,v=new q(0,-h,0),y=new q(0,h,0),b=new ke(e,-h),x=new ke(m,-h),w=new ke(0,y.y).sub(x),C=new ke(0,y.y).sub(b),_=new ke(w.y,-w.x).normalize(),B=new ke(C.y,-C.x).normalize(),P=e*Math.cos(Math.PI/r)*Math.tan((Math.PI-w.angle())/2)-1e-8;a=Math.min(a,P);let M;{let j=new q(_.x,_.y,0),R=new q(Math.cos(A)*j.x,j.y,Math.sin(A)*j.x);M=j.angleTo(R)}let O=a/Math.tan((Math.PI-w.angle())/2),I=a/Math.tan((Math.PI-M)/2),F=new q;if(!n){l.push(v.x,v.y,v.z),c.push(0,-1,0),u.push(0,0);let j=d++,R=[],H=b.clone(),G=O/Math.cos(Math.PI/r);H.x-=G;for(let $=0;$<r;$++){let L=$/r*Math.PI*2+f,K=new ke(Math.sin(L),Math.cos(L));rx(H,K,F),l.push(F.x,F.y,F.z),c.push(0,-1,0),u.push(0,0),R.push(d++)}for(let $=0;$<R.length;$++)s.push(R[$],j,R[($+1)%R.length])}{let j=new q,R=new q,H=new q,G=new q,$=new q,L=new q;for(let K=0;K<r;K++){let X=K/r*Math.PI*2+f,ee=(K+.5)/r*Math.PI*2+f,W=(K+1)/r*Math.PI*2+f,te=new ke(Math.sin(X),Math.cos(X)),oe=new ke(Math.sin(ee),Math.cos(ee)),le=new ke(Math.sin(W),Math.cos(W));rx(b,te,R),rx(b,le,H),rx(_,oe,j),rI(y,R,H,I,I,G),l.push(G.x,G.y,G.z),rI(R,y,H,I,O,$),l.push($.x,$.y,$.z),rI(H,R,y,O,I,L),l.push(L.x,L.y,L.z),c.push(j.x,j.y,j.z),c.push(j.x,j.y,j.z),c.push(j.x,j.y,j.z),u.push(0,0),u.push(0,0),u.push(0,0);let be=d++,ve=d++,se=d++;if(s.push(be,ve,se),a>0){{let ge=R.clone().add(H).multiplyScalar(.5),ae=y.clone().sub(ge).normalize(),Ne=v.clone().sub(ge).normalize().add(ae).normalize().multiplyScalar(-1),Ie=L.clone().sub($);V(ge,Ie,Ne,w.angle())}let ye,Be;{let ge=new q;rx(B,le,ge);let ae=L.clone().add(G).multiplyScalar(.5);ae=q9e(ae,H,y);let Ne=L.clone().sub(G);[ye,Be]=V(ae,Ne,ge,M,G.y)}{let ge=ye,ae=ge.clone().setY(0).normalize(),Ne=new q(0,-1,0),Ie=ae.clone().cross(Ne);Y(ge,ae,Ne,Ie)}{let ge=w.angle(),ae=Math.PI-ge,Ne=y.clone();Ne.y-=a/Math.sin(ge-Math.PI/2);let Ie=new q,Ee=[];for(let We=0;We<o;We++){let de=[],re=Math.PI/2-ae*We/o,Re=Math.cos(re),Ke=Math.sin(re),ie=ee;for(let st=0;st<=We;st++){let wt=Math.cos(ie),ut=Math.sin(ie);j.x=Re*ut,j.y=Ke,j.z=Re*wt,Ie.copy(Ne).addScaledVector(j,a),l.push(Ie.x,Ie.y,Ie.z),c.push(j.x,j.y,j.z),u.push(0,0),de.push(d++),ie+=Math.PI*2/We/r}Ee.push(de)}Be.reverse(),Ee.push(Be);let Qe=Ee.length-1;for(let We=0;We<Qe;We++){let de=Ee[We],re=Ee[We+1],Re=de.length-1;s.push(re[1],de[0],re[0]);for(let Ke=1;Ke<=Re;Ke++)s.push(de[Ke],de[Ke-1],re[Ke]),s.push(re[Ke+1],de[Ke],re[Ke])}}}}}this.setIndex(s),this.setAttribute("position",new sr(l,3)),this.setAttribute("normal",new sr(c,3)),this.setAttribute("uv",new sr(u,2));function V(j,R,H,G,$){let L=-G/2,K=(Math.PI-G)/2,X=R.clone().normalize().cross(H);j.addScaledVector(H,-a/Math.sin(K));let ee=new q,W=new q,te=1,oe=d,le=[];for(let be=0;be<=o;be++){let ve=L+be/o*G;W.set(0,0,0),W.addScaledVector(X,Math.sin(ve)),W.addScaledVector(H,Math.cos(ve));for(let se=0;se<=te;se++){let ye=se/te-.5;if(ee.copy(j),ee.addScaledVector(R,ye),ee.addScaledVector(W,a),$!=null){let Be=Math.max(0,ee.y-$);ee.addScaledVector(R,-Be/R.y)}l.push(ee.x,ee.y,ee.z),c.push(W.x,W.y,W.z),u.push(0,0),se===0&&le.push(d),d++}}for(let be=0;be<o;be++)for(let ve=0;ve<te;ve++){let se=oe+ve+(te+1)*be,ye=se+(te+1),Be=ye+1,ge=se+1;s.push(se,ye,ge),s.push(ye,Be,ge)}return[j.clone().addScaledVector(R,.5),le]}function Y(j,R,H,G){let $=Math.PI/2,L=C.angle()-$,K=[],X=new q,ee=new q;for(let te=0;te<=o;te++){let oe=[],le=te/o;for(let be=0;be<=te;be++){let ve=((te?be/te:0)-.5)*p,se=Math.cos(ve),ye=Math.sin(ve),Be=Math.atan(Math.tan(L)*se),ge=($+Be)*le,ae=Math.cos(ge),Ne=Math.sin(ge);X.set(0,0,0),X.addScaledVector(R,Ne*se),X.addScaledVector(H,ae),X.addScaledVector(G,Ne*ye),ee.copy(j).addScaledVector(X,a),l.push(ee.x,ee.y,ee.z),c.push(X.x,X.y,X.z),u.push(0,0),oe.push(d++)}K.push(oe)}let W=K.length-1;for(let te=0;te<W;te++){let oe=K[te],le=K[te+1],be=oe.length-1;s.push(oe[0],le[1],le[0]);for(let ve=1;ve<=be;ve++)s.push(oe[ve-1],oe[ve],le[ve]),s.push(oe[ve],le[ve+1],le[ve])}}}},a6=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign((t==null?void 0:t.ui)??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof Aa?e.shape:new Aa,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:r,height:i,cornerRadius:n,cornerType:a,depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}=e.parameters,c={x:r*.5,y:i*.5},u={x:-c.x,y:-c.y},d={x:c.x,y:c.y};function h(b,x,w){return x>r&&w>i?Math.min(b*r/x,b*i/w):x>r?b*r/x:w>i?b*i/w:b}let f=[];f[0]=n[0]===0?0:h(n[0],n[0]+n[3],n[0]+n[1]),f[1]=n[1]===0?0:h(n[1],n[1]+n[2],n[1]+n[0]),f[2]=n[2]===0?0:h(n[2],n[2]+n[1],n[2]+n[3]),f[3]=n[3]===0?0:h(n[3],n[3]+n[0],n[3]+n[2]);let m=u.x,A=d.x,g=d.y,p=u.y;t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(A,g)),t.addPoint(t.createPoint(A,p)),t.addPoint(t.createPoint(m,p)),t.isClosed=!0;let v=!0;for(let b=0,x=t.points.length;b<x;b++)t.points[b].roundness=f[b],b>0&&f[b]!==f[b-1]&&(v=!1);v&&(t.roundness=f[0]),t.useCubicForRoundedCorners=a!==1,t.update();let y=P0.create({shape:t,parameters:{depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}});return Object.assign(y,{userData:{...e,type:"RectangleGeometry"}})}},X9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return r.thetaLength=fr.clamp(r.thetaLength,0,180),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t=100,height:r=t,depth:i=t,widthSegments:n=64,heightSegments:a=64,phiStart:o,phiLength:s,thetaStart:l,thetaLength:c}=e.parameters,u;return c===0?(u=new Mr,u.setAttribute("position",new sr([],3))):u=new eb(.5*t,n,a,o,s,l,c*fr.DEG2RAD),u.scale(1,r/t,i/t),Object.assign(u,{userData:{...e,type:"SphereGeometry"}})}},Y9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:0})}}static build(e){let{width:t=100,height:r=t,widthSegments:i=8,heightSegments:n=8}=e.parameters,a=new zf(t,r,i,n);return a.scale(1,1,1),Object.assign(a,{userData:{...e,type:"PlaneGeometry"}})}},$9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,angle:n,cornerRadius:a,cornerSegments:o}=e.parameters,s=new J9e(t,r,i,n,a,o);return Object.assign(s,{userData:{...e,type:"BackdropGeometry"}})}},J9e=class extends Mr{constructor(e=1,t=1,r=1,i=90,n=10,a=24){super(),this.type="BackdropGeometry";let o=[],s=[],l=[],c=.001;n==0&&(a=1),a=Math.max(1,Math.floor(a)),n=Math.min(n,100),i=Math.min(180-c,i),i*=Math.PI/180;let u=[],d=Math.PI/2,h=(te=0,oe=0,le=0)=>new q(te,oe,le),f=h(),m=h(),[A,g,p]=[t/2,e/2,r/2],v=-g,y=+g,[b,x,w]=[h(v,-A,+p),h(v,-A,-p),h(v,+A,-p)],C=(te,oe=!1)=>Math.sin(te-Math.PI/(1+ +oe)),_=(te,oe=!1)=>Math.cos(te-Math.PI/(1+ +oe));w.y=Math.sin(i)*t-A;let B=Math.cos(i)*t-p,P=b.z-c;i<=d?(w.z=Math.min(B,P),w.z==P&&(w.y-=(B-P)/Math.tan(d-i))):x.z=Math.min(x.z-B-p,b.z-c),f.subVectors(b,x),m.subVectors(w,x);let M=Math.min(f.length(),m.length())*n/100,O=M*Math.tan(i/2),I=M/Math.cos(i/2),F=f.clone().normalize().add(m.normalize()).setLength(I).add(x);f.set(0,C(i,!0),_(i,!0)),u.push([w,f.clone()]);let V=(Math.PI-i)/a;for(let te=0;te<=a;te++){let oe=d+i+te*V;f.set(0,Math.sin(oe)*O,Math.cos(oe)*O),f.add(F),m.set(0,C(oe),_(oe)),u.push([f.clone(),m.clone()])}u.push([b,h(0,1,0)]);let Y=Math.sin(V/2)*O*2,j=u.length-1,R=u[0][0].distanceTo(u[1][0]),H=u[j-1][0].distanceTo(u[j][0]),G=R+Y*a+H;u[0].push(1);for(let te=0;te<=a;te++)u[te+1].push(1-(R+te*Y)/G);u[j].push(0);let[$,L,K]=u[0],X,ee,W;for(let te=1;te<u.length;te++)[X,ee,W]=u[te],o.push(v,$.y,$.z,v,X.y,X.z,y,$.y,$.z,y,$.y,$.z,v,X.y,X.z,y,X.y,X.z),s.push(0,L.y,L.z,0,ee.y,ee.z,0,L.y,L.z,0,L.y,L.z,0,ee.y,ee.z,0,ee.y,ee.z),l.push(0,K,0,W,1,K,1,K,0,W,1,W),[$,L,K]=[X,ee,W];this.setAttribute("position",new sr(o,3)),this.setAttribute("normal",new sr(s,3)),this.setAttribute("uv",new sr(l,2))}},oce=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof Aa?e.shape:new Aa,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,innerRadiusPercent:i,spikes:n,cornerRadius:a,angle:o,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,u=e.shape,d=t*.5,h=r*.5,f=0,m=0,A=o*Math.PI/360/n,g=Math.PI/2*3*-1,p=d*i/100,v=h*i/100;if(n===3&&i===50){A=2*Math.PI/n;for(let b=0;b<n;b++){let x=A*b,w=f+Math.sin(x)*d,C=m+Math.cos(x)*h;u.addPoint(u.createPoint(w,C))}}else for(let b=0;b<n;b++){let x=f+Math.cos(g)*d,w=m+Math.sin(g)*h;u.addPoint(u.createPoint(x,w)),g+=A,x=f+Math.cos(g)*p,w=m+Math.sin(g)*v,u.addPoint(u.createPoint(x,w)),g+=A}u.isClosed=!0;for(let b=0,x=u.points.length;b<x;b++)u.points[b].roundness=a;u.roundness=a,u.update();let y=P0.create({shape:u,parameters:{roundness:a,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(y,{userData:{...e,type:"StarGeometry"}})}},Z9e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r}=e.parameters,i=new zf(t,r);return Object.assign(i,{userData:{...e,type:"TextFrameGeometry"}})}},eqe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(r.width),n=Math.abs(r.height??r.width),a=Math.round(Math.abs(r.depth??r.width*.25));return{parameters:Object.assign(r,{width:i,height:n,depth:a})}}static build(e){let{width:t,height:r,depth:i,radialSegments:n,tubularSegments:a,arc:o,cornerRadius:s,cornerSegments:l}=e.parameters,c=tqe(t,r,i,t*.5,o,a,0,0,n,s,l);return c.scale(1,r/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}};function tqe(e,t,r,i,n,a,o,s,l,c,u){[t,r]=[r,t],o=t/2;let d=fr.clamp(n/360,0,1);if(d===0){let h=new Mr;return h.setAttribute("position",new sr([],3)),h}return d===1&&(c=0),new ice(!0,e,t,r,i,d,a,o,s,l,c,u)}var rqe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),tube:r.tube??r.width*.125})}}static build(e){let{width:t,tube:r,tubularSegments:i,radialSegments:n,p:a,q:o}=e.parameters,s=t*.5;s!==r&&(s-=r);let l=new ise(s,r,i,n,a,o);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},iqe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof Aa?e.shape:new Aa,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width*(r.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t=100,height:r,cornerRadius:i,depth:n,extrudeBevelSize:a,extrudeBevelSegments:o,isRect:s}=e.parameters,l=e.shape,c=t*.5,u=r*.5;s?(l.addPoint(l.createPoint(-c,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))):(l.addPoint(l.createPoint(0,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))),l.isClosed=!0;for(let h=0,f=l.points.length;h<f;h++)l.points[h].roundness=i;l.roundness=i,l.update();let d=P0.create({shape:l,parameters:{roundness:i,depth:n,extrudeBevelSize:a,extrudeBevelSegments:o}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}};function nqe(e,t){let r=2*Math.PI;return(e%r+r)%r===(t%r+r)%r}var aqe=class{add(e,t,r){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][r?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(r){r.call(t&&t.context?t.context:t,t)})}},oqe=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},Et=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Et.version}static addUnaryOp(t){return Et.max_unop_len=Math.max(t.length,Et.max_unop_len),Et.unary_ops[t]=1,Et}static addBinaryOp(t,r,i){return Et.max_binop_len=Math.max(t.length,Et.max_binop_len),Et.binary_ops[t]=r,i?Et.right_associative.add(t):Et.right_associative.delete(t),Et}static addIdentifierChar(t){return Et.additional_identifier_chars.add(t),Et}static addLiteral(t,r){return Et.literals[t]=r,Et}static removeUnaryOp(t){return delete Et.unary_ops[t],t.length===Et.max_unop_len&&(Et.max_unop_len=Et.getMaxKeyLen(Et.unary_ops)),Et}static removeAllUnaryOps(){return Et.unary_ops={},Et.max_unop_len=0,Et}static removeIdentifierChar(t){return Et.additional_identifier_chars.delete(t),Et}static removeBinaryOp(t){return delete Et.binary_ops[t],t.length===Et.max_binop_len&&(Et.max_binop_len=Et.getMaxKeyLen(Et.binary_ops)),Et.right_associative.delete(t),Et}static removeAllBinaryOps(){return Et.binary_ops={},Et.max_binop_len=0,Et}static removeLiteral(t){return delete Et.literals[t],Et}static removeAllLiterals(){return Et.literals={},Et}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new Et(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(r=>r.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return Et.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!Et.binary_ops[String.fromCharCode(t)]||Et.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return Et.isIdentifierStart(t)||Et.isDecimalDigit(t)}throwError(t){let r=new Error(t+" at character "+this.index);throw r.index=this.index,r.description=t,r}runHook(t,r){if(Et.hooks[t]){let i={context:this,node:r};return Et.hooks.run(t,i),i.node}return r}searchHook(t){if(Et.hooks[t]){let r={context:this};return Et.hooks[t].find(function(i){return i.call(r.context,r),r.node}),r.node}}gobbleSpaces(){let t=this.code;for(;t===Et.SPACE_CODE||t===Et.TAB_CODE||t===Et.LF_CODE||t===Et.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let t=this.gobbleExpressions(),r=t.length===1?t[0]:{type:Et.COMPOUND,body:t};return this.runHook("after-all",r)}gobbleExpressions(t){let r=[],i,n;for(;this.index<this.expr.length;)if(i=this.code,i===Et.SEMCOL_CODE||i===Et.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())r.push(n);else if(this.index<this.expr.length){if(i===t)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){let t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,Et.max_binop_len),r=t.length;for(;r>0;){if(Et.binary_ops.hasOwnProperty(t)&&(!Et.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!Et.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=r,t;t=t.substr(0,--r)}return!1}gobbleBinaryExpression(){let t,r,i,n,a,o,s,l,c;if(o=this.gobbleToken(),!o||(r=this.gobbleBinaryOp(),!r))return o;for(a={value:r,prec:Et.binaryPrecedence(r),right_a:Et.right_associative.has(r)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+r),n=[o,a,s];r=this.gobbleBinaryOp();){if(i=Et.binaryPrecedence(r),i===0){this.index-=r.length;break}a={value:r,prec:i,right_a:Et.right_associative.has(r)},c=r;let u=d=>a.right_a&&d.right_a?i>d.prec:i<=d.prec;for(;n.length>2&&u(n[n.length-2]);)s=n.pop(),r=n.pop().value,o=n.pop(),t={type:Et.BINARY_EXP,operator:r,left:o,right:s},n.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+c),n.push(a,t)}for(l=n.length-1,t=n[l];l>1;)t={type:Et.BINARY_EXP,operator:n[l-1].value,left:n[l-2],right:t},l-=2;return t}gobbleToken(){let t,r,i,n;if(this.gobbleSpaces(),n=this.searchHook("gobble-token"),n)return this.runHook("after-token",n);if(t=this.code,Et.isDecimalDigit(t)||t===Et.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===Et.SQUOTE_CODE||t===Et.DQUOTE_CODE)n=this.gobbleStringLiteral();else if(t===Et.OBRACK_CODE)n=this.gobbleArray();else{for(r=this.expr.substr(this.index,Et.max_unop_len),i=r.length;i>0;){if(Et.unary_ops.hasOwnProperty(r)&&(!Et.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!Et.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=i;let a=this.gobbleToken();return a||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Et.UNARY_EXP,operator:r,argument:a,prefix:!0})}r=r.substr(0,--i)}Et.isIdentifierStart(t)?(n=this.gobbleIdentifier(),Et.literals.hasOwnProperty(n.name)?n={type:Et.LITERAL,value:Et.literals[n.name],raw:n.name}:n.name===Et.this_str&&(n={type:Et.THIS_EXP})):t===Et.OPAREN_CODE&&(n=this.gobbleGroup())}return n?(n=this.gobbleTokenProperty(n),this.runHook("after-token",n)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let r=this.code;for(;r===Et.PERIOD_CODE||r===Et.OBRACK_CODE||r===Et.OPAREN_CODE||r===Et.QUMARK_CODE;){let i;if(r===Et.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Et.PERIOD_CODE)break;i=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===Et.OBRACK_CODE?(t={type:Et.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},this.gobbleSpaces(),r=this.code,r!==Et.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===Et.OPAREN_CODE?t={type:Et.CALL_EXP,arguments:this.gobbleArguments(Et.CPAREN_CODE),callee:t}:(r===Et.PERIOD_CODE||i)&&(i&&this.index--,this.gobbleSpaces(),t={type:Et.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),i&&(t.optional=!0),this.gobbleSpaces(),r=this.code}return t}gobbleNumericLiteral(){let t="",r,i;for(;Et.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===Et.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);Et.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(t+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(t+=this.expr.charAt(this.index++));Et.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);Et.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return i=this.code,Et.isIdentifierStart(i)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(i===Et.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===Et.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Et.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="",r=this.index,i=this.expr.charAt(this.index++),n=!1;for(;this.index<this.expr.length;){let a=this.expr.charAt(this.index++);if(a===i){n=!0;break}else if(a==="\\")switch(a=this.expr.charAt(this.index++),a){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=a}else t+=a}return n||this.throwError('Unclosed quote after "'+t+'"'),{type:Et.LITERAL,value:t,raw:this.expr.substring(r,this.index)}}gobbleIdentifier(){let t=this.code,r=this.index;for(Et.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,Et.isIdentifierPart(t));)this.index++;return{type:Et.IDENTIFIER,name:this.expr.slice(r,this.index)}}gobbleArguments(t){let r=[],i=!1,n=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let a=this.code;if(a===t){i=!0,this.index++,t===Et.CPAREN_CODE&&n&&n>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(a===Et.COMMA_CODE){if(this.index++,n++,n!==r.length){if(t===Et.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===Et.CBRACK_CODE)for(let o=r.length;o<n;o++)r.push(null)}}else if(r.length!==n&&n!==0)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===Et.COMPOUND)&&this.throwError("Expected comma"),r.push(o)}}return i||this.throwError("Expected "+String.fromCharCode(t)),r}gobbleGroup(){this.index++;let t=this.gobbleExpressions(Et.CPAREN_CODE);if(this.code===Et.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:Et.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Et.ARRAY_EXP,elements:this.gobbleArguments(Et.CBRACK_CODE)}}},sqe=new aqe;Object.assign(Et,{hooks:sqe,plugins:new oqe(Et),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Et.max_unop_len=Et.getMaxKeyLen(Et.unary_ops);Et.max_binop_len=Et.getMaxKeyLen(Et.binary_ops);var Qb=e=>new Et(e).parse(),lqe=Object.getOwnPropertyNames(Et);lqe.forEach(e=>{Qb[e]===void 0&&e!=="prototype"&&(Qb[e]=Et[e])});Qb.Jsep=Et;var cqe="ConditionalExpression",uqe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let r=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let n=this.gobbleExpression();if(n||this.throwError("Expected expression"),t.node={type:cqe,test:r,consequent:i,alternate:n},r.operator&&e.binary_ops[r.operator]<=.9){let a=r;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;t.node.test=a.right,a.right=t.node,t.node=r}}else this.throwError("Expected :")}})}};Qb.plugins.register(uqe);var dqe=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],hqe=["0","1","2","3","4","5","6","7","8","9","."],fqe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function pqe(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}Qb.addBinaryOp("^",11,!0);function sce(e,t,r="number"){let i="";for(let o=0;o<e.length;o++){let s=e[o];if("objType"in s&&s.objType==="api"){let l=JSON.parse(s.id),c=l[0],u=t.getUserAPI(c);if(u!==void 0){let d=u.retrieveValue(l.slice(1));d!==void 0&&(i+=d)}continue}if("objType"in s&&s.objType==="webhook"){let l=JSON.parse(s.id),[c,u]=l,d=t.getUserWebhook(c);if(d!==void 0){let h=d.getParameterValue(u);h!==void 0&&(i+=h)}continue}if("id"in s){let l=e[o-1];if(o>0&&"id"in l){console.error("Two variables in a row",e);return}let c=t.getVariable(s.id),u=es.getDisplayedValue(c);r==="number"&&es.isTextValue(c)&&Array.isArray(c.textValue)&&c.textValue.length===1?u=parseFloat(u).toString():r==="boolean"&&es.isBoolean(c)?u=c?"true":"false":r==="boolean"&&es.isTextValue(c)&&!Array.isArray(c.textValue)&&(u='"'+u+'"'),i+=u;continue}else if(r==="string"){s.name!=='"'&&(s.name!=="+"||s.escaped)&&(i+=s.name),s.name==="+"&&!s.escaped&&i[i.length-1]==="\\"&&(i=i.slice(0,-1)+s.name);continue}if(s.name==="and"){i+="&&";continue}if(s.name==="or"){i+="||";continue}if(s.name==="True"){i+="true";continue}if(s.name==="False"){i+="false";continue}if(r==="boolean"&&!pqe(s.name)&&!hqe.includes(s.name)&&!dqe.includes(s.name)&&!fqe.includes(s.name.replace(/\($/g,""))){i+='"'+s.name+'"';continue}i+=s.name}if(r==="string")return i;if(e.length===0){if(r==="number")return 0;if(r==="boolean")return!1}let n;try{n=Qb(i)}catch(o){console.error(i,o);return}let a;try{a=Ni(n)}catch(o){console.error(i,n,o)}return a}function Ni(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+(Ni(e.left)===Ni(e.right));case"!=":return+(Ni(e.left)!==Ni(e.right));case">":return+(Ni(e.left)>Ni(e.right));case">=":return+(Ni(e.left)>=Ni(e.right));case"<":return+(Ni(e.left)<Ni(e.right));case"<=":return+(Ni(e.left)<=Ni(e.right));case"+":return Ni(e.left)+Ni(e.right);case"-":return Ni(e.left)-Ni(e.right);case"*":return Ni(e.left)*Ni(e.right);case"/":return Ni(e.left)/Ni(e.right);case"%":return Ni(e.left)%Ni(e.right);case"&&":return Ni(e.left)&&Ni(e.right);case"||":return Ni(e.left)||Ni(e.right);case"^":return Math.pow(Ni(e.left),Ni(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-Ni(e.argument);case"!":return+!Ni(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,r=1;if(e.arguments.length>=1)try{t=Ni(e.arguments[0])}catch(i){console.warn(i)}if(e.arguments.length>=2)try{r=Ni(e.arguments[1])}catch(i){console.warn(i)}return t=Math.min(r,t),r=Math.max(r,t),t+Math.random()*(r-t)}return Math[e.callee.name].apply(null,e.arguments.map(Ni))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var Aqe=new kt,gqe=new kt;function mqe(e,t,r){let i=[new q,new q,new q],n=[new q,new q,new q];return e.extractBasis(i[0],i[1],i[2]),t.extractBasis(n[0],n[1],n[2]),i.forEach((a,o)=>{let s=n[o],l=fr.lerp(a.length(),s.length(),r);a.lerp(s,r).setLength(l)}),new kt().makeBasis(i[0],i[1],i[2])}var vqe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(r.width),n=Math.abs(r.height??r.width),a=Math.abs(r.depth??0),o=(t==null?void 0:t.shapeData)??n6.create({parameters:Ole}).userData.shape;return{path:e.path??MP.defaultData(),parameters:Object.assign(r,{width:i,height:n,depth:a,extrusion:{...Dle,...r.extrusion}}),shapeData:o}}static build(e){if(e.path.points.length>=2){let t=new yqe(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}else return Object.assign(new Mr,{userData:{...e,type:"PathGeometry"}})}},yqe=class extends Mr{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!nqe(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:r,offset:i}=this.inputs.parameters.extrusion;r=Math.max(0,Math.min(r,1)),i=Math.max(0,Math.min(i,1));let n=this.inputs.path.isClosed?e.length:e.length-1,a=Math.floor(i*n),o=this.inputs.path.isClosed?Math.ceil((r+i)*n):Math.ceil(Math.min(1,r+i)*n),s=Math.min(Math.max(2,o-a+1),n+2),l=[],c=[];for(let j=0;j<s;j++){let R=this.inputs.path.isClosed?(j+a)%e.length:Math.min(j+a,e.length-1);l.push(e[R].clone()),c.push(t[R].clone())}let u=(j,R,H)=>{l[j]=l[j].clone().lerp(l[R],H),c[j]=mqe(c[j],c[R],H)},d=0,h=i*n%1;(!this.inputs.path.isClosed||r<=1)&&(h||i===0)&&(d=h,u(0,1,d));let f=0,m=(i+r)*n%1;if((this.inputs.path.isClosed&&r<=1||!this.inputs.path.isClosed&&i+r<1)&&m&&(f=m,u(l.length-1,l.length-2,1-f)),r===0){let j=l.length-1;l[j].copy(l[0]),c[j].copy(c[0])}this._applyPathModifiers(c,d,f);let{bevel:A,bevelSides:g}=this.inputs.parameters.extrusion,p=A>0?this.inputs.parameters.extrusion.capType:"flat",v=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(v=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:y,infos:b,vertices:x}=this._computeShapePoints(v),w=0,C;p==="round"&&(C=new i6(this.inputs.shapeData,2*A,A,v,g,void 0,!0),w=C.getAttribute("position").count);let _=0,B=0;b.sort((j,R)=>j.start-R.start),b.forEach(j=>{j.verticesStart=_,j.verticesCount=j.continuous.reduce((R,H,G)=>R+(G===0||!H?2:1),0),B+=j.verticesCount,_=B});let P=B*s,M,O=0;if(this._isOpenEnded()&&p==="flat"){try{M=BA({windingRule:fn.ODD,elementType:Ga.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:y})}catch{M=Yle}O=M.vertexCount}let I=P+2*O+w*2,F=P+2*O,V={positions:new Float32Array(I*3),normals:new Float32Array(I*3),uvs:new Float32Array(I*2)},Y=[];if(b.forEach(j=>{this._extrudeRegion(j,x,c,l,V,Y,this._isGeometryClosed()&&!this._isOpenEnded())}),M&&(this._closeEnd(M,P,Y,V,c[0],l[0],!1),this._closeEnd(M,P+O,Y,V,c[c.length-1],l[l.length-1],!0)),C){V.positions.set(C.getAttribute("position").array,F*3),V.normals.set(C.getAttribute("normal").array,F*3),V.uvs.set(C.getAttribute("uv").array,F*2);for(let G=F;G<F+w;G++)V.uvs[G*2+1]=1e-4;let j=Y.length;Y.push(...C.getIndex().array.map(G=>G+F)),F+=w,V.positions.set(C.getAttribute("position").array,F*3),V.normals.set(C.getAttribute("normal").array,F*3),V.uvs.set(C.getAttribute("uv").array,F*2);let R=Y.length;Y.push(...C.getIndex().array.map(G=>G+F)),this.setAttribute("position",new Qr(V.positions,3)),this.setAttribute("normal",new Qr(V.normals,3)),this.setAttribute("uv",new Qr(V.uvs,2)),this.setIndex(Y);let H=Aqe;H.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(H,F,I),H.copy(c[0]).setPosition(l[0]).multiply(gqe.makeScale(1,1,-1)),this.applyMatrix4OnRange(H,F-w,F),this.reverseIndicesOnRange(j,R)}else this.setAttribute("position",new Qr(V.positions,3)),this.setAttribute("normal",new Qr(V.normals,3)),this.setAttribute("uv",new Qr(V.uvs,2)),this.setIndex(Y)}_extractPathPoints(){let e=zle(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(r=>{t[t.length-1].distanceToSquared(r)>.001&&t.push(r)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],r=e.length,i=this.inputs.path.isClosed,n=new q,a=new q,o=new q,s=new q,l=new q(0,1,0);for(let m=0;m<r;m++){let A=e[m],g;m===0?g=i?e[e.length-2]:A.clone().multiplyScalar(2).sub(e[1]):g=e[m-1];let p;m===r-1?p=i?e[1]:A.clone().multiplyScalar(2).sub(e[m-1]):p=e[m+1];let v=A.clone().sub(g).normalize(),y=p.clone().sub(A).normalize(),b=v.clone().add(y).normalize();o.copy(b),m===0&&(b.equals(l)||b.clone().negate().equals(l))&&l.set(0,0,1);let x=l.clone().cross(b).normalize(),w=b.clone().cross(x).normalize();l.copy(w),s.copy(x),m===0&&(n.copy(w),a.copy(b));let C=new kt().makeBasis(x,w,b);t.push(C)}let c=i?a:o,u=i?n:new q(0,1,0),d=c.clone().cross(s).normalize(),h=Math.acos(u.dot(d));if(isNaN(h))return t;let f=u.clone().cross(d);c.dot(f)>0&&(h*=-1);for(let m=1;m<t.length;m++){let A=new kt().makeRotationZ(h*m/t.length);t[m].multiply(A)}return t}_applyPathModifiers(e,t,r){let i=e.length,{angle:n,twist:a,startScale:o,endScale:s}=this.inputs.parameters.extrusion,l=new kt,c=new kt;return e.forEach((u,d)=>{let h=d===0?0:d===i-1?1:(d-t)/(i-(r===0?0:1)-(t+(1-r)));l.makeRotationZ(fr.lerp(n,n+a,h)*fr.DEG2RAD);let f=fr.lerp(o,s,h);c.makeScale(f,f,f),u.multiply(l).multiply(c)}),e}_computeShapePoints(e=12,t=fn.ODD){let r=this.inputs.shapeData,i=r.extractShapePointsToFlatArray([],e),n=r.shapeHoles.map(c=>{let u=c.extractShapePointsToFlatArray([],e),d=[];for(let h=u.length-1;h>=1;h-=2){let f=u[h-1],m=u[h-0];d.push(f,m)}return d}),a;try{a=BA({windingRule:t,elementType:Ga.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[i]})}catch{a=r6}let o;try{o=BA({windingRule:fn.ODD,elementType:Ga.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...n]})}catch{o=Xle}if(!a)throw new Error("error generating geometry");let s=a.elementCount;if(o){a.elementCount+=o.elementCount;for(let c=0;c<o.elements.length;c++){let u=o.elements[c],d=c%2===0?a.vertexCount:0;a.elements.push(u+d)}for(let c=0;c<o.vertexIndices.length;c++){let u=o.vertexIndices[c],d=a.vertexCount;a.vertexIndices.push(u+d)}for(let c=0;c<o.vertices.length;c++){let u=o.vertices[c];a.vertices.push(u)}}for(let c=0,u=a.vertexCount;c<u;c++){let d=c*2;a.vertices[d+0],a.vertices[d+1]}let l=[];for(let c=a.elementCount-1;c>=0;c--){let u=c>=s,d=c*2,h=a.elements[d+0],f=a.elements[d+1],m=h+f,A={start:h,count:f,normals:[],isHole:u,continuous:[],verticesStart:0,verticesCount:0};l.push(A);let g=h,p=m-1,v=h+1,y=r.roundedCurves.length;do{let b=g-h;a.vertices[p*2+0],a.vertices[p*2+1];let x=a.vertices[g*2+0],w=a.vertices[g*2+1],C=a.vertices[v*2+0],_=a.vertices[v*2+1],B=x-C,P=w-_,M=Math.sqrt(B*B+P*P);B/=M,P/=M,A.normals[b*2+0]=-P,A.normals[b*2+1]=B;let O=a.vertexIndices[g];if(Array.isArray(O))A.continuous[b]=!1;else{let[I,F]=r.getCurveIndexFromVertexId(O-1,!0);if(F>0&&F<1)A.continuous[b]=!0;else{let V=F===1?I+1:I-1;V=(V+y)%y;let Y=F===1?0:1,j=r.roundedCurves[I].getTangent(F),R=r.roundedCurves[V].getTangent(Y);A.continuous[b]=j.dot(R)>.95}}u&&(A.normals[b*2+0]*=-1,A.normals[b*2+1]*=-1),[p,g,v]=[g,v,v+1],v>=m&&(v-=f)}while(v!==h+1)}return{regions:[i,...n],infos:l,vertices:a.vertices}}_insertVertex(e,t,r,i,n){let a=t*2,o=t*3;e.positions[o+0]=r.x,e.positions[o+1]=r.y,e.positions[o+2]=r.z,e.normals[o+0]=i.x,e.normals[o+1]=i.y,e.normals[o+2]=i.z,e.uvs[a+0]=n.x,e.uvs[a+1]=n.y}_extrudeRegion(e,t,r,i,n,a,o){let s=new q,l=new q,c=new q,u=new q,d=new ke;r.forEach((f,m)=>{let A=i[m],g=e.verticesStart*r.length+e.verticesCount*m;for(let p=0;p<e.count;p++){let v=(e.start+p)*2;if(s.set(t[v+0],t[v+1],0),c.copy(s).applyMatrix4(f).add(A),e.continuous[p])u.set(e.normals[p*2+0],e.normals[p*2+1],0);else{let y=p===0?(e.start+e.count-1)*2:v-2;l.set(t[y+0],t[y+1],0),u.copy(s).sub(l),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(f).normalize(),d.set(p===0?1:p/e.count,m/(r.length-1)),this._insertVertex(n,g,c,u,d),g++,!e.continuous[p]||p===0){if(p===0)u.set(e.normals[p*2+0],e.normals[p*2+1],0),d.set(0,m/(r.length-1));else{let y=p===e.count-1?e.start*2:v+2;l.set(t[y+0],t[y+1],0),u.copy(l).sub(s),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(f).normalize(),this._insertVertex(n,g,c,u,d),g++}}});let h=r.length-1;for(let f=0;f<h;f++){let m=e.verticesStart*r.length+e.verticesCount*f,A=e.verticesStart*r.length+e.verticesCount*(f+1),g=0;for(let p=0;p<e.count;p++){(!e.continuous[p]||p===0)&&g++;let v=p===e.count-1?0:g+1,y=m+g,b=m+v,x=A+v,w=A+g;e.isHole?a.push(y,x,b,y,w,x):a.push(y,b,x,y,x,w),g++}}}_closeEnd(e,t,r,i,n,a,o){let s=e.vertexCount,l=new q(0,0,o?-1:1).applyMatrix4(n),c=new q,u=new ke;for(let h=0;h<s;h++){let f=2*h;c.set(e.vertices[f+0],e.vertices[f+1],0).applyMatrix4(n).add(a),this._insertVertex(i,t+h,c,l,u)}let d=e.elements;for(let h=0;h<e.elementCount;h++){let f=3*h,m=d[f+0]+t,A=d[f+(o?1:2)]+t,g=d[f+(o?2:1)]+t;r.push(m,A,g)}}applyMatrix4OnRange(e,t,r){let i=e.elements,n=new Ka().getNormalMatrix(e).elements,a,o,s,l,c=this.attributes.position,u=this.attributes.normal;if(!c||!u)return;let d=c.array,h=u.array,f=c.itemSize;for(let m=t*f,A=r*f;m<A;m+=f){if(m===t)debugger;a=d[m+0],o=d[m+1],s=d[m+2],l=1/(i[3]*a+i[7]*o+i[11]*s+i[15]),d[m+0]=(i[0]*a+i[4]*o+i[8]*s+i[12])*l,d[m+1]=(i[1]*a+i[5]*o+i[9]*s+i[13])*l,d[m+2]=(i[2]*a+i[6]*o+i[10]*s+i[14])*l,a=h[m+0],o=h[m+1],s=h[m+2],h[m+0]=n[0]*a+n[3]*o+n[6]*s,h[m+1]=n[1]*a+n[4]*o+n[7]*s,h[m+2]=n[2]*a+n[5]*o+n[8]*s}c.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let r=this.index;if(r){for(let i=e;i<t;i+=3){let n=r.getX(i),a=r.getX(i+1),o=r.getX(i+2);r.setXYZ(i,o,a,n)}r.needsUpdate=!0}}};function lce(){let e=new Mr;return e.setAttribute("position",new Qr(new Float32Array([]),3)),e.setIndex(new Qr(new Uint16Array([]),1)),e}var bqe=lce().attributes,wqe=12,xqe=1,DU=class extends Mr{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,bqe),this.userData={parameters:e,type:"TextGeometry"};let r=t.getFont(e.font);r!=null&&r.isLoaded?(this.font=r,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t==null||t.requestRender()})}async updateFont(e,t){let r=t.getFont(e);r&&(this.font=r,await r.loadingPromise)}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!(t!=null&&t.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:r,height:i,depth:n,extrudeBevelSize:a,extrudeBevelSegments:o,text:s,textTransform:l}=e,c=es.getDisplayedValue(s),u=l===2?c.toUpperCase():l===3?c.toLowerCase():c,d=Cqe(e,t,u),{shapes:h,charWidths:f,charCoords:m}=t.generateShapes(d,e),A=(typeof r=="number"?r:1)*.5,g=(typeof i=="number"?i:1)*.5,p=h.map(b=>new Aa().fromShape(b,!0));this.vectorShapes=p;let v=p.map(b=>P0.create({shape:b,parameters:{depth:n,extrudeBevelSegments:o,extrudeBevelSize:a,windingRule:n<=0?fn.NONZERO:fn.ODD,subdivisions:this.isLowResolution&&n>0?xqe:wqe}})),y=v.length?Im(v):lce();y.translate(-A,g,0),this.dispose(),this.wrappedText=d,this.charCoords=m,this.charWidths=f,this.deleteAttribute("extrudeNormal"),Object.entries(y.attributes).forEach(([b,x])=>{this.setAttribute(b,x)}),this.setIndex(y.index),this.computeBoundingSphere()}clone(){let e=cu(new Mr,DU.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,r])=>{this.setAttribute(t,r)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}async setText(e){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:{textValue:e}})}get text(){return this.userData.parameters.text??""}};function Cqe(e,t,r){let i=[""],n="";for(let a of r)n+=a,a===" "||a===`
`?(i[i.length-1]+=n,n="",a===`
`&&i.push("")):t.getTextWidth(i[i.length-1]+n,e)>e.width&&(i[i.length-1].length&&i.push(""),t.getTextWidth(i[i.length-1]+n,e)>e.width&&(n.length===1?(i[i.length-1]+=n,n=""):(i[i.length-1]+=n.slice(0,-1),n=n[n.length-1],i.push(""))));return i[i.length-1]+=n,i}var cce,uce=new Promise(e=>{cce=e}),gK=!1,dB;function _qe(){if(gK)return;if(dB)return dB;async function e(){let t="https://unpkg.com/@splinetool/modelling-wasm@1.9.27/build",r=Zu(()=>import("./process-0cd968c5.js"),[]),[i,n]=await Promise.all([r,fetch(`${t}/process.wasm`).then(s=>s.arrayBuffer())]),a=i.default,o=await a({wasmBinary:n});cce(o),gK=!0}return dB=e(),dB}var Sqe=["font"];function LC(e,t,r,i){var c,u;let n,a,o;e.type==="PathGeometry"?(a=JSON.parse(JSON.stringify(e)),o=[[],["extrusion"]]):(a={...e},o=[[]]);for(let d of o){let h=a;for(let f of d)h=h[f];for(n in h){let f=h[n];yq(f)&&!Sqe.includes(n)&&(h[n]=t.getVariable(f,[i.uuid,"geometry",...d,n]),yq(h[n])&&(h[n]=1))}}let s={parameters:a,type:a.type};if(a.type==="PathGeometry")s.path=a.path;else if(a.type==="VectorGeometry"){let d=Aa.createFromState(a.shape,a.width,a.height);s.shape=d}else if(a.type==="NonParametricGeometry"){if(a.data.groups&&((c=a.data.groups)==null||c.forEach(d=>d.materialIndex=Math.max(d.materialIndex??0,0))),s.geometry=new use().parse(a),s.geometry.groups.length===0){let d=s.geometry;d.addGroup(0,Math.max(((u=d.getIndex())==null?void 0:u.count)??0,d.getAttribute("position").count),0)}}else if(a.type==="SubdivGeometry"){let d=new Zs(a,r);return d.data=e,d}else{if(a.type==="TextGeometry")return new DU(a,t);if(a.type==="InputGeometry")return new DU(a,t);if(a.type==="UIGeometry")return a6.create({parameters:{width:a.width,height:a.height,cornerRadius:a.cornerRadius,cornerType:a.cornerType}})}let l;try{l=wK(s)}catch(d){console.error(d)}if(!l){let d=Aa.createFromState(BP.defaultData(),100,100);s.shape=d,l=wK(s)}return l}var Eqe=new kt;function IU(e,t,r,i){let n=e.position.array,a=e.normal.array,o=Eqe.makeScale(t,r,i).invert().elements,s,l,c;for(var u=0,d=n.length;u<d;u+=3)n[u]*=t,n[u+1]*=r,n[u+2]*=i,s=a[u],l=a[u+1],c=a[u+2],a[u]=o[0]*s+o[4]*l+o[8]*c,a[u+1]=o[1]*s+o[5]*l+o[9]*c,a[u+2]=o[2]*s+o[6]*l+o[10]*c;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var hB=new Fa,Vv=new q,Nr;uce.then(e=>{Nr=e});var mK=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),vK=new Uint32Array([0,1,2,3]),yK=new Uint8Array([4]),Zs=class extends Mr{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let r=this.data.scaleBaked,i=Km.div(t,r);this.subdividedGeometry&&IU(this.subdividedGeometry.attributes,...i),this.originalGeometry&&IU(this.originalGeometry.attributes,...i),this.data=e;let n=this.userData.parameters;this.userData.parameters={width:n.width*i[0],height:n.height*i[1],depth:n.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(Vv.fromArray(i));let a=Vv.set(n.width,n.height,n.depth).length();this.originalGeometry.boundingSphere.radius=a/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,r;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:r}=Zs.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new rd(100,100,100),r=0}this.subdivPointer=r,this.originalGeometry=e,this.subdividedGeometry=t??void 0;let i=this.subdividedGeometry??this.originalGeometry;Object.assign(this,i),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(Zs.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new jl,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,r=e.boundingSphere.center;hB.setFromBufferAttribute(t),hB.getCenter(r),e.boundingSphere.radius=r.distanceTo(hB.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),hB.getSize(Vv);let i={width:Vv.x,height:Vv.y,depth:Vv.z};return this.userData.parameters=i,i}static build(e,t,r,i){let n,a,o,s=(e==null?void 0:e.phongAngle)??35;r===!1&&(s=-1),t&&(Nr.free_bvh(t),Nr.free_subdivision_surface(t));try{n=Zs.allocate(e,i)}catch(l){console.error(l,e),n=Zs.allocate({positionWASM:mK,indexWASM:vK,verticesPerFaceWASM:yK},i)}if(Nr.set_destination_refinement_level(n,0),a=Zs.buildLevel(n,!0,s),e.subdivisions>0)try{Nr.set_destination_refinement_level(n,e.subdivisions),o=Zs.buildLevel(n,!1,s)}catch{try{Nr.set_destination_refinement_level(n,e.subdivisions-1),o=Zs.buildLevel(n,!1,s)}catch{o=null}}else o=null;return{subdivPointer:n,originalGeometry:a,subdividedGeometry:o}}static primitiveToQuads(e,t,r){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),e.type==="DodecahedronGeometry"&&(e.detail=0);let i=e.shape!==void 0||e.path!==void 0?t.geometry:LC(e,r,!1),n;e.type==="TorusGeometry"&&e.arc===Math.PI*2?n=i.getClosedTorusIndicesForBooleanOrSubdiv():n=i.getIndex();let a,o,s,l;({positions:a,triIndices:l}=U3(i.getAttribute("position"),n));let c;if(e.type==="CylinderGeometry"&&e.cornerRadius===0&&e.hollow===0&&e.openEnded===!1){let u=e.radialSegments*e.heightSegments*3*2,d=u+e.radialSegments*3;c=[u,d]}return{indices:o,verticesPerFace:s}=dce(a,l,i,c),{positions:a,indices:o,verticesPerFace:s}}static allocate(e,t){var y;let r,i,n,a=[],o=[];e.positionWASM&&e.positionWASM.length>0?(r=e.positionWASM,i=e.indexWASM,n=e.verticesPerFaceWASM):(r=mK,i=vK,n=yK);let s=r.length,l=i.length,c=n.length,u=r.length+a.length+o.length,d=i.length+n.length,h=u*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,f=u*Float32Array.BYTES_PER_ELEMENT,m=Nr._malloc(h),A=new Float32Array(Nr.HEAPF32.buffer,m,u),g=new Uint32Array(Nr.HEAPU32.buffer,m+f,d);A.set(r,0),A.set(a,r.length),A.set(o,r.length+a.length),g.set(i,0),g.set(n,i.length);let p;(y=e==null?void 0:e.scaleBaked)!=null&&y.some(b=>b!==1)&&(p=new kt().makeScale(...e.scaleBaked)),t&&(p?p.premultiply(t):p=t);let v=p?Nr.alloc_subdivision_surface2(m,s,m+f,l,m+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c,p.elements):Nr.alloc_subdivision_surface(m,s,m+f,l,m+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return Nr._free(m),v}static buildLevel(e,t,r,i,n){let a=n?Nr.get_mesh_data2(e,t?Nr.Level.CONTROL:Nr.Level.REFINED,r,n.elements):Nr.get_mesh_data(e,t?Nr.Level.CONTROL:Nr.Level.REFINED,r),o=8,s=Nr.HEAPU32.subarray(a>>2,(a>>2)+o),l=s.subarray(4,4+4),c=0,u=Nr.HEAPU32[s[c]>>2],d=Nr.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let h=Nr.HEAPU32[s[c]>>2],f=Nr.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let m=Nr.HEAPU32[s[c]>>2],A=Nr.HEAPU32.subarray(m>>2,(m>>2)+l[c]);c++;let g=Nr.HEAPU32[s[c]>>2],p=Nr.HEAPU32.subarray(g>>2,(g>>2)+l[c]);if(c++,i===void 0){let v=new Mr;if(v.setIndex(new Zy(p,1)),v.setAttribute("position",new sr(d,3)),v.setAttribute("normal",new sr(f,3)),t){v.setAttribute("faceMap",new Zy(A,1));let y=new Float32Array(f.length/3*4).fill(0);v.setAttribute("color",new Qr(y,4))}return Nr.free_mesh_data(a),v.userData.type="SubdivGeometry",v}i.getAttribute("position").copyArray(d),i.getAttribute("normal").copyArray(f),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,Nr.free_mesh_data(a)}static freeSubdivPointer(e){Nr.free_bvh(e),Nr.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,r){let i=Nr.get_wireframe_data_for_base_level(e),n=4,a=Nr.HEAPU32.subarray(i>>2,(i>>2)+n),o=a.subarray(2,2+2),s=0,l=Nr.HEAPU32[a[s]>>2],c=Nr.HEAPF32.subarray(l>>2,(l>>2)+o[s]);s++;let u=Nr.HEAPU32[a[s]>>2],d=Nr.HEAPU32.subarray(u>>2,(u>>2)+o[s]);if(t===void 0){let h=new Mr;h.setAttribute("position",new sr(c,3));let f=new Float32Array(c.length);for(let m=0,A=c.length;m<A;)f[m++]=r.r,f[m++]=r.g,f[m++]=r.b;return h.setAttribute("color",new Qr(f,3)),h.setIndex(new Zy(d,1)),Nr.free_wireframe_data_for_base_level(i),h}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,Nr.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,r){let i=t===0;i||Nr.set_destination_refinement_level(e,t);let n=r?Nr.get_topological_data2(e,i?Nr.Level.CONTROL:Nr.Level.REFINED,r.elements):Nr.get_topological_data(e,i?Nr.Level.CONTROL:Nr.Level.REFINED),a=6,o=Nr.HEAPU32.subarray(n>>2,(n>>2)+a),s=o.subarray(3,3+3),l=0,c=Nr.HEAPU32[o[l]>>2],u=new Float32Array(Nr.HEAPF32.subarray(c>>2,(c>>2)+s[l]));l++;let d=Nr.HEAPU32[o[l]>>2],h=new Uint32Array(Nr.HEAPU32.subarray(d>>2,(d>>2)+s[l]));l++;let f=Nr.HEAPU32[o[l]>>2],m=new Uint8Array(Nr.HEAPU32.subarray(f>>2,(f>>2)+s[l]));return Nr.free_topological_data(n),{positions:u,indices:h,verticesPerFace:m}}},bK=["getX","getY","getZ"];function U3(e,t){let r={},i=t?t.count:e.count,n=0,a=[],o=[],s=1e4;for(let c=0;c<i;c++){let u=t?t.getX(c):c,d="";for(let h=0;h<3;h++)d+=`${~~(e[bK[h]](u)*s)},`;if(d in r)a.push(r[d]);else{for(let h=0;h<3;h++)o.push(e[bK[h]](u));r[d]=n,a.push(n),n++}}let l=[];for(let c=0;c<a.length;c+=3)a[c]===a[c+1]||a[c]===a[c+2]||a[c+1]===a[c+2]||l.push(a[c],a[c+1],a[c+2]);return{positions:o,triIndices:l}}var fB=new q,iI=new q,nI=new q,aI=new q;function dce(e,t,r,i){let n=[],a=[];if(r.userData.shape!==void 0&&r.userData.parameters.depth===0&&r.userData.shape.shapeHoles.length===0){let l=r.userData.shape.extractShapePointsToFlatArray([]),c=r.userData.parameters.spikes;if(r.userData.type==="EllipseGeometry"&&c<=24&&c%4===0&&r.userData.parameters.angle>=360){let h=l.length/2/c;l=l.filter((f,m)=>Math.floor(m/2)%h===0)}let u=0;for(let h=0;h<l.length;h+=2)u+=(l[h]-l[(h===0?l.length:h)-2])*(l[h+1]+l[(h===0?l.length:h)-1]);e.length=0;let d=0;if(u<0)for(let h=0;h<l.length;h+=2)e.push(l[h],l[h+1],0),n.push(d++);else for(let h=l.length-2;h>=0;h-=2)e.push(l[h],l[h+1],0),n.push(d++);return a.push(d),{indices:n,verticesPerFace:a}}let o=new Float32Array([r.userData.parameters.depth])[0],s=0;for(;s<t.length;){if(r.useNgonForTopBottomFaceDuringBake){let l=0;if((e[t[s]*3+2]===o||e[t[s]*3+2]===0)&&l++,(e[t[s+1]*3+2]===o||e[t[s+1]*3+2]===0)&&l++,(e[t[s+2]*3+2]===o||e[t[s+2]*3+2]===0)&&l++,l===3)break}if(t[s+1]===t[s+3]&&t[s+2]===t[s+5]||t[s+0]===t[s+3]&&t[s+2]===t[s+4]){fB.set(e[t[s]*3],e[t[s]*3+1],e[t[s]*3+2]),iI.set(e[t[s+1]*3],e[t[s+1]*3+1],e[t[s+1]*3+2]),nI.set(e[t[s+4]*3],e[t[s+4]*3+1],e[t[s+4]*3+2]),aI.set(e[t[s+5]*3],e[t[s+5]*3+1],e[t[s+5]*3+2]),iI.sub(fB).normalize(),nI.sub(fB).normalize(),aI.sub(fB).normalize();let l=iI.cross(nI).dot(aI);Math.abs(l)>.005||i&&i.some((c,u)=>u%2===1?!1:s>=i[u]&&s<i[u+1])?(n.push(t[s],t[s+1],t[s+2]),a.push(3),s+=3):(n.push(t[s],t[s+1],t[s+4],t[s+5]),a.push(4),s+=6)}else n.push(t[s],t[s+1],t[s+2]),a.push(3),s+=3}if(r.useNgonForTopBottomFaceDuringBake){let l=[],c=[],u=0;for(let d=0,h=0;d<e.length;d+=3,h++)e[d+2]===0&&(l.push(h),u++),e[d+2]===o&&c.push(h);if(r.userData.parameters.extrudeBevelSize===0){let d=c[0];c[0]=c[1],c[1]=d}l.reverse(),n.push(...l,...c),a.push(u,u)}return{indices:n,verticesPerFace:a}}var nf={};IDe(nf,{calcBoolean:()=>Oqe,calcBooleanTopological:()=>Tqe,freeMeshSet:()=>Lqe,getMeshSet:()=>Dqe,hasOpenEdges:()=>Iqe,transformMeshSet:()=>Fqe});var hce,Bqe=new Promise(e=>{hce=e}),pB;function Mqe(){if(pB)return pB;async function e(){let t="https://unpkg.com/@splinetool/boolean-wasm@1.9.27/build",r=Zu(()=>import("./boolean-f0a11cc6.js"),[]),[i,n]=await Promise.all([r,fetch(`${t}/boolean.wasm`).then(s=>s.arrayBuffer())]),a=i.default,o=await a({wasmBinary:n});hce(o)}return pB=e(),pB}var bi,ob;Bqe.then(e=>bi=e);function Pqe(e,t,r){let i,n;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?n=e.getClosedTorusIndicesForBooleanOrSubdiv():n=e.getIndex();let{positions:a,triIndices:o}=U3(e.getAttribute("position"),n),s;if(t&&r){let{indices:l,verticesPerFace:c}=dce(a,o,e);s=c.length,i=[];for(let u=0,d=0;u<s;u++){i.push(c[u]);for(let h=0;h<c[u];h++)i.push(l[d++])}}else{let l=o.length;i=Array(l+l/3),s=0;for(let c=0,u=0;u<i.length;)i[u++]=3,s++,i[u++]=o[c++],i[u++]=o[c++],i[u++]=o[c++]}return{positions:a,faceIndices:i,nFaces:s}}function fce(e){let t=e.length,r=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,n=Number.isInteger(e[0])?r:i,a=bi._malloc(n);return(Number.isInteger(e[0])?new Uint32Array(bi.HEAPU32.buffer,a,t):new Float32Array(bi.HEAPF32.buffer,a,t)).set(e,0),a}function pce(e){switch(e){case 0:return bi.OP.UNION;case 1:return bi.OP.INTERSECTION;case 2:return bi.OP.A_MINUS_B;case 3:return bi.OP.B_MINUS_A;case 4:return bi.OP.SYMMETRIC_DIFFERENCE;case 5:return bi.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function Tqe(e,t){ob===void 0&&(ob=bi.init_csg());let r=fce(e),i=bi.csg_calc_topological(ob,r,e.length,pce(t));bi._free(r);let n=6,a=bi.HEAPU32.subarray(i>>2,(i>>2)+n),o=a.subarray(3,3+3),s=0,l=bi.HEAPU32[a[s]>>2],c=new Float32Array(bi.HEAPF32.subarray(l>>2,(l>>2)+o[s]));s++;let u=bi.HEAPU32[a[s]>>2],d=new Uint32Array(bi.HEAPU32.subarray(u>>2,(u>>2)+o[s]));s++;let h=bi.HEAPU32[a[s]>>2],f=new Uint8Array(bi.HEAPU32.subarray(h>>2,(h>>2)+o[s]));return bi.free_mesh_data(i),{positions:c,indices:d,verticesPerFace:f}}function Oqe(e,t,r,i){ob===void 0&&(ob=bi.init_csg());let n=fce(e),a=bi.csg_calc(ob,n,e.length,i,pce(t));bi._free(n);let o=5,s=bi.HEAPU32.subarray(a>>2,(a>>2)+o),l=s.subarray(2,2+3),c=0,u=bi.HEAPU32[s[c]>>2],d=bi.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let h=bi.HEAPU32[s[c]>>2],f=bi.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let m=l[c];r.setAttribute("position",new sr(d,3)),r.setAttribute("normal",new sr(f,3));let A=bi.HEAPF32.subarray((a>>2)+5,(a>>2)+5+6);return r.boundingSphere===null&&(r.boundingSphere=new jl),r.boundingSphere.center.set(A[0],A[1],A[2]),r.boundingSphere.radius=(A[3]**2+A[4]**2+A[5]**2)**.5,r.userData.parameters={width:A[3]*2,height:A[4]*2,depth:A[5]*2},bi.free_mesh_data(a),m}function Dqe(e,t,r){if(bi===void 0)return-1;let i,n,a;if(t&&e.userData.positions!==void 0){let g=e.userData;a=g.verticesPerFace.length,i=g.positions,n=Array(g.verticesPerFace.reduce((p,v)=>p+v,0)+a);for(let p=0,v=0,y=0;p<g.verticesPerFace.length;p++){n[y++]=g.verticesPerFace[p];for(let b=0;b<g.verticesPerFace[p];b++)n[y++]=g.indices[v++]}}else({positions:i,faceIndices:n,nFaces:a}=Pqe(e,t,r));let o=i.length,s=n.length,l=i.length,c=n.length,u=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,d=l*Float32Array.BYTES_PER_ELEMENT,h=bi._malloc(u),f=new Float32Array(bi.HEAPF32.buffer,h,l),m=new Uint32Array(bi.HEAPU32.buffer,h+d,c);f.set(i,0),m.set(n,0);let A=bi.get_csg_mesh(h,o,h+d,s,a);return bi._free(h),A}function Iqe(e){return bi.has_open_edges(e)}function Fqe(e,t){bi.transform_csg_mesh(e,t.elements)}function Lqe(e){bi.free_csg_mesh(e)}var Rqe={ConeGeometry:t9e,CubeGeometry:r9e,CylinderGeometry:Hle,DodecahedronGeometry:n9e,EllipseGeometry:n6,HelixGeometry:R9e,IcosahedronGeometry:U9e,LatheGeometry:N9e,NonParametricGeometry:W9e,PolygonGeometry:ace,PyramidGeometry:G9e,RectangleGeometry:a6,SphereGeometry:X9e,PlaneGeometry:Y9e,BackdropGeometry:$9e,StarGeometry:oce,TextFrameGeometry:Z9e,TorusGeometry:eqe,TorusKnotGeometry:rqe,TriangleGeometry:iqe,PathGeometry:vqe,VectorGeometry:P0},wK=e=>Rqe[e.type].create(e);function Qv(e){return e!==null&&"booleanOp"in e}var Ace=class extends Jz(ta){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new kt}updateVisible(e){super.updateVisible(e),this.visible=!Qv(this.parent)&&this.visible,Qv(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(nf.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),Qv(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof Ace&&(e.freeBooleanPointer(),Qv(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let r=super.updateTransformState(e,t);return r&&Qv(this.parent)&&this.invalidateDownstreamBooleanData(!0),r}onVariableUpdate(e=!1){super.onVariableUpdate(e),Qv(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},AB=new Fa;function o6(e,t=0,r=e.count,i,n){let a=1/0,o=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=t;d<r;d++){let h=e.getX(d),f=e.getY(d),m=e.getZ(d);h<a&&(a=h),f<o&&(o=f),m<s&&(s=m),h>l&&(l=h),f>c&&(c=f),m>u&&(u=m)}AB.min.set(a,o,s),AB.max.set(l,c,u),AB.getCenter(i),AB.getSize(n).multiplyScalar(.5)}var Uqe=new Mr,Nqe=new jf,ll=class extends Ace{constructor(e,t){super(Uqe,Nqe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?o6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},rA=class{constructor(e){if(this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},rA.uuidContext===null)throw new Error("plz startContext");rA.uuidContext===rA.globalContext?this.uuid="_gid"+rA.uuidContext.nodeContextUuid++:this.uuid="_uid"+rA.uuidContext.nodeContextUuid++,this.type=e,this.name=""}static startContext(e){this.uuidContext===null||this.uuidContext===rA.globalContext?this.uuidContext=e:console.error("Can't start context twice")}static endContext(e){this.uuidContext!==e&&console.error("Can't end context twice"),this.uuidContext=null}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,r){return r=r??{},this.analyze(e,r),this.flow(e,t,r)}flow(e,t,r){r=r??{},e.addFlow(r.slot,r.cache,r.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,r){t=t??this.getType(e,t);let i=e.getNodeData(r??this);return e.analyzing&&this.appendDepsNode(e,i,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,r)}updateFrame(e){}generateReadonly(e,t,r,i,n,a){return""}generate(e,t,r,i,n){return""}parse(e,t,r,i){}appendDepsNode(e,t,r){t.deps=(t.deps||0)+1;let i=e.getTypeLength(r);(i>(t.outputMax||0)||this.getType(e,r))&&(t.outputMax=i,t.output=r)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}},so=rA;so.globalContext={nodeContextUuid:0},so.uuidContext=rA.globalContext;var xK=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},kqe=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,r){r=r!==void 0?r:!0,this.keywords[e]={callback:t,cache:r}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},Dl=new kqe,mn=class extends so{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,r,i){if(t=t??this.getType(e),this.getShared(e,t)){let n=this.getUnique(e,t);n&&this.uuid===void 0&&(this.uuid=fr.generateUUID()),r=e.getUUID(r??this.getUUID(),!n);let a=e.getNodeData(r),o=a.output||this.getType(e);if(e.analyzing)return(a.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,a,t),this.generate(e,t,r)):super.build(e,t,r);if(n)return a.name=a.name||super.build(e,t,r),a.name;if(!this.getLabel()&&(!this.getShared(e,o)||e.context.ignoreCache||a.deps===1))return super.build(e,t,r);r=this.getUUID(!1);let s=this.getTemp(e,r);if(s)return e.format(s,o,t);{s=super.generate(e,t,r,a.output,i);let l=this.generate(e,o,r);return e.addNodeCode(s+" = "+l+";"),e.format(s,o,t)}}return super.build(e,t,r)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let r=e.getVars()[t];return r?r.name:void 0}generate(e,t,r,i,n){return this.getShared(e,t)||console.error("TempNode is not shared"),r=r??this.uuid,e.getTempVar(r,i??this.getType(e),n,this.getLabel()).name}},Hl=class extends mn{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,r,i,n,a){r=e.getUUID(r??this.getUUID()),i=i??this.getType(e);let o=e.getNodeData(r);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,r,i,n,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(i,this,n,a,this.getLabel())),e.format(o.vertex.name,i,t)):(o.fragment||(o.fragment=e.createFragmentUniform(i,this,n,a,this.getLabel())),e.format(o.fragment.name,i,t))}},Wo=class extends Hl{constructor(t=0,r){super("v2"),this.nodeType="Vector2",this.value=t instanceof ke?t:new ke(t,r)}get x(){return this.value.x}set x(t){this.value.x=t}get y(){return this.value.y}set y(t){this.value.y=t}generateReadonly(t,r,i,n,a,o){return t.format("vec2("+this.value.x+", "+this.value.y+")",n,r)}},zc=class extends Hl{constructor(e=0,t,r){super("v3"),this.nodeType="Vector3",this.value=e instanceof q?e:new q(e,t,r)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,r,i,n,a){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},is=class extends Rr{constructor(e,t,r,i){super(e,t,r),this.isColorA=!0,this.a=i}setRGBA(e,t,r,i){super.setRGB(e,t,r),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(e){return super.equals(e)&&this.a===e.a}setStyle(e,t="srgb"){let r;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(r=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let i,n=r[1],a=r[2];switch(n){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=n==="rgba"?parseFloat(i[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=n==="hsla"?parseFloat(i[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},af=class extends Hl{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof is?e:new is(e.r,e.g,e.b,e.a)}generateReadonly(e,t,r,i,n,a){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},jqe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,CK=/[a-z_0-9]+/gi,nr=class extends mn{constructor(e,t,r,i,n){super(n),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=n===void 0,this.isInterface=!1,this.parse(e,t,r,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,r,i,n){let a,o=0,s=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;a=CK.exec(this.src);)l.push(a);for(let c=0;c<l.length;c++){let u=l[c],d=u[0],h=this.isMethod?!this.getInputByName(d):!0,f=d;if(this.keywords[d]||this.useKeywords&&h&&Dl.containsKeyword(d)){let m=this.keywords[d];if(!m){let A=Dl.getKeywordData(d);A.cache&&(m=e.keywords[d]),m=m||Dl.getKeyword(d,e),A.cache&&(e.keywords[d]=m)}f=m.build(e)}d!==f&&s[u.index+o-1]!=="."&&(s=s.substring(0,u.index+o)+f+s.substring(u.index+d.length+o),o+=f.length-d.length),this.getIncludeByName(f)===void 0&&Dl.contains(f)&&e.include(Dl.get(f))}return t==="source"?s:this.isMethod?(this.isInterface||e.include(this,void 0,s),this.name):e.format("( "+s+" )",this.getType(e),t)}parse(e,t,r,i){if(this.src=e||"",this.includes=t??[],this.extensions=r??{},this.keywords=i??{},this.isMethod){let n=jqe.exec(this.src);if(this.inputs=[],n&&n.length==4){this.type=n[1],this.name=n[2];let a=n[3].match(CK);if(a){let o=0;for(;o<a.length;){let s=a[o++],l;s==="in"||s==="out"||s==="inout"?l=a[o++]:(l=s,s="");let c=a[o++];this.inputs.push({name:c,type:l,qualifier:s})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},zqe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,gce=class extends mn{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||gce.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,r,i,n){this.src=e||"";let a,o,s="",l=zqe.exec(e);this.useDefine=n??this.src.charAt(0)==="#",l&&l.length>1?(o=l[1],a=l[2],s=l[3]):(a=this.src,o="f"),this.name=a,this.type=o,this.value=s}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,r,i,n){return e.format(this.name,this.getType(e),t)}},dn=gce;dn.PI="PI",dn.PI2="PI2",dn.RECIPROCAL_PI="RECIPROCAL_PI",dn.RECIPROCAL_PI2="RECIPROCAL_PI2",dn.LOG2="LOG2",dn.EPSILON="EPSILON";var Hqe=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),Vqe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),mce=class extends mn{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,r,i,n){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=Hqe.exec(e);if(t){let r=t[2],i;for(;i=Vqe.exec(r);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},s6=class extends mn{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let r=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+r:"vUv"+r;return e.format(i,this.getType(e),t)}};Dl.addKeyword("uv",function(){return new s6});Dl.addKeyword("uv2",function(){return new s6(1)});var cy=class extends mn{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??cy.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case td:return["Linear"];case li:return["sRGB"];default:return[]}}generate(e,t){var o;let r=this.input.build(e,"v4"),i=this.getType(e),n=cy.Nodes[this.method],a=e.include(n);if(a===cy.LINEAR_TO_LINEAR)return e.format(r,i,t);if(((o=n.inputs)==null?void 0:o.length)===2){let s=this.factor.build(e,"f");return e.format(a+"( "+r+", "+s+" )",i,t)}else return e.format(a+"( "+r+" )",i,t)}fromEncoding(e){let t=cy.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=cy.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},rh=cy;rh.Nodes={LinearToLinear:new nr(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new nr(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new nr(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},rh.LINEAR_TO_LINEAR="LinearToLinear",rh.SRGB_TO_LINEAR="sRGBToLinear",rh.LINEAR_TO_SRGB="LinearTosRGB";var Dn=class extends nr{constructor(e="",t,r,i,n){super(e,n,i,r,t),this.nodeType="Expression"}},ff=class extends Hl{constructor(e=new ia,t,r,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new s6,this.bias=r,this.project=i!==void 0?i:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let r=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),n=this.bias?this.bias.build(e,"f"):void 0;n===void 0&&e.context.bias&&(n=e.context.bias.setTexture(this).build(e,"f"));let a,o;this.project?a="texture2DProj":a=n?"tex2DBias":"tex2D",n?o=a+"( "+r+", "+i+", "+n+" )":o=a+"( "+r+", "+i+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new rh(new Dn("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,l),e.removeContext(),e.format(o,l,t)}},Ar=class extends Hl{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,r,i,n,a){return e.format(this.value+(this.value%1?"":".0"),i,t)}},_K=class extends mn{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,r,i,n){i=this.getType(e);let a=this.value,o=a.build(e,t)+"( ",s=[];if(a.inputs){for(let l=0;l<a.inputs.length;l++){let c=a.inputs[l],u=this.inputs[l]||this.inputs[c.name];s.push(u.build(e,e.getTypeByFormat(c.type)))}o+=s.join(", ")+" )"}return e.format(o,i,t)}},vce=class extends mn{constructor(e,t,r=vce.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=r}getType(e){let t=this.a.getType(e),r=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(r)>e.getTypeLength(t)?r:t}generate(e,t){let r=this.getType(e);this.type=r;let i=this.a.build(e,r),n=this.b.build(e,r);return e.format("( "+i+" "+this.op+" "+n+" )",r,t)}},_l=vce;_l.ADD="+",_l.SUB="-",_l.MUL="*",_l.DIV="/";var un=class extends mn{constructor(e,t=un.ABS,r,i){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:i=t,typeof r!="string"?this.c=r:i=r,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case un.MIX:case un.CLAMP:case un.REFRACT:case un.SMOOTHSTEP:case un.FACEFORWARD:return 3;case un.MIN:case un.MAX:case un.MOD:case un.STEP:case un.REFLECT:case un.DISTANCE:case un.DOT:case un.CROSS:case un.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),r=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>r&&t>i?this.a.getType(e):r>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case un.LENGTH:case un.DISTANCE:case un.DOT:return"f";case un.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let r,i,n,a=this.a?e.getTypeLength(this.a.getType(e)):0,o=this.b?e.getTypeLength(this.b.getType(e)):0,s=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case un.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case un.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case un.CROSS:r=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case un.STEP:r=this.a.build(e,a===1?"f":l),i=this.b.build(e,l);break;case un.MIN:case un.MAX:case un.MOD:r=this.a.build(e,l),i=this.b.build(e,o===1?"f":l);break;case un.REFRACT:r=this.a.build(e,l),i=this.b.build(e,l),n=this.c.build(e,"f");break;case un.MIX:r=this.a.build(e,l),i=this.b.build(e,l),n=this.c.build(e,s===1?"f":l);break;default:r=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(n=this.c.build(e,l));break}let u=[];u.push(r),i&&u.push(i),n&&u.push(n);let d=this.getNumInputs(e);if(u.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",c,t)}},ai=un;ai.RAD="radians",ai.DEG="degrees",ai.EXP="exp",ai.EXP2="exp2",ai.LOG="log",ai.LOG2="log2",ai.SQRT="sqrt",ai.INV_SQRT="inversesqrt",ai.FLOOR="floor",ai.CEIL="ceil",ai.NORMALIZE="normalize",ai.FRACT="fract",ai.SATURATE="saturate",ai.SIN="sin",ai.COS="cos",ai.TAN="tan",ai.ASIN="asin",ai.ACOS="acos",ai.ARCTAN="atan",ai.ABS="abs",ai.SIGN="sign",ai.LENGTH="length",ai.NEGATE="negate",ai.INVERT="invert",ai.MIN="min",ai.MAX="max",ai.MOD="mod",ai.STEP="step",ai.REFLECT="reflect",ai.DISTANCE="distance",ai.DOT="dot",ai.CROSS="cross",ai.POW="pow",ai.MIX="mix",ai.CLAMP="clamp",ai.REFRACT="refract",ai.SMOOTHSTEP="smoothstep",ai.FACEFORWARD="faceforward";var kx=class extends mn{constructor(e,t,r){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=r}bilinearCubeUV(e,t,r,i){let n=new _K(kx.Nodes.bilinearCubeUV,[t,r,i]);this.colorSpaceTL=this.colorSpaceTL??new rh(new Dn("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(n.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new rh(new Dn("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(n.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new rh(new Dn("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(n.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new rh(new Dn("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(n.build(e)+".br");let a={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(a),this.colorSpaceTLExp=new Dn(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Dn(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Dn(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Dn(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let o=new Dn("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return o.keywords.cubeUV_TL=this.colorSpaceTLExp,o.keywords.cubeUV_TR=this.colorSpaceTRExp,o.keywords.cubeUV_BL=this.colorSpaceBLExp,o.keywords.cubeUV_BR=this.colorSpaceBRExp,o.keywords.cubeUV=n,o}generate(e,t){if(e.isShader("fragment")){let r=this.uv,i=this.bias||e.context.roughness,n=new _K(kx.Nodes.roughnessToMip,[i]),a=new ai(n,kx.Nodes.m0,kx.Nodes.cubeUV_maxMipLevel,ai.CLAMP),o=new ai(a,ai.FLOOR),s=new ai(a,ai.FRACT),l=this.bilinearCubeUV(e,this.value,r,o),c=this.bilinearCubeUV(e,this.value,r,new _l(o,new Ar(1).setReadonly(!0),_l.ADD)),u=new ai(l,c,s,ai.MIX);return e.format(u.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},FU=kx;FU.Nodes=function(){let e=new mce(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new dn("float cubeUV_maxMipLevel 8.0",!0),r=new dn("float cubeUV_minMipLevel 4.0",!0),i=new dn("float cubeUV_maxTileSize 256.0",!0),n=new dn("float cubeUV_minTileSize 16.0",!0),a=new nr(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);a.useKeywords=!1;let o=new nr(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);o.useKeywords=!1;let s=new nr(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,a,o,t,r,i,n]);s.useKeywords=!1;let l=new dn("float r0 1.0",!0),c=new dn("float v0 0.339",!0),u=new dn("float m0 -2.0",!0),d=new dn("float r1 0.8",!0),h=new dn("float v1 0.276",!0),f=new dn("float m1 -1.0",!0),m=new dn("float r4 0.4",!0),A=new dn("float v4 0.046",!0),g=new dn("float m4 2.0",!0),p=new dn("float r5 0.305",!0),v=new dn("float v5 0.016",!0),y=new dn("float m5 3.0",!0),b=new dn("float r6 0.21",!0),x=new dn("float v6 0.0038",!0),w=new dn("float m6 4.0",!0),C=[l,c,u,d,h,f,m,A,g,p,v,y,b,x,w],_=new nr(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,C);return{bilinearCubeUV:s,roughnessToMip:_,m0:u,cubeUV_maxMipLevel:t}}();var uy=class extends mn{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??uy.VIEW}getShared(){return this.scope===uy.WORLD}build(e,t,r,i){let n=e.context[this.scope+"Normal"];return n?n.build(e,t,r,i):super.build(e,t,r)}generate(e,t,r,i,n){let a;switch(this.scope){case uy.VIEW:e.isShader("vertex")?a="transformedNormal":a="geometryNormal";break;case uy.LOCAL:e.isShader("vertex")?a="objectNormal":(e.requires.normal=!0,a="vObjectNormal");break;case uy.WORLD:e.isShader("vertex")?a="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,a="vWNormal");break}return e.format(a,this.getType(e),t)}},Fl=uy;Fl.LOCAL="local",Fl.WORLD="world",Fl.VIEW="view",Fl.NORMAL="normal";Dl.addKeyword("viewNormal",function(){return new Fl(Fl.VIEW)});Dl.addKeyword("localNormal",function(){return new Fl(Fl.NORMAL)});Dl.addKeyword("worldNormal",function(){return new Fl(Fl.WORLD)});var Zh=class extends mn{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??Zh.LOCAL}getType(){switch(this.scope){case Zh.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case Zh.LOCAL:case Zh.WORLD:return!1}return!0}generate(e,t,r,i,n){let a;switch(this.scope){case Zh.LOCAL:e.isShader("vertex")?a="transformed":(e.requires.position=!0,a="vPosition");break;case Zh.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,a="vWPosition";break;case Zh.VIEW:a=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case Zh.PROJECTION:a=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(a,this.getType(),t)}},Wu=Zh;Wu.LOCAL="local",Wu.WORLD="world",Wu.VIEW="view",Wu.PROJECTION="projection";Dl.addKeyword("position",function(){return new Wu});Dl.addKeyword("worldPosition",function(){return new Wu(Wu.WORLD)});Dl.addKeyword("viewPosition",function(){return new Wu(Wu.VIEW)});var jd=class extends mn{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??jd.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case jd.SPHERE:return"v2"}return this.type}generate(e,t){let r=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case jd.VECTOR:{let n=new Fl(Fl.VIEW),a=e.context.roughness,o=n.build(e,"v3"),s=new Wu(Wu.VIEW).build(e,"v3"),l=a?a.build(e,"f"):void 0,c=`reflect( -normalize( ${s} ), ${o} )`;l&&(c=`normalize( mix( ${c}, ${o}, ${l} * ${l} ) )`);let u=`inverseTransformDirection( ${c}, viewMatrix )`;r?(e.addNodeCode(`vec3 reflectVec = ${u};`),i="reflectVec"):i=u;break}case jd.CUBE:{let n=new jd(jd.VECTOR).build(e,"v3"),a="vec3( -"+n+".x, "+n+".yz )";r?(e.addNodeCode(`vec3 reflectCubeVec = ${a};`),i="reflectCubeVec"):i=a;break}case jd.SPHERE:{let n="normalize( ( viewMatrix * vec4( "+new jd(jd.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";r?(e.addNodeCode(`vec2 reflectSphereVec = ${n};`),i="reflectSphereVec"):i=n;break}}return e.format(i,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},sb=jd;sb.CUBE="cube",sb.SPHERE="sphere",sb.VECTOR="vector";var Qqe=class extends mn{constructor(e=new ff,t,r){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new FU(this.value,t??new sb(sb.VECTOR),r),this.irradianceNode=new FU(this.value,new Fl(Fl.WORLD),new Ar(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},Wqe=class extends Hl{constructor(e=new uz,t,r){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new sb,this.bias=r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var l;if(t==="samplerCube")return this.getTexture(e,t);let r=this.getTexture(e,t),i=(l=this.uv)==null?void 0:l.build(e,"v3"),n=this.bias?this.bias.build(e,"f"):void 0;n===void 0&&e.context.bias&&(n=e.context.bias.setTexture(this).build(e,"f"));let a;n?a="texCubeBias( "+r+", "+i+", "+n+" )":a="texCube( "+r+", "+i+" )";let o={include:e.isShader("vertex"),ignoreCache:!0},s=this.getType(e);return e.addContext(o),this.colorSpace=this.colorSpace??new rh(new Dn("",s)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(a),a=this.colorSpace.build(e,s),e.removeContext(),e.format(a,s,t)}},Gqe=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,qqe=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,Kqe=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,Xqe=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,Yqe=`
layout(location = 1) out vec4 gVelocity;
`,$qe=`
    // Discard fully transparent pixels 
    if (gl_FragColor.a <= 0.0) discard;

    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);
`,SK=["x","y","z","w"],Jqe=["float","vec2","vec3","vec4"],Zqe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},eKe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},yce=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,r){return t.deps.length-r.deps.length}return function(t,r){let i=this.getIncludes(t,r);if(!i)return"";let n="";i=i.sort(e);for(let a=0;a<i.length;a++)i[a].src&&(n+=i[a].src+`
`);return n}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(Gqe),this.addFragmentParsCode(qqe),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let r=0;r<this.requires.uv.length;r++)if(this.requires.uv[r]){let i=r>0?r+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),r>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(Kqe),this.addFragmentFinalCode(Xqe)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,r){return this.addSlot(e).addCache(t).addContext(r)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,r,i="varying",n="V",a=""){let o=this.getVars(i),s=o[e];if(!s){let l=o.length;s={name:r||"node"+n+l+(a?"_"+a:""),type:t},o.push(s),o[e]=s}return s}getTempVar(e,t,r,i){return this.getVar(e,t,r,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let r=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(r.name+" = "+e+";"),this.attributes[e]={varying:r,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let r="";for(let i=0,n=e.length;i<n;++i){let a=e[i],o=a.type,s=a.name,l=a.size,c=this.getFormatByType(o);if(c===void 0)throw new Error("Node pars "+c+" not found.");c.includes("[]")?r+=t+" "+c.substring(0,c.length-2)+" "+s+`[${l}];
`:r+=t+" "+c+" "+s+`;
`}return r}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof so?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,r,i,n,a){if(t.includes("[]")){let o=this.inputs.arrayUniforms,s=o.list.length,l=new xK({type:t,size:r.size,name:i||"nodeUA"+s+(a?"_"+a:""),node:r,needsUpdate:n});return o.list.push(l),o[e].push(l),o[e][l.name]=l,this.uniforms[l.name]=l,l}else{let o=this.inputs.uniforms,s=o.list.length,l=new xK({type:t,name:i||"nodeU"+s+(a?"_"+a:""),node:r,needsUpdate:n});return o.list.push(l),o[e].push(l),o[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,r,i,n){return this.createUniform("vertex",e,t,r,i,n)}createFragmentUniform(e,t,r,i,n){return this.createUniform("fragment",e,t,r,i,n)}include(e,t,r){var a;let i;if(e=typeof e=="string"?Dl.get(e):e,this.context.include===!1)return e.name;e instanceof nr?i=this.includes.functions:e instanceof dn?i=this.includes.consts:e instanceof mce&&(i=this.includes.structs);let n=i[this.shader]=i[this.shader]||[];if(e){let o=n[e.name];if(o||(o=n[e.name]={node:e,deps:[]},n.push(o),o.src=e.build(this,"source")),e instanceof nr&&t&&n[t.name]&&n[t.name].deps.indexOf(e)===-1&&(n[t.name].deps.push(e),(a=e.includes)==null?void 0:a.length)){let s=0;do this.include(e.includes[s++],t);while(s<e.includes.length)}return r&&(o.src=r),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return Jqe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!=null&&r.isNode)return r}}resolve(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!==void 0){if(r.isNode)return r;if(r.isTexture)switch(r.mapping){case a0:case o0:return new Wqe(r);case f_:return new Qqe(new ff(r));default:return new ff(r)}else{if(r.isVector2)return new Wo(r);if(r.isVector3)return new zc(r);if(r.isVector4)return new af(r)}}}}format(e,t,r){switch(this.colorToVector(r+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return Zqe[e]||e}getFormatByType(e){return eKe[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return SK[e]}getIndexByElement(e){return SK.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=td,t===td&&this.context.gamma&&(t=li),t}},ga=class extends Hl{constructor(e=0,t,r,i){super("c"),this.nodeType="Color",this.value=e instanceof is?e:new is(e||0,t,r,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,r,i,n,a){r=e.getUUID(r??this.getUUID()),i=i??this.getType(e);let o=e.getNodeData(r),s=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return s?this.generateReadonly(e,t,r,i,n,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(i,this,n,a,this.getLabel())),e.format(o.vertex.name,i,t)):(o.fragment||(o.fragment=e.createFragmentUniform(i,this,n,a,this.getLabel())),e.format(o.fragment.name,i,t))}generateReadonly(e,t,r,i,n,a){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},wn=class extends Hl{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,r,i,n,a){return e.format(this.value.toString(),i,t)}},el=class extends Hl{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,r,i){return e.format(this.value?"true":"false",i,t)}},um=class extends Hl{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},l6=class extends Hl{},tKe=class extends l6{constructor(e){super("v3"),this.image=e,this._value=new q}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},LU=class extends l6{constructor(e,t,r=1008,i=1006){super("t"),this.image=e,this.wrap=t,this.minFilter=r,this.magFilter=i}get value(){return this.image.getTexture(this.wrap,this.minFilter,this.magFilter)}},bce=class extends Hl{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new Ka}generateReadonly(e,t,r,i,n,a){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},gh=class extends Hl{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new kt}generateReadonly(e,t,r,i,n,a){return e.format("mat4("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function EK(e,t,r,i=0){e.setUvTransform(r[0],r[1],t[0],t[1],0,0,0).premultiply(new Ka().makeRotation(i*fr.DEG2RAD))}var rKe=class extends bce{constructor(e,t,r=0){super(new Ka),this.repeat=e,this.offset=t,this.rotation=r,EK(this.value,e,t,r)}updateMatrix(){EK(this.value,this.repeat,this.offset,this.rotation)}},dm=class extends Hl{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Xr?new Array(e).fill(t):new Array(e).fill(new Xr(0))}},BK=class extends mn{constructor(e,t,r,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=r,this.mode=i}generate(e,t){if(e.isShader("fragment")){let r=[];return r.push(this.a.build(e,"c")),r.push(this.b.build(e,"c")),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),e.format("spe_blend("+r.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wce=class extends mn{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(wce.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.color.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},RU=wce;RU.Nodes=function(){return{customColor:new nr(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var xce=class extends mn{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(xce.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Cce=xce;Cce.Nodes=function(){return{customNormal:new nr(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var jx=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=r,this.projection=i,this.axis=n,this.side=a,this.size=o,this.blending=s,this.mat=l,this.isMask=d,this.alpha=c,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let r=`g${this.uuid.toString().replace(/-/g,"")}`,i;switch(this.projection.value){case 3:i=e.include(jx.Nodes.cylindrical);break;case 2:i=e.include(jx.Nodes.spherical);break;case 1:let a=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],o=["zy","xz","xy"][this.axis.value],s=new nr(`
		vec3 ${r}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${o})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${a}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);i=e.include(s);break;case 4:i=e.include(jx.Nodes.triplanar);break;default:i=e.include(jx.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let n=[];if(n.push("normal"),n.push(this.texture.generate(e,"t")),n.push(this.textureSize.build(e,"v2")),n.push(this.crop.build(e,"f")),n.push(this.mat.build(e,"mat3")),n.push(this.size.build(e,"v2")),n.push(this.blending.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),this.projection.value===4){let a=`${r}_writeUvs`,o=a+"0",s=a+"1",l=a+"2",c=`${r}_triplanarWeights`;e.addFragmentVariable(o,"vec2"),e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec3"),n.push(o),n.push(s),n.push(l),n.push(c)}else{let a=`${r}_writeUvs`;e.addFragmentVariable(a,"vec2"),n.push(a)}return e.format(i+"("+n.join(",")+")",this.getType(e),t)}},c6=jx;c6.Nodes=function(){let e=new nr(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new nr(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),r=new nr(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),i=new nr(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:r,triplanar:i}}();var zx=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=r,this.far=i,this.isVector=n,this.isWorldSpace=a,this.origin=o,this.direction=s,this.colors=l,this.steps=c,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`,i=new nr(`vec3 ${r}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${r}_MAX_COLORS], float steps[${r}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${r}_IS_VECTOR
                   #ifdef ${r}_LINEAR
                       #ifdef ${r}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${r}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${r}_SMOOTH
				for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[zx.Nodes.vectorLinearWorldSpaceDepth,zx.Nodes.vectorLinearObjectSpaceDepth,zx.Nodes.vectorSphericalObjectSpaceDepth,zx.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${r}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${r}_SMOOTH`),this.isVector.value>.5&&e.define(`${r}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${r}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${r}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let n=e.include(i),a=[];return a.push(this.near.build(e,"f")),a.push(this.far.build(e,"f")),a.push(this.origin.build(e,"v3")),a.push(this.direction.build(e,"v3")),a.push(this.colors.build(e,"v4[]")),a.push(this.steps.build(e,"f[]")),a.push(this.isMask.build(e,"b")),a.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),a.push(this.alpha.build(e,"f")),a.push(this.calpha),e.format(n+"("+a.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},_ce=zx;_ce.Nodes=function(){let e=new nr(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new nr(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),r=new nr(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),i=new nr(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:r,vectorSphericalObjectSpaceDepth:i}}();var iKe=class extends mn{constructor(e,t,r,i,n,a,o,s){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=r,this.intensity=i,this.factor=n,this.isMask=s,this.alpha=a,this.mode=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=new nr(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),i=e.include(r),n=[];return n.push(this.color.build(e,"c")),n.push(this.bias.build(e,"f")),n.push(this.scale.build(e,"f")),n.push(this.intensity.build(e,"f")),n.push(this.factor.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Sce=class extends mn{constructor(e,t,r,i,n,a,o,s,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=r,this.steps=i,this.offset=n,this.morph=a,this.angle=o,this.isMask=l,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(Sce.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Ece=Sce;Ece.Nodes=function(){return{gradient:new nr(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var Bce=class extends mn{constructor(e,t,r,i,n){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=i,this.alpha=t,this.mode=r,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`,this.rotation=n}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include(Bce.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),i.push(this.rotation.build(e,"f")),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Mce=Bce;Mce.Nodes=function(){return{matcap:new nr(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha, float rotation) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) );
					uv = mat2( cos(rotation), sin(rotation), -sin(rotation), cos(rotation) ) * uv;
					uv = uv * 0.495 + 0.5;
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var u6=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(u6||{}),Ml=function(){let e=new nr(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new nr(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new dn("float F3 0.3333333"),t.keywords.G3=new dn("float G3 0.1666667");let r=new nr(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),i=new nr("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),n=new nr("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),a=new nr(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[i,n]),o=new nr("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),s=new nr("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[o]),l=new nr(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[s]),c=new nr(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[l]);c.keywords.NUM_OCTAVES=new dn("int NUM_OCTAVES 5");let u=new nr("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),d=new nr(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[i,n,u]),h=new nr(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),f=new nr(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),m=new nr(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),A=new nr(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),g=new nr(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),p=new nr(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),v=new nr(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[h,f,m,A,g,p]);return{simplex:t,simplexFractal:r,simplexAshima:a,fbm:c,perlin:d,voronoi:v}}(),Pce=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u,d,h,f,m,A,g,p,v){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=r,this.fA=i,this.fB=n,this.distortion=a,this.colorA=o,this.colorB=s,this.colorC=l,this.colorD=c,this.noiseType=d,this.voronoiStyle=f,this.highCut=m,this.lowCut=A,this.smoothness=g,this.seed=p,this.quality=v,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,r,i,n){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let a=Object.values(u6)[this.noiseType.value],o=a=="voronoi"?`
		float v = ${a}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${a}(st),
					   ${a}(st + vec3(1.0)),
					   ${a}(st + vec3(1.0)));
		vec3 r = vec3(${a}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${a}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${a}(st * q));
		float f = ${a}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,s=new nr(`vec3 ${a}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${o}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[Ml.simplex,Ml.simplexFractal,Ml.simplexAshima,Ml.fbm,Ml.perlin,Ml.voronoi]),l=e.include(s),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.voronoiStyle.build(e,"i")),c.push(this.highCut.build(e,"f")),c.push(this.lowCut.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.seed.build(e,"f")),c.push(this.quality.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}};Pce.numOctaves=5;var Tce=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u,d,h,f,m,A){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=r,this.contourWidth=i,this.contourThreshold=n,this.outlineThreshold=a,this.contourFrequency=o,this.outlineSmoothing=s,this.contourDirection=l,this.positionalLines=c,this.compensation=u,this.resolution=d,this.normalMap=h,this.depthMap=f,this.pixelRatio=m,this.alpha=A,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${r}_offset`),this.firstTime){let i=this.outlineWidth.build(e,"f"),n=this.resolution.build(e,"v2"),a=this.compensation.build(e,"b"),o=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(i,"uniform float"),e.addVertexParsVariable(n,"uniform vec2"),e.addVertexParsVariable(a,"uniform bool"),e.addVertexParsVariable(o,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${r}_offset = vec2(0.0);
                if (${a}) {
                    vec4 ${r}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${r}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${r}_offset = normalize(${r}_clipNormal.xy) / ${n} * (${i} / 2.0) * ${r}_clipPosition.w * 2.0 * ${o};
                    ${r}_clipPosition.xy += ${r}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${r}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(Tce.Nodes.outline),n=[];return n.push(this.outlineColor.build(e,"c")),n.push(this.contourColor.build(e,"c")),n.push(this.outlineWidth.build(e,"f")),n.push(this.contourWidth.build(e,"f")),n.push(this.contourThreshold.build(e,"f")),n.push(this.outlineThreshold.build(e,"f")),n.push(this.contourFrequency.build(e,"f")),n.push(this.outlineSmoothing.build(e,"f")),n.push(this.contourDirection.build(e,"v3")),n.push(this.positionalLines.build(e,"b")),n.push(this.resolution.build(e,"v2")),n.push(this.normalMap.getTexture(e,"t")),n.push(this.depthMap.getTexture(e,"t")),n.push(this.pixelRatio.build(e,"f")),n.push(this.compensation.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},Oce=Tce;Oce.Nodes=function(){let e=new nr(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new nr(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var ef=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u,d,h,f,m,A,g,p){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=r,this.blending=i,this.offset=n,this.colorA=a,this.colorB=o,this.frequency=s,this.size=l,this.variation=c,this.smoothness=u,this.zigzag=d,this.rotation=h,this.vertical=f,this.horizontal=m,this.sides=A,this.isMask=p,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let r;switch(this.style.value){case 0:r="circle";break;case 1:r="ring";break;case 2:r="polygon";break;case 3:r="xcross";break;case 4:r="diamond";break;case 5:r="checkerboard";break;case 6:r="line";break;case 7:r="wave";break;default:r="circle";break}let i=`g${this.uuid.toString().replace(/-/g,"")}`,n=new nr(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),a=new nr(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),o="";if(this.projection.value===4){let u=this.style.value===2?`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d=this.style.value===2?`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h=this.style.value===2?`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;o=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${u};
				float d1 = ${d};
				float d2 = ${h};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let u=this.style.value===2?`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";this.axis.value===0?d=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?d=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,d=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:break;case 2:h=`
							vec3 p = position;
							${d}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break}o=`
				vec2 custom_uv;
				${h}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${u};
				`}let s=new nr(`vec3 ${i}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${o}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[a,n,ef.DrawFunctions.circle,ef.DrawFunctions.ring,ef.DrawFunctions.polygon,ef.DrawFunctions.cross,ef.DrawFunctions.diamond,ef.DrawFunctions.checkerboard,ef.DrawFunctions.line,ef.DrawFunctions.wave]),l=e.include(s),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},Dce=ef;Dce.DrawFunctions=function(){let e=new nr(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new nr(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),r=new nr(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),i=new nr(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),n=new nr(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),a=new nr(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),o=new nr(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),s=new nr(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),l=new nr(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),c=new nr(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:r,ring:i,polygon:n,cross:a,diamond:o,checkerboard:s,line:l,wave:c}}();var Ice=class extends mn{constructor(e,t,r,i,n,a,o,s){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=r,this.noiseStrength=i,this.noiseScale=n,this.offset=a,this.isMask=s,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(Ice.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Fce=Ice;Fce.Nodes=function(){let e=new nr(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[Ml.simplex]);return{rainbow:new nr(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[e])}}();var Lce=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=r,this.source=i,this.isWorldSpace=n,this.noiseStrength=a,this.noiseScale=o,this.shadowColor=s,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let r=e.include(Lce.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Rce=Lce;Rce.Nodes=function(){let e=new nr(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new nr(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),r=new nr(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),i=new nr(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),n=new nr(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[i]);return{toon:new nr(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[Ml.simplex,e,r,n])}}();var nKe=function(){return{textureBicubic:new nr(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function aKe(e,t){return e>=t?new ke(t/e,1):new ke(1,e/t)}var Uce=class extends mn{constructor(e,t,r,i,n,a,o,s){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=r,this.transmissionSamplerSize=i,this.transmissionSamplerMap=n,this.transmissionDepthMap=a,this.aspectRatio=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,kr.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let r=e.include(Uce.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Nce=Uce;Nce.Nodes=function(){let e=new nr(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new nr(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),r=new nr(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),i=new nr(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[nKe.textureBicubic,r,e]),n=new nr(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[i,t]);return{transmission:new nr(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[n])}}();var UU=(e=>(e.NOISE="noise",e.MAP="map",e))(UU||{}),kce=class extends mn{constructor(e,t,r,i,n,a,o,s,l,c,u){super("v3"),this.displacementTypeIndex=new wn(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(UU)[this.displacementTypeIndex.value]==="map"&&(this.mat=new bce(this.movementOrTexture.value.matrix)),this.cropOrOffset=r,this.scale=c,this.noiseFunctionIndex=u,this.voronoiStyle=i,this.smoothness=n,this.seed=a,this.highCut=o,this.lowCut=s,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let r,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(UU)[this.displacementTypeIndex.value]){case"map":{r=e.include(kce.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break}case"noise":{let n=Object.values(u6)[this.noiseFunctionIndex.value],a=new nr(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),o=n=="voronoi"?`
					float v = ${n}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${n}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,s=new nr(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${o}
						}`,[Ml.simplex,Ml.simplexFractal,Ml.simplexAshima,Ml.fbm,Ml.perlin,Ml.voronoi]),l=new nr(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[s,a]);r=e.include(l),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f")),i.push(this.voronoiStyle.build(e,"i")),i.push(this.smoothness.build(e,"f")),i.push(this.seed.build(e,"f")),i.push(this.highCut.build(e,"f")),i.push(this.lowCut.build(e,"f")),i.push(this.quality.build(e,"i"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},jce=kce;jce.Nodes=function(){let e=new nr(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new nr(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new nr(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var kr={normalRenderTarget:new ff,normalRenderTargetDepth:new ff,transmissionRenderTarget:new ff,aspectRatio:new Wo,transmissionSize:new Wo(2048,2048),transmissionRenderTargetDepth:new ff,aoRenderTarget:new ff,aoEnabled:new el,pixelRatioNode:new Ar(1),resolution:new Wo,penumbraSize:new um(5,.5),frameIndex:new wn(0),transmissionLod:new wn(2)};for(let e of Object.values(kr))e.isRenderGlobal=!0;var zce={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.9.27/build/ui.wasm"},d6=class extends so{constructor(){super("basic"),this.nodeType="Basic",this.color=new ga(vc),this.shadingAlpha=new Ar(1),this.shadingBlend=new wn(0),this.previousModelViewMatrix=new gh,this.previouseProjectionMatrix=new gh}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({resolution:kr.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(f1.merge([ir.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{this.color===void 0&&(this.color=new ga(vc)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let r=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,n=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=i!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let o=["#include <normal_fragment_begin>",r.code];i&&o.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),a?o.push(a.code,`vec3 outgoingLight = ${r.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`):o.push(`vec3 finalColor = ${r.result};`);let s="1.0";this.mask&&(this.mask.analyze(e),s=`luminance(${this.mask.flow(e,"v3").result})`),i?o.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} * ${s} );`):o.push("gl_FragColor = vec4("+r.result+", 1.0 );"),n&&o.push(`gl_FragColor.a *= ${n.result};`),o.push("#include <fog_fragment>","#include <dithering_fragment>"),t=o.join(`
`)}return t}},oKe=class extends so{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new ga(vc),this.emissive=new ga(0),this.emissiveIntensity=new Ar(1),this.previousModelViewMatrix=new gh,this.previouseProjectionMatrix=new gh,this.shadingAlpha=new Ar(1),this.shadingBlend=new wn(0),this.occlusion=new el(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({resolution:kr.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(f1.merge([ir.fog,ir.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),i.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:kr.penumbraSize}),e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({aoMap:kr.aoRenderTarget}),e.mergeUniform({aoEnabled:kr.aoEnabled}),this.color===void 0&&(this.color=new ga(vc)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),n=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),a=this.occlusion.flow(e,"b",{slot:"occlusion"}),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=c!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];d.push(r.code,"vec3 diffuseColor = "+r.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&d.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+n.result+";"),d.push("vec3 ao = aoEnabled && "+a.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${h}, ${s.result} );

					outgoingLight *= ao;
				}
				`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},Wb=function(){let e=new nr(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new nr(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),sKe=class extends so{constructor(){super("phong"),this.nodeType="Phong",this.color=new ga(vc),this.specular=new ga(1118481),this.shininess=new Ar(30),this.previousModelViewMatrix=new gh,this.previouseProjectionMatrix=new gh,this.shadingAlpha=new Ar(1),this.shadingBlend=new wn(0),this.occlusion=new el(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({resolution:kr.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(f1.merge([ir.fog,ir.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:kr.penumbraSize}),e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({aoMap:kr.aoRenderTarget}),e.mergeUniform({aoEnabled:kr.aoEnabled}),this.color===void 0&&(this.color=new ga(vc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let r=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),a=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=c!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(Wb.dHdxy),e.include(Wb.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),m=this.bumpMap.flow(e,"v3"),A=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${f.result}, uv0, ${A});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${f.result}, uv1, ${A});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${f.result}, uv2, ${A});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${A});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${m.result};
					${g}
					`)}d.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",n.code,"	vec3 specular = "+n.result+";",a.code,"	float shininess = max( 0.0001, "+a.result+" );","	float specularStrength = 1.0;"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+r.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${h}, ${s.result} );
					
					outgoingLight *= ao;
				}
				`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},lKe=class extends so{constructor(){super("standard"),this.nodeType="Standard",this.color=new ga(vc),this.roughness=new Ar(.3),this.metalness=new Ar(0),this.reflectivity=new Ar(.5),this.previousModelViewMatrix=new gh,this.previouseProjectionMatrix=new gh,this.shadingAlpha=new Ar(1),this.shadingBlend=new wn(0),this.occlusion=new el(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({resolution:kr.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(f1.merge([ir.fog,ir.lights])),ir.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:kr.penumbraSize}),e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({aoMap:kr.aoRenderTarget}),e.mergeUniform({aoEnabled:kr.aoEnabled});let r={gamma:!0};this.color===void 0&&(this.color=new ga(vc)),this.color.analyze(e,{slot:"color",context:r}),this.roughness.analyze(e),this.metalness.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let n=this.color.flow(e,"c",{slot:"color",context:r}),a=this.roughness.flow(e,"f"),o=this.metalness.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=u!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let f=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(Wb.dHdxy),e.include(Wb.perturbNormalArb);let A=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),p=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",v="";this.bumpMap.projection.value===4?v=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${A.result}, uv0, ${p});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${A.result}, uv1, ${p});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${A.result}, uv2, ${p});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:v=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${A.result}, bumpMapCachedUv, ${p});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};
					${v}
					`)}if(f.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",o.code,"	float metalnessFactor = "+o.result+";"),this.roughnessMap){let A=this.roughnessMap.texture.flow(e,"t"),g=this.roughnessMap.flow(e,"v3"),p="";this.roughnessMap.projection.value===4?p=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${A.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${A.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${A.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${a.result};
					`:p=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${A.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${a.result};
					`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};

					const float roughnessScale = 1.0;

					${p}
				`)}else f.push(a.code,"	float roughnessFactor = "+a.result+";");u&&f.push(u.code,"#ifdef ALPHATEST","	if ( "+u.result+" <= ALPHATEST ) discard;","#endif"),f.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),f.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?f.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):f.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),f.push("#include <lights_fragment_begin>"),f.push("#include <lights_fragment_end>"),f.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let m="1.0";this.mask&&(this.mask.analyze(e),m=`luminance(${this.mask.flow(e,"v3").result})`),f.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${m} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${m}, ${l.result} );
					
					outgoingLight *= ao;
				}
				`),c&&f.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),u?f.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):f.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&f.push(`gl_FragColor.a *= ${d.result};`),f.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=f.join(`
`)}return t}},cKe=class extends so{constructor(){super("toon"),this.nodeType="Toon",this.color=new ga(vc),this.specular=new ga(1118481),this.shininess=new Ar(30),this.previousModelViewMatrix=new gh,this.previouseProjectionMatrix=new gh,this.shadingAlpha=new Ar(1),this.shadingBlend=new wn(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({resolution:kr.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(f1.merge([ir.fog,ir.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:kr.penumbraSize}),e.mergeUniform({frameIndex:kr.frameIndex}),e.mergeUniform({aoMap:kr.aoRenderTarget}),e.mergeUniform({aoEnabled:kr.aoEnabled}),this.color===void 0&&(this.color=new ga(vc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),n=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(Wb.dHdxy),e.include(Wb.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),f=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",A="";this.bumpMap.projection.value===4?A=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:A=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${f.result};
					${A}
					`)}u.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"	vec3 specular = "+i.result+";",n.code,"	float shininess = max( 0.0001, "+n.result+" );","	float specularStrength = 1.0;"),l&&u.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${d} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${d}, ${o.result} );
				}
				`),s&&u.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),l?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&u.push(`gl_FragColor.a *= ${c.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},uKe=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){var t;return(t=this.cache.get(e))==null?void 0:t.data}load(e){let t=Date.now(),r=this.cache.get(e);return r===void 0?(r={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,r)):(r.time=t,r.prev.next=r.next,r.next.prev=r.prev),r.prev=this.tail.prev,r.next=this.tail,this.tail.prev.next=r,this.tail.prev=r,this.scheduleCleanup(),r.data}},dKe=class extends uKe{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},oI;function hKe(e){return typeof e=="string"?e:(oI||(oI=new dKe),oI.load(e))}var fKe=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},pKe=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},Hce=class extends fKe{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isBuffer=!1,this._cache={[1e3]:{},[1001]:{},[1002]:{}},this.isVideo=e.type==="video",this.isBuffer=e.isWebGLRenderTarget===!0,this.loadPromise=this.updateSrc(this.isBuffer?e:e.data)}async updateSrc(e){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;for(let i of Object.values(this._cache))for(let n of Object.values(i))for(let a of Object.values(n))a&&(a.image=this.img,a.needsUpdate=!0);this.shared.requestRender()};if(this.isBuffer)this.img=e,this.loaded=!0;else if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var r=new FileReader;r.readAsDataURL(new Blob([e],{type:"video/mp4"}));let i;await new Promise(n=>{r.onloadend=a=>{var o;i=(o=a.target)==null?void 0:o.result,n(null)}}),this.img.src=i}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=hKe(e),this.img.onload=t,await new Promise(i=>{this.img.onload=()=>{t(),i(null)}})}getTexture(e,t=1008,r=1006){var n,a;let i=(a=(n=this._cache[e])==null?void 0:n[t])==null?void 0:a[r];if(i)return i;{let o;return this.isBuffer?o=this.img.texture:this.isVideo?o=new $Ue(this.img,void 0,e,e):o=new ia(this.img,void 0,e,e,r,t),this.loaded&&(o.needsUpdate=!0),this._cache[e]===void 0&&(this._cache[e]={}),this._cache[e][t]===void 0&&(this._cache[e][t]={}),this._cache[e][t][r]=o,o}}setNeedsUpdate(e){for(let t of Object.values(this._cache))for(let r of Object.values(t))for(let i of Object.values(r))i&&(i.needsUpdate=e)}disposeTextures(){for(let[e,t]of Object.entries(this._cache))for(let[r,i]of Object.entries(t))for(let[n,a]of Object.entries(i))a==null||a.dispose(),this._cache[e]!==void 0&&this._cache[e][r]!==void 0&&(this._cache[e][r][n]=void 0)}dispose(){super.dispose(),this.disposeTextures()}},lA=class extends Hce{};function AKe(e,t){var r=yKe(t);return r.formatToParts?mKe(r,e):vKe(r,e)}var gKe={year:0,month:1,day:2,hour:3,minute:4,second:5};function mKe(e,t){try{for(var r=e.formatToParts(t),i=[],n=0;n<r.length;n++){var a=gKe[r[n].type];a>=0&&(i[a]=parseInt(r[n].value,10))}return i}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function vKe(e,t){var r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[i[3],i[1],i[2],i[4],i[5],i[6]]}var sI={};function yKe(e){if(!sI[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";sI[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return sI[e]}function Vce(e,t,r,i,n,a,o){var s=new Date(0);return s.setUTCFullYear(e,t,r),s.setUTCHours(i,n,a,o),s}var MK=36e5,bKe=6e4,lI={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Qce(e,t,r){var i,n;if(!e||(i=lI.timezoneZ.exec(e),i))return 0;var a;if(i=lI.timezoneHH.exec(e),i)return a=parseInt(i[1],10),PK(a)?-(a*MK):NaN;if(i=lI.timezoneHHMM.exec(e),i){a=parseInt(i[1],10);var o=parseInt(i[2],10);return PK(a,o)?(n=Math.abs(a)*MK+o*bKe,a>0?-n:n):NaN}if(CKe(e)){t=new Date(t||Date.now());var s=r?t:wKe(t),l=NU(s,e),c=r?l:xKe(t,l,e);return-c}return NaN}function wKe(e){return Vce(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function NU(e,t){var r=AKe(e,t),i=Vce(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),n=e.getTime(),a=n%1e3;return n-=a>=0?a:1e3+a,i-n}function xKe(e,t,r){var i=e.getTime(),n=i-t,a=NU(new Date(n),r);if(t===a)return t;n-=a-t;var o=NU(new Date(n),r);return a===o?a:Math.max(a,o)}function PK(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var TK={};function CKe(e){if(TK[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),TK[e]=!0,!0}catch{return!1}}var _Ke=Xf(NDe(),1),OK=Xf(kDe(),1),SKe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,EKe=SKe,cI=36e5,DK=6e4,BKe=2,tl={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:EKe};function MKe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},i=r.additionalDigits==null?BKe:(0,_Ke.default)(r.additionalDigits);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=PKe(e),a=TKe(n.date,i),o=a.year,s=a.restDateString,l=OKe(s,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,d;if(n.time&&(u=DKe(n.time),isNaN(u)))return new Date(NaN);if(n.timeZone||r.timeZone){if(d=Qce(n.timeZone||r.timeZone,new Date(c+u)),isNaN(d))return new Date(NaN)}else d=(0,OK.default)(new Date(c+u)),d=(0,OK.default)(new Date(c+u+d));return new Date(c+u+d)}else return new Date(NaN)}function PKe(e){var t={},r=tl.dateTimePattern.exec(e),i;if(r?(t.date=r[1],i=r[3]):(r=tl.datePattern.exec(e),r?(t.date=r[1],i=r[2]):(t.date=null,i=e)),i){var n=tl.timeZone.exec(i);n?(t.time=i.replace(n[1],""),t.timeZone=n[1].trim()):t.time=i}return t}function TKe(e,t){var r=tl.YYY[t],i=tl.YYYYY[t],n;if(n=tl.YYYY.exec(e)||i.exec(e),n){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=tl.YY.exec(e)||r.exec(e),n){var o=n[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function OKe(e,t){if(t===null)return null;var r,i,n,a;if(e.length===0)return i=new Date(0),i.setUTCFullYear(t),i;if(r=tl.MM.exec(e),r)return i=new Date(0),n=parseInt(r[1],10)-1,FK(t,n)?(i.setUTCFullYear(t,n),i):new Date(NaN);if(r=tl.DDD.exec(e),r){i=new Date(0);var o=parseInt(r[1],10);return LKe(t,o)?(i.setUTCFullYear(t,0,o),i):new Date(NaN)}if(r=tl.MMDD.exec(e),r){i=new Date(0),n=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return FK(t,n,s)?(i.setUTCFullYear(t,n,s),i):new Date(NaN)}if(r=tl.Www.exec(e),r)return a=parseInt(r[1],10)-1,LK(t,a)?IK(t,a):new Date(NaN);if(r=tl.WwwD.exec(e),r){a=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return LK(t,a,l)?IK(t,a,l):new Date(NaN)}return null}function DKe(e){var t,r,i;if(t=tl.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),uI(r)?r%24*cI:NaN;if(t=tl.HHMM.exec(e),t)return r=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),uI(r,i)?r%24*cI+i*DK:NaN;if(t=tl.HHMMSS.exec(e),t){r=parseInt(t[1],10),i=parseInt(t[2],10);var n=parseFloat(t[3].replace(",","."));return uI(r,i,n)?r%24*cI+i*DK+n*1e3:NaN}return null}function IK(e,t,r){t=t||0,r=r||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var n=i.getUTCDay()||7,a=t*7+r+1-n;return i.setUTCDate(i.getUTCDate()+a),i}var IKe=[31,28,31,30,31,30,31,31,30,31,30,31],FKe=[31,29,31,30,31,30,31,31,30,31,30,31];function Wce(e){return e%400===0||e%4===0&&e%100!==0}function FK(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var i=Wce(e);if(i&&r>FKe[t]||!i&&r>IKe[t])return!1}return!0}function LKe(e,t){if(t<1)return!1;var r=Wce(e);return!(r&&t>366||!r&&t>365)}function LK(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function uI(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function RKe(e,t,r){var i=MKe(e,r),n=Qce(t,i,!0),a=new Date(i.getTime()-n),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function nl(e,t){return t.color(e)}function RK(e=new Date,t){let r=t.format,i=e.getSeconds(),n=e;t&&t.timeZone!==null&&(n=RKe(new Date,t.timeZone));let a=n.getHours(),o=n.getMinutes(),s;t.format12h24h==="12ampm"&&(s=a>=12?"PM":"AM");let l=a;t.format12h24h!=="24"&&(l=a%12,l===0&&(l=12));let c,u;switch(r){case"HH:mm:ss":c=[l,o,i];break;case"HH:mm":c=[l,o];break;case"HH":c=[l],s=void 0;break;case"mm":c=[o],s=void 0;break;case"ss":c=[i],s=void 0;break;case"year":u=n.getFullYear();break;case"month":u=n.getMonth()+1;break;case"dayOfYear":u=Math.floor((n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=n.getDate();break;case"secondOfDay":u=a*60*60+o*60+i;break;default:console.error("Unknown time format",r),u=0;break}return c!==void 0?{textValue:c,suffix:s}:u}function UKe(e,t){switch(e.type){case"fresnel":return jKe(e,t);case"gradient":return zKe(e,t);case"depth":return HKe(e,t);case"normal":return VKe(e,t);case"noise":return QKe(e,t);case"rainbow":return WKe(e,t);case"toon":return GKe(e,t);case"outline":return qKe(e,t);case"transmission":return KKe(e,t);case"color":return kKe(e,t);case"pattern":return XKe(e,t)}}function NKe(e){return{type:e.type}}function ld(e,t){let{alpha:r,mode:i,isMask:n}=e,a=typeof r=="string"?(Number(t.getVariable(r))??100)/100:r;return{...NKe(e),alpha:a,mode:i,isMask:n}}function kKe(e,t){return{...ld(e,t),color:nl(e.color,t)}}function jKe(e,t){let{bias:r,scale:i,intensity:n,factor:a,color:o}=e;return{...ld(e,t),color:nl(o,t),bias:r,scale:i,intensity:n,factor:a}}function zKe(e,t){let{gradientType:r,smooth:i,colors:n,steps:a,angle:o,offset:s,morph:l}=e;return{...ld(e,t),gradientType:r,smooth:i,colors:n.map(c=>new Xr(c[0],c[1],c[2],c[3])),num:n.length,steps:a,offset:new ke(...s),morph:new ke(...l),angle:o}}function HKe(e,t){let{gradientType:r,near:i,far:n,isVector:a,isWorldSpace:o,origin:s,direction:l,colors:c,steps:u,smooth:d}=e;return{...ld(e,t),gradientType:r,near:i,far:n,isVector:a,isWorldSpace:o,origin:new q(...s),direction:l?new q(...l):new q(1,0,0),colors:c.map(h=>h!==void 0?new Xr(h[0],h[1],h[2],h[3]):new Xr(0,0,0,0)),steps:u.slice(0,c.length),smooth:d}}function VKe(e,t){let{cnormal:r}=e;return{...ld(e,t),cnormal:new q(r[0],r[1],r[2])}}function QKe(e,t){return{...ld(e,t),scale:e.scale,move:e.move,fA:new ke(...e.fA),fB:new ke(...e.fB),size:new q(...e.size),distortion:new ke(...e.distortion),colorA:nl(e.colorA,t),colorB:nl(e.colorB,t),colorC:nl(e.colorC,t),colorD:nl(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}function WKe(e,t){return{...ld(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new q(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new q(...e.offset)}}function GKe(e,t){return{...ld(e,t),positioning:e.positioning,colors:e.colors.map(r=>new Xr(r[0],r[1],r[2],r[3])),num:e.colors.length,steps:e.steps,source:new q(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:nl(e.shadowColor,t),offset:new q(...e.offset)}}function qKe(e,t){return{...ld(e,t),outlineColor:nl(e.outlineColor,t),contourColor:nl(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new q(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}function KKe(e,t){return{...ld(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}function XKe(e,t){return{...ld(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new ke(...e.offset),colorA:nl(e.colorA,t),colorB:nl(e.colorB,t),frequency:new ke(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new ke(...e.vertical),horizontal:new ke(...e.horizontal),sides:e.sides}}var VP=class extends is{},YKe={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},$Ke={depth:["colors"]};function JKe(e,t,r){var a,o;if(t==="isMask")return!0;let i=YKe[e.type],n=$Ke[e.type];if(n!==void 0){let s=e.color;if(n.includes(t)){let l=(o=(a=s[t])==null?void 0:a.value)==null?void 0:o.length;if(l!==void 0&&l!==r.length)return!0}}return i!==void 0?i.includes(t):!1}function Gce(e,t,r){let i=r.uniforms[`f${r.id}_texture`];if(!i)return!1;let n=!1,a=e;if("image"in a){let o=a.image,s=t.image(o),l=i;l.image instanceof lA||l.image.deref(),l.image=s}if("video"in a){let o=a.video,s=t.video(o),l=i;l.image instanceof lA||l.image.deref(),l.image=s}if("wrapping"in a){let o=i;o.wrap=a.wrapping}if("minFilter"in a){let o=i;o.minFilter=a.minFilter}if("magFilter"in a){let o=i;o.magFilter=a.magFilter}if("rotation"in a&&r.uniforms[`f${r.id}_rotation`])return r.uniforms[`f${r.id}_rotation`].value=(a.rotation??0)*fr.DEG2RAD,n;if("repeat"in a||"offset"in a||"rotation"in a){let o="mat",s=r.uniforms[`f${r.id}_${o}`];"repeat"in a&&(s.repeat=a.repeat),"offset"in a&&(s.offset=a.offset),"rotation"in a&&(s.rotation=a.rotation??0),s.updateMatrix()}return n}function ZKe(e,t,r,i){let n=!1;for(let[a,o]of Object.entries(e)){if(a==="bumpMap"||a==="roughnessMap"){n=!0;continue}if(!a||o===void 0)continue;if(Kce(a,r,i,t)){a==="visible"&&r.type==="light"&&(n=!0);continue}r.visible=i.visible;let s=r.uniforms[`f${r.id}_${a}`];if(s&&!(s instanceof l6))switch(n=n||JKe(r,a,o),s.constructor){case ga:if(typeof o=="string"){let l=t.getColor(o);l&&(s.value=l);break}else{let l=o;s.value instanceof VP?s.value=new is(l.r,l.g,l.b,l.a):s.setRGBA(l);break}case af:if(typeof o=="string"){let l=t.getColor(o);l&&(s.value=l);break}else{let l=o;s.value instanceof VP?s.value=new is(l.r,l.g,l.b,l.a):s.value.setRGBA(l.r,l.g,l.b,l.a);break}case Wo:{let l=o;s.value.setX(l[0]),s.value.setY(l[1]);break}case zc:{let l=o;s.value.setX(l[0]),s.value.setY(l[1]),s.value.setZ(l[2]);break}case ff:{Gce(o,t,r);break}case dm:{s.value=o.map(l=>new Xr(...l));break}default:{s.value=o;break}}}return n}var u0=(e,t,r)=>Math.max(0,Math.min(1,Number(t.getVariable(typeof e=="number"?e*100:e,r)??100)/100))??1,C_=class{constructor(e,t,r,i,n){this.id=e,this.uuid=t,this.data=r,this.uniforms={};for(let a in i)this.uniforms[`f${this.id}_${a}`]=i[a];for(let a in r)Kce(a,this,r,n)}get type(){return this.data.type}static create(e,t,r,i){if(r.type==="light")return Qd.createLigherLayer(e,t,r,i);if(r.type==="texture"||r.type==="video"){let n=r.type==="texture"?i.uiBuffer(r.texture.image)??i.image(r.texture.image):i.video(r.texture.video),a=new LU(n,r.texture.wrapping,r.texture.minFilter??1008,r.texture.magFilter??1006),o=new tKe(n),s=new rKe(r.texture.repeat,r.texture.offset,r.texture.rotation??0),l=new Ar(r.crop?1:0),c=new wn(r.projection??0),u=new wn(["x","y","z"].indexOf(r.axis)??0),d=new wn(r.side??0),h=new Wo(r.size?new ke(r.size[0],r.size[1]):new ke(100,100)),f=new Ar(r.blending??0),m=new Ar(u0(r.alpha,i)),A=new wn(r.mode??0),g=new el(r.isMask??!1),p=new c6(a,o,l,c,u,d,h,f,s,m,A,g),v=new Dn(p.calpha,"f");return new ha(e,t,r,{texture:a,textureSize:o,crop:l,projection:c,axis:u,side:d,size:h,blending:f,mat:s,alpha:m,mode:A,isMask:g},p,A,v,g,i)}else if(r.type==="matcap"){let n=i.image(r.texture.image),a=new LU(n,r.texture.wrapping,r.texture.minFilter??1008,r.texture.magFilter??1006),o=new Ar(u0(r.alpha,i)),s=new wn(r.mode??0),l=new el(r.isMask??!1),c=new Ar((r.texture.rotation??0)*fr.DEG2RAD),u=new Mce(a,o,s,l,c),d=new Dn(u.calpha,"f");return new ha(e,t,r,{texture:a,alpha:o,mode:s,isMask:l,rotation:c},u,s,d,l,i)}else if(r.type==="displace")if(r.displacementType==="noise"){let n=new zc(new q(...r.offset)),a=new Ar(r.scale??10),o=new Ar(r.intensity??8),s=new Ar(r.movement??1),l=new wn(r.noiseType??0),c=new wn(r.voronoiStyle??0),u=new Ar(r.smoothness??.5),d=new Ar(r.seed??0),h=new Ar(r.highCut??1),f=new Ar(r.lowCut??0),m=new wn(r.quality??1),A=new jce(o,s,n,c,u,d,h,f,m,a,l);return new qce(e,t,r,{offset:n,scale:a,intensity:o,movement:s,noiseType:l,voronoiStyle:c,smoothness:u,seed:d,highCut:h,lowCut:f,quality:m},A,i)}else throw new Error;else return rXe(e,t,r,i)}updateByOp(e,t,r){let i=e;if(i.path[0]===void 0){if(i.type===0)return"type"in i.props||"category"in i.props||"visible"in i.props?(r.scene.markNeedsUpdateRendererDirty(),!0):ZKe(i.props,r.shared,this,t)}else if(i.path[0]==="texture")return"texture"in t||"video"in t?Gce(i.props,r.shared,this):!0;return!1}dispose(){if(eXe(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof lA||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let r=`f${this.id}_${e}`;this.hasValueByKey(r)&&t!==void 0&&(this.uniforms[r].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let r=this.getName(t);r&&e.push(r)}return e}},ha=class extends C_{constructor(t,r,i,n,a,o,s,l,c){super(t,r,i,n,c),this.params=n,this.color=a,this.mode=o,this.alpha=s,this.isMask=l}},qce=class extends C_{constructor(e,t,r,i,n,a){super(e,t,r,i,a),this.position=n}},Qd=class extends C_{constructor(e,t,r,i,n,a){super(e,t,r,n,a),this.node=i}static createLigherLayer(e,t,r,i){let n,a=new Ar(u0(r.alpha,i)),o=new wn(r.mode),s=new Ar(r.bumpMapIntensity),l=new Ar(u0(r.alphaOverride,i)),c;if(!r.visible)n=new d6,c={};else if(r.category==="lambert"){n=new oKe;let u=new ga(i.color(r.emissive)??0),d=new el(r.occlusion??!0);c={emissive:u,occlusion:d},n.emissive=u,n.occlusion=d}else if(r.category==="toon"){n=new cKe;let u=new Ar(r.shininess??30),d=new ga(i.color(r.specular)??1118481);c={shininess:u,specular:d},n.shininess=u,n.specular=d}else if(r.category==="physical"){n=new lKe;let u=new Ar(r.roughness??.3),d=new Ar(r.metalness??0),h=new Ar(r.reflectivity??.5),f=new el(r.occlusion??!0);c={roughness:u,metalness:d,reflectivity:h,occlusion:f},n.roughness=u,n.metalness=d,n.reflectivity=h,n.occlusion=f}else{n=new sKe;let u=new Ar(r.shininess??30),d=new ga(r.specular!==void 0?i.color(r.specular)??1118481:1118481),h=new el(r.occlusion??!0);c={shininess:u,specular:d,occlusion:h},n.shininess=u,n.specular=d,n.occlusion=h}return n.alpha=new Ar(1),n.shadingAlpha=a,n.shadingBlend=o,n.bumpMapIntensity=s,n.alphaOverride=l,c.alpha=n.shadingAlpha,c.mode=n.shadingBlend,c.bumpMapIntensity=n.bumpMapIntensity,c.alphaOverride=n.alphaOverride,new Qd(e,t,r,n,c,i)}get category(){return this.node.category}};function eXe(e){let t=e instanceof C_?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function Lc(e){return{alpha:new Ar(e.alpha??1),mode:new wn(e.mode??0),isMask:new el(e.isMask??!1)}}function tXe(e,t,r,i,n){switch(e.type){case"color":{let a=new ga(i.color??vc),o=Lc(i),s=new RU(a,o.alpha),l=new Dn(s.calpha,"f");return new ha(t,r,e,{color:a,...o},s,o.mode,l,o.isMask,n)}case"fresnel":{let a=new ga(i.color??16777215),o=new Ar(i.bias??.1),s=new Ar(i.scale??1),l=new Ar(i.intensity??2),c=new Ar(i.factor??1),u=Lc(i),d=new iKe(a,o,s,l,c,u.alpha,u.mode,u.isMask),h=new Dn(d.calpha,"f");return new ha(t,r,e,{color:a,bias:o,scale:s,intensity:l,factor:c,...u},d,u.mode,h,u.isMask,n)}case"rainbow":{let a=new Ar(i.filmThickness??30),o=new Ar(i.movement??0),s=new zc(i.wavelengths??new q(0,0,0)),l=new Ar(i.noiseStrength??0),c=new Ar(i.noiseScale??1),u=new zc(i.offset??new q(0,0,0)),d=Lc(i),h=new Fce(a,o,s,l,c,u,d.alpha,d.isMask),f=new Dn(h.calpha,"f");return new ha(t,r,e,{filmThickness:a,movement:o,wavelengths:s,noiseStrength:l,noiseScale:c,offset:u,...d},h,d.mode,f,d.isMask,n)}case"transmission":{let a=new Ar(i.thickness??10),o=new Ar(i.ior??1.5),s=new Ar(i.roughness??.5),l=kr.transmissionSize,c=kr.transmissionRenderTarget,u=kr.transmissionRenderTargetDepth,d=window.innerWidth,h=window.innerHeight,f=d>=h?new Wo(h/d,1):new Wo(1,d/h),m=Lc(i),A=new Nce(a,o,s,l,c,u,f,m.alpha),g=new Dn(A.calpha,"f");return new ha(t,r,e,{thickness:a,ior:o,roughness:s,aspectRatio:f,...m},A,m.mode,g,m.isMask,n)}case"toon":{let a=new wn(i.positioning??0),o;i.colors?o=new dm(i.colors.length,i.colors):(o=new dm(10,new Xr(0,0,0,1)),o.value[1]=new Xr(1,1,1,1));let s;i.steps?s=new um(i.steps.length,i.steps):(s=new um(10,1),s.value[0]=0);let l=new zc(i.source??new q(0,0,0)),c=new el(i.isWorldSpace??!0),u=new Ar(i.noiseStrength??0),d=new Ar(i.noiseScale??1),h=new af(i.shadowColor),f=new zc(i.offset??new q(0,0,0)),m=Lc(i),A=new Rce(a,o,s,l,c,u,d,h,f,m.alpha),g=new Dn(A.calpha,"f");return new ha(t,r,e,{positioning:a,colors:o,steps:s,source:l,isWorldSpace:c,noiseStrength:u,noiseScale:d,shadowColor:h,offset:f,...m},A,m.mode,g,m.isMask,n)}case"outline":{let a=new ga(i.outlineColor??16777215),o=new ga(i.contourColor??16777215),s=new Ar(i.outlineWidth??.1),l=new Ar(i.contourWidth??.1),c=new Ar(i.outlineThreshold??.1),u=new Ar(i.contourThreshold??.1),d=new Ar(i.outlineSmoothing??.1),h=new Ar(i.contourFrequency??.1),f=new zc(i.contourDirection??new q(0,1,0)),m=new el(i.positionalLines??!1),A=new el(i.compensation??!0),g=kr.normalRenderTarget,p=kr.normalRenderTargetDepth,v=kr.pixelRatioNode,y=kr.resolution,b=Lc(i),x=new Oce(a,o,s,l,c,u,d,h,f,m,A,y,g,p,v,b.alpha),w=new Dn(x.calpha,"f");return new ha(t,r,e,{outlineColor:a,contourColor:o,outlineWidth:s,contourWidth:l,outlineThreshold:c,contourThreshold:u,outlineSmoothing:d,contourFrequency:h,contourDirection:f,positionalLines:m,compensation:A,...b},x,b.mode,w,b.isMask,n)}case"depth":{let a=new wn(i.gradientType??0),o=new el(i.smooth??!1),s=new Ar(i.near??50),l=new Ar(i.far??200),c=new Ar(i.isVector??1),u=new Ar(i.isWorldSpace??0),d=new zc(i.origin??new q),h=new zc(i.direction??new q),f;i.colors?f=new dm(i.colors.length,i.colors):(f=new dm(2,new Xr(0,0,0,1)),f.value[1]=new Xr(1,1,1,1));let m;i.steps?m=new um(i.steps.length,i.steps):(m=new um(2,1),m.value[0]=0);let A=Lc(i),g=new _ce(a,o,s,l,c,u,d,h,f,m,A.alpha,A.isMask),p=new Dn(g.calpha,"f");return new ha(t,r,e,{gradientType:a,smooth:o,near:s,far:l,isVector:c,isWorldSpace:u,origin:d,direction:h,colors:f,steps:m,...A},g,A.mode,p,A.isMask,n)}case"noise":{let a=new Ar(i.scale??1),o=new zc(i.size??new q(100,100,100)),s=new Ar(i.move??1),l=new Wo(i.fA??new ke(1.7,9.2)),c=new Wo(i.fB??new ke(8.3,2.8)),u=new Wo(i.distortion??new ke(1,1)),d=new af(i.colorA),h=new af(i.colorB),f=new af(i.colorC),m=new af(i.colorD),A=new wn(i.noiseType??0),g=new wn(i.voronoiStyle??0),p=new Ar(i.highCut??1),v=new Ar(i.lowCut??0),y=new Ar(i.smoothness??.5),b=new Ar(i.seed??.5),x=new wn(i.quality??1),w=Lc(i),C=new Pce(a,o,s,l,c,u,d,h,f,m,w.alpha,A,w.isMask,g,p,v,y,b,x),_=new Dn(C.calpha,"f");return new ha(t,r,e,{scale:a,size:o,move:s,fA:l,fB:c,distortion:u,colorA:d,colorB:h,colorC:f,colorD:m,noiseType:A,...w,voronoiStyle:g,highCut:p,lowCut:v,smoothness:y,seed:b,quality:x},C,w.mode,_,w.isMask,n)}case"normal":{let a=new zc(i.cnormal??new q(1,1,1)),o=Lc(i),s=new Cce(a,o.alpha),l=new Dn(s.calpha,"f");return new ha(t,r,e,{cnormal:a,...o},s,o.mode,l,o.isMask,n)}case"gradient":{let a=new wn(i.gradientType??0),o=new el(i.smooth??!1),s;i.colors?s=new dm(i.colors.length,i.colors):(s=new dm(10,new Xr(0,0,0,1)),s.value[1]=new Xr(1,1,1,1));let l;i.steps?l=new um(i.steps.length,i.steps):(l=new um(10,1),l.value[0]=0);let c=new Wo(i.offset??new ke(0,0)),u=new Wo(i.morph??new ke(0,0)),d=new Ar(i.angle??0),h=Lc(i),f=new Ece(a,o,s,l,c,u,d,h.alpha,h.isMask),m=new Dn(f.calpha,"f");return new ha(t,r,e,{gradientType:a,smooth:o,colors:s,steps:l,offset:c,morph:u,angle:d,...h},f,h.mode,m,h.isMask,n)}case"pattern":{let a=new wn(i.style??0),o=new wn(i.projection??0),s=new wn(["x","y","z"].indexOf(i.axis)??0),l=new Ar(i.blending??0),c=new Wo(i.offset??new ke(0,0)),u=new af(i.colorA),d=new af(i.colorB),h=new Wo(i.frequency??new ke(10,10)),f=new Ar(i.size??.5),m=new Ar(i.variation??0),A=new Ar(i.smoothness??.5),g=new Ar(i.zigzag??0),p=new Ar(i.rotation??0),v=new Wo(i.vertical??new ke(0,1)),y=new Wo(i.horizontal??new ke(0,1)),b=new wn(i.sides??6),x=Lc(i),w=new Dce(a,o,s,l,c,u,d,h,f,m,A,g,p,v,y,b,x.alpha,x.isMask),C=new Dn(w.calpha,"f");return new ha(t,r,e,{style:a,projection:o,axis:s,blending:l,offset:c,colorA:u,colorB:d,frequency:h,size:f,variation:m,smoothness:A,zigzag:g,rotation:p,vertical:v,horizontal:y,sides:b,...x},w,x.mode,C,x.isMask,n)}default:{let a=new ga(1,0,0,1),o=Lc(i),s=new RU(a,o.alpha),l=new Dn(s.calpha,"f");return new ha(t,r,e,{color:a,...o},s,o.mode,l,o.isMask,n)}}}function rXe(e,t,r,i){let n=UKe(r,i);return tXe(r,e,t,n,i)}function Kce(e,t,r,i){if(r.type==="displace"&&(e==="intensity"||e==="visible")){let n=t.uniforms[`f${t.id}_intensity`];return n?(n.value=r.intensity*(r.visible?1:0),n):void 0}if(r.type!=="displace"&&(e==="alpha"||e==="visible")){let n=t.uniforms[`f${t.id}_alpha`];if(!n)return;if(n.value=u0(r.alpha,i)*(r.visible?1:0),r.type==="outline"&&e==="visible"){let a=t.uniforms[`f${t.id}_compensation`];a&&(a.value=r.compensation&&r.visible)}return n}}function Fy(e,t){let r=0,i=e.layers.find(n=>n.data.type==="light");if(i){let n=i.data,a=Number(t.getVariable(n.alphaOverride));if((typeof n.alphaOverride=="string"?a/100:n.alphaOverride)<1)return!0}for(let n of e.layers){if(n.data.type!=="displace"&&n.data.isMask)return!0;if(n.data.type!=="displace"&&"alpha"in n.data&&n.data.type!=="light"&&n.data.type!=="fresnel"&&n.data.type!=="texture"&&n.data.type!=="matcap"&&n.data.type!=="rainbow"&&n.data.type!=="outline"&&n.data.type!=="pattern"){let a=n.data.visible?n.data.alpha:0;if(typeof a=="string"&&(a=Math.max(0,Math.min(1,Number(t.getVariable(a)??100)/100))),a===1&&n.data.type==="depth"||n.data.type==="gradient"){for(let o of n.data.colors)if(o[3]<1){a=o[3];break}}else if(a===1&&n.data.type==="noise"){let o=t.color(n.data.colorA).a,s=t.color(n.data.colorB).a,l=t.color(n.data.colorC).a,c=t.color(n.data.colorD).a,u=Math.min(o,Math.min(s,Math.min(l,c)));u<1&&(a=u)}r+=(1-r)*a}}return r<1}var ng=class extends Wi{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.nodeContextUuid=0,this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return""}},iXe=class extends ng{constructor(e,t,r,i){super(),this.flatShading=e,this.side=t,this.wireframe=r,this.root=i}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,r){return this.root.getFlavor(e,t,r)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,r){this.root.updateByOp(e,t,r)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},h6=class extends ng{constructor(e,t,r=!0){super(),this.data=e,this.allowVariableSaves=r,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.needsJitter=t.shared.needsJitter,so.startContext(this),this.reset0(e,t),so.endContext(this)}get nodeMaterial(){return this}getFlavor(e,t,r){let i=r?6:(e?3:0)+t;if(i===0)return this;this.flavors===void 0&&(this.flavors=[]),i-=1;let n=this.flavors[i];return n===void 0&&(n=new iXe(e,t,r,this),n.needsJitter=this.needsJitter,this.flavors[i]=n,n.flatShading=e,n.side=t,n.updateAfterBuild()),n}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var e;return((e=this.lightLayer.getNode("occlusion"))==null?void 0:e.value)??!1}reset(e,t,r=!1){so.startContext(this),(this.data!==e||r)&&this.reset0(e,t),so.endContext(this)}reset0(e,t){this.data=e;let r=e.layers??Zo.defaultTwoLayerData("phong").layers;try{this.layers=r.map(i=>C_.create(this.layerIdGen++,i.id,i.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=Fy(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,r){if(e[0]==="alphaOverride")this.transparent=Fy(this.data,r.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let i=e[1],n=e[2];if(i&&n){let a=this.layers.find(o=>o.uuid===i);a!=null&&a.hasValue(n)&&(n==="alpha"?(this.transparent=Fy(this.data,r.shared),a.setValue(n,Math.max(0,Math.min(Number(t)/100,1)))):a.setValue(n,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(r=>r.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(r=>{"alpha"in r.data&&typeof r.data.alpha=="string"&&e.shared.getVariable(r.data.alpha,["material",this.uuid,"layer",r.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.lightLayer=this.layers.find(t=>t instanceof Qd),this.lightLayer===void 0&&(this.lightLayer=new Qd(0,"",{...Co.defaultData("light","phong"),visible:!1},new d6,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.build(),this.nodeContextUuid=0}applyTextureMaps(){let e=this.layers.find(n=>n instanceof Qd);if(!e)return;let t=e.data,r=t.bumpMap,i=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let n=0;n<this.layers.length;++n){let a=this.layers[n];a instanceof ha&&a.color instanceof c6&&(a.uuid===r&&(e.node.bumpMap=a.color),a.uuid===i&&(e.node.roughnessMap=a.color))}}updateByOp(e,t,r){if(so.startContext(this),t!==void 0?this.data=t:t=this.data,this.transparent=Fy(t,r.shared),e.path[0]==="layers"){let i=r.shared,n=e.path[1];if(n===void 0)r.scene.markNeedsUpdateRendererDirty(),this.reset0(t,r);else{e.type===0&&e.props.occlusion!==void 0&&r.scene.markNeedsUpdateRendererDirty();let a=this.layers.find(o=>o.uuid===n);if(a){let o=t.layers.data(n),s;e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?s={...e.props,alpha:u0(e.props.alpha,i,["material",this.uuid,"layer",n,"alpha"])}:s={...e.props,alphaOverride:u0(e.props.alphaOverride,i,["material",this.uuid,"alphaOverride"])}),a.updateByOp({...e,...s?{props:s}:{},path:e.path.slice(2)},o,r)&&this.reset0(t,r)}}}else this.reset0(t,r);so.endContext(this)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof ha?t.color.mask=void 0:t instanceof Qd&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof ha&&t.isMask.value&&t.data.visible&&e>0){let r=e-1,i=this.layers[r];i instanceof Qd?i.node.mask=new _l(t.color,t.alpha,_l.MUL):i instanceof ha&&(i.isMask.value||(i.color.mask=new _l(t.color,t.alpha,_l.MUL)))}}}blendColors(){let e=this.layers.findIndex(r=>r instanceof ha),t=this.layers.findIndex(r=>r instanceof Qd);if(e!==-1&&e<t){let r=this.layers[e].color;for(let i=e+1;i<t;++i){let n=this.layers[i];if(n instanceof ha){if(n.isMask.value)continue;r=new BK(r,n.color,n.alpha,n.mode)}}this.fragment.color=r}else this.fragment.color=void 0}blendAfterColors(){let e=new Dn("outgoingLight","f"),t=this.layers.findIndex(r=>r instanceof Qd);if(this.layers.length>t+1){for(let r=t+1;r<this.layers.length;++r){let i=this.layers[r];if(i instanceof ha){if(i.isMask.value)continue;e=new BK(e,i.color,i.alpha,i.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof qce);if(e.length>0){let t=e[0].position;for(let r=1;r<e.length;++r)e[r]&&(t=new _l(t,e[r].position,_l.ADD),t=new _l(t,new Ar(.5).setReadonly(!0),_l.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let r=(i,n,a)=>Math.min(Math.max(i,n),a);for(let i of this.layers)if(i.type==="displace"){let n=r(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=n}}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new yce;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof ha){let t=e.params.texture;if(t instanceof LU&&!t.image.loaded)return!1}return!0}};Object.defineProperties(ng.prototype,{properties:{get:function(){return this.fragment.properties}}});var kU=class extends h6{constructor(e,t,r){super(e,t,!1),this.uuid=r,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},UK=new Map;function nXe(e){if(typeof e=="string")return e;let t=UK.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},UK.set(e,t)),t.url}var Xce,aXe=new Promise(e=>{Xce=e}),NK=!1,gB;function oXe(){if(NK)return;if(gB)return gB;async function e(){await Zu(()=>import("./howler-e55289ca.js").then(t=>t.h),[]),Xce(window!==void 0?window:global),NK=!0}return gB=e(),gB}var Yce;aXe.then(e=>Yce=e);function sXe(e){let t=!1;return e.scene.objects.traverse((r,i)=>{if(i.events===void 0||Array.isArray(i.events)===!1)return!0;let n=[];i.events.forEach(a=>{"dragDropActions"in a.data?(n.push(...a.data.dragDropActions.drag),n.push(...a.data.dragDropActions.drop)):"inActions"in a.data?(n.push(...a.data.inActions),n.push(...a.data.outActions)):"gameActions"in a.data?(n.push(...a.data.gameActions.idle),n.push(...a.data.gameActions.move),n.push(...a.data.gameActions.jump),n.push(...a.data.gameActions.run)):"breakpoints"in a.data?a.data.breakpoints.forEach(o=>{n.push(...o.data.actions)}):"actions"in a.data&&n.push(...a.data.actions),t=t||n.some(o=>o.data.type==="Audio")})}),t}var Hx=class{constructor({src:e,volume:t,delay:r,loop:i}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let n;typeof e=="string"?n={src:e}:n={src:nXe(e),format:"wav"},this.sound=new Yce.Howl(n),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),r!==void 0&&(this.delay=r),i!==void 0&&(this.loop=i)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,r){this.sound.on(e,t,r)}off(e,t,r){this.sound.off(e,t,r)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},lXe=class{constructor(){this.type="ShapePath",this.color=new Rr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new nP,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){var r;return(r=this.currentPath)==null||r.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){var n;return(n=this.currentPath)==null||n.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,n,a){var o;return(o=this.currentPath)==null||o.bezierCurveTo(e,t,r,i,n,a),this}splineThru(e){var t;return(t=this.currentPath)==null||t.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function r(f,m,A,g){let p=f.x,v=m.x,y=A.x,b=g.x,x=f.y,w=m.y,C=A.y,_=g.y,B=(b-y)*(x-C)-(_-C)*(p-y),P=(v-p)*(x-C)-(w-x)*(p-y),M=(_-C)*(v-p)-(b-y)*(w-x),O=B/M,I=P/M;if(M===0&&B!==0||O<=0||O>=1||I<0||I>1)return null;if(B===0&&M===0){for(let F=0;F<2;F++)if(i(F===0?A:g,f,m),t.loc===e.ORIGIN){let V=F===0?A:g;return{x:V.x,y:V.y,t:t.t}}else if(t.loc===e.BETWEEN){let V=+(p+t.t*(v-p)).toPrecision(10),Y=+(x+t.t*(w-x)).toPrecision(10);return{x:V,y:Y,t:t.t}}return null}else{for(let Y=0;Y<2;Y++)if(i(Y===0?A:g,f,m),t.loc===e.ORIGIN){let j=Y===0?A:g;return{x:j.x,y:j.y,t:t.t}}let F=+(p+O*(v-p)).toPrecision(10),V=+(x+O*(w-x)).toPrecision(10);return{x:F,y:V,t:O}}}function i(f,m,A){let g=A.x-m.x,p=A.y-m.y,v=f.x-m.x,y=f.y-m.y,b=g*y-v*p;if(f.x===m.x&&f.y===m.y){t.loc=e.ORIGIN,t.t=0;return}if(f.x===A.x&&f.y===A.y){t.loc=e.DESTINATION,t.t=1;return}if(b<-Number.EPSILON){t.loc=e.LEFT;return}if(b>Number.EPSILON){t.loc=e.RIGHT;return}if(g*v<0||p*y<0){t.loc=e.BEHIND;return}if(Math.sqrt(g*g+p*p)<Math.sqrt(v*v+y*y)){t.loc=e.BEYOND;return}let x;g!==0?x=v/g:x=y/p,t.loc=e.BETWEEN,t.t=x}function n(f,m){let A=[],g=[];for(let p=1;p<f.length;p++){let v=f[p-1],y=f[p];for(let b=1;b<m.length;b++){let x=m[b-1],w=m[b],C=r(v,y,x,w);C!==null&&A.find(_=>_.t<=C.t+Number.EPSILON&&_.t>=C.t-Number.EPSILON)===void 0&&(A.push(C),g.push(new ke(C.x,C.y)))}}return g}function a(f,m,A){let g=new ke;m.getCenter(g);let p=[];return A.forEach(v=>{v.boundingBox.containsPoint(g)&&n(f,v.points).forEach(y=>{p.push({identifier:v.identifier,isCW:v.isCW,point:y})})}),p.sort((v,y)=>v.point.x-y.point.x),p}function o(f,m,A,g,p){(p==null||p==="")&&(p="nonzero");let v=new ke;f.boundingBox.getCenter(v);let y=[new ke(A,v.y),new ke(g,v.y)],b=a(y,f.boundingBox,m);b.sort((P,M)=>P.point.x-M.point.x);let x=[],w=[];b.forEach(P=>{P.identifier===f.identifier?x.push(P):w.push(P)});let C=x[0].point.x,_=[],B=0;for(;B<w.length&&w[B].point.x<C;)_.length>0&&_[_.length-1]===w[B].identifier?_.pop():_.push(w[B].identifier),B++;if(_.push(f.identifier),p==="evenodd"){let P=_.length%2===0,M=_[_.length-2];return{identifier:f.identifier,isHole:P,for:M}}else if(p==="nonzero"){let P=!0,M=null,O=null;for(let I=0;I<_.length;I++){let F=_[I];m[F]&&(P?(O=m[F].isCW,P=!1,M=F):O!==m[F].isCW&&(O=m[F].isCW,P=!0))}return{identifier:f.identifier,isHole:P,for:M}}else console.warn('fill-rule: "'+p+'" is currently not implemented.')}let s=0,l=999999999,c=-999999999,u=[];this.subPaths.forEach(f=>{let m=f.getPoints(),A=-999999999,g=999999999,p=-999999999,v=999999999;for(let y=0;y<m.length;y++){let b=m[y];b.y>A&&(A=b.y),b.y<g&&(g=b.y),b.x>p&&(p=b.x),b.x<v&&(v=b.x)}c<=p&&(c=p+1),l>=v&&(l=v-1),m.length&&u.push({curves:f.curves,points:m,isCW:ese.isClockWise(m),identifier:s++,boundingBox:new hse(new ke(v,g),new ke(p,A))})});let d=u.map(f=>{var m;return o(f,u,l,c,(m=this.userData)==null?void 0:m.style.fillRule)}),h=[];return u.forEach(f=>{let m=d[f.identifier];if(m&&!m.isHole){let A=new aP;A.curves=f.curves,d.filter(g=>(g==null?void 0:g.isHole)&&g.for===f.identifier).forEach(g=>{if(g){let p=u[g.identifier],v=new nP;v.curves=p.curves,A.holes.push(v)}}),h.push(A)}}),h}},$ce=!1,Jce,kK=new Promise(e=>{Jce=e}),jK=!1,mB;function cXe(){if($ce=!0,jK)return;if(mB)return mB;async function e(){let t=await Zu(()=>import("./opentype-fc28cde9.js"),[]);Jce(t),jK=!0}return mB=e(),mB}var uXe=class{async load(e,t,r=()=>{}){let{load:i}=await kK;i(e,(n,a)=>{n||!a?r(n??"Something went wrong"):t(a)})}async parse(e){let{parse:t,Bidi:r}=await kK;try{let i=t(e),n=new r,a=o=>i.charToGlyphIndex(o.char);return n.registerModifier("glyphIndex",null,a),n.applyFeatures(i,i.defaultRenderOptions.features),{font:i,bidi:n}}catch(i){console.error(i)}}};async function dXe(e){return await(await fetch(e)).arrayBuffer()}var hXe=new uXe;async function zK(e){let t,r,i=!1;if(e.url?(t=await dXe(e.url),r=e.url,i=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t)if($ce){let n=await hXe.parse(t);if(n)return{font:n.font,url:r,intercepted:i,arr:t,bidi:n.bidi}}else return{font:void 0,url:r,intercepted:i,arr:t,bidi:null}}function fXe(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var pXe=class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=zK(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=zK(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,r){if(!this._bidi)return[];let i=this._bidi;i.getTextGlyphs(t);let n=i.tokenizer.tokens,a=[],o=0,s=r.length===n.length;for(let l=0;l<r.length;l++){let c=r[l].index,u=String.fromCharCode(r[l].unicode),d=n[o];if(fXe(c,d)||s)a.push({char:u,index:c,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),o++;else{let h=d.char,f="",m=[d.state.glyphIndex],A=[],g=!1;for(;!g;)o++,f=t.charAt(o),h+=f,m.push(e.charToGlyphIndex(f)),A=e.stringToGlyphs(h),A.length===1&&A[0].index===c&&(g=!0),o>t.length&&(g=!0);a.push({char:u,index:c,replacements:m,replacementChars:Array.from(h)}),o++}}return a}generateShapes(e,t){if(!this._isLoaded)return;let r=this.font,i=t.fontSize/this.unitsPerEm,n=t.fontSize*t.lineHeight,a=e.map(p=>this.getTextWidth(p,t)),o=t.width,s=this.getCharWidth(`
`,t),l=t.horizontalAlign===1?s:0,c=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(a[0],o,t.horizontalAlign,e[0],s),d=this.getLineInitialOffsetY(n,e.length,t.height,i,t.verticalAlign),h=[],f=e.map(p=>[]),m=e.map(p=>[]),A;for(let p=0;p<e.length;p++){let v=e[p],y={features:{liga:!0}},b=[];try{b=r.stringToGlyphs(v,y)}catch(w){console.warn(w)}u=this.getLineInitialOffsetX(a[p],o,t.horizontalAlign,v,s);let x=[];try{x=this.reverseLigaturesTable(r,v,b)}catch(w){console.warn(w)}c=this.computeSpaceWidthForLine(e,p,t);for(let w=0;w<b.length;w++){let C=b[w],_=C.index===0?`
`:C.unicode?String.fromCharCode(C.unicode):void 0,B=x[w],P=0,M=0;w===0&&t.horizontalAlign===2&&C.leftSideBearing!==void 0&&(M=-C.leftSideBearing*i),A&&(P=r.getKerningValue(C,A)*i),u+=M+P;let O=0;if(_===`
`)O=l;else if(_===" ")O=c;else{let I=this.createPath(C,i,u,d,t);I&&(O=I.offsetX-(P+M),h.push(I.path))}if(B.replacements.length===1)m[p].push([u,d]),f[p].push(O);else{let I=B.replacements.map(j=>(r.glyphs.get(j).advanceWidth??0)*i),F=I.reduce((j,R)=>j+=R,0),V=I.map(j=>j/F),Y=u;for(let j=0;j<V.length;j++){let R=O*V[j];m[p].push([Y,d]),f[p].push(R),Y+=R}}u+=O,A=C}d-=n}let g=[];for(let p=0,v=h.length;p<v;p++)g.push(...h[p].toShapes());return{shapes:g,charWidths:f,lineWidths:a,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var e;return((e=this.font)==null?void 0:e.ascender)??0}get descender(){var e;return((e=this.font)==null?void 0:e.descender)??0}get familyName(){var e;return((e=this.font)==null?void 0:e.names.fontFamily)??""}get subfamilyName(){var e;return((e=this.font)==null?void 0:e.names.fontSubfamily)??""}get unitsPerEm(){var e;return((e=this.font)==null?void 0:e.unitsPerEm)??1}getLineInitialOffsetX(e,t,r,i,n){return(r===3||r===2)&&i.indexOf(`
`)>=0&&(e-=n),r===3?t*.5-e*.5:r===2?t-e:0}getLineInitialOffsetY(e,t,r,i,n){let a=t*e,o=Math.abs(this.ascender-this.descender)*i,s=e-o,l=-this.ascender*i-s/2;return n===3?-(r-a-l):n===2?-(r*.5-a*.5-l):l}createPath(e,t,r,i,n){var l;let a=e.getPath(r,-i,n.fontSize,{kerning:!1,letterSpacing:n.letterSpacing});if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let o=new lXe,s=(e.advanceWidth??1)*t;if(e)for(let c of a.commands){let u=(l=o.currentPath)==null?void 0:l.currentPoint;if(!(u&&c.type!=="Z"&&u.x===c.x&&-u.y===c.y))switch(c.type){case"M":o.moveTo(c.x,-c.y);break;case"L":o.lineTo(c.x,-c.y);break;case"Q":o.quadraticCurveTo(c.x1,-c.y1,c.x,-c.y);break;case"C":o.bezierCurveTo(c.x1,-c.y1,c.x2,-c.y2,c.x,-c.y);break}}return o.subPaths.forEach(c=>{let u=AXe(c.curves);u!==void 0&&c.currentPoint.distanceTo(u)>0&&c.lineTo(u.x,u.y)}),{offsetX:s+n.fontSize*n.letterSpacing,path:o}}getCharWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}getTextWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}computeSpaceWidthForLine(e,t,r){let i=this.getCharWidth(" ",r),n=e[t];if(n){let a=this.countSpaces(n.trimEnd());if(r.horizontalAlign===4&&t<e.length-1&&a){let o=r.width,s=this.getTextWidth(n,r);return(o-(s-a*i))/a}}return i}countSpaces(e){return(e.match(/ /g)||[]).length}};function AXe(e){if(e.length){let t=e[0];if(t instanceof $u)return t.v1;if(t instanceof Qu||t instanceof rg)return t.v0}}var gXe=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,r){let i=this.objects.get(e);return i===void 0?(i=this.createObject(e,t,r),this.objects.set(e,i)):i.isShared=!0,i}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let r=this.objects.get(e);if(r&&r.isShared!==!0)return this.objects.delete(e),this.objects.set(t,r),r}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let r=this.objects.get(e);t===r&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},HK=class extends gXe{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,r){let i=LC(e,t,this.flatShading,r);return i.computeBoundingSphere(),i}},mXe={markNeedsUpdateRendererDirty:()=>{}};function f6(e){return{all:e=e||new Map,on:function(t,r){var i=e.get(t);i?i.push(r):e.set(t,[r])},off:function(t,r){var i=e.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var i=e.get(t);i&&i.slice().map(function(n){n(r)}),(i=e.get("*"))&&i.slice().map(function(n){n(t,r)})}}}var vXe=class{constructor(e,t,r){var i;this.id=e,this.userAPI=t,this.result=void 0,this.error="null",this.isPrefetched=!1,this.isLoading=!1,this.isLoaded=!1,this.prefetchPromise=new Promise(n=>n()),this.emitter=f6(),((i=t==null?void 0:t.integration)==null?void 0:i.type)==="OpenAI"?this.result={content:""}:t.method==="GET"&&t.url!==""&&(this.prefetchPromise=this.prefetch(r))}async prefetch(e){await this.callUserAPI(e)}async callUserAPI(e){var t,r,i;this.emitter.emit("start",{userAPIId:this.id}),this.isLoading=!0,this.isLoading=!1;try{this.result=await CXe(this.userAPI,e),this.error="null",this.emitter.emit("success",{userAPIId:this.id})}catch(n){let a=((i=(r=(t=n.message)==null?void 0:t.split("_:_"))==null?void 0:r[0])==null?void 0:i.replace("status:",""))??"null";this.error=a,this.result=null,this.emitter.emit("error",{userAPIId:this.id})}this.isLoading=!1,this.isPrefetched=!0,this.isLoaded=!0}update(e,t){this.userAPI=e,this.userAPI.url!==""&&this.userAPI.method==="GET"&&this.prefetch(t)}retrieveValue(e){if(this.result)try{return co.zoom(this.result,e)}catch(t){console.error(t)}}retrieveZoomedKeyValues(e){if(this.result){let t=e&&e.length?co.zoom(this.result,e):this.result;if(xXe(t))return Object.entries(t);if(wXe(t))return t.map((r,i)=>[i.toString(),r]);throw bXe(t)?new Error("This path points to a value, use retrieveValue() instead. "+(e==null?void 0:e.join("."))):new Error("Path error"+(e==null?void 0:e.join(".")))}}dispose(){}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}get autostart(){return this.userAPI.autoStart}};function yXe(e){let t=new Headers;return e.headers.forEach(r=>{r.data.key!==""&&t.append(r.data.key,r.data.value)}),t}function bXe(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null}function wXe(e){return Array.isArray(e)}function xXe(e){return typeof e=="object"&&e!==null}async function CXe(e,t,r=new AbortController){var a,o;let i;if(((a=e.integration)==null?void 0:a.type)==="OpenAI"){let s=k5(e.integration.prompt===""?"":JSON.parse(e.integration.prompt),t),l=e.integration.behavior===""?"":k5(JSON.parse(e.integration.behavior),t);i=`{
			"model": "${e.integration.model}",
			"messages": [${e.integration.useBehavior?`
			{
				"role": "system",
				"content": "${l}"
			},`:""}
			{
				"role": "user",
				"content": "${s}"
			}
			]
		}`}else e.method==="POST"&&e.body&&(i=k5(JSON.parse(e.body),t));let n=await fetch(e.url,{method:e.method,headers:yXe(e),signal:r.signal,body:i});if(!n.ok)throw new Error("status:"+n.status+"_:_"+n.statusText);return((o=e.integration)==null?void 0:o.type)==="OpenAI"?{content:(await n.json()).choices[0].message.content}:await n.json()}var Zce=(e,t)=>{if(typeof e=="string"){let r=t.getVariable(e);if(r)return Zce(r,t)}return es.isBoolean(e)?es.getDisplayedValue(e).toLowerCase():es.getDisplayedValue(e)},k5=(e,t)=>e.map((r,i)=>{if("text"in r)return r.text;if("type"in r){if(r.type==="paragraph")return(i>0?`
`:"")+k5(r.children,t);if(r.type==="variable"){let n=t.getVariable(r.variableId);if(n!==void 0)return Zce(n,t)}}return""}).join(""),j5=1e3,VK=512*j5;function _Xe(e,t){let r=typeof e;return!!((t==="string"||t==="number")&&r===t||t==="boolean"&&(e==="true"||e==="false"||e===!0||e===!1)||t==="image"&&r==="string"&&e.startsWith("http"))}var SXe="https://hooks.spline.design",EXe=`${SXe}/events?hashFile=`,BXe=class{constructor(e,t){this.id=e,this.userWebhook=t,this.result=void 0,this._connected=!1,this.emitter=f6(),this.reconnectWaitFor=j5,this._onError=r=>{var i,n,a;(i=this.eventSource)==null||i.removeEventListener("message",this._onMessage),(n=this.eventSource)==null||n.removeEventListener("error",this._onError),(a=this.eventSource)==null||a.removeEventListener("open",this._onConnected),this._scheduleReconnect()},this._onConnected=r=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=j5,this._connected=!0},this._onDisconnected=()=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=j5,this._connected=!1},this._onMessage=r=>{let i=r.data,n;try{n=JSON.parse(i)}catch(a){console.error("Error parsing webhook message",a)}if(n){let a=!1;this.userWebhook.parametersSchemas.forEach(({data:o})=>{n[o.name]!==void 0&&_Xe(n[o.name],o.type)&&(this.result===void 0&&(this.result={}),this.result[o.name]=n[o.name],a=!0)}),a&&this.emitter.emit("message",{userWebhookId:this.id})}}}connect(){clearTimeout(this.scheduledReconnectHandle),this.userWebhook.url&&(this.eventSource=new EventSource(EXe+this.userWebhook.url),this.eventSource.addEventListener("message",this._onMessage),this.eventSource.addEventListener("error",this._onError),this.eventSource.addEventListener("open",this._onConnected))}disconnect(){var e,t,r,i;(e=this.eventSource)==null||e.removeEventListener("message",this._onMessage),(t=this.eventSource)==null||t.removeEventListener("error",this._onError),(r=this.eventSource)==null||r.removeEventListener("open",this._onConnected),(i=this.eventSource)==null||i.close(),this._onDisconnected(),clearTimeout(this.scheduledReconnectHandle)}_scheduleReconnect(){this.reconnectWaitFor*=2,this.reconnectWaitFor>VK&&(this.reconnectWaitFor=VK),clearTimeout(this.scheduledReconnectHandle),this.scheduledReconnectHandle=setTimeout(()=>{this.scheduledReconnectHandle=void 0,this.connect()},this.reconnectWaitFor)}update(e){this.userWebhook=e}dispose(){this._connected&&this.disconnect()}get connected(){return this._connected}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}getParametersKeys(){return this.userWebhook.parametersSchemas.map(e=>e.data.name)}getParameterValue(e){var t;if(this.getParametersKeys().includes(e)){if(this.result)return(t=this.result)==null?void 0:t[e];for(let r of this.userWebhook.parametersSchemas)if(r.data.name===e)return fU.defaultParameterValueByType(r.data.type)}}};function jU(e){return"variable_"+e}var MXe=class extends pKe{constructor(e){super(),this.shared=e}create(e){return new Hce(e,this.shared)}},p6=class{constructor(e,t={},r=!0,i=!1){if(this.data=e,this.needsJitter=r,this.enableLocalStorageForPersistentVariables=i,this.geometryCache=new HK(!0),this.geometryCache2=new HK(!1),this.imageHolderCache=new MXe(this),this.thisContext={scene:mXe,shared:this},this.deletedMaterial=new kU(Zo.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new lA(AU.emptyImage,this),this.deletedVideo=new lA(EP.defaultVideo,this),this.materials={},this.images={},this.uiBuffers={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.userAPIs={},this.userWebhooks={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[n,a]of Object.entries(t.images))this.addImage(n,a);if(t.videos)for(let[n,a]of Object.entries(t.videos))this.addVideo(n,a);if(t.audios)for(let[n,a]of Object.entries(t.audios))this.addAudio(n,a);if(t.particles)for(let[n,a]of Object.entries(t.particles))this.addParticle(n,a);this.reset(e)}setRequestRender(e){this._requestRender=e}getImageLoadPromises(){return Object.values(this.images).map(e=>e.loadPromise)}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.data=e,this.resetLib(e.lib);for(let{id:r,data:i}of e.variables)this.addVariableHolder(r,i),t&&this.updateVariableHolder(r,i);for(let[r,i]of Object.entries(e.userAPIs))this.addUserAPI(r,i);for(let[r,i]of Object.entries(e.userWebhooks))this.addUserWebhook(r,i);for(let[r,i]of Object.entries(e.images))this.addImage(r,i);for(let[r,i]of Object.entries(e.videos))this.addVideo(r,i);for(let[r,i]of Object.entries(e.colors))this.addColor(r,i);for(let[r,i]of Object.entries(e.materials))this.addMaterial(r,i);for(let[r,i]of Object.entries(e.audios))this.addAudio(r,i);for(let[r,i]of Object.entries(e.particles))this.addParticle(r,i);for(let[r,i]of Object.entries(e.fonts))this.addFont(r,i)}addMaterial(e,t){if(this.materials[e]){let r=this.materials[e];r.reset(t,this.thisContext),r.dispose()}else{let r=new kU(t,this.thisContext,e);this.materials[e]=r}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new h6(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new lA(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addUIBuffer(e,t){return this.uiBuffers[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.uiBuffers[e].updateSrc(t),!0):(this.uiBuffers[e]=new lA(t,this),!1)}uiBuffer(e){return this.uiBuffers[e]}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new lA(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new VP(t.r,t.g,t.b,t.a):this.colors[e]=new VP(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let r=this.colors[e];return this.colors[e].r=t.r??r.r,this.colors[e].g=t.g??r.g,this.colors[e].b=t.b??r.b,this.colors[e].a=t.a??r.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let r=this.getColor(e);r?t=r:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new is(0,0,0,0))}else return"a"in e?new is(e.r,e.g,e.b,e.a):new is(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof Hx)return t;{let r=new Hx({src:t.data});return this.audios[e]=r,r}}addParticle(e,t){this.particles[e]=t}getParticle(e){return this.particles[e]}deleteParticle(e){this.particles[e]&&delete this.particles[e]}deleteAudio(e){let t=this.audios[e];t&&(t instanceof Hx&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new pXe(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof Hx&&e.dispose()}),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){if(this.variables[e]===void 0){let r=t.value;if(this.enableLocalStorageForPersistentVariables&&t.persistent){let i=localStorage.getItem(jU(e));r=i!==null?JSON.parse(i):t.value}return this.variables[e]={value:r,locations:[],persistent:t.persistent},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0}return this.variables[e].value=t.value,!1}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t,this.enableLocalStorageForPersistentVariables&&this.variables[e].persistent&&localStorage.setItem(jU(e),JSON.stringify(t));let r=t;for(;typeof r=="string";)r=this.variables[r].value;let i=this.entityOpContext.scene;for(let n=this.variables[e].locations.length-1;n>=0;n--){let a=this.variables[e].locations[n];if(a[0]==="material"){let o=a[1],s=r,l={scene:i,shared:this},c=a.slice(2);i.traverseMaterial(d=>{let h=d.root??d;h.uuid===o&&h.onVariableUpdate(c,s,l)});let u=this.materials[o];u&&u.onVariableUpdate(c,s,l)}else{let o=i.find(a[0]);if(o===void 0){this.variables[e].locations.splice(n,1);continue}if(a[1]!=="geometry"&&a[1]!=="particles"){for(let s=1;s<a.length-1;s++)o=o[a[s]];a[1]==="rotation"?o[a[a.length-1]]=r*fr.DEG2RAD:o[a[a.length-1]]=r}if(o=i.find(a[0]),o.type==="ParticleEmitter"&&o.updateVariableState(r,a),Oi.is(o)){if(a[1]==="position"||a[1]==="rotation"||a[1]==="scale")o.onVariableUpdate();else if(a[1]==="geometry"){let s=o;o.component&&(s=o.component);let l=s.dataPatched;s.chooseGeoemtryCache(this).forceDelete(l.geometry),s.createGeometryDelayed(this.entityOpContext),s.onVariableUpdate(!0),s.invalidateDownstreamBooleanData(),s.instances.forEach(c=>{let u=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(u.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0),c.invalidateDownstreamBooleanData()})}}}}return this.requestRender(),!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){var r,i,n;if(Array.isArray(e)){if(e[0]==="mouse")return((r=this.mouseProperty)==null?void 0:r[e[1]])??0;if(e[0]==="raycast")return((i=this.raycastProperty)==null?void 0:i[e[1]])??0;let a=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return a.geometry.userData.parameters[e[1]];for(let o=1;o<e.length;o++)a=a[e[o]];return e[1]==="rotation"&&(a*=fr.RAD2DEG),a}for(let a in this.variables){if(t===void 0)break;let o=this.variables[a],s=(n=o.locations)==null?void 0:n.findIndex(l=>co.equal(l,t));s!==void 0&&s!==-1&&o.locations.splice(s,1)}if(typeof e=="string"){let a=e,o=e;do{if(o=a,this.variables[a]===void 0)break;let s=this.variables[a].value;t&&this.variables[o]!==void 0&&this.variables[o].locations.push(t),a=s}while(typeof a=="string");return a}else return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,r]of Object.entries(e.images))this.addImage(t,r.asset);for(let[t,r]of Object.entries(e.audios))this.addAudio(t,r.asset);for(let[t,r]of Object.entries(e.particles))this.addParticle(t,r.asset);for(let[t,r]of Object.entries(e.colors))this.addColor(t,r.asset);for(let[t,r]of Object.entries(e.fonts))this.addFont(t,r.asset);for(let[t,r]of Object.entries(e.materials))this.addMaterial(t,r.asset);for(let[t,r]of Object.entries(e.videos))this.addVideo(t,r.asset);for(let[t,r]of Object.entries(e.variables))this.addVariableHolder(t,r.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="particles"?e.path.length===1&&e.type===1?this.addParticle(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteParticle(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,r){var i,n;if(this.data=t,e.path[0]==="images")e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id);else if(e.path[0]==="videos")e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id);else if(e.path[0]==="audios")e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id);else if(e.path[0]==="particles")e.path.length===2&&e.type===0?e.props.data&&this.addParticle(e.path[1],t.particles[e.path[1]]):e.path.length===1&&e.type===1?this.addParticle(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteParticle(e.id);else if(e.path[0]==="colors")e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id);else if(e.path[0]==="materials")e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(To.drop(e,2),t.materials[e.path[1]],{shared:this,scene:r});else if(e.path[0]==="fonts")e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,r):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id);else if(e.path[0]==="variables")e.path.length===2&&e.type===0?"value"in e.props?this.updateVariable(e.path[1],e.props.value):"persistent"in e.props&&(this.variables[e.path[1]].persistent=e.props.persistent):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id);else if(e.path[0]==="userAPIs"){if(e.path.length===1&&e.type===1)this.addUserAPI(e.id,e.data);else if(e.path.length===1&&e.type===2)this.deleteUserAPI(e.id);else if(typeof e.path[1]=="string"){let a=t.userAPIs[e.path[1]];a&&((i=this.getUserAPI(e.path[1]))==null||i.update(a,this))}}else if(e.path[0]==="userWebhooks"){if(e.path.length===1&&e.type===1)this.addUserWebhook(e.id,e.data);else if(e.path.length===1&&e.type===2)this.deleteUserWebhook(e.id);else if(typeof e.path[1]=="string"){let a=t.userWebhooks[e.path[1]];a&&((n=this.getUserWebhook(e.path[1]))==null||n.update(a))}}else e.path[0]==="lib"&&this.updateLibByOp(To.drop(e,1),r)}updateFont(e,t,r){if(t.props.url){let i=this.getFont(e),n={...this.data.fonts[e],url:t.props.url};i.update(n),i.loadingPromise.then(()=>this.requestRender()),r.updateFont(e,this)}}addUserAPI(e,t){return this.userAPIs[e]?(this.userAPIs[e].update(t,this),!0):(this.userAPIs[e]=new vXe(e,t,this),!1)}getUserAPI(e){return this.userAPIs[e]}getUserAPIs(){return this.userAPIs}deleteUserAPI(e){let t=this.userAPIs[e];t&&(t.dispose(),delete this.userAPIs[e])}addUserWebhook(e,t){return this.userWebhooks[e]?(this.userWebhooks[e].update(t),!0):(this.userWebhooks[e]=new BXe(e,t),!1)}getUserWebhook(e){return this.userWebhooks[e]}getUserWebhooks(){return this.userWebhooks}deleteUserWebhook(e){let t=this.userWebhooks[e];t&&(t.dispose(),delete this.userWebhooks[e])}};new p6(Qc.emptyData());var E1=class extends ll{updateByPatchedOp(e,t,r){if(super.updateByPatchedOp(e,t,r),aWe(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[i,n]of Object.entries(e.props)){let a=r.shared.material(n);this.material[Number(i)]=a}else if(xn(e.path,["material"])&&this.material instanceof ng)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(To.drop(e,1),t.material,r);else if(xn(e.path,["materials","*"])&&Array.isArray(this.material)){let i=e.path[1];if("materials"in t&&i<this.material.length){let n=t.materials[i];typeof n!="string"&&this.material[i].updateByOp(To.drop(e,2),n,r)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){var i,n;super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let r=this.dataPatched;if(((i=e.geometry)==null?void 0:i.type)!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe),t.scene.markNeedsUpdateRendererDirty()),(((n=e.geometry)==null?void 0:n.type)==="NonParametricGeometry"||"materials"in e)&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(a=>t.shared.material(a).getFlavor(r.flatShading,r.side,r.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let a=0;a<this.material.length;a++)this.material[a]=this.material[a].getFlavor(r.flatShading,r.side,r.wireframe);else this.material=this.material.getFlavor(r.flatShading,r.side,r.wireframe)}disposeMaterial(){this.material&&$se(this.material).forEach(e=>{e instanceof ng&&(e instanceof kU||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},QK=new q,WK=new Xr,GK=new Xr,PXe=new q,qK=new kt,Ts=class extends E1{constructor(e,t,r){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new kt().fromArray(t.bindMatrix),this.bindMatrixInverse=new kt)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof Mr&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof p6){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return PP.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return PP.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),xn(e.path,["geometry"])&&this.updateByPatchedOpGeometry(To.drop(e,1),t.geometry,r)}removeInteractionGeometry(e){var t;(t=this.localGeometry)==null||t.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){var i;this.invalidateDownstreamBooleanData();let r=this.data.geometry.type;if(r==="NonParametricGeometry"||r==="SubdivGeometry"){let n=e;if(this.localGeometry===void 0){let c={...this.data.geometry,...n};this.localGeometry=LC(c,t,this.data.flatShading,this)}let a,o,s;n.scaleBaked?[a,o,s]=n.scaleBaked:{width:a,height:o,depth:s}=n;let l=this.localGeometry.userData;l.sxPrev!==void 0&&IU(this.localGeometry.attributes,a/l.sxPrev,o/l.syPrev,s/l.szPrev),l.sxPrev=a,l.syPrev=o,l.szPrev=s}else{let n={...this.data.geometry,...e};(i=this.localGeometry)==null||i.dispose(),this.localGeometry=LC(n,t,this.data.flatShading,this)}}refreshAttachedClonersInteractions(){for(let e of this.attachedSurfaceCloners)e.update()}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,r){var n;let i=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof Zs&&this.chooseGeoemtryCache(r.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(i=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(r),this.refreshAttachedPaths(r)),i||((n=r.scene)==null||n.markGeometryCacheDirty(),this.createGeometryDelayed(r)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){var e;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(((e=this.geometry.getIndex())==null?void 0:e.count)??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;this.is2DType?e.set(0,0,r.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Xr,r=this.geometry.attributes.skinWeight;for(let i=0,n=r.count;i<n;i++){t.fromBufferAttribute(r,i);let a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),r.setXYZW(i,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let r=this.skeleton;if(r===void 0)return;let i=this.geometry;WK.fromBufferAttribute(i.attributes.skinIndex,e),GK.fromBufferAttribute(i.attributes.skinWeight,e),QK.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let n=0;n<4;n++){let a=GK.getComponent(n);if(a!==0){let o=WK.getComponent(n);qK.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(PXe.copy(QK).applyMatrix4(qK),a)}}return t.applyMatrix4(this.bindMatrixInverse)}};function TXe(e){var o,s;if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,r=e.geometry.attributes,i=r.position.array,n=r.normal.array,a=new Float32Array(i.length);for(let l=0;l<i.length;l+=3){let c=`${i[l]}_${i[l+1]}_${i[l+2]}`,u=new q(n[l],n[l+1],n[l+2]);t.has(c)?(o=t.get(c))==null||o.normals.push(u):t.set(c,{normals:[u],result:new q})}t.forEach((l,c)=>{for(let u of l.normals)l.result.add(u);l.result.divideScalar(l.normals.length)});for(let l=0;l<i.length;l+=3){let c=`${i[l]}_${i[l+1]}_${i[l+2]}`,u=(s=t.get(c))==null?void 0:s.result;u&&(a[l]=u.x,a[l+1]=u.y,a[l+2]=u.z)}e.geometry.setAttribute("extrudeNormal",new sr(a,3))}function OXe(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),i=new q;for(let n=0;n<t.length;n+=3)i.set(t[n],t[n+1],t[n+2]).normalize(),r[n]=i.x,r[n+1]=i.y,r[n+2]=i.z;e.geometry.setAttribute("extrudeNormal",new sr(r,3))}function A6(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof ng)||e.material.getLayersOfType("outline").length===0)return;e instanceof Ts&&e.is2DAndNoDepth?OXe(e):TXe(e)}function g6(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),n=[fr.seededRandom(i),fr.seededRandom(i+1e4),fr.seededRandom(i+2e4)];for(let a=0;a<t.length;a++)r[a]=n[a%3];e.geometry.setAttribute("randomColor",new Qr(r,3))}var Dd=new Fa,ix=new q;function DXe(e){let t=!1;return e.scene.objects.traverse((r,i)=>{i.type==="Mesh"&&i.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var RC=class extends Ts{constructor(e,t,r){super(e,t,r),this.data=t,this.hiddenMatrixOld=new kt,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}createGeometryByControls(e){var a,o,s;if(this.skipReactionUpdate===!0)return;let t=(a=this.localGeometry)==null?void 0:a.uuid,{originalGeometry:r,subdividedGeometry:i,subdivPointer:n}=Zs.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=n,r!==void 0&&((o=this.originalGeometry)==null||o.dispose(),this.originalGeometry=r),i!==void 0&&((s=this.subdividedGeometry)==null||s.dispose(),this.subdividedGeometry=i??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,A6(this),g6(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let r=this.material;this.material=Array.isArray(r)?r.map(i=>i.getFlavor(!1,i.side,i.wireframe)):r.getFlavor(!1,r.side,r.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){Zs.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&Zs.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=Zs.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=Zs.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let r=this.localGeometry;this.localGeometry=this.originalGeometryNew,ll.prototype.raycast.call(this,e,t),this.localGeometry=r}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new jl,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,r=e.boundingSphere.center;Dd.setFromBufferAttribute(t),Dd.getCenter(r),e.boundingSphere.radius=r.distanceTo(Dd.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Dd.getSize(ix),this.hasNonUniformScale&&ix.divide(this.scale);let i={width:ix.x,height:ix.y,depth:ix.z};return this.geometry.userData.parameters=i,i}updateBoundingSphere(e){let t=this.originalGeometry;Dd.min.set(e[0],e[2],e[4]),Dd.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Dd.min.applyMatrix4(this.shearScaleInv),Dd.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new jl);let r=t.boundingSphere.center;Dd.getCenter(r),t.boundingSphere.radius=r.distanceTo(Dd.max)}freeSubdivPointer(){var e,t;this.subdivPointer&&(Zs.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(e=this.originalGeometry)==null||e.dispose(),(t=this.subdividedGeometry)==null||t.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,r){super.updateByPatchedOpGeometry(e,t,r),this.localGeometry&&this.createGeometryByControls(t)}},KK=-1,IXe=1,FXe={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},LXe={polygon_center:0,edge:1,vertex:2},vB=(e,t)=>(r,i)=>!t||r===0||e===0?0:e*i/100,si=(e,t)=>{let r=Math.abs(t),i=r*-1;return(e-KK)*(r-i)/(IXe-KK)+i};function RXe(e){let t=[],r={};for(var i=0,n=e.length;i<n;i++){var a=JSON.stringify(e[i].pos.map(o=>Math.round(o*1e4)/1e4));r[a]||(t.push(e[i]),r[a]=!0)}return t}var UXe=new q,yB=new q,NXe=new q,kXe=new q;function lb(e,t){let r=NXe.fromArray(e),i=kXe.fromArray(t);yB.copy(i).sub(r);let n=yB.length();return yB.normalize().multiplyScalar(n*.5),UXe.copy(r).add(yB).toArray()}var Kc=new Yo,bB=new q,QP=new q,ym=new q;function jXe(e){let t=[];for(let r=0;r<=e.index.count;r++)if(bB.fromArray(e.index.array,r*3),Kc.setFromAttributeAndIndices(e.attributes.position,bB.x,bB.y,bB.z),Kc.getNormal(QP),Kc.getMidpoint(ym),!(isNaN(ym.x)||isNaN(ym.y)||isNaN(ym.z))){let{a:i,b:n,c:a}=Kc,o=i.toArray(),s=n.toArray(),l=a.toArray(),c=i.distanceTo(n),u=n.distanceTo(a),d=a.distanceTo(i),h=lb(o,s),f=lb(s,l),m=lb(l,o),A=[c,u,d],g=Math.max(...A),p=A.filter(b=>Math.round(b)===Math.round(g)).length>1,v=[],y=Kc.getMidpoint(ym).toArray();g===c&&!p&&(v=[f,m,m],y=h),g===u&&!p&&(v=[h,m,m],y=f),g===d&&!p&&(v=[h,f,f],y=m),p&&(v=[h,f,m]),t.push({vertices:[o,s,l],faceCenters:v,midpoint:y,norm:Kc.getNormal(QP).toArray()})}return t}function zXe(e){let t=[],{position:r}=e.attributes;for(let i=0;i<r.count;i++){Kc.setFromAttributeAndIndices(r,i*3,i*3+1,i*3+2),Kc.getNormal(QP),Kc.getMidpoint(ym);let n=Kc.a.toArray(),a=Kc.b.toArray(),o=Kc.c.toArray();t.push({vertices:[n,a,o],faceCenters:[lb(n,a),lb(a,o),lb(o,n)],midpoint:ym.toArray(),norm:QP.toArray()})}return t}var HXe=4,VXe=.5,dI=e=>.5*(1-Math.cos(e*Math.PI)),QXe=class{constructor(){this.perlin=new Array(4095+1)}noise(e,t=0,r=0){if(this.perlin==null){this.perlin=new Array(4095+1);for(let g=0;g<4095+1;g++)this.perlin[g]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);let i=Math.floor(e),n=Math.floor(t),a=Math.floor(r),o=e-i,s=t-n,l=r-a,c,u,d=0,h=.5,f,m,A;for(let g=0;g<HXe;g++){let p=i+(n<<4)+(a<<8);c=dI(o),u=dI(s),f=this.perlin[p&4095],f+=c*(this.perlin[p+1&4095]-f),m=this.perlin[p+16&4095],m+=c*(this.perlin[p+16+1&4095]-m),f+=u*(m-f),p+=256,m=this.perlin[p&4095],m+=c*(this.perlin[p+1&4095]-m),A=this.perlin[p+16&4095],A+=c*(this.perlin[p+16+1&4095]-A),m+=u*(A-m),f+=dI(l)*(m-f),d+=f*h,h*=VXe,i<<=1,o*=2,n<<=1,s*=2,a<<=1,l*=2,o>=1&&(i++,o--),s>=1&&(n++,s--),l>=1&&(a++,l--)}return d}noiseSeed(e){let t=(()=>{let r,i;return{setSeed(n){i=r=(n??Math.random()*4294967296)>>>0},getSeed(){return r},rand(){return i=(1664525*i+1013904223)%4294967296,i/4294967296}}})();t.setSeed(e),this.perlin=new Array(4095+1);for(let r=0;r<4095+1;r++)this.perlin[r]=t.rand()}},WXe=QXe,XK=new q,YK=new kt,$K=new h1;function JK(e){let t=!1;return e.scene.objects.traverse((r,i)=>{i.type==="Mesh"&&i.geometry.type==="TextGeometry"&&(t=!0)}),t}var m6=class extends Ts{constructor(e,t,r){super(e,t,r),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var t;let e=this.dataPatched;return((t=this.font)==null?void 0:t.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign))??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var e;return(((e=this.font)==null?void 0:e.ascender)??1)*this.fontScale}get descender(){var e;return(((e=this.font)==null?void 0:e.descender)??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:r}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(YK.copy(r).invert(),$K.copy(e.ray).applyMatrix4(YK),$K.intersectBox(this.singleBBox,XK))){let i=XK.applyMatrix4(r),n=e.ray.origin.distanceTo(i);t.push({distance:n,point:i.clone(),object:this})}}},Ks=1e-4,Id,eue,tue,rue,ZK=new q,eX=new q;uce.then(e=>{Id=e,eue=[Id.get_face_center,Id.get_edge_midpoint,Id.get_vertex_position],tue=[Id.get_face_normal,Id.get_edge_normal,Id.get_vertex_normal],rue=[Id.face_count,Id.edge_count,Id.vertex_count]});var GXe=new kt,qXe=new kt,zp=new q,wB=new q,nx=new q,hI=new q,KXe=new q,XXe=new q,Qh=new WXe,Gu=class extends $z(on){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof Ps&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof Ps&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(t=0),this.parameters.type==="toObject"&&this.objectForSample){for(let i=0,n=this.children.length;i<n;++i)this.remove(this.children[0]);let r=this.children;if(r.length===t)return;if(r.length<t)for(let i=0,n=t-r.length;i<n;++i){let a=new Ps(this.object);a.expand(),this.add(a)}else for(let i=0,n=r.length-t;i<n;++i)this.remove(r[i])}else{if(this.children.length===t)return;if(this.children.length<t)for(let r=0,i=t-this.children.length;r<i;++r){let n=new Ps(this.object);n.expand(),this.add(n)}else for(let r=0,i=this.children.length-t;r<i;++r)this.remove(this.children[0])}}_updateRadial(e){let t=e.radial,r=t.start*fr.DEG2RAD,i=t.end*fr.DEG2RAD,n=r-i,a=new lo(t.rotation[0],t.rotation[1],t.rotation[2]),o;switch(t.axis){case"z":o=new q(0,0,1);break;case"y":o=new q(0,1,0);break;default:case"x":o=new q(1,0,0);break}let s=e.randomnessObject??CA.defaultData([1,1,1]).randomnessObject,l=s.noiseType==="perlin";Qh.noiseSeed(s.seed);let c=Q4((0,Jw.default)(s.seed)),u=vB(s.strength,this.parameters.randomness);for(let[d,h]of this.children.entries()){let f=d*(s.freqScale/10)+s.movement,m=l?Qh.noise(f):c(f,f),A=d+1;h.scale.x=t.scale[0]+u(A,si(m,s.scale[0]))||Ks,h.scale.y=t.scale[1]+u(A,si(m,s.scale[1]))||Ks,h.scale.z=t.scale[2]+u(A,si(m,s.scale[2]))||Ks,h.position.setScalar(0);let g=n/e.count*d-r;switch(t.axis){case"x":h.rotation.set(0,g,0);break;case"y":h.rotation.set(0,0,g);break;case"z":h.rotation.set(g,0,0);break}h.translateOnAxis(o,t.radius),h.position.x+=t.position[0]+u(A,si(m,s.position[0])),h.position.y+=t.position[1]+u(A,si(m,s.position[1])),h.position.z+=t.position[2]+u(A,si(m,s.position[2]));let p=u(A,si(m,s.rotation[0])),v=u(A,si(m,s.rotation[1])),y=u(A,si(m,s.rotation[2]));t.alignment===!0?(h.rotation.x+=a.x+p,h.rotation.y+=a.y+v,h.rotation.z+=a.z+y):h.rotation.set(a.x+p,a.y+v,a.z+y)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,r=new lo(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??CA.defaultData([1,1,1]).randomnessObject,n=i.noiseType==="perlin";Qh.noiseSeed(i.seed);let a=Q4((0,Jw.default)(i.seed)),o=vB(i.strength,this.parameters.randomness);for(let[s,l]of this.children.entries()){let c=s*(i.freqScale/10)+i.movement,u=n?Qh.noise(c):a(c,c),d=s+1,h=o(d,si(u,i.rotation[0])),f=o(d,si(u,i.rotation[1])),m=o(d,si(u,i.rotation[2]));l.scale.x=1+(t.scale[0]-1)*s+o(d,si(u,i.scale[0]))||Ks,l.scale.y=1+(t.scale[1]-1)*s+o(d,si(u,i.scale[1]))||Ks,l.scale.z=1+(t.scale[2]-1)*s+o(d,si(u,i.scale[2]))||Ks,l.rotation.x=r.x*s+h,l.rotation.y=r.y*s+f,l.rotation.z=r.z*s+m,l.position.x=t.position[0]*s+o(d,si(u,i.position[0])),l.position.y=t.position[1]*s+o(d,si(u,i.position[1])),l.position.z=t.position[2]*s+o(d,si(u,i.position[2]))}}_updateGrid(e){let t=0,r=e.grid,i=e.randomnessObject??CA.defaultData([1,1,1]).randomnessObject,n=vB(i.strength,this.parameters.randomness),a=i.noiseType==="perlin";Qh.noiseSeed(i.seed);let o=zGe((0,Jw.default)(i.seed));if(r.useCenter===!0){let s={x:r.count[0]%2===0?2:1,y:r.count[1]%2===0?2:1,z:r.count[2]%2===0?2:1},l=new q(r.size[0]*(r.count[0]-s.x)*.5,r.size[1]*(r.count[1]-s.y)*.5,r.size[2]*(r.count[2]-s.z)*.5);for(let c=0;c<r.count[0];c++)for(let u=0;u<r.count[1];u++)for(let d=0;d<r.count[2];d++){let h=[(c+1)*(i.freqScale/10)+i.movement,(u+1)*(i.freqScale/10)+i.movement,(d+1)*(i.freqScale/10)+i.movement],f=a?Qh.noise(...h):o(...h),m=this.children[t++];m.scale.x=1+n(t,si(f,i.scale[0]))||Ks,m.scale.y=1+n(t,si(f,i.scale[1]))||Ks,m.scale.z=1+n(t,si(f,i.scale[2]))||Ks;let A=n(t,si(f,i.rotation[0])),g=n(t,si(f,i.rotation[1])),p=n(t,si(f,i.rotation[2]));m.rotation.set(A,g,p),m.position.x=r.size[0]*c-l.x+n(t,si(f,i.position[0])),m.position.y=r.size[1]*u-l.y+n(t,si(f,i.position[1])),m.position.z=r.size[2]*d-l.z+n(t,si(f,i.position[2]))}}else for(let s=0;s<r.count[0];s++)for(let l=0;l<r.count[1];l++)for(let c=0;c<r.count[2];c++){let u=[(s+1)*(i.freqScale/10)+i.movement,(l+1)*(i.freqScale/10)+i.movement,(c+1)*(i.freqScale/10)+i.movement],d=a?Qh.noise(...u):o(...u),h=this.children[t++];h.scale.x=1+n(t,si(d,i.scale[0]))||Ks,h.scale.y=1+n(t,si(d,i.scale[1]))||Ks,h.scale.z=1+n(t,si(d,i.scale[2]))||Ks;let f=n(t,si(d,i.rotation[0])),m=n(t,si(d,i.rotation[1])),A=n(t,si(d,i.rotation[2]));h.rotation.set(f,m,A),h.position.x=r.size[0]*s+n(t,si(d,i.position[0])),h.position.y=-r.size[1]*l+n(t,si(d,i.position[1])),h.position.z=-r.size[2]*c+n(t,si(d,i.position[2]))}}_updateToObject(e){var A;if(e.type!=="toObject")throw new Error;let{toObject:t}=e,r=new lo(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??CA.defaultData([1,1,1]).randomnessObject,n=i.noiseType==="perlin";Qh.noiseSeed(i.seed);let a=Q4((0,Jw.default)(i.seed)),o=vB(i.strength,this.parameters.randomness);if(!t.object){for(let[,g]of this.children.entries())g.position.set(0,0,0),g.scale.setScalar(1),g.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof m6)if(!((A=this.objectForSample.font)!=null&&A.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let s=this.getSubdivData(),l=[],c=g=>{let p=g.length,v=g.map(x=>x[0]).reduce((x,w)=>x+w,0),y=g.map(x=>x[1]).reduce((x,w)=>x+w,0),b=g.map(x=>x[2]).reduce((x,w)=>x+w,0);return[v/p,y/p,b/p]},u=g=>Math.round(g*1e6)/1e6;s.forEach(g=>{let p=s.filter(v=>u(g.pos[0])===u(v.pos[0])&&u(g.pos[1])===u(v.pos[1])&&u(g.pos[2])===u(v.pos[2]));p.length>1?l.push({pos:g.pos,norm:c(p.map(v=>v.norm))}):l.push(g)});let d=RXe(l);if(d.length>0){let g=Math.round(d.length*t.count/100);this._updateCount(g)}else{let g=this.objectForSample.geometry.getAttribute("position");if(!g||isNaN(g.count)||g.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let h=new HGe(this.objectForSample).build(),f=FXe[t.axis],m=this.children;h.setRandomGenerator((0,Jw.default)(this.object.uuid+t.seed));for(let[g,p]of m.entries()){let v=g*(i.freqScale/10)+i.movement,y=n?Qh.noise(v):a(v,v),b=g+1,x=o(b,si(y,i.rotation[0])),w=o(b,si(y,i.rotation[1])),C=o(b,si(y,i.rotation[2]));t.spreadType==="random"?h.sample(nx,hI):(d.length&&(nx.fromArray(d[g].pos),hI.fromArray(d[g].norm)),this.objectForSample instanceof RC&&nx.applyMatrix4(GXe.copy(this.objectForSample.matrixWorld).invert())),nx.applyMatrix4(this.object.hiddenMatrix.clone().invert()),p.position.copy(nx),zp.fromArray(f);let _=t.align==="normal"?hI:this.object.getWorldDirection(XXe),B=wB.fromArray(t.position);wB.x+=o(b,si(y,i.position[0])),wB.y+=o(b,si(y,i.position[1])),wB.z+=o(b,si(y,i.position[2]));let P=Math.acos(_.dot(zp)),M=KXe.crossVectors(zp,_).normalize(),O=qXe.makeRotationAxis(M,P),I=_.clone().cross(this.object.up).normalize(),F=I.clone().cross(_).normalize(),V=new kt().makeBasis(I,_,F),Y=new q(zp.y,zp.z,zp.x).normalize(),j=Y.clone().cross(zp).normalize(),R=new kt().makeBasis(Y,zp,j).invert(),H=new kt().multiplyMatrices(V,R);p.rotation.setFromRotationMatrix(H),B.applyMatrix4(O),p.position.add(B),p.rotation.x=p.rotation.x+r.x+x,p.rotation.y=p.rotation.y+r.y+w,p.rotation.z=p.rotation.z+r.z+C,p.scale.setScalar(1),p.scale.x=p.scale.x+t.scale[0]+o(b,si(y,i.scale[0]))||Ks,p.scale.y=p.scale.y+t.scale[1]+o(b,si(y,i.scale[1]))||Ks,p.scale.z=p.scale.z+t.scale[2]+o(b,si(y,i.scale[2]))||Ks,p.scale.multiply(this.object.scale),p.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if(e==="random")return[];if(this.objectForSample instanceof RC){let t=this.objectForSample,r=LXe[e],i=rue[r],n=eue[r],a=tue[r],o=[],s=i(t.subdivPointerNew);for(let l=0;l<=s-1;l++){let c=n(t.subdivPointerNew,l),u=a(t.subdivPointerNew,l);ZK.fromArray(c).applyMatrix4(t.matrixWorld),eX.fromArray(u),o.push({pos:ZK.toArray(),norm:eX.toArray()})}return o}else return(this.objectForSample.geometry.index?jXe(this.objectForSample.geometry):zXe(this.objectForSample.geometry)).map((t,r)=>e==="polygon_center"?{pos:t.midpoint,norm:t.norm}:e==="vertex"?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:e==="edge"?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){var r;if(this.parameters=P3(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(r=this.object.parent)==null||r.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let i=t.find(this.parameters.toObject.object);i instanceof ll?this.objectForSample=i:this.objectForSample=void 0,this.matrix=new kt,this.hiddenMatrix=new kt,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,i&&i.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},__=e=>{var t;return t=class extends e{},t.geometryHelper=new rd(30,30,30),t},xB=new h1,fI=new jl,tX=new kt,S_=(e,t,r,i,n=!1,a=e)=>{let o=t,s=a.matrixWorld;if(o.boundingSphere===null&&o.computeBoundingSphere(),fI.copy(o.boundingSphere),fI.applyMatrix4(s),r.ray.intersectsSphere(fI)===!1||(tX.copy(s).invert(),xB.copy(r.ray).applyMatrix4(tX),o.boundingBox!==null&&xB.intersectsBox(o.boundingBox)===!1))return;let l,c,u,d,h=o.index,f=o.attributes.position,m=o.drawRange,A,g;if(n===!1){let v=Math.max(0,m.start),y=Math.min(h.count,m.start+m.count);for(A=v,g=y;A<g;A+=3)if(c=h.getX(A),u=h.getX(A+1),d=h.getX(A+2),l=p(e,r,xB,f,c,u,d),l){l.faceIndex=Math.floor(A/3),i.push(l);return}}else{let v=o.attributes.position,y=new q,b=new q,x=new q,w=new q,C=2,_=1/((a.scale.x+a.scale.y+a.scale.z)/3),B=_*_,P=Math.max(0,m.start),M=Math.min(v.count,m.start+m.count);for(let O=P,I=M-1;O<I;O+=C){if(y.fromBufferAttribute(v,O),b.fromBufferAttribute(v,O+1),xB.distanceSqToSegment(y,b,w,x)>B)continue;w.applyMatrix4(a.matrixWorld);let F=r.ray.origin.distanceTo(w);F<r.near||F>r.far||i.push({distance:F,point:x.clone().applyMatrix4(a.matrixWorld),object:e})}}function p(v,y,b,x,w,C,_){let B=new q,P=new q,M=new q,O=new q,I=new q;if(B.fromBufferAttribute(x,w),P.fromBufferAttribute(x,C),M.fromBufferAttribute(x,_),b.intersectTriangle(B,P,M,!1,O)===null)return null;I.copy(O),I.applyMatrix4(v.matrixWorld);let F=y.ray.origin.distanceTo(I);return F<y.near||F>y.far?null:{faceIndex:1,distance:F,point:I.clone(),object:v}}},CB=new q,Rc=new S0,YXe=class extends A_{constructor(e){let t=new Mr,r=new hg({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],n=[],a={},o=new Rr(15711266),s=new Rr(15711266),l=new Rr(2857471);c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l);function c(d,h,f){u(d,f),u(h,f)}function u(d,h){i.push(0,0,0),n.push(h.r,h.g,h.b),a[d]===void 0&&(a[d]=[]),a[d].push(i.length/3-1)}t.setAttribute("position",new sr(i,3)),t.setAttribute("color",new sr(n,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){let e=this.geometry,t=this.pointMap;Rc.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let r=1,i=1,n=.8;Mu("n1",t,e,Rc,-r,-i,n),Mu("n2",t,e,Rc,r,-i,n),Mu("n3",t,e,Rc,-r,i,n),Mu("n4",t,e,Rc,r,i,n);let a=n;Mu("f1",t,e,Rc,-r,-i,a),Mu("f2",t,e,Rc,r,-i,a),Mu("f3",t,e,Rc,-r,i,a),Mu("f4",t,e,Rc,r,i,a);let o=a,s=.5;Mu("u1",t,e,Rc,r*.7*s,i*1.1,o),Mu("u2",t,e,Rc,-r*.7*s,i*1.1,o),Mu("u3",t,e,Rc,0,i*(1.1+.9*s),o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Mu(e,t,r,i,n,a,o){CB.set(n,a,o).unproject(i);let s=t[e];if(s!==void 0){let l=r.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],CB.x,CB.y,CB.z)}}var $Xe=class extends __(YXe){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){S_(this.object,this.geometry,e,t,!0)}},zU;(e=>e.is=t=>"objectHelper"in t)(zU||(zU={}));var B1=(e,t)=>class extends Jz(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(r,i){this.objectHelper.raycast(r,i)}showGizmos(){for(let r in this.gizmos){let i=this.gizmos[r];i instanceof uP&&(i.visible=!0)}}updateEntityBoxSize(r,i){this.objectHelper.visible&&this.geometryHelper instanceof rd?(r.setScalar(0),i.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(r,i)}hideGizmos(){for(let r in this.gizmos){let i=this.gizmos[r];i instanceof uP&&(i.visible=!1)}}},_B=790,Wv=new q,pI=new q,AI=new qr,gI=new q,ax=new q,mI=new q,Os=class extends B1(S0,$Xe){constructor(t="",r={...BC.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=Nb.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(t,r),this.previousProjectionMatrix=new kt,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let i=this.width,n=this.height;this.orthoCamera=new y3(i*-.5,i*.5,n*.5,n*-.5,-5e4,1e4),this.perspCamera=new Ss(45,i/n,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(t){this.perspCamera.fov=t}get fov(){return this.perspCamera.fov}setNear(t,r){t==="PerspectiveCamera"?this.perspCamera.near=r:this.orthoCamera.near=r}setZoom(t,r){r>=0&&(t==="PerspectiveCamera"?this.perspCamera.zoom=r:this.orthoCamera.zoom=r)}set cameraType(t){t==="PerspectiveCamera"?this.toPerspective():t==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(t){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(t){t>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}lookAt(t,r,i){typeof t=="number"&&(t=new q(t,r,i)),super.lookAt(t),this.getWorldPosition(Wv),this.targetOffset=Wv.distanceTo(t)}getTarget(t=new q){return this.getWorldDirection(pI),this.getWorldPosition(Wv),pI.multiplyScalar(this.targetOffset),t.copy(Wv).add(pI),t}getDistanceToTarget(){let t=this.getTarget();return this.getWorldPosition(Wv),Wv.distanceTo(t)}updateUp(){this.getWorldQuaternion(AI),gI.set(0,0,1).applyQuaternion(AI),ax.copy(on.DEFAULT_UP),this.isUpVectorFlipped&&ax.negate(),ax.applyQuaternion(AI),mI.copy(on.DEFAULT_UP).projectOnPlane(gI),this.angleOffsetFromUp=mI.angleTo(ax),this.angleOffsetFromUp*=mI.cross(ax).dot(gI)>=0?1:-1}updateTransformState(t,r){let i=super.updateTransformState(t,r);return t.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=t.isUpVectorFlipped),this.updateUp(),i}getViewFrontToObject(t){let r=t.getWorldPosition(new q),i=t.getWorldDirection(new q).multiplyScalar(this.targetOffset);return{position:r.clone().add(i),target:r}}getViewToTarget(t){let r=this.getWorldDirection(new q).multiplyScalar(this.targetOffset);return{position:t.clone().sub(r),target:t}}getViewToObject(t){let r=new q;return t.getWorldPosition(r),this.getViewToTarget(r)}setViewplaneSize(t,r,i=!1){if(this.aspect=t/r,i){let n=t>r?this.aspect:1,a=t>r?1:this.aspect;this.left=-_B*.5*n,this.right=_B*.5*n,this.top=_B*.5*(1/a),this.bottom=-_B*.5*(1/a)}else this.left=-t*.5,this.right=t*.5,this.top=r*.5,this.bottom=-r*.5;this.updateProjectionMatrix()}copyViewPlaneSize(t){this.aspect=t.aspect,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(t){this.perspCamera.setFocalLength(t),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(t,r,i,n,a,o){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(t,r,i,n,a,o):this.orthoCamera.setViewOffset(t,r,i,n,a,o)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,r){super.updateWorldMatrix(t,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(t,r){return super.copy(t,r),this.parent=t.parent,this.orthoCamera.copy(t.orthoCamera),this.perspCamera.copy(t.perspCamera),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.far=t.far,this.view=t.view===null?null:Object.assign({},t.view),this._cameraType=t._cameraType,this.aspect=t.aspect,this.fov=t.fov,this.focus=t.focus,this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this.targetOffset=t.targetOffset,this.updateProjectionMatrix(),this}toCameraState(t=[]){let r={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return FR(r,t)}updateCameraSubtype(t,r){let i=t==="perspective"?"PerspectiveCamera":"OrthographicCamera";r.zoom!==void 0&&this.setZoom(i,r.zoom),r.near!==void 0&&this.setNear(i,r.near),r.fov!==void 0&&i==="PerspectiveCamera"&&(this.fov=r.fov)}updateState(t,r){this.updateCameraState(t,r)}updateCameraState(t,r){this.updateState_Entity(t,r),t.far!==void 0&&(this.far=t.far),t.orthographic!==void 0&&this.updateCameraSubtype("orthographic",t.orthographic),t.perspective!==void 0&&this.updateCameraSubtype("perspective",t.perspective),t.type!==void 0&&(this.cameraType=t.type),t.up!==void 0&&this.up.fromArray(t.up),t.targetOffset!==void 0&&(this.targetOffset=t.targetOffset),t.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=t.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(t,r,i){super.updateByPatchedOp(t,r,i),t.path.length===1&&t.type===0&&this.updateCameraSubtype(t.path[0],t.props)}toState(t){return{...super.toState(t),...this.toCameraState(t),type:this.cameraType}}},Gv=new kt,JXe=new kt;function rX(e){let t=!1;return e.scene.objects.traverse((r,i)=>{var n;((n=i.geometry)==null?void 0:n.type)==="BooleanGeometry"&&(t=!0)}),t}var d0=class extends E1{constructor(e,t,r){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new Mr,this.onAfterRender=(i,n,a,o,s,l)=>{super.onAfterRender(i,n,a,o,s,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){var i;if(this.booleanMeshSetAddress!==-1&&!e)return;for(let n=0;n<this.children.length;n++){let a=this.children[n];a instanceof d0&&a.dataPatched.visible===!0&&a.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let n=0;n<this.children.length;n++){let a=this.children[n];if(a instanceof ll&&a.dataPatched.visible===!0&&((i=a.geometry.attributes.position)==null?void 0:i.count)>0&&a.geometry.drawRange.count>0&&a.booleanMeshSetAddress!==0){Gv.multiplyMatrices(a.hiddenMatrix,a.matrix);try{if(a.booleanMeshSetAddress===-1){if((a.geometry.index??a.geometry.getAttribute("position")).count/3<15e5&&(a.booleanMeshSetAddress=nf.getMeshSet(a.geometry,e===!0,t)),a.booleanMeshSetAddress===-1)return;nf.transformMeshSet(a.booleanMeshSetAddress,Gv),a.booleanMatrixInvOld.copy(Gv).invert(),a.booleanWasTransformed=!1}else a instanceof d0&&a.needsTransformForDownstream===!0?(nf.transformMeshSet(a.booleanMeshSetAddress,Gv),a.needsTransformForDownstream=!1):a.booleanWasTransformed===!0&&(nf.transformMeshSet(a.booleanMeshSetAddress,JXe.multiplyMatrices(Gv,a.booleanMatrixInvOld)),a.booleanMatrixInvOld.copy(Gv).invert(),a.booleanWasTransformed=!1)}catch(o){console.error(o),a.booleanMeshSetAddress=0,a.geometry.userData.booleanOperationDidFail=!0;continue}nf.hasOpenEdges(a.booleanMeshSetAddress)===!1||n===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(a.booleanMeshSetAddress),a.geometry.userData.booleanOperationDidFail=!1):a.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new sr([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return nf.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let r=this.geometry;r.dispose(),this.geometry=new Mr,this.geometry.userData=r.userData,this.geometry.boundingSphere=r.boundingSphere;try{this.booleanMeshSetAddress=nf.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(n){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(n)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,A6(this),g6(this)}dispose(){super.dispose(),this.geometry.dispose()}},HU;(e=>{function t(r){return Oi.is(r)&&r instanceof v_}e.is=t})(HU||(HU={}));var v6=(e,t)=>class extends B1(e,t){updateState_Light(r,i){this.updateState_Entity(r,i),r.color!==void 0&&(this.color=i.shared.color(r.color)),r.intensity!==void 0&&(this.intensity=r.intensity),r.depth!==void 0&&(this.shadow.camera.far=r.depth,this.shadow.needsUpdate=!0),r.shadows!==void 0&&(this.castShadow=r.shadows)}},ju=e=>e instanceof ll,_f=e=>e!==null&&e instanceof d0,ZXe=e=>e instanceof Os,eYe=e=>HU.is(e),VU=e=>zU.is(e),tYe=new q(1,1,1),iX=new q,rYe=new q,nX=new qr,E_=class extends __(ske){constructor(e,t=15){super(t),this.object=e,this.dummy=new xf,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=this.dummy.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){S_(this.object,E_.geometryHelper,e,t,!1,this.dummy)}update(){}updateMatrix(){}updateMatrixWorld(e){this.object.matrixWorld.decompose(iX,nX,rYe),this.matrix.compose(iX,nX,tYe),super.updateMatrixWorld(e)}updateWorldMatrix(e,t){}},cb=class extends B1(xf,E_){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},z5=class extends B1(xf,E_){constructor(e,t,r){super(),this.super_Entity(e,t),this.context=r,this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t)}},iue={RED:0,GREEN:1,BLUE:2,ALPHA:3},B_="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",iYe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;uniform vec4 kernel64[32];varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;}}`,SB=class extends Wi{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new It(null),kernel16:new It(null),inputBuffer:new It(null),cocBuffer:new It(null),texelSize:new It(new ke),scale:new It(1)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:iYe,vertexShader:B_}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),r=new Float32Array(32),i=0,n=0;for(let s=0;s<80;++s){let l=s*e,c=Math.sqrt(s)/Math.sqrt(80),u=c*Math.cos(l),d=c*Math.sin(l);s%5===0?(r[n++]=u,r[n++]=d):(t[i++]=u,t[i++]=d)}let a=[],o=[];for(let s=0;s<128;)a.push(new Xr(t[s++],t[s++],t[s++],t[s++]));for(let s=0;s<32;)o.push(new Xr(r[s++],r[s++],r[s++],r[s++]));this.uniforms.kernel64.value=a,this.uniforms.kernel16.value=o}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function aX(e,t,r){return e*(t-r)-t}function QU(e,t,r){return Math.min(Math.max((e+t)/(t-r),0),1)}var nYe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,aYe=class extends Wi{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new It(null),focusDistance:new It(0),focusRange:new It(0),cameraNear:new It(.3),cameraFar:new It(1e3)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:nYe,vertexShader:B_}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Yf){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-aX(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=QU(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-aX(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=QU(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ss?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},oYe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,sYe="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",oX=class extends Wi{constructor(e=new ke){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new It(null),texelSize:new It(new ke),halfTexelSize:new It(new ke),kernel:new It(0),scale:new It(1)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:oYe,vertexShader:sYe}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.halfTexelSize.value.copy(r.texelSize.value).multiplyScalar(.5)}},lYe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,cYe=class extends Wi{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new It(null),opacity:new It(1)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:lYe,vertexShader:B_}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},uYe=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,dYe=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,N3={DEPTH:0,LUMA:1,COLOR:2},hYe={DISABLED:0,DEPTH:1,CUSTOM:2},fYe=class extends Wi{constructor(e=new ke,t=N3.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:d1.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new It(null),depthBuffer:new It(null),predicationBuffer:new It(null),texelSize:new It(e)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:uYe,vertexShader:dYe}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Yf){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},pYe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,AYe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Pu={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},WU=class extends Wi{constructor(e,t,r,i,n=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:d1.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new It(null),depthBuffer:new It(null),resolution:new It(new ke),texelSize:new It(new ke),cameraNear:new It(.3),cameraFar:new It(1e3),aspect:new It(1),time:new It(0)},blending:Ya,depthWrite:!1,depthTest:!1,dithering:n}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.adoptCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Yf){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=pYe.replace(Pu.FRAGMENT_HEAD,e.get(Pu.FRAGMENT_HEAD)).replace(Pu.FRAGMENT_MAIN_UV,e.get(Pu.FRAGMENT_MAIN_UV)).replace(Pu.FRAGMENT_MAIN_IMAGE,e.get(Pu.FRAGMENT_MAIN_IMAGE)),this.vertexShader=AYe.replace(Pu.VERTEX_HEAD,e.get(Pu.VERTEX_HEAD)).replace(Pu.VERTEX_MAIN_SUPPORT,e.get(Pu.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ss?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return Pu}},gYe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,mYe=class extends Wi{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:d1.replace(/\D+/g,"")},uniforms:{inputBuffer:new It(null),threshold:new It(0),smoothing:new It(1),range:new It(null)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:gYe,vertexShader:B_}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},vYe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,nue={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},yYe=class extends Wi{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new It(e),inputBuffer:new It(null),strength:new It(1)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:vYe,vertexShader:B_}),this.toneMapped=!1,this.setColorChannel(iue.RED),this.setMaskFunction(nue.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Fs&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},bYe=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,wYe="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",xYe=class extends Wi{constructor(e=new ke,t=new ke){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new It(null),searchTexture:new It(null),areaTexture:new It(null),resolution:new It(t),texelSize:new It(e)},blending:Ya,depthWrite:!1,depthTest:!1,fragmentShader:bYe,vertexShader:wYe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.resolution.value.set(e,t)}},CYe=new S0,Hp=null;function _Ye(){if(Hp===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);Hp=new Mr,Hp.setAttribute!==void 0?(Hp.setAttribute("position",new Qr(e,3)),Hp.setAttribute("uv",new Qr(t,2))):(Hp.addAttribute("position",new Qr(e,3)),Hp.addAttribute("uv",new Qr(t,2)))}return Hp}var hl=class{constructor(e="Pass",t=new uh,r=CYe){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new ta(_Ye(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new uh),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Yf){}render(e,t,r,i,n){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof uh||t===this.renderer)continue;this[e].dispose()}}}},GU=class extends hl{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new cYe,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new Ki(1,1,{minFilter:fi,magFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,i,n){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Fs?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===li&&(this.renderTarget.texture.encoding=li))}},SYe=class extends hl{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,i,n){let a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},vI=new Rr,y6=class extends hl{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,i,n){let a=this.overrideClearColor,o=this.overrideClearAlpha,s=e.getClearAlpha(),l=a!==null,c=o>=0;l?(vI.copy(e.getClearColor(vI)),e.setClearColor(a,c?o:s)):c&&e.setClearAlpha(o),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(vI,s):c&&e.setClearAlpha(s)}},Vp=-1,Ll=class extends as{constructor(e,t=Vp,r=Vp,i=1){super(),this.resizable=e,this.base=new ke(1,1),this.preferred=new ke(t,r),this.target=this.preferred,this.s=i}get width(){let{base:e,preferred:t,scale:r}=this,i;return t.width!==Vp?i=t.width:t.height!==Vp?i=Math.round(t.height*(e.width/Math.max(e.height,1))):i=Math.round(e.width*r),i}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:r}=this,i;return t.height!==Vp?i=t.height:t.width!==Vp?i=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):i=Math.round(e.height*r),i}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(Vp),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return Vp}},yI=!1,sX=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case Ms:r=this.materialsFlatShadedDoubleSide;break;case Do:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case Ms:r=this.materialsDoubleSide;break;case Do:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let r of t)r.uniforms=Object.assign({},e.uniforms),r.side=ed;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{let i=r.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=Do,i}),this.materialsDoubleSide=t.map(r=>{let i=r.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=Ms,i}),this.materialsFlatShaded=t.map(r=>{let i=r.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(r=>{let i=r.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=Do,i}),this.materialsFlatShadedDoubleSide=t.map(r=>{let i=r.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=Ms,i})}}render(e,t,r){let i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,yI){let n=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(let a of n)a[0].material=a[1];this.meshCount!==n.size&&n.clear()}else{let n=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=n}e.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return yI}static set workaroundEnabled(e){yI=e}},EYe=class extends hl{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new y6,this.overrideMaterialManager=r===null?null:new sX(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new sX(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,i,n){let a=this.scene,o=this.camera,s=this.selection,l=o.layers.mask,c=a.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;s!==null&&o.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,a,o):e.render(a,o),o.layers.mask=l,a.background=c,e.shadowMap.autoUpdate=u}},lX=class extends hl{constructor(e,t,{resolutionScale:r=1,width:i=Ll.AUTO_SIZE,height:n=Ll.AUTO_SIZE,renderTarget:a}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new EYe(e,t,new Voe({depthPacking:Poe}));let o=this.renderPass;o.skipShadowMapUpdate=!0,o.ignoreBackground=!0;let s=o.getClearPass();s.overrideClearColor=new Rr(16777215),s.overrideClearAlpha=1,this.renderTarget=a,this.renderTarget===void 0&&(this.renderTarget=new Ki(1,1,{minFilter:Zi,magFilter:Zi,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new Ll(this,i,n,r);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,n){let a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,a)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}},Li={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},BYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",MYe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",PYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",TYe="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",OYe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",DYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",IYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",FYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",LYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",RYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",UYe="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",NYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",kYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",jYe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",zYe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",HYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",VYe="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",QYe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",WYe=new Map([[Li.SKIP,null],[Li.ADD,BYe],[Li.ALPHA,MYe],[Li.AVERAGE,PYe],[Li.COLOR_BURN,TYe],[Li.COLOR_DODGE,OYe],[Li.DARKEN,DYe],[Li.DIFFERENCE,IYe],[Li.EXCLUSION,FYe],[Li.LIGHTEN,LYe],[Li.MULTIPLY,RYe],[Li.DIVIDE,UYe],[Li.NEGATION,NYe],[Li.NORMAL,kYe],[Li.OVERLAY,jYe],[Li.REFLECT,zYe],[Li.SCREEN,HYe],[Li.SOFT_LIGHT,VYe],[Li.SUBTRACT,QYe]]),GYe=class extends as{constructor(e,t=1){super(),this.f=e,this.opacity=new It(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return WYe.get(this.blendFunction)}},hh={NONE:0,DEPTH:1,CONVOLUTION:2},Ch=class extends as{constructor(e,t,{attributes:r=hh.NONE,blendFunction:i=Li.SCREEN,defines:n=new Map,uniforms:a=new Map,extensions:o=null,vertexShader:s=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=s,this.defines=n,this.uniforms=a,this.extensions=o,this.blendMode=new GYe(i),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Yf){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof uh||t===this.renderer)continue;this[e].dispose()}}}};function cX(e,t,r){for(let i of t){let n="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),a=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(let o of r.entries())o[1]!==null&&r.set(o[0],o[1].replace(a,n))}}function qYe(e,t,r,i,n,a,o){let s=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=s.get("fragment")!==void 0&&/mainImage/.test(s.get("fragment")),c=s.get("fragment")!==void 0&&/mainUv/.test(s.get("fragment")),u=[],d=[],h=!1,f=!1;if(s.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(c&&o&hh.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!l&&!c)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let m=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,A=WU.Section;if(c){let p=`	${e}MainUv(UV);
`;r.set(A.FRAGMENT_MAIN_UV,r.get(A.FRAGMENT_MAIN_UV)+p),h=!0}if(s.get("vertex")!==null&&/mainSupport/.test(s.get("vertex"))){let p=`	${e}MainSupport(`;p+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(s.get("vertex"))?`vUv);
`:`);
`,r.set(A.VERTEX_MAIN_SUPPORT,r.get(A.VERTEX_MAIN_SUPPORT)+p),u=u.concat([...s.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(v=>v[1])),d=d.concat(u).concat([...s.get("vertex").matchAll(m)].map(v=>v[1]))}d=d.concat([...s.get("fragment").matchAll(m)].map(p=>p[1])),d=d.concat([...t.defines.keys()].map(p=>p.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((p,v)=>a.set(e+v.charAt(0).toUpperCase()+v.slice(1),p)),t.defines.forEach((p,v)=>n.set(e+v.charAt(0).toUpperCase()+v.slice(1),p)),cX(e,d,n),cX(e,d,s);let g=t.blendMode;if(i.set(g.blendFunction,g),l){let p=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,v=`${e}MainImage(color0, UV, `;o&hh.DEPTH&&p.test(s.get("fragment"))&&(v+="depth, ",f=!0),v+=`color1);
	`;let y=e+"BlendOpacity";a.set(y,g.opacity),v+=`color0 = blend${g.blendFunction}(color0, color1, ${y});

	`,r.set(A.FRAGMENT_MAIN_IMAGE,r.get(A.FRAGMENT_MAIN_IMAGE)+v),v=`uniform float ${y};

`,r.set(A.FRAGMENT_HEAD,r.get(A.FRAGMENT_HEAD)+v)}r.set(A.FRAGMENT_HEAD,r.get(A.FRAGMENT_HEAD)+s.get("fragment")+`
`),s.get("vertex")!==null&&r.set(A.VERTEX_HEAD,r.get(A.VERTEX_HEAD)+s.get("vertex")+`
`)}return{varyings:u,transformedUv:h,readDepth:f}}var WP=class extends hl{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new WU(null,null,null,e),this.effects=t.sort((r,i)=>i.attributes-r.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=WU.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),r=new Map,i=new Map,n=new Map,a=new Set,o=0,s=0,l=0,c=!1,u=!1;for(let h of this.effects)if(h.blendMode.blendFunction===Li.SKIP)l|=h.getAttributes()&hh.DEPTH;else if(l&h.getAttributes()&hh.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{l|=h.getAttributes();let f="e"+o++,m=qYe(f,h,t,r,i,n,l);if(s+=m.varyings.length,c=c||m.transformedUv,u=u||m.readDepth,h.extensions!==null)for(let A of h.extensions)a.add(A)}let d=/\bblend\b/g;for(let h of r.values()){let f=h.getShaderCode().replace(d,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+f+`
`)}if(l&hh.DEPTH){if(u){let h=`float depth = readDepth(UV);

	`;t.set(e.FRAGMENT_MAIN_IMAGE,h+t.get(e.FRAGMENT_MAIN_IMAGE))}this.needsDepthTexture=this.getDepthTexture()===null}else this.needsDepthTexture=!1;if(c){let h=`vec2 transformedUv = vUv;
`;t.set(e.FRAGMENT_MAIN_UV,h+t.get(e.FRAGMENT_MAIN_UV)),i.set("UV","transformedUv")}else i.set("UV","vUv");t.forEach((h,f,m)=>m.set(f,h.trim().replace(/^#/,`
#`))),this.uniformCount=n.size,this.varyingCount=s,this.skipRendering=o===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(a).setUniforms(n).setDefines(i)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Yf){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,i,n){for(let a of this.effects)a.update(e,t,i);if(!this.skipRendering||this.renderToScreen){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,a.time+=i,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(let i of this.effects)i.initialize(e,t,r),i.addEventListener("change",n=>this.handleEvent(n));this.updateMaterial(),this.verifyResources(),r!==void 0&&r!==Fs&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},KYe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],b6=class extends hl{constructor({resolutionScale:e=.5,width:t=Ll.AUTO_SIZE,height:r=Ll.AUTO_SIZE,kernelSize:i=k3.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Ki(1,1,{minFilter:fi,magFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let n=this.resolution=new Ll(this,t,r,e);n.addEventListener("change",a=>this.setSize(n.baseWidth,n.baseHeight)),this.blurMaterial=new oX,this.ditheredBlurMaterial=new oX,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=i}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,i,n){let a=this.scene,o=this.camera,s=this.renderTargetA,l=this.renderTargetB,c=KYe[this.kernelSize],u=this.blurMaterial,d=t,h,f;for(this.fullscreenMaterial=u,h=0,f=c.length-1;h<f;++h){let m=h&1?l:s;u.kernel=c[h],u.inputBuffer=d.texture,e.setRenderTarget(m),e.render(a,o),d=m}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=c[h],u.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(a,o)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let i=r.width,n=r.height;this.renderTargetA.setSize(i,n),this.renderTargetB.setSize(i,n),this.blurMaterial.setSize(i,n),this.ditheredBlurMaterial.setSize(i,n)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Fs?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===li&&(this.renderTargetA.texture.encoding=li,this.renderTargetB.texture.encoding=li))}static get AUTO_SIZE(){return Ll.AUTO_SIZE}},XYe=class extends hl{constructor({width:e=Ll.AUTO_SIZE,height:t=Ll.AUTO_SIZE,renderTarget:r,luminanceRange:i,colorOutput:n}={}){super("LuminancePass"),this.fullscreenMaterial=new mYe(n,i),this.needsSwap=!1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new Ki(1,1,{minFilter:fi,magFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let a=this.resolution=new Ll(this,e,t);a.addEventListener("change",o=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,i,n){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Fs&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},YYe=class extends hl{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new y6(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,i,n){let a=e.getContext(),o=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.stencil.setFunc(a.ALWAYS,u,4294967295),o.stencil.setClear(d),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(r),e.render(s,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(a.EQUAL,1,4294967295),o.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.stencil.setLocked(!0)}},Xc=class extends hl{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,r,i,n){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Fs&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},bI=1/1e3,$Ye=1e3,JYe=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*bI}getFixedDelta(){return this.fixedDelta*bI}setFixedDelta(e){return this.fixedDelta=e*$Ye,this}getElapsed(){return this.elapsed*bI}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},k3={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},ZYe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,e$e=class extends Ch{constructor({blendFunction:e=Li.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:r=.025,resolutionScale:i=.5,intensity:n=1,width:a=Ll.AUTO_SIZE,height:o=Ll.AUTO_SIZE,kernelSize:s=k3.LARGE}={}){super("BloomEffect",ZYe,{blendFunction:e,uniforms:new Map([["map",new It(null)],["intensity",new It(n)]])}),this.renderTarget=new Ki(1,1,{minFilter:fi,magFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new XYe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=r,this.blurPass=new b6({resolutionScale:i,width:a,height:o,kernelSize:s});let l=this.blurPass.getResolution();l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){let i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.luminancePass.resolution.copy(r)}initialize(e,t,r){this.blurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e.outputEncoding===li&&(this.renderTarget.texture.encoding=li))}},t$e="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",r$e=class extends Ch{constructor({blendFunction:e=Li.NORMAL,brightness:t=0,contrast:r=0}={}){super("BrightnessContrastEffect",t$e,{blendFunction:e,uniforms:new Map([["brightness",new It(t)],["contrast",new It(r)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},i$e="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",n$e=class extends Ch{constructor(e=Li.NORMAL){super("ColorAverageEffect",i$e,{blendFunction:e})}},a$e="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",o$e="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",s$e=class extends Ch{constructor({blendFunction:e=Li.NORMAL,offset:t=new ke(.001,5e-4)}={}){super("ChromaticAberrationEffect",a$e,{vertexShader:o$e,blendFunction:e,attributes:hh.CONVOLUTION,uniforms:new Map([["offset",new It(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},l$e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,c$e=class extends Ch{constructor(e,{blendFunction:t=Li.NORMAL,worldFocusDistance:r,worldFocusRange:i,focusDistance:n=0,focalLength:a=.1,focusRange:o=a,bokehScale:s=1,width:l=Ll.AUTO_SIZE,height:c=Ll.AUTO_SIZE}={}){super("DepthOfFieldEffect",l$e,{blendFunction:t,attributes:hh.DEPTH,uniforms:new Map([["nearColorBuffer",new It(null)],["farColorBuffer",new It(null)],["nearCoCBuffer",new It(null)],["scale",new It(1)]])}),this.camera=e,this.renderTarget=new Ki(1,1,{minFilter:fi,magFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Xc(new aYe(e));let u=this.cocMaterial;u.focusDistance=n,u.focusRange=o,r!==void 0&&(u.worldFocusDistance=r),i!==void 0&&(u.worldFocusRange=i),this.blurPass=new b6({kernelSize:k3.MEDIUM,width:l,height:c});let d=this.blurPass.getResolution();d.addEventListener("change",f=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new Xc(new yYe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=nue.MULTIPLY,h.colorChannel=iue.GREEN,this.bokehNearBasePass=new Xc(new SB(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Xc(new SB(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Xc(new SB(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Xc(new SB(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=s}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let r of t)r.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,r=t.position.distanceTo(e);return QU(-r,t.near,t.far)}setDepthTexture(e,t=Yf){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,r){let i=this.renderTarget,n=this.renderTargetCoC,a=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){let s=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=s}this.cocPass.render(e,null,n),this.blurPass.render(e,n,a),this.maskPass.render(e,t,o),this.bokehFarBasePass.render(e,o,i),this.bokehFarFillPass.render(e,i,this.renderTargetFar),this.bokehNearBasePass.render(e,t,i),this.bokehNearFillPass.render(e,i,this.renderTargetNear)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let i=r.width,n=r.height,a=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];a.push(this.renderTargetCoC,this.renderTargetMasked),a.forEach(o=>o.setSize(e,t)),a=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],a.forEach(o=>o.setSize(i,n)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(o=>o.fullscreenMaterial.setSize(i,n))}initialize(e,t,r){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(i=>i.initialize(e,t,r)),this.blurPass.initialize(e,t,Fs),r!==void 0&&(this.renderTarget.texture.type=r,this.renderTargetNear.texture.type=r,this.renderTargetFar.texture.type=r,this.renderTargetMasked.texture.type=r,e.outputEncoding===li&&(this.renderTarget.texture.encoding=li,this.renderTargetNear.texture.encoding=li,this.renderTargetFar.texture.encoding=li,this.renderTargetMasked.texture.encoding=li))}};new q;new kt;var u$e="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",d$e=class extends Ch{constructor({blendFunction:e=Li.NORMAL,hue:t=0,saturation:r=0}={}){super("HueSaturationEffect",u$e,{blendFunction:e,uniforms:new Map([["hue",new It(new q)],["saturation",new It(r)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),r=Math.cos(e);this.uniforms.get("hue").value.set((2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}};new Rr;var h$e=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,f$e=class extends Ch{constructor({blendFunction:e=Li.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",h$e,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},p$e="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",A$e=class extends Ch{constructor(e=30){super("PixelationEffect",p$e,{uniforms:new Map([["active",new It(!1)],["d",new It(new ke)]])}),this.resolution=new ke,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}};new q;new q;var uX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",dX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",g$e="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",m$e="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",bm={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},aue=class extends Ch{constructor({preset:e=bm.MEDIUM,edgeDetectionMode:t=N3.COLOR,predicationMode:r=hYe.DISABLED}={}){super("SMAAEffect",g$e,{vertexShader:m$e,blendFunction:Li.NORMAL,attributes:hh.CONVOLUTION|hh.DEPTH,uniforms:new Map([["weightMap",new It(null)]])});let i,n;arguments.length>1&&(i=arguments[0],n=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Ki(1,1,{minFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new y6(!0,!1,!1),this.clearPass.overrideClearColor=new Rr(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Xc(new fYe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=r,this.weightsPass=new Xc(new xYe);let a=new lse;a.onLoad=()=>{let o=new ia(i);o.name="SMAA.Search",o.magFilter=Zi,o.minFilter=Zi,o.generateMipmaps=!1,o.needsUpdate=!0,o.flipY=!0,this.weightsMaterial.searchTexture=o;let s=new ia(n);s.name="SMAA.Area",s.magFilter=fi,s.minFilter=fi,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!1,this.weightsMaterial.areaTexture=s,this.dispatchEvent({type:"load"})},a.itemStart("search"),a.itemStart("area"),i!==void 0&&n!==void 0?(a.itemEnd("search"),a.itemEnd("area")):typeof Image<"u"&&(i=new Image,n=new Image,i.addEventListener("load",()=>a.itemEnd("search")),n.addEventListener("load",()=>a.itemEnd("area")),i.src=uX,n.src=dX),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,r=this.weightsMaterial;switch(e){case bm.LOW:t.edgeDetectionThreshold=.15,r.orthogonalSearchSteps=4,r.diagonalDetection=!1,r.cornerDetection=!1;break;case bm.MEDIUM:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=8,r.diagonalDetection=!1,r.cornerDetection=!1;break;case bm.HIGH:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=16,r.diagonalSearchSteps=8,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break;case bm.ULTRA:t.edgeDetectionThreshold=.05,r.orthogonalSearchSteps=32,r.diagonalSearchSteps=16,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break}}setDepthTexture(e,t=Yf){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,r){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return uX}static get areaImageDataURL(){return dX}},v$e=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,EB={DEFAULT:0,ESKIL:1},y$e=class extends Ch{constructor({blendFunction:e=Li.NORMAL,technique:t=EB.DEFAULT,eskil:r=!1,offset:i=.5,darkness:n=.5}={}){super("VignetteEffect",v$e,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new It(i)],["darkness",new It(n)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===EB.ESKIL}set eskil(e){this.technique=e?EB.ESKIL:EB.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},$f=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(r){this.effect.blendMode.opacity.value=r},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(r){this.effect.blendMode.setBlendFunction(Number(r))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=Li.NORMAL}},b$e=class extends $f{constructor(){super(e$e),this.blendFunction=Li.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},w$e=class extends $f{constructor(){super(r$e)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},x$e=class extends $f{constructor(){super(s$e),this.effect.offset=new ke(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},C$e=class extends $f{constructor(){super(n$e)}},_$e=class extends $f{constructor(){super(d$e),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},S$e=class extends $f{constructor(){super(f$e),this.blendFunction=Li.OVERLAY}},E$e=class extends $f{constructor(){super(y$e)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},B$e=class extends $f{constructor(e){super(c$e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e/2e3}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.isPerspectiveCamera?e/2e3:(e+992)/2e3}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}setCamera(e){let t=!1;(e.isPerspectiveCamera&&this.isPerspectiveCamera===!1||!e.isPerspectiveCamera&&this.isPerspectiveCamera===!0)&&(t=!0),e.isPerspectiveCamera?(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e.perspCamera),this.isPerspectiveCamera=!0):(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e),this.isPerspectiveCamera=!1),t&&this.effect.setChanged()}},M$e=class extends $f{constructor(){super(A$e)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},P$e=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,T$e=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,O$e=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,D$e=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,qU=class extends Wi{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new It(null)},blending:Ya,depthWrite:!1,depthTest:!1,vertexShader:O$e,fragmentShader:D$e})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},I$e=class extends hl{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new qU,this.resolutionVector=new ke,this.resolveMaterial=new Wi({name:"TAAResolveMaterial",uniforms:{inputBuffer:new It(null),historyBuffer:new It(null),velocityBuffer:new It(null),depthBuffer:new It(null),resolution:new It(new ke)},blending:Ya,depthWrite:!1,depthTest:!1,vertexShader:P$e,fragmentShader:T$e}),this.historyRenderTarget=new Ki(1024,1024,{minFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Ki(1024,1024,{minFilter:fi,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let r=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(r),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},F$e=class extends hl{constructor(e,t,r){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new lX(e,t,{renderTarget:r.transmissionDepthTarget}),this.passThroughMaterial=new qU,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new qU,this.depthPass=new lX(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,r){let i=this.camera.layers.mask,n=e;n.setRenderTarget(n.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],n.clear(),n.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,r),n.shadowMap.needsUpdate=!1,n.shadowMap.autoUpdate=!1;let a=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(a),e.render(this.splineScene,this.camera),this.camera.layers.mask=i}},hX=new uh,L$e=new Wi({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),KU=class extends hl{constructor(e,t,r){super("OpaquePass",t??hX,r),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}setCamera(e){this.camera=e}setScene(e){this.scene=e??hX}getScene(){return this.scene}render(e,t){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof ll&&(this.originalMaterials.set(i.id,i.material),i.material=L$e)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let r=this.renderToScreen?null:t;e.setRenderTarget(r),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),e.render(this.scene,this.camera),this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,n)=>{let a=this.scene.getObjectById(n);a&&(a.material=i)})}},R$e=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:n=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new GU,this.depthTexture=null,this.timer=new JYe,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,r,n,i,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,r,n,i,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,r,n,i,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){var t;if(this.renderer=e,e!==null){let r=e.getSize(new ke),i=((t=e.getContext().getContextAttributes())==null?void 0:t.alpha)??!1,n=this.inputBuffer.texture[0].type;n===Fs&&e.outputEncoding===li&&(this.inputBuffer.texture[0].encoding=li,this.outputBuffer.texture[0].encoding=li,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(r.width,r.height,!1);for(let a of this.passes)a.initialize(e,i,n)}}replaceRenderer(e,t=!0){let r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){let e=this.depthTexture=new Ib(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.stencilBuffer?(e.format=s0,e.type=Wm):e.type=bf,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i,n,a){let o=this.renderer,s=o===null?new ke:o.getDrawingBufferSize(new ke),l={minFilter:fi,magFilter:fi,wrapS:zn,wrapT:zn,stencilBuffer:t,depthBuffer:e},c;return i>0?(c=new Ki(s.width,s.height,l),c.samples=i):(n?(c=new J4e(s.width,s.height,2,l),c.texture[1].type=kf):c=new Ki(s.width,s.height,l),c.depthTexture=new Ib(2048,2048),c.depthTexture.type=qa),r===Fs&&o!==null&&o.outputEncoding===li&&(Array.isArray(c.texture)?c.texture.forEach(u=>u.encoding=li):c.texture.encoding=li),Array.isArray(c.texture)?c.texture.forEach((u,d)=>{u.name=`EffectComposer.Buffer ${n} ${d}`,u.generateMipmaps=!1}):(c.texture.name=`EffectComposer.Buffer ${n}`,c.texture.generateMipmaps=!1),c.name=a,c}addPass(e,t){var s;let r=this.passes,i=this.renderer,n=i.getDrawingBufferSize(new ke),a=((s=i.getContext().getContextAttributes())==null?void 0:s.alpha)??!1,o;if(e.MRTCompatible&&(o=this.inputBuffer.texture[0].type),e.MRTCompatible||(o=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(n.width,n.height),e.initialize(i,a,o),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){let i=(n,a)=>n||a.needsDepthTexture;t.reduce(i,!1)||e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null)}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,r=this.copyPass,i=this.inputBuffer,n=this.outputBuffer,a=this.inputBufferSingle,o=this.outputBufferSingle,s=!1,l,c,u,d;e===void 0&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,i,n,e,s):h.render(t,a,o,e,s),h.needsSwap&&(s&&(r.renderToScreen=h.renderToScreen,l=t.getContext(),c=t.state.buffers.stencil,c.setFunc(l.NOTEQUAL,1,4294967295),r.render(t,i,n,e,s),c.setFunc(l.EQUAL,1,4294967295)),u=i,d=a,i=n,a=o,n=u,o=d),h instanceof YYe?s=!0:h instanceof SYe&&(s=!1))}setSize(e,t,r){let i=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let a=i.getSize(new ke);e=a.width,t=a.height}i.setSize(e,t,r);let n=i.getDrawingBufferSize(new ke);this.inputBuffer.setSize(n.width,n.height),this.outputBuffer.setSize(n.width,n.height),this.inputBufferSingle.setSize(n.width,n.height),this.outputBufferSingle.setSize(n.width,n.height);for(let a of this.passes)a.setSize(n.width,n.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},U$e=new Wi({name:"CombineMaterial",uniforms:{inputBufferA:new It(null),inputBufferB:new It(null)},blending:Ya,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),N$e=class extends hl{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=U$e,this.helperPass=new KU(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new KU(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new aue({preset:bm.LOW,edgeDetectionMode:N3.COLOR});this.effectPass=new WP(this.camera,t),this.rt=new Ki(10,10,{minFilter:fi,magFilter:fi,wrapS:zn,wrapT:zn,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,r){this.rt.depthTexture=t.depthTexture;let i=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,r),this.fullscreenMaterial.uniforms.inputBufferA.value=r.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(i),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},k$e=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,j$e=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,z$e=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,H$e=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,V$e=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,Q$e=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,ox=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],W$e=new Wi({vertexShader:k$e,fragmentShader:j$e}),qv=new Wi({vertexShader:V$e,fragmentShader:Q$e,uniforms:{texture_ao_lrez:new It(null),texture_depth_lrez:new It(null),texture_depth_hrez:new It(null),near:new It(null),far:new It(null)}}),G$e=class extends hl{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let r=1024,i=1024;this.gBuffer=new Ki(r,i,{type:w_?kf:qa,depthTexture:new Ib(r,i),minFilter:fi,magFilter:fi}),this.depthBufferHighRes=new Ki(r,i,{depthTexture:new Ib(r,i)}),this.aoBuffer=new Ki(r,i,{minFilter:fi,magFilter:fi}),this.splineScene=e,this.splineCamera=t;let n=new Float32Array(ox.length*2);for(let o=0;o<ox.length;o++){let s=o*2;n[s+0]=ox[o][0],n[s+1]=ox[o][1]}this.blueNoiseInDiskTexture=new Zc(n,ox.length,1,$M,qa),this.blueNoiseInDiskTexture.wrapS=yf,this.blueNoiseInDiskTexture.wrapT=yf,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Wi({vertexShader:z$e,fragmentShader:H$e,uniforms:{near:new It(null),far:new It(null),fov:new It(null),proj_info:new It(new Xr),is_ortho:new It(!1),resolution:new It(new ke),radius_of_influence:new It(8),radius_in_screen_space:new It(1),exponent:new It(1),ao_color:new It(new q),bias:new It(.5),texture_depth:new It(null),texture_normals:new It(null),texture_blue_noise:new It(null),texture_blue_noise_in_disk:new It(this.blueNoiseInDiskTexture),frame_index:new It(0),fog_enabled:new It(!1),fog_near:new It(1),fog_far:new It(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Ki(r,i,{minFilter:fi,magFilter:fi,wrapS:zn,wrapT:zn,depthBuffer:!1,type:qa});let a=new aue({preset:bm.ULTRA,edgeDetectionMode:N3.COLOR});this.effectPass=new WP(this.camera,a)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let r=this._runHalfRes?.5:1,i=e*r,n=t*r;this.gBuffer.setSize(i,n),this.aoBuffer.setSize(i,n),this.hbaoMaterial.uniforms.resolution.value.set(i,n),this.aaBuffer.setSize(i,n),this.effectPass.setSize(i,n)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}setDepthTexture(e){this.depthBufferHighRes.depthTexture=e,qv.uniforms.texture_depth_hrez.value=e,qv.needsUpdate=!0}render(e,t,r){this.splineScene.overrideMaterial=W$e;let i=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=i,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let n=this.splineCamera.perspCamera.projectionMatrix.elements,a=2/n[0],o=2/n[5],s=-(1-n[8])/n[0],l=-(1+n[9])/n[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,o,s,l);let c=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(c*.5)*2),d=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*u;this.hbaoMaterial.uniforms.radius_in_screen_space.value=d,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let n=this.splineCamera.orthoCamera.projectionMatrix.elements,a=2/n[0],o=2/n[5],s=-(1+n[12])/n[0],l=-(1-n[13])/n[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,o,s,l);let c=.5*(this.hbaoMaterial.uniforms.resolution.value.y/o),u=this.hbaoMaterial.uniforms.radius_of_influence.value*c;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=qv,qv.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,qv.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,qv.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},q$e=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,K$e=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,X$e=class extends Xc{constructor(){super(new Wi({vertexShader:q$e,fragmentShader:K$e,uniforms:{tInput:new It(null),tMap:new It(null),uResolution:new It(new ke),uSize:new It(new ke),uCoords:new It(new ke),uScale:new It(1),uSceneColor:new It(new Rr(16711680)),uDPR:new It(1),uCurrent:new It(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},Y$e=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$$e=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,J$e=[],Z$e=class extends Xc{constructor(){super(new Wi({vertexShader:Y$e,fragmentShader:$$e,uniforms:{toScene:new It(null),fromScene:new It(null),uResolution:new It(new ke),uDPR:new It(1),mixRatio:new It(0),threshold:new It(.1),useTexture:new It(0),tMixTexture:{value:J$e[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}},eJe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tJe=`
uniform sampler2D inputBuffer;
uniform sampler2D blurredInputBuffer;
uniform sampler2D overlay;
uniform float blurIntensity;

uniform vec2 uResolution;
uniform float uDPR;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( overlay, screenUv );
	vec4 texel2 = texture2D( inputBuffer, screenUv );
	vec4 texel3 = texture2D( blurredInputBuffer, screenUv );

	float blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;
    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );
}
`,rJe=class extends Xc{constructor(){super(new Wi({vertexShader:eJe,fragmentShader:tJe,uniforms:{inputBuffer:new It(null),blurredInputBuffer:new It(null),overlay:new It(null),uResolution:new It(new ke),uDPR:new It(1),blurIntensity:new It(0)}})),this._blurEnabled=!1,this.blurTarget=new Ki(1,1,{minFilter:fi,magFilter:fi,wrapS:zn,wrapT:zn}),this.blurPass=new b6({width:window.innerWidth,height:window.innerHeight,kernelSize:k3.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(e){this.uniforms.overlay.value=e}setResolution(e,t,r=1){this.uniforms.uResolution.value.set(e,t),this.uniforms.uDPR.value=r,this.blurPass.setSize(e,t),this.blurTarget.setSize(e,t),this.blurPass.setSize(e,t)}get uiCanvas(){return this._uiCanvas}set uiCanvas(e){this._uiCanvas=e,e.texture&&(this.uniforms.overlay.value=e.texture);let t=e.frame;if(t){let r=t.data.backgroundBlur,i=r.radius;this._blurEnabled=r.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=i/3}}render(e,t,r,i,n){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(e,t,this.blurTarget,i,n)),super.render(e,t,r,i,n)}},iJe=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nJe=`
uniform sampler2D tInput;
uniform sampler2D tOverlayImage;
varying vec2 vUv;
uniform vec2 uResolution;
uniform vec2 uRightBottom;
uniform vec2 uImageSize;
uniform float uScale;
uniform float uDPR;

vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}

vec4 drawFixedSizeImage(sampler2D image, vec2 screenUV, vec2 imageSize, vec2 imageCoords, vec2 screenSize, float dpr) {
	vec2 uv = (screenUV * screenSize * dpr - imageCoords) / (imageSize * dpr);
	if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {
		return vec4(0.0);
	}
	return texture2D(image, uv);
}

void main() {
    vec2 screenUV = gl_FragCoord.xy / (uResolution.xy * uDPR);
	vec2 imageCoords = vec2(uResolution.x * uDPR - uImageSize.x * uScale * uDPR - uRightBottom.x * uDPR, uRightBottom.y * uDPR);
    vec4 background = texture2D(tInput, screenUV);
    vec4 image = drawFixedSizeImage(tOverlayImage, screenUV, uImageSize * uScale, imageCoords, uResolution, uDPR);
    gl_FragColor = vec4(blendNormal(background.rgb, image.rgb, image.a), max(background.a, image.a));
}
`,aJe=class extends Xc{constructor(){super(new Wi({vertexShader:iJe,fragmentShader:nJe,uniforms:{tInput:new It(null),tOverlayImage:new It(null),uResolution:new It(new ke),uImageSize:new It(new ke),uRightBottom:new It(new ke(20,20)),uScale:new It(.25),uDPR:new It(1)}}),"tInput")}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tOverlayImage.value}set texture(e){this.uniforms.tOverlayImage.value=e,this.uniforms.uImageSize.value.set(e.image.width,e.image.height)}};function fX(e,t){return t&&t.enabled&&e.push(t.effect),e}var oJe=e=>Object.values(Li).includes(e)?e:Li.NORMAL,sJe=class extends as{constructor(e,t){super(),this._needsDOFResize=t,this.postprocessingState=TP.defaultData,this._scene=new uh,this._camera=new Os,this.effects=new Map,this.blueNoiseTexture=new Zc,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new QNe,this.renderer=e,this.debug=!1,this.effects.set("bloom",new b$e),this.effects.set("chromaticAberration",new x$e),this.effects.set("vignette",new E$e),this.effects.set("noise",new S$e),this.effects.set("colorAverage",new C$e),this.effects.set("hueSaturation",new _$e),this.effects.set("brightnessContrast",new w$e),this.effects.set("depthOfField",new B$e),this.effects.set("pixelation",new M$e),this.effectComposer=new R$e(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new KU(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new F$e(this.scene,this.camera,this.renderer),this.aoPass=new G$e(this.scene,this.camera),this.taaPass=new I$e,this.taaPass.renderToScreen=!1,this.helperPass=new N$e(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new X$e,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new rJe,this.uiOverlayPass.enabled=!1,this.logoOverlayPass=new aJe,this.logoOverlayPass.enabled=!1,this.sceneTransitionPass=new Z$e,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.stylesOverlayPass.texture=e,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){let t=this._camera!==e;this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),t&&this.transmissionPass.updatePasses(this.renderer),this.aoPass.setCamera(e),this.helperPass.setCamera(e),this.effects.get("depthOfField").setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let r=this.effectComposer.passes[t];if(r.enabled===!0&&!e&&this._renderToScreen){r.renderToScreen=!0,e=!0;continue}r.renderToScreen=!1}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Zc(e,128,128),this.blueNoiseTexture.wrapS=yf,this.blueNoiseTexture.wrapT=yf,this.blueNoiseTexture.minFilter=Zi,this.blueNoiseTexture.magFilter=Zi,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,r,i,n,a,o,s){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=r,this.aoPass.aoColor=i,this.aoPass.fogEnabled=n,this.aoPass.fogNear=a,this.aoPass.fogFar=o,this.aoPass.runHalfRes!==!s&&(this.aoPass.runHalfRes=!s)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){var e,t,r;if((e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let i=[this.effects.get("pixelation")].reduce(fX,[]);i.length>0&&(this.uvEffectPass=new WP(this.camera,...i),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let n=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("depthOfField"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(fX,[]);if(n.length>0&&(this.effectPass=new WP(this.camera,...n),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass),this._needsDOFResize&&((r=this.effects.get("depthOfField"))==null?void 0:r.enabled)&&window!==void 0)){let a=this.renderer.viewportWidth,o=this.renderer.viewportHeight;this.renderer.setSize(a-1,o-1),this.renderer.setSize(a,o)}}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass),this.effectComposer.addPass(this.logoOverlayPass)}_initCopyPass(){if(this._savePass)return;let e=new ke;this.renderer.getDrawingBufferSize(e),this._rt=new Ki(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:yf,wrapT:yf}),this._rt.samples=0,this._savePass=new GU(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new GU(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}setWatermark(e){this.logoOverlayPass.enabled=e!==null,e&&(this.logoOverlayPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...r}=e,i=!1;t!==this.postprocessingState.enabled&&(i=!0);for(let n of Object.entries(r)){let a=n[1],o=this.effects.get(n[0]);if(o){o.enabled!==a.enabled&&(i=!0),o.enabled=a.enabled;for(let[s,l]of Object.entries(a))s==="blendFunction"?o.blendFunction=oJe(l):o[s]=l}}this.postprocessingState=e,i&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,r,i){e instanceof Xr?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,r,i),this.effectComposer.outputBuffer.scissor.set(e,t,r,i));let n=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(n),this.effectComposer.outputBuffer.scissor.multiplyScalar(n),this.renderer.setScissor(e,t,r,i)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,r,i){e instanceof Xr?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,r,i),this.effectComposer.outputBuffer.viewport.set(e,t,r,i))}resize(e,t,r){if(this.effectComposer.setSize(e,t,r),this._rt){let i=this.renderer.getPixelRatio();this._rt.setSize(e*i,t*i)}}dispose(){var e,t;(e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.dispose()}},lJe=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,cJe=hi.lights_fragment_begin,uJe=hi.shadowmask_pars_fragment,pX=null,dJe=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},hJe=(e="medium")=>{if(pX===e)return!1;pX=e;let t=dJe(e);hi.shadowmap_pars_fragment=lJe(t);let r=cJe.slice();r=r.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),r=r.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),hi.lights_fragment_begin=r;let i=uJe.slice();return i=i.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),hi.shadowmask_pars_fragment=i,!0},fJe=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;
#include <skinning_pars_vertex>

void main()
{
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
vec3 transformed = vec3(position);
#include <skinning_vertex>

vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
}
`,pJe=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,wI=new Wi({vertexShader:fJe,fragmentShader:pJe,uniforms:{depthContrast:{value:1}}}),AX=new ia,gX=new ke,AJe=class extends Qoe{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new ke,this.dummyCamera=new Os,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(n=!0,a=!0,o=!0)=>{let s=this.getContext(),l=0;n&&(l|=s.COLOR_BUFFER_BIT),a&&(l|=s.DEPTH_BUFFER_BIT),o&&(l|=s.STENCIL_BUFFER_BIT),s.clear(l),s.clearBufferfv(s.COLOR,1,[0,0,0,1])},this.pipeline=new sJe(this,(e==null?void 0:e.needsDOFResize)??!1),this.autoClear=!1;let t=this.setPixelRatio.bind(this),r=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=az,this.dummyCamera.matrixAutoUpdate=!1,this.domElement.removeAttribute("data-engine");let i=this.getContext();if(i&&"drawingBufferColorSpace"in i)try{i.drawingBufferColorSpace="display-p3"}catch(n){console.warn(n)}this.setPixelRatio=n=>{this._pixelRatio!==n&&(this._pixelRatio=n,t(n))},this.setSize=(n,a,o=!0)=>{var s,l;(this.viewportWidth!==n||this.viewportHeight!==a)&&(this.viewportWidth=n,this.viewportHeight=a,r(n,a,o),(s=this.normalRenderTarget)==null||s.setSize(n*this._pixelRatio,a*this._pixelRatio),this._resizeTransmission(n,a),(l=this.transmissionDepthTarget)==null||l.setSize(n*this._pixelRatio/2,a*this._pixelRatio/2),this.pipeline.resize(n,a,o))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new Ki(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:fi,magFilter:fi,wrapS:zn,wrapT:zn,depthBuffer:!1}))}_resizeTransmission(e,t){var r,i;(r=this.transmissionRenderTarget)==null||r.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),(i=this.aoRenderTarget)==null||i.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return kr.transmissionLod.value===1}set hdTransmission(e){kr.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new Ki(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Ob,magFilter:fi,wrapS:zn,wrapT:zn,depthBuffer:!1}),this.transmissionDepthTarget=new Ki(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:Zi,magFilter:Zi,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new Ki(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Zi,magFilter:Zi,type:qa,depthTexture:new Ib(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,r){this.normalRenderTarget&&(this.setClearColor(0),r.layers.enable(8),r.layers.disable(0),r.layers.disable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),r instanceof Os?wI.uniforms.depthContrast.value=(r.far-r.near)/1e4:wI.uniforms.depthContrast.value=1,t.overrideMaterial=wI,this.render(t,r),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?tN:null,r.layers.enable(0),r.layers.enable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,r=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let i=t.height,n=t.width,a=this.viewportWidth/this.viewportHeight;n<i?n=i*a:i=n/a,this.dummyCamera.setViewplaneSize(n,i);for(let o=0;o<r;o++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:r=this.sceneHelpers,sceneHelpersOnTop:i=this.sceneHelpersOnTop,overrideTransmission:n=void 0,overrideNormal:a=void 0}={}){var h;let o=e instanceof M6?e.activePage:e,s=o.visible;o.visible=!0;let l=o.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(o.bgColor,o.bgColor.a),o.penumbraSizeArray.forEach((f,m)=>{kr.penumbraSize.value[m]=f}),kr.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?kr.resolution.value.set(this.resolution.x,this.resolution.y):kr.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),a!==void 0?(kr.normalRenderTarget.value=a,kr.normalRenderTargetDepth.value=AX):l.needsNormal()&&(this.createNormalRenderTarget(),kr.normalRenderTarget.value=this.normalRenderTarget.texture,kr.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,o,t));let c=o.data.ao,u=c.occlusion;if(u&&(this.createAORenderTarget(),kr.aoRenderTarget.value=this.aoRenderTarget.texture),kr.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,o.aoColor,o.fog!==null,o.backupFog.near,o.backupFog.far,c.aoFullRes&&!w_),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&((h=o.uiCanvas)==null?void 0:h.enabled)&&o.uiCanvas.texture&&o.uiCanvas.texture.image.width>0){let f=this.getSize(gX),m=this.getPixelRatio();(o.uiCanvas.width!==this.viewportWidth||o.uiCanvas.height!==this.viewportHeight||o.uiCanvas.dpr!==m)&&o.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight},m),o.uiCanvas.render(this),this.pipeline.uiOverlayPass.uiCanvas=o.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(f.x,f.y,m),this.pipeline.updateRenderToScreen()}else this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen();if(this.pipeline.logoOverlayPass.enabled){let f=this.getSize(gX),m=this.getPixelRatio();this.pipeline.logoOverlayPass.uniforms.uResolution.value.set(f.x,f.y),this.pipeline.logoOverlayPass.uniforms.uDPR.value=m}let d=!1;if(n!==void 0)kr.transmissionRenderTarget.value=n,kr.transmissionRenderTargetDepth.value=AX,this.pipeline.setTransmissionPassEnabled(!1);else{let f=l.needsTransmission();f&&(this.transmissionRenderTarget===void 0&&(d=!0),this.createTransmissionRenderTarget(),kr.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,kr.aspectRatio.value=aKe(this.viewportWidth,this.viewportHeight),kr.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(f)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=r,this.pipeline.sceneHelpersOnTop=i,this.pipeline.scene=o,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==o.postprocessing&&(this.pipeline.updatePostprocessing(o.postprocessing),!r&&!i&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),o.overrideMaterial=l.wireframeState?tN:null,this.pipeline.render(),kr.frameIndex.value=(kr.frameIndex.value+1)%16,t instanceof Os&&t.copyHistory(),o.visible=s}renderFromSceneForSceneTransitionPass(e,t,r){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=r,this.sceneTransitionTimeRemaining=r,this.pipeline.renderToScreen=!0;let i=this.pipeline.sceneTransitionPass.uniforms;i.uDPR.value=window.devicePixelRatio,i.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var e,t,r,i,n,a;this._superDispose(),this.pipeline.dispose(),(e=this.aoRenderTarget)==null||e.dispose(),(t=this.transmissionRenderTarget)==null||t.dispose(),(r=this.transmissionDepthTarget)==null||r.dispose(),(i=this.normalRenderTarget)==null||i.dispose(),(a=(n=this.normalRenderTarget)==null?void 0:n.depthTexture)==null||a.dispose()}},oue=class extends __(oke){constructor(e,t=15,r=10066329){super(e,t,r),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){S_(this.object,oue.geometryHelper,e,t)}},sue=class extends __(ake){constructor(e,t=15,r=6710886){super(e,t,r),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){S_(this.object,sue.geometryHelper,e,t)}},XU=class extends __(nke){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){S_(this.object,XU.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=XU._vector,t=this.object.distance?this.object.distance:1e3,r=t*Math.tan(this.object.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let n=0,a=this.cone.material.length;n<a;n++)this.cone.material[n].color.set(i);else this.cone.material.color.set(i)}}},lue=XU;lue._vector=new q;var cue=class extends xf{constructor(){super(),this.caretIndex=0,this._caretVisibleAlpha=1,this._selectionVisibleAlpha=.3,this.current={start:0,end:void 0},this.matrixAutoUpdate=!1,this.caretMesh=new ta(new zf(1,1),new jf({transparent:!0,opacity:0,side:Ms})),this.add(this.caretMesh),this.selectionMesh=new ta(new zf(1,1),new jf({color:2857471,transparent:!0,depthTest:!1,depthWrite:!1,opacity:0,side:Ms})),this.add(this.selectionMesh),this.hide()}get caretHeight(){var e;return((e=this.object)==null?void 0:e.AD)??0}show(e){this.visible=!0,this.object=e,this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.y=-this.caretHeight*.5,this.setCaretPosition(this.caretIndex),this.update()}hide(){this.visible=!1}update(){if(this.object===void 0)return;this.updateHelperMatrix();let{depth:e}=this.object.geometry.userData.parameters;this.caretMesh.position.z=e,this.selectionMesh.position.z=e}updateHelperMatrix(){if(this.object===void 0)return;let e=this.object,t=e.parent;t!==null&&t.updateWorldMatrix(!0,!1),e.matrixAutoUpdate&&e.updateMatrix(),t!==null?(this.matrixWorld.multiplyMatrices(t.matrixWorld,e.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,e.matrix)):this.matrixWorld.multiplyMatrices(e.hiddenMatrix,e.matrix),this.matrix.copy(this.matrixWorld);for(let r of this.children)r.matrixWorld.copy(this.matrixWorld);e.updateWorldMatrix(!0,!0)}setCaretColor(e){let t=this.caretMesh.material;t.color.setRGB(e.r,e.g,e.b);let r=this._caretVisibleAlpha===t.opacity;this._caretVisibleAlpha=e.a,r&&(t.opacity=this._caretVisibleAlpha)}setSelectionColor(e){this.selectionMesh.material.color.setRGB(e.r,e.g,e.b)}setCaretPosition(e,t={}){if(this.object===void 0)return;this.caretIndex=e;let r=this.object.wrappedText,[i,n]=GP(r,e),[a,o]=e>0?GP(r,e-1):[null,null];(e>0&&r.length?r[a].charAt(o):null)===`
`&&(i++,n=0),this.current.start=e,this.current.end=void 0;let[s,l]=xI(this.object,i,n),{AD:c,descender:u}=this.object,d=u+c*.5,{width:h,height:f,depth:m}=this.object.geometry.userData.parameters,A=typeof h=="string"?0:h,g=typeof f=="string"?0:f;this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.set(s-A*.5,l+d+g*.5,m),this.hideSelectionMesh(),this.showCaretMesh()}setSelection(e,t){if(this.object===void 0)return;let r=this.object.wrappedText;this.current.start=e,this.current.end=t;let i=[],n=[],a=gJe(r,e,t),{lineHeight:o,AD:s,descender:l}=this.object,c=l+s*.5-o*.5;for(let[g,p,v]of a)if(p!==v){let[y,b]=xI(this.object,g,p),[x,w]=xI(this.object,g,v);b+=c,w+=c,w+=o;let C=i.length/3;i.push(y,b,0),i.push(x,b,0),i.push(x,w,0),i.push(y,w,0),n.push(C+0,C+1,C+2),n.push(C+2,C+3,C+0)}let u=new Mr;u.setIndex(n),u.setAttribute("position",new sr(i,3));let{width:d,height:h,depth:f}=this.object.geometry.userData.parameters,m=typeof d=="string"?0:d,A=typeof h=="string"?0:h;this.selectionMesh.geometry.dispose(),this.selectionMesh.geometry=u,this.selectionMesh.position.x=-m*.5,this.selectionMesh.position.y=A*.5,this.selectionMesh.position.z=f,this.showSelectionMesh(),this.hideCaretMesh()}getSelectionFromPosition(e,t,r="previous"){if(this.object===void 0||this.object.font===void 0)return;let i=this.object.wrappedText,n=i.length,a=this.object.lineHeight,o=n*a,{height:s,verticalAlign:l}=this.object.geometry.userData.parameters,c=typeof s=="string"?0:s,u=0;l===3?u=c-o:l===2&&(u=c*.5-o*.5);let d=Math.min(Math.floor(Math.max(Math.min(-t-u,o),0)/a),n-1),h=this.object.charCoords[d],f=this.object.charWidths[d],m=0,A=!1;if(r==="previous"){for(let g=0;g<h.length;g++)if(h[g][0]+f[g]*.5-e>0){m=g,A=!0;break}}else if(r==="closest"){let g=1/0;for(let p=0;p<h.length;p++){let v=h[p][0]+f[p]*.5,y=Math.abs(v-e);y<g&&(g=y,m=p,A=!0)}}else for(let g=0;g<h.length;g++){let p=h[g][0],v=h[g][0]+f[g];if(e>=p&&e<v){m=g,A=!0;break}}return A||(m=h.length),{index:this.getGlobalIndexFromLineAndCharIndexes(i,d,m),lineIndex:d,characterIndex:m}}getGlobalIndexFromLineAndCharIndexes(e,t,r){return e.slice(0,t).reduce((i,n)=>i+=n.length,0)+r}showSelectionMesh(){this.selectionMesh.material.opacity=this._selectionVisibleAlpha}hideSelectionMesh(){this.selectionMesh.material.opacity=0}showCaretMesh(){this.caretMesh.material.opacity=this._caretVisibleAlpha}hideCaretMesh(){this.caretMesh.material.opacity=0}};function xI(e,t,r){let{charCoords:i,charWidths:n,initialOffsetY:a,lineHeight:o}=e;if(i[t]&&i[t].length===0||i.length===0){let u=0,{horizontalAlign:d}=e.data.geometry,h=e.wrappedText,{width:f}=e.geometry.userData.parameters;return h.length===1&&h[0].length===0&&(d===3?u=f*.5:d===2&&(u=f)),[u,a-o*t]}let s=i[t];if(s===void 0||s.length===0)return[0,0];let[l,c]=s[Math.min(r,s.length-1)];return r>=s.length&&(l+=n[t][r-1]),[l,c]}function GP(e,t){var i;let r=0;for(let n=0;n<e.length;n++){let a=e[n],o=t-r;if(o<=a.length)return[n,o];r+=a.length}return[Math.max(0,e.length-1),((i=e[e.length-1])==null?void 0:i.length)??0]}function gJe(e,t,r){let[i,n]=GP(e,t),[a,o]=GP(e,r),s=[];n>=e[i].length&&(i++,n=0);for(let l=i;l<=a;l++){let c=e[l],u=l===i?n:0,d=l===a?o:c.length;s.push([l,u,d])}return s}function mJe(e,t){let r=Xo.fromHex(3223857),i=.8;for(let n of e.layers){if(n.data.type==="light"||n.data.type==="displace"||n.data.type==="fresnel"||n.data.type==="matcap"||n.data.type==="texture"||n.data.type==="toon"||n.data.type==="outline"||n.data.type==="transmission"||n.data.type==="noise")continue;let a=typeof n.data.alpha=="string"?Number(t.getVariable(n.data.alpha)):n.data.alpha;if(n.data.type==="color"&&a>.3){r=vJe(n.data.color,t),i=a;break}else if((n.data.type==="depth"||n.data.type==="gradient")&&a>.3){let o=yJe(n.data);r={r:o[0],g:o[1],b:o[2]},i=typeof n.data.alpha=="string"?1:n.data.alpha;break}}return{...r,a:i}}function vJe(e,t){return typeof e=="string"?t.data.colors[e]:e}function yJe(e){return e.colors[0]}function bJe(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var uue=class extends v6(VNe,oue){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.top=1250,i.bottom=-1250,i.right=1250,i.left=-1250,i.near=-1e4,i.far=2500;let n=new cP(this.shadow.camera);n.visible=!1,this.gizmos.shadowmap=n}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof cP&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let r=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&bJe(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),r&&this.update()}},mX=new q,vX=new q,yX=new qr,due=class extends v6(kNe,lue){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=fr.RAD2DEG*2*this.angle,i.aspect=1,i.near=100,i.far=2500;let n=new cP(this.shadow.camera);n.visible=!1,this.gizmos.shadowmap=n,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof cP&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),vX.setFromMatrixPosition(this.matrixWorld),yX.setFromRotationMatrix(this.matrixWorld),mX.copy(this.up).applyQuaternion(yX).negate().multiplyScalar(this.distance),this.target.position.copy(vX).add(mX),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};function wJe(e){let t=(e[0][0]+e[1][1])/2,r=(e[0][0]-e[1][1])/2,i=(e[1][0]+e[0][1])/2,n=(e[1][0]-e[0][1])/2,a=Math.sqrt(t*t+n*n),o=Math.sqrt(r*r+i*i),s=a+o,l=a-o,c=Math.atan2(i,r),u=Math.atan2(n,t),d=(u-c)/2,h=(u+c)/2,f=[[Math.cos(h),Math.sin(h)],[-Math.sin(h),Math.cos(h)]],m=[[s,0],[0,l]],A=[[Math.cos(d),Math.sin(d)],[-Math.sin(d),Math.cos(d)]];return f[0][0]*=-1,f[0][1]*=-1,A[0][0]*=-1,A[1][0]*=-1,[f,m,A]}function H5(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]],[e[1][0]*t[0][0]+e[1][1]*t[1][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]]]}function bX(e){return[[e[0][0],e[1][0]],[e[0][1],e[1][1]]]}function xJe(e){let[t,r,i]=wJe(e),n=H5(t,bX(i)),a=H5(H5(i,r),bX(i)),o=Math.atan2(n[1][0],n[0][0]),s=[a[0][0],a[1][1]],l=[a[0][1]/a[1][1],a[1][0]/a[0][0]];return{rotation:o,scale:s,shear:l}}function CJe({rotation:e,scale:t,shear:r}){let i=Math.cos(e),n=Math.sin(e),a=[[i,-n],[n,i]],o=[[t[0],r[0]*t[1]],[r[1]*t[0],t[1]]],s=H5(a,o);return[s[0][0],s[1][0],s[0][1],s[1][1]]}var ki;(e=>{function t(){return[1,0,0,0,1,0,0,0,1]}e.identity=t;function r(w,C=e.identity()){for(let _=0,B=w.length;_<B;_++)C[_]=w[_];return C}e.copy=r;function i(w,C,_,B,P,M){return e.setAbcdef(e.identity(),w,C,_,B,P,M)}e.create=i;function n(w,C,_,B,P,M,O){return w[0]=C,w[1]=B,w[2]=M,w[3]=_,w[4]=P,w[5]=O,w}e.setAbcdef=n;function a(w,C){let[_,B,P,M,O,I]=s(w),[F,V,Y,j,R,H]=s(C),G=F*_+V*P,$=F*B+V*M,L=Y*_+j*P,K=Y*B+j*M,X=R*_+H*P+O,ee=R*B+H*M+I;return e.create(G,$,L,K,X,ee)}e.append=a;function o(w,C){let[_,B,P,M,O,I]=s(w),[F,V,Y,j,R,H]=s(C),G=_,$=B,L=P,K=M;(F!==1||V!==0||Y!==0||j!==1)&&(G=_*F+B*Y,$=_*V+B*j,L=P*F+M*Y,K=P*V+M*j);let X=O*F+I*Y+R,ee=O*V+I*j+H;return e.create(G,$,L,K,X,ee)}e.prepend=o;function s(w){return[w[0],w[3],w[1],w[4],w[2],w[5]]}e.getAbcdef=s;function l(w){let[C,_,B,P,M,O]=e.getAbcdef(w),I=C*P-_*B,F=P/I,V=-_/I,Y=-B/I,j=C/I,R=(B*O-P*M)/I,H=-(C*O-_*M)/I;return e.create(F,V,Y,j,R,H)}e.invert=l;function c([w,C],_){let[B,P,M,O,I,F]=e.getAbcdef(_);return[B*w+M*C+I,P*w+O*C+F]}e.apply=c;function u(w,C){let[_,B,P,M,O,I]=e.getAbcdef(C),F=1/(_*M+P*-B),[V,Y]=w;return[M*F*V+-P*F*Y+(I*P-O*M)*F,_*F*Y+-B*F*V+(-I*_+O*B)*F]}e.applyInverse=u;function d(w,C,_=C){let[B,P,M,O,I,F]=e.getAbcdef(w);return e.setAbcdef(w,B*C,P*_,M*C,O*_,I*C,F*_),w}e.scale=d;function h(w,C){let _=Math.cos(C),B=Math.sin(C),[P,M,O,I,F,V]=e.getAbcdef(w);return e.setAbcdef(w,P*_-M*B,P*B+M*_,O*_-I*B,O*B+I*_,F*_-V*B,F*B+V*_),w}e.rotate=h;function f(w,C,_){let[B,P]=_,M=e.translate(w,-B,-P);return M=e.rotate(M,C),M=e.translate(M,B,P),M}e.rotateAround=f;function m(w,C,_){let[B,P,M,O,I,F]=e.getAbcdef(w);return e.setAbcdef(w,B,P,M,O,I+C,F+_),w}e.translate=m;function A(w,C,_){let[B,P,M,O]=e.getAbcdef(w);return e.setAbcdef(w,B,P,M,O,C,_),w}e.setTranslate=A;function g(w,C,_){let[B,P,M,O]=e.getAbcdef(w);return e.setAbcdef(w,B,P,M,O,C,_),w}e.setPosition=g;function p(w){let[C,_,B,P]=e.getAbcdef(w),M=Math.sqrt(C*C+_*_),O=Math.sqrt(B*B+P*P);return[M,O]}e.getScale=p;function v(w){let[,,,,C,_]=e.getAbcdef(w);return[C,_]}e.getPosition=v;function y(w,C){return e.decompose(w,C).rotation}e.getRotation=y;function b(w,C){let[_,B,P,M,O,I]=e.getAbcdef(w),{rotation:F,scale:V,shear:Y}=xJe([[_,P],[B,M]]);return{position:[O+(C[0]*_+C[1]*P)-C[0],I+(C[0]*B+C[1]*M)-C[1]],scale:V,rotation:F,shear:Y,pivot:C}}e.decompose=b;function x(w,C,_,B,P=[0,0]){let[M,O]=w,[I,F]=B,[V,Y,j,R]=CJe({rotation:_,scale:C,shear:P}),H=M-(I*V+F*j)+I,G=O-(I*Y+F*R)+F;return e.create(V,Y,j,R,H,G)}e.compose=x})(ki||(ki={}));var _Je=Math.PI/180;function SJe(e,t,r,i,n,a){let o=e-r,s=t-i;return o*o/(n*n)+s*s/(a*a)<=1}function EJe(e){return e*_Je}var Ro=class{constructor(e,t,r){this.uuid=e,this.data=t,this.localMatrix=ki.identity(),this.worldMatrix=ki.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new YU,this._recursiveBBox=new YU,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.shear=[0,0],this.emitter=f6(),this.dpr=r.dpr??1,this.dataPatched=t}project(e,t){let r=this.worldMatrix;return t&&(r=ki.append(t.worldMatrix,r)),ki.applyInverse(e,r)}intersects(e,t,r,i=!1){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([e,t],r),i)}intersectsInLocalSpace(e,t,r=!1){let{min:i,max:n}=r?this.recursiveBBox:this.singleBBox;return e>=i[0]&&e<=n[0]&&t>=i[1]&&t<=n[1]}applyTransforms(e){e.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=ki.compose(this.position,this.scale,EJe(this.rotation),Xm.getPivot(this.dataPatched),this.shear)}updateWorldMatrix(e,t,r){let i=this.parent;t&&i!==null&&i!==void 0&&i.updateWorldMatrix(e,!0,!1),e&&this.updateLocalMatrix(),this.parent?this.worldMatrix=ki.append(this.parent.worldMatrix,this.localMatrix):this.worldMatrix=ki.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return Xm.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(e=>{e.resetBBoxNeedsUpdateSelf()})}updateTransformState(e){let t=!1;e.position!==void 0&&(t=!0,this.position=e.position),e.rotation!==void 0&&(t=!0,this.rotation=e.rotation),e.scale!==void 0&&(t=!0,this.scale=e.scale),e.shear!==void 0&&(t=!0,this.shear=e.shear),t&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(e,t,r){e.type===0&&e.props.visible!==void 0&&(this.visible=e.props.visible),this.data=t,this.data=t;let i=e,n=xn(e.path,["states","*"]);if(n!==null){if(e.type===0){let[a]=n;if((this==null?void 0:this.stateSelection)===a){let o={...e.props};if(delete o.name,Object.values(e.props).some(s=>s===void 0)){let s=this.data;if(s!==void 0){let l=co.zoom(s,e.path.slice(2));if(l)for(let c in e.props)e.props[c]===void 0&&c in l&&(o[c]=l[c])}}i={...e,props:o,path:e.path.slice(2)}}}}else if(e.type===0){let a=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(a!==void 0){if(e.props.name!==void 0&&a.name){let{name:s,...l}=a;a=l}let o=co.removeOverridden(e.path,e.props,a);i={...e,props:o}}}this.updateByPatchedOpBase(i,Dm.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),r)}changeSelectedState(e,t,r=!1){if(!(this.data.states.length===0&&!r)){for(let i of this.data.states)Dm.toOps(this.data,i.data).forEach(n=>{let a=bP.replaceProps(n,this.data);this.dataPatched=this.data,this.updateByPatchedOp(a,this.data,t)});if(e!==null){let i=this.data.states.data(e);i&&(this.dataPatched=Dm.patch(this.data,i),Dm.toOps(this.data,i).forEach(n=>{this.updateByPatchedOp(n,this.dataPatched,t)}))}r&&this.updateTransformState(this.dataPatched),this.stateSelection=e}}updateState(e,t){e.name!==void 0&&(this.name=e.name),e.visible!==void 0&&(this.visible=e.visible),this.updateTransformState(e)}updateByPatchedOpBase(e,t,r){this.dataPatched=t,this.updateByPatchedOp(e,t,r)}updateByPatchedOp(e,t,r){e.path.length===0&&e.type===0&&this.updateState(e.props,r),this.requestRender()}traverseFrameAncestors(e){this.traverseAncestors(t=>{t.data.type==="frame2d"&&e(t)})}traverseAncestors(e){let t=this.parent;for(;t;)e(t),t=t.parent}requestRender(){this.traverseFrameAncestors(e=>{e.requestRender()})}clone(e){let t=new Ro(this.uuid,this.data,e);return t.parent=void 0,t}addEventListener(e,t){this.emitter.on(e,t)}removeEventListener(e,t){this.emitter.off(e,t)}dispatchEvent(e){this.emitter.emit(e.type,{...e,target:e.target??this})}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children;if(t){let r=t.indexOf(this)+1;return t[r]?t[r]:e.traverseSortNextHelper()}}}sortNext(){let e=this.children;return e&&e.length>0&&e[0]?e[0]:this.traverseSortNextHelper()}isDescendantOf(e){e instanceof Ro&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}},zu=class extends Ro{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this.context=r,this.children=[]}add(e){e.parent&&e.parent instanceof zu&&e.parent.remove(e),this.children.push(e),e.parent=this}remove(e){let t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=void 0)}traverse(e){let t=e(this);if(t!==!0)for(let r of this.children)r instanceof zu?r.traverse(e):t=e(r)}intersectsChildrenHelper(e,t,r,i,n){for(let a of this.children)if(a.intersects(e,t,r,!1)&&(n.push(a),i)||a instanceof zu&&a.intersectsChildrenHelper(e,t,r,i,n))return!0;return!1}intersectsChildren(e,t,r,i=!1,n=[],a=!1){return this.intersectsChildrenHelper(e,t,r,i,n),n}intersectsChildrenHelperReverse(e,t,r,i,n){for(let a of this.children)if(a instanceof zu&&a.intersectsChildrenHelperReverse(e,t,r,i,n)||a.intersects(e,t,r,!1)&&(n.push(a),i))return!0;return!1}intersectsChildrenReverse(e,t,r,i=!1,n=[],a=!1){return this.intersectsChildrenHelperReverse(e,t,r,i,n),n}updateWorldMatrix(e,t,r){if(super.updateWorldMatrix(e,t,r),r&&this.children)for(let i of this.children)i.updateWorldMatrix(e,!1,!0)}find(e){let t;return this.traverse(r=>{r.uuid===e&&(t=r)}),t}innerDrawChildren(e){for(let t=this.children.length-1;t>=0;t--)this.children[t].draw(e)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse(e=>{e.resetBBoxNeedsUpdateSelf()})}clone(e){let t=new zu(this.uuid,this.data,e);t.parent=void 0;for(let r of this.children)t.add(r.clone(e));return t}},ag=class extends zu{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this.updateState(t,r)}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.innerDrawChildren(e),e.restore())}clone(e){let t=new ag(this.uuid,this.data,e);t.parent=void 0;for(let r of this.children)t.add(r.clone(e));return t}};function BJe(e,t){let[[r,i],[n,a]]=e,[[o,s],[l,c]]=t,u=(r-n)*(s-c)-(i-a)*(o-l);if(u===0)return!1;let d=((r-o)*(s-c)-(i-s)*(o-l))/u,h=-((r-n)*(i-s)-(i-a)*(r-o))/u;return d>=0&&d<=1&&h>=0&&h<=1}var hue=[[-1,1],[-1,-1],[1,-1],[1,1]],wX=(e,t,r)=>{let i=e.getCenter(),n=e.getHalfSize(),a=ki.append(t,e.worldMatrix);n[0]===0&&n[1]===0?r.push(ki.apply(i,a)):hue.forEach(o=>{let s=[o[0]*n[0]+i[0],o[1]*n[1]+i[1]];r.push(ki.apply(s,a))})},YU=class{constructor(){this.matrix=ki.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(e,t=!1){e.updateWorldMatrix(),this.makeEmpty(),ki.copy(e.worldMatrix,this.matrix);let r=ki.invert(e.worldMatrix);this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let i=[];r===!0&&e instanceof zu?e.traverse(n=>{n.visible&&wX(n,t,i)}):wX(e,t,i),this.setFromPoints(i)}setFromSize(e,t,r){this.makeEmpty(),ki.copy(r,this.matrix),this.expandBySize(e,t,r)}expandBySize(e,t,r){[ki.apply([0,0],r),ki.apply([0,t],r),ki.apply([e,t],r),ki.apply([e,0],r)].forEach(i=>this.expandByPoint(i))}getCenter(){let[e,t]=this.min,[r,i]=this.getHalfSize();return ki.apply([e+r,t+i],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[(this.max[0]-this.min[0])*.5,(this.max[1]-this.min[1])*.5]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(e){this.makeEmpty();for(let t of e)this.expandByPoint(t)}expandByPoint(e){this.min=[Math.min(this.min[0],e[0]),Math.min(this.min[1],e[1])],this.max=[Math.max(this.max[0],e[0]),Math.max(this.max[1],e[1])]}computeVertices(){let[e,t]=this.getHalfSize(),r=this.getCenter(),[i,n,a,o]=ki.getAbcdef(this.matrix),s=ki.create(i,n,a,o,r[0],r[1]);this.vertices=hue.map(([l,c])=>ki.apply([l*e,c*t],s))}computeEdges(){this.edges=[];for(let e=0,t=this.vertices.length;e<t;++e)this.edges.push([this.vertices[e],this.vertices[(e+1)%t]])}project(e,t){let r=this.matrix;return t&&(r=ki.append(t.worldMatrix,r)),ki.applyInverse(e,r)}intersects(e,t,r){return this.intersectsInLocalSpace(...this.project([e,t],r))}intersectsInLocalSpace(e,t){let{min:r,max:i}=this;return e>=r[0]&&e<=i[0]&&t>=r[1]&&t<=i[1]}containsPoint(e){let[t,r]=e,[i,n]=this.min,[a,o]=this.max;return t>=i&&t<=a&&r>=n&&r<=o}intersectsBBox2D(e){for(let t=0,r=this.edges.length;t<r;t++){let i=this.edges[t];for(let n=0,a=e.edges.length;n<a;n++){let o=e.edges[n];if(BJe(i,o))return!0}}for(let t=0,r=e.vertices.length;t<r;t++){let i=e.vertices[t];if(this.containsPoint(i))return!0}return!1}ensureMinMax(){let e=this.min,t=this.max;this.min=[Math.min(e[0],t[0]),Math.min(e[1],t[1])],this.max=[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}copy(e){this.min=[...e.min],this.max=[...e.max],ki.copy(e.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let e=new YU;return e.copy(this),e}},fue,MJe=new Promise(e=>{fue=e}),xX=!1,BB;function PJe(){if(xX)return;if(BB)return BB;async function e(){let t=await Zu(()=>import("./ui-72640d9d.js"),[]);fue(t.default??t),xX=!0}return BB=e(),BB}function CX(e){let t=!1;return e.scene.objects.traverse((r,i)=>{(i.type==="Mesh"&&i.geometry.type==="UIGeometry"||i.type==="Page"&&i.uiFrame!==void 0)&&(t=!0)}),t}var ri,CI;async function TJe(e){let t=await MJe;ri||(CI||(CI=t({locateFile:()=>e})),ri=await CI)}var _X=ki.identity(),pue=class{constructor(e,t=1){this.canvas=e,this._dpr=t,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=An.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=An.transparent,this._fonts=new Map,this._isSizeDirty=!1;try{let r=e.getBoundingClientRect();e.width=r.width*t,e.height=r.height*t}catch{console.log(e.width,t)}this._currentM3Transform=_X,this._currentTransform=new Float32Array(_X)}get dpr(){return this._dpr}set dpr(e){this._dpr=e,this._isSizeDirty=!0}async init(){var e,t;if(!this.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");await TJe(this.wasmURL),this._surface=ri.MakeWebGLCanvasSurface(this.canvas),this.ctx=(e=this._surface)==null?void 0:e.getCanvas(),this._paint=new ri.Paint,this._paint.setAntiAlias(!0),this._paintFill=this._paint.copy(),this._paintFill.setStyle(ri.PaintStyle.Fill),this._paintStroke=this._paint.copy(),this._paintStroke.setStyle(ri.PaintStyle.Stroke),(t=this.ctx)==null||t.scale(this.dpr,this.dpr)}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(e){this._currentM3Transform=e,this._currentTransform.set(e)}async loadFont(e,t){let r=await(await fetch(e)).arrayBuffer();this.registerFont(r,t)}registerFont(e,t){if(this._fonts.has(t))return;let r=ri.FontMgr.FromData(e);if(r)this._fonts.set(t,r);else throw new Error("Invalid font data for "+t)}get width(){return this._width}get height(){return this._height}set strokeColor(e){this._paintStroke&&this._paintStroke.setColor(MB(e),ri.ColorSpace.DISPLAY_P3)}set fillColor(e){this._paintFill&&this._paintFill.setColor(MB(e),ri.ColorSpace.DISPLAY_P3)}set lineWidth(e){this._paintStroke&&this._paintStroke.setStrokeWidth(this._strokeMode==="center"?e:e*2)}set strokeMode(e){this._strokeMode=e}set dropShadowBlur(e){this._dropShadowBlur=e}set dropShadowColor(e){this._dropShadowColor=e}set dropShadowOffsetX(e){this._dropShadowOffsetX=e}set dropShadowOffsetY(e){this._dropShadowOffsetY=e}set innerShadowBlur(e){this._innerShadowBlur=e}set innerShadowColor(e){this._innerShadowColor=e}set innerShadowOffsetX(e){this._innerShadowOffsetX=e}set innerShadowOffsetY(e){this._innerShadowOffsetY=e}set innerShadowSpread(e){this._innerShadowSpread=e}set layerBlur(e){this._layerBlur=e}set backgroundBlur(e){this._backgroundBlur=e}clear(){var e;(e=this.ctx)==null||e.clear(ri.TRANSPARENT)}save(){var e;(e=this.ctx)==null||e.save()}restore(){var e;(e=this.ctx)==null||e.restore()}beginPath(){var e;(e=this._currentPath)==null||e.delete(),this._currentPath=new ri.Path}closePath(){let e=this._currentPath;if(e){if(e.isEmpty())return;let t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(e,t,r,i,n=0,a=0,o=0,s=0){var c,u;let l=ri.XYWHRect(e,t,r,i);if(n===0&&a===0&&s===0&&o===0)(c=this.ctx)==null||c.clipRect(l,ri.ClipOp.Intersect,!0);else{let d=ri.RRectXY(l,n,n);d[4]=d[5]=n,d[6]=d[7]=a,d[8]=d[9]=o,d[10]=d[11]=s,(u=this.ctx)==null||u.clipRRect(d,ri.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let e=ki.invert(this.currentTransform);this.ctx.concat(e);let t=ki.translate(ki.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(t),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(e,t,r=!0){var i,n,a,o;if(this.ctx&&this._currentPath){let s,l=!1;if(r&&this._hasDropShadow()){let c=e.copy();c.setColor(MB(this._dropShadowColor));let u;this._dropShadowBlur>0&&(u=ri.MaskFilter.MakeBlur(ri.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(((i=this.camera)==null?void 0:i.scale)??1),!1),c.setMaskFilter(u)),this.ctx.save(),this.ctx.clipPath(this._currentPath,ri.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),t(c),this.ctx.restore(),c.delete(),u==null||u.delete()}if(this._backgroundBlur>0&&r){this.ctx.save(),this.ctx.clipPath(this._currentPath,ri.ClipOp.Intersect,!0);let c=ri.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,ri.TileMode.Clamp,null),u=e.copy();u.setImageFilter(c),u.setAlphaf(1);let d=this._currentPath.computeTightBounds();this.ctx.saveLayer(u,d,null,ri.SaveLayerInitWithPrevious),this.ctx.drawColor(e.getColor()),this.ctx.restore(),this.ctx.restore(),u.delete(),c.delete(),l=!0}if(this._layerBlur>0){let c=e.copy();s=ri.MaskFilter.MakeBlur(ri.BlurStyle.Normal,this._layerBlur*this.dpr*(((n=this.camera)==null?void 0:n.scale)??1),!1),c.setMaskFilter(s),t(c),c.delete(),s.delete(),l=!0}if(l||t(e),r&&this._hasInnerShadow()){let c=new ri.Paint;c.setAntiAlias(!0),c.setStyle(ri.PaintStyle.Fill),c.setColor(MB(this._innerShadowColor));let u;this._innerShadowBlur>0&&(u=ri.MaskFilter.MakeBlur(ri.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(((a=this.camera)==null?void 0:a.scale)??1),!1),c.setMaskFilter(u));let d=this._currentPath.computeTightBounds(),[h,f,m,A]=d,g=m-h,p=A-f;this.ctx.save(),this.ctx.clipPath(this._currentPath,ri.ClipOp.Intersect,!0),this.ctx.saveLayer(c,d,null,ri.SaveLayerInitWithPrevious),(o=this.ctx)==null||o.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(ri.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+g+Math.abs(this._innerShadowOffsetX*2),2e3+p+Math.abs(this._innerShadowOffsetY*2)),c),c.setBlendMode(ri.BlendMode.Clear),this.ctx.drawPath(this._currentPath,c),this.ctx.restore(),this.ctx.restore(),c.delete(),u==null||u.delete()}}}_paintInner(e,t=!0){if(this.ctx&&this._currentPath&&e){let r=this.ctx,i=this._currentPath;this._applyEffectsToPaint(e,n=>{let a=!1;!t&&this._strokeMode!=="center"&&(r.save(),r.clipPath(i,this._strokeMode==="outside"?ri.ClipOp.Difference:ri.ClipOp.Intersect,!0),a=!0),r.drawPath(i,n),a&&r.restore()},t)}}_hasDropShadow(){var e;return((e=this._dropShadowColor)==null?void 0:e.a)>0}_hasInnerShadow(){var e;return((e=this._innerShadowColor)==null?void 0:e.a)>0}path(e){var t;(t=this._currentPath)==null||t.addPath(ri.Path.MakeFromSVGString(e))}ellipse(e,t,r,i,n,a,o,s){var c;if(!SX([e,t,r,i])||!this._currentPath)return;if(r<0||i<0)throw Error("radii cannot be negative");let l=ri.XYWHRect(e-r,t-i,r*2,i*2);(c=this._currentPath)==null||c.addOval(l)}rect(e,t,r,i,n=0,a=0,o=0,s=0){var c,u;let l=ri.XYWHRect(e,t,r,i);if(SX(l))if(n===0&&a===0&&s===0&&o===0)(c=this._currentPath)==null||c.addRect(l);else{let d=ri.RRectXY(l,n,n);d[4]=d[5]=n,d[6]=d[7]=a,d[8]=d[9]=o,d[10]=d[11]=s,(u=this._currentPath)==null||u.addRRect(d)}}getHorizontalAlign(e){switch(e){case 2:return ri.TextAlign.Right;case 3:return ri.TextAlign.Center;case 4:return ri.TextAlign.Justify;case 1:default:return ri.TextAlign.Left}}drawTextInner(e,t,r,[i,n,a,o],s,l,c=!0){let u=0,{ctx:d}=this;if(!d)return u;let h=l.copy(),f=l.copy();return f.setAlphaf(0),this._applyEffectsToPaint(h,m=>{t.pushPaintStyle(r,m,f),t.addText(e);let A=t.build();A.layout(a);let g=n;s===2?g+=(o-A.getHeight())/2:s===3&&(g+=o-A.getHeight()),d.drawParagraph(A,i,g),u=A.getHeight(),t.reset(),A.delete()},c),h.delete(),f.delete(),u}drawText(e,t){let r=0,i=this._fonts.get(t.font),{ctx:n,_paintFill:a,_paintStroke:o}=this;if(i&&n){let s=new ri.TextStyle({fontFamilies:[t.font],fontSize:t.fontSize,heightMultiplier:t.lineHeight,letterSpacing:t.letterSpacing}),l=new ri.ParagraphStyle({textStyle:s,textAlign:this.getHorizontalAlign(t.horizontalAlign)}),c=ri.XYWHRect(t.x,t.y,t.width,t.height),u=ri.ParagraphBuilder.Make(l,i);a&&(r=this.drawTextInner(e,u,s,c,t.verticalAlign,a,!0)),o&&(r=this.drawTextInner(e,u,s,c,t.verticalAlign,o,!1)),u.delete()}return{height:r}}render(){var e;(e=this._surface)==null||e.flush()}moveTo(e,t){var r;(r=this._currentPath)==null||r.moveTo(e,t)}lineTo(e,t){var r;(r=this._currentPath)==null||r.lineTo(e,t)}bezierCurveTo(e,t,r,i,n,a){var o;(o=this._currentPath)==null||o.cubicTo(e,t,r,i,n,a)}quadraticCurveTo(e,t,r,i){var n;(n=this._currentPath)==null||n.quadTo(e,t,r,i)}setTransform(e,t=!1){var n,a,o,s,l;if(!this.ctx)return;let r=this.ctx.getTotalMatrix(),i=ki.invert(r);if(i&&this.ctx.concat(i),(n=this.ctx)==null||n.scale(this.dpr,this.dpr),((a=this.camera)==null?void 0:a.enabled)&&((o=this.ctx)==null||o.concat(this.camera.worldMatrix),t)){let c=ki.getScale(this.camera.worldMatrix);(s=this.ctx)==null||s.scale(1/c[0],1/c[1])}(l=this.ctx)==null||l.concat(e),this.currentTransform=e}transform(e){var t;(t=this.ctx)==null||t.concat(e)}setSize(e,t){var r;!this._isSizeDirty&&e===this._width&&t===this._height||(this._isSizeDirty=!1,this._width=e,this._height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this._surface&&(this._surface=ri.MakeWebGLCanvasSurface(this.canvas),this.ctx=(r=this._surface)==null?void 0:r.getCanvas()))}};function SX(e){for(let t=0;t<e.length;t++)if(e[t]!==void 0&&!Number.isFinite(e[t]))return!1;return!0}function MB({r:e,g:t,b:r,a:i}){return ri.Color4f(e,t,r,i)}var EX=class{constructor(e,t,r){this.uuid=e,this.data=t,this.enabled=!1,this.color=An.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(t)}update(e){e.color!==void 0&&(this.color=e.color),e.enabled!==void 0&&(this.enabled=e.enabled),e.blurRadius!==void 0&&(this.blurRadius=e.blurRadius),e.offset!==void 0&&(this.offset=e.offset),e.spread!==void 0&&(this.spread=e.spread)}},BX=class{constructor(e,t,r){this.uuid=e,this.data=t,this.enabled=!1,this.radius=0,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.radius!==void 0&&(this.radius=e.radius)}},OJe=class{constructor(e,t,r){this.uuid=e,this.data=t,this.enabled=!1,this.color=An.transparent,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color)}},DJe=class{constructor(e,t,r){this.uuid=e,this.data=t,this.enabled=!1,this.color=An.transparent,this.thickness=0,this.mode="inside",this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color),e.thickness!==void 0&&(this.thickness=e.thickness),e.mode!==void 0&&(this.mode=e.mode)}},Mo=class extends Ro{constructor(t,r,i){super(t,r,i),this.uuid=t,this.data=r,this.autoClose=!0,this.fill=new OJe(t+"-fill",r.fill,i),this.stroke=new DJe(t+"-stroke",r.stroke,i),this.dropShadow=new EX(t+"-dropShadow",r.dropShadow,i),this.innerShadow=new EX(t+"-innerShadow",r.innerShadow,i),this.backgroundBlur=new BX(t+"-backgroundBlur",r.backgroundBlur,i),this.layerBlur=new BX(t+"-layerBlur",r.layerBlur,i)}applyFillStroke(t){t.fillColor=this.fill.enabled?this.fill.color:An.transparent,t.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:An.transparent,t.strokeMode=this.stroke.mode,t.lineWidth=this.stroke.thickness}applyFilters(t){this.layerBlur.enabled?t.layerBlur=this.layerBlur.radius*5:t.layerBlur=0,this.backgroundBlur.enabled?t.backgroundBlur=this.backgroundBlur.radius*5:t.backgroundBlur=0,this.dropShadow.enabled?(t.dropShadowBlur=this.dropShadow.blurRadius*5,t.dropShadowColor=this.dropShadow.color,t.dropShadowOffsetX=this.dropShadow.offset[0],t.dropShadowOffsetY=this.dropShadow.offset[1]):t.dropShadowColor=An.transparent,this.innerShadow.enabled?(t.innerShadowSpread=this.innerShadow.spread,t.innerShadowBlur=this.innerShadow.blurRadius*5,t.innerShadowColor=this.innerShadow.color,t.innerShadowOffsetX=this.innerShadow.offset[0],t.innerShadowOffsetY=this.innerShadow.offset[1]):t.innerShadowColor=An.transparent}innerDraw(t){}draw(t){!this.visible||(t.save(),this.applyTransforms(t),this.applyFilters(t),this.applyFillStroke(t),t.beginPath(),this.innerDraw(t),this.autoClose&&t.closePath(),this.fill.enabled&&t.fill(),this.stroke.enabled&&t.stroke(),t.restore())}updateByPatchedOp(t,r,i){super.updateByPatchedOp(t,r,i),t.type===0&&(xn(t.path,["fill"])?this.fill.update(t.props):xn(t.path,["stroke"])?this.stroke.update(t.props):xn(t.path,["dropShadow"])?this.dropShadow.update(t.props):xn(t.path,["innerShadow"])?this.innerShadow.update(t.props):xn(t.path,["layerBlur"])?this.layerBlur.update(t.props):xn(t.path,["backgroundBlur"])?this.backgroundBlur.update(t.props):this.resetBBoxNeedsUpdate())}updateState(t,r){super.updateState(t,r),t.fill!==void 0&&this.fill.update(t.fill),t.stroke!==void 0&&this.stroke.update(t.stroke),t.dropShadow!==void 0&&this.dropShadow.update(t.dropShadow),t.innerShadow!==void 0&&this.innerShadow.update(t.innerShadow),t.layerBlur!==void 0&&this.layerBlur.update(t.layerBlur),t.backgroundBlur!==void 0&&this.backgroundBlur.update(t.backgroundBlur)}clone(t){let r=new Mo(this.uuid,this.data,t);return r.parent=void 0,r}},w6=class extends Mo{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this.width=0,this.height=0,this.updateState(t,r)}innerDraw(e){e.ellipse(this.width*.5,this.height*.5,this.width*.5,this.height*.5,0,0,Math.PI*2)}intersectsInLocalSpace(e,t){return SJe(e,t,this.width*.5,this.height*.5,this.width*.5,this.height*.5)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e)}clone(e){let t=new w6(this.uuid,this.data,e);return t.parent=void 0,t}},M_=class extends Mo{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(t,r)}innerDraw(e){e.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e)}clone(e){let t=new M_(this.uuid,this.data,e);return t.parent=void 0,t}},x6=class extends Mo{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(t,r)}get textHeight(){return this._textHeight}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:An.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:An.transparent,e.strokeMode="center",e.lineWidth=this.stroke.thickness}innerDraw(e){var a;(a=this._fontHolder)!=null&&a.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&e.registerFont(this._fontHolder.arrayBuffer,this.data.font);let t=this.data.textTransform,r=this.data.text.textValue.toString(),i=t===2?r.toUpperCase():t===3?r.toLowerCase():r,{height:n}=e.drawText(i,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=n}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(e,{shared:t}){e.font!==void 0&&(this._fontHolder=t.getFont(e.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then(()=>{this.requestRender()}))}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateFontState(e,t)}clone(e){let t=new x6(this.uuid,this.data,e);return t.parent=void 0,t}},Aue=class extends Mo{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(t,r)}computeExtremas(){this.curves.length===0&&this.computeCurves();let e=this.curves.map(i=>qP.extremas(i)),t=[1/0,1/0],r=[-1/0,-1/0];for(let i=0,n=e.length;i<n;i++){let a=e[i];a[0][0]<t[0]&&(t[0]=a[0][0]),a[0][1]<t[1]&&(t[1]=a[0][1]),a[1][0]>r[0]&&(r[0]=a[1][0]),a[1][1]>r[1]&&(r[1]=a[1][1])}return this.extremasBBox.min=[t[0],t[1]],this.extremasBBox.max=[r[0],r[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let r=1,i=this.data.points.length;r<i;r++){let n=this.data.points[r].data,a=this.data.points[r-1].data,o={start:a.position,cp1:a.controlNext.position,cp2:n.controlPrevious.position,end:n.position};this.curves.push(o)}let e=this.data.points[0].data,t=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let r={start:t.position,cp1:t.controlNext.position,cp2:e.controlPrevious.position,end:e.position};this.curves.push(r)}}getCenter(){let[e,t]=this.extremasBBox.min,[r,i]=this.getHalfSize();return[e+r,t+i]}getHalfSize(){let{min:e,max:t}=this.extremasBBox;return[(t[0]-e[0])*.5,(t[1]-e[1])*.5]}innerDraw(e){for(let i=0,n=this.data.points.length;i<n;i++){let a=this.data.points[i].data;if(i===0){let[o,s]=a.position;e.moveTo(o,s)}else{let o=this.data.points[i-1].data,[s,l]=o.controlNext.position,[c,u]=a.controlPrevious.position,[d,h]=a.position,f={start:o.position,cp1:o.controlNext.position,cp2:a.controlPrevious.position,end:a.position};qP.derive(f),e.bezierCurveTo(s,l,c,u,d,h)}}let t=this.data.points[0].data,r=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[i,n]=r.controlNext.position,[a,o]=t.controlPrevious.position,[s,l]=t.position;e.bezierCurveTo(i,n,a,o,s,l)}}updateState(e,t){super.updateState(e,t),this.computeExtremas()}clone(e){let t=new Aue(this.uuid,this.data,e);return t.parent=void 0,t}},qP;(e=>{function t(o){let s=o.start,l=o.cp1,c=o.cp2,u=o.end,d=[3*(l[0]-s[0]),3*(l[1]-s[1])],h=[3*(c[0]-l[0]),3*(c[1]-l[1])],f=[3*(u[0]-c[0]),3*(u[1]-c[1])],m={start:d,cp:h,end:f};return o.derivative=m,m.derivative=$U.derive(m),m}e.derive=t;function r(o,s,l,c=!1){let u=o-2*s+l;if(u!==0){let d=-Math.sqrt(Math.abs(s*s-o*l)),h=-o+s,f=-(d+h)/u,m=-(-d+h)/u;return[f,m]}else if(s!==l&&u===0)return[(2*s-l)/(2*(s-l))];return[]}function i(o){let s=o.derivative??e.derive(o),l=s.start,c=s.cp,u=s.end;return[r(l[0],c[0],u[0]),r(l[1],c[1],u[1])]}e.droot=i;function n(o){let[s,l]=e.droot(o),c=[o.start[0],o.end[0]],u=[o.start[1],o.end[1]];for(let d of s)c.push(e.compute(o,Math.min(1,Math.max(0,d)))[0]);for(let d of l)u.push(e.compute(o,Math.min(1,Math.max(0,d)))[1]);return c.sort((d,h)=>d-h),u.sort((d,h)=>d-h),[[c[0],u[0]],[c[c.length-1],u[u.length-1]]]}e.extremas=n;function a(o,s){if(s===0)return[...o.start];if(s===1)return[...o.end];let l=1-s,c=l*l,u=s*s,d=c*l,h=c*s*3,f=l*u*3,m=s*u;return[d*o.start[0]+h*o.cp1[0]+f*o.cp2[0]+m*o.end[0],d*o.start[1]+h*o.cp1[1]+f*o.cp2[1]+m*o.end[1]]}e.compute=a})(qP||(qP={}));var $U;(e=>{function t(n){let a=n.start,o=n.cp,s=n.end,l=[2*(o[0]-a[0]),2*(o[1]-a[1])],c=[2*(s[0]-o[0]),2*(s[1]-o[1])],u={start:l,end:c};return u.derivative=JU.derive(u),n.derivative=u,u}e.derive=t;function r(n){let a=n.derivative??e.derive(n),o=a.start,s=a.end;return[o[0]!==s[0]?o[0]/(o[0]-s[0]):0,o[1]!==s[1]?o[1]/(o[1]-s[1]):0]}e.droot=r;function i(n,a){if(a===0)return[...n.start];if(a===1)return[...n.end];let o=1-a,s=o*o,l=a*a,c=s,u=o*a*2,d=l;return[c*n.start[0]+u*n.cp[0]+d*n.end[0],c*n.start[1]+u*n.cp[1]+d*n.end[1]]}e.compute=i})($U||($U={}));var JU;(e=>{function t(i){let n=i.start,a=i.end,o=[a[0]-n[0],a[1]-n[1]];return i.derivative=o,i.derivative}e.derive=t;function r(i,n){if(n===0)return[...i.start];if(n===1)return[...i.end];let a=i.start,o=i.end;return[a[0]+(o[0]-a[0])*n,a[1]+(o[1]-a[1])*n]}e.compute=r})(JU||(JU={}));var fh=class extends zu{constructor(e,t,r){super(e,t,r),this.uuid=e,this.width=0,this.height=0,this.clipped=!0,this.background=new M_(e+"-background",TC.defaultData,r),this.background.parent=this,this.updateState(t,r)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(e){this.background.cornerRadius=e}updateLocalMatrix(){var e;super.updateLocalMatrix(),(e=this.background)==null||e.updateLocalMatrix()}updateWorldMatrix(e,t,r){var i;super.updateWorldMatrix(e,t,r),(i=this.background)==null||i.updateWorldMatrix(e,t,r)}draw(e){if(!this.visible)return;e.save();let t=this.width,r=this.height;this.applyTransforms(e),this.background.width=t,this.background.height=r,this.background.draw(e),this.clipped&&e.clipRect(0,0,t,r,...this.cornerRadius),this.innerDrawChildren(e),e.restore()}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e),e.fill!==void 0&&this.fill.update(e.fill),e.stroke!==void 0&&this.stroke.update(e.stroke),e.dropShadow!==void 0&&this.dropShadow.update(e.dropShadow),e.innerShadow!==void 0&&this.innerShadow.update(e.innerShadow),e.layerBlur!==void 0&&this.layerBlur.update(e.layerBlur),e.backgroundBlur!==void 0&&this.backgroundBlur.update(e.backgroundBlur),e.clipped!==void 0&&(this.clipped=e.clipped)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.type===0&&(xn(e.path,["fill"])?this.fill.update(e.props):xn(e.path,["stroke"])?this.stroke.update(e.props):xn(e.path,["dropShadow"])?this.dropShadow.update(e.props):xn(e.path,["innerShadow"])?this.innerShadow.update(e.props):xn(e.path,["layerBlur"])?this.layerBlur.update(e.props):xn(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}clone(e){let t=new fh(this.uuid,this.data,e);t.parent=void 0;for(let r of this.children)t.add(r.clone(e));return t}},IJe=Xf(boe(),1),j3=class extends Mo{constructor(e,t,r){super(e,t,r),this.uuid=e,this.data=t,this._pathBBox=new DOMRect,this.path="",this.updateState(t,r),this.autoClose=!1,this.computeSVGBBox()}computeSVGBBox(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");document.body.appendChild(e),t.setAttribute("d",this.path),e.appendChild(t),this._pathBBox=t.getBBox(),e.remove()}innerDraw(e){e.path(this.path)}intersectsInLocalSpace(e,t){return e>=this._pathBBox.x&&e<=this._pathBBox.x+this._pathBBox.width&&t>=this._pathBBox.y&&t<=this._pathBBox.y+this._pathBBox.height}getCenter(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}getHalfSize(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}updateState(e,t){super.updateState(e,t),e.path!==void 0&&(this.path=e.path,this.computeSVGBBox())}clone(e){let t=new j3(this.uuid,this.data,e);return t.parent=void 0,t}};function FJe(e,t=1,r=1){if(t<=0||r<=0)return e;let i=(0,IJe.parseSVG)(e).map(n=>{let a={...n};return"x"in a&&(a.x=a.x*t),"y"in a&&(a.y=a.y*r),"x1"in a&&(a.x1=a.x1*t),"x2"in a&&(a.x2=a.x2*t),"y1"in a&&(a.y1=a.y1*r),"y2"in a&&(a.y2=a.y2*r),"rx"in a&&(a.rx=a.rx*t),"ry"in a&&(a.ry=a.ry*r),a});return LJe(i)}function LJe(e){let t=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"],r;return e.map(i=>{let n=[];t.forEach(o=>{if(o in i){let s=i[o]*1;n.length&&s>=0&&n.push(","),n.push(s)}});let a=(r===i.code?n[0]<0?"":",":i.code)+n.join("");return r=i.code,a}).join("")}function RJe(e,t,r){switch(t.type){case"ellipse2d":return new w6(e,t,r);case"rectangle2d":return new M_(e,t,r);case"text2d":return new x6(e,t,r);case"vector2d":return new Aue(e,t,r);case"path2d":return new j3(e,t,r);case"frame2d":return new fh(e,t,r);case"group2d":default:return new ag(e,t,r)}}var gue=class{constructor(e,t,r){this.uuid=e,this.data=t,this.group=new ag(gue.GROUP_ID,{...kP.defaultData},r),this.createChildrenObjects(t.objects,this.group,r)}createObject(e,t,r,i,n,a){let o=RJe(e,t,a);o&&(i.add(o),i.children.splice(n,0,i.children.pop()),o.updateWorldMatrix(),r.length>0&&(o instanceof ag||o instanceof fh)&&this.createChildrenObjects(r,o,a))}createChildrenObjects(e,t,r){let i=0;for(let n of e)this.createObject(n.id,n.data,n.children,t,i,r),i+=1}draw(e){this.group.draw(e)}updateEntityByOp(e,t,r,i){let n=this.find(e);if(n)try{n.updateByOp(t,r,{shared:i})}catch(a){console.error(a)}}updateTreeByOp(e,t){if(e.path.length===0&&e.type===7){let r=e.parent===null?this.group:this.find(e.parent);r!==void 0&&r instanceof zu&&(this.createObject(e.id,e.data,e.children,r,e.localIndex,t),r.requestRender())}else if(e.path.length===0&&e.type===8){let r=this.find(e.id);if(r!==void 0&&r.parent!==void 0&&r.parent instanceof zu){let i=r.parent;r.resetBBoxNeedsUpdate(),i==null||i.remove(r),i==null||i.requestRender()}}else if(e.path.length===0&&e.type===9){let r=this.find(e.id);if(r!==void 0){let i=r.parent,n=e.parent===null?this:this.find(e.parent);if(n instanceof zu||n===this){n.add(r);let a=e.localIndex;n.children.splice(a,0,n.children.pop()),r.updateWorldMatrix(!0,!1,!0),i==null||i.requestRender(),r.requestRender()}r.resetBBoxNeedsUpdate()}}}add(e){this.group.add(e)}remove(e){this.group.remove(e)}traverse(e){this.group.traverse(t=>{t!==this.group&&e(t)})}intersectsChildren(e,t,r,i=!1,n=[]){return this.group.intersectsChildren(e,t,r,i,n,!0)}intersectsChildrenReverse(e,t,r,i=!1,n=[]){return this.group.intersectsChildrenReverse(e,t,r,i,n,!0)}find(e){return this.group.find(e)}get children(){return this.group.children}project(e,t){return this.group.project(e,t)}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let r=[],i=t;for(;i!==this.group;){let n=i;i=i.parent;let a=i.children.indexOf(n);r.splice(0,0,a)}return{entity:t,sortKey:r}}getAllSorted(e){let t=[];for(let r of e){let i=this.getWithSortKey(r.id);i!==void 0&&t.push(i)}return t.sort((r,i)=>Jse(r.sortKey,i.sortKey)),t.map(r=>r.entity)}},C6=gue;C6.GROUP_ID="scene2d";function mue({constraints:e,newParentWidth:t,newParentHeight:r,initialParentWidth:i,initialParentHeight:n,objectInitialWidth:a,objectInitialHeight:o,objectInitialPosition:s}){let{horizontalConstraint:l,verticalConstraint:c}=e,u=t-i,d=r-n,h=a,f=o,m=s[0],A=s[1];if(l!==0){if(l===1)m+=u;else if(l===3)m+=u/2;else if(l===2)h=Math.max(1,h+u);else if(l===4){let g=t/i;h*=g,m*=g}}if(c!==0){if(c===1)A+=d;else if(c===3)A+=d/2;else if(c===2)f=Math.max(1,f+d);else if(c===4){let g=r/n;f*=g,A*=g}}return{width:h,height:f,position:[m,A]}}Xf(boe(),1);var UJe=`
	varying vec2 vUv;
	void main() {
		vUv = uv;
		gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	}`,NJe=`
	uniform sampler2D tDiffuse;
	varying vec2 vUv;
	void main() {
		vec4 texel = texture2D( tDiffuse, vUv );
		gl_FragColor = texel;
	}`,kJe=new y3(-1,1,1,-1,0,1),jJe=class extends Mr{constructor(){super(),this.setAttribute("position",new sr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new sr([0,2,0,0,2,0],2))}},zJe=new jJe,HJe=class{constructor(e){this._mesh=new ta(zJe,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,kJe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}},vue=new Wi({defines:{},uniforms:{tDiffuse:new It(null)},vertexShader:UJe,fragmentShader:NJe}),VJe=new HJe(vue),_I=null,SI=null,QJe=()=>(_I===null&&(_I=document.createElement("canvas")),_I),WJe=e=>(SI===null&&(SI=new pue(e)),SI),GJe=ki.identity(),yue=class{constructor(e,t,r,i){this.uuid=e,this.width=t,this.height=r,this.context=i,this.enabled=!0,this.isScreenSpace=!1,this.dpr=window.devicePixelRatio,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this._innerApplySize=()=>{let n=this.width,a=this.height,o=this.dpr;this.renderer.dpr=this.isScreenSpace?o:Math.floor(2048/Math.max(n,a)),this.renderer.setSize(n,a)},this.onFrameOverrideObjectEvent=n=>{var a,o;if(((a=n.target)==null?void 0:a.uuid)!==void 0){let s=(o=this.frameRoot)==null?void 0:o.find(n.target.uuid);s&&s.dispatchEvent({...n,target:s})}},this.scene2d=new C6(fr.generateUUID(),wU.defaultData,{dpr:window.devicePixelRatio,shared:i.shared}),this.canvas=QJe(),this.renderer=WJe(this.canvas),this.promise=this.init(),this.renderTarget=new Ki(1,1,{type:kf,stencilBuffer:!1,depthBuffer:!1}),i.shared.addUIBuffer(this.uuid,this.renderTarget),this.textureHolder=i.shared.uiBuffer(this.uuid)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new JUe(this.canvas)),this._canvasTexture}async init(){this.renderer instanceof pue&&(this.renderer.wasmURL=zce.skiaWasmUrl),await this.renderer.init()}render(e){var t,r;if(this.isFrameDirty){this.isFrameDirty=!1,this._innerApplySize(),this.renderer.clear(),(t=this.frameOverride)==null||t.draw(this.renderer),this.renderer.render(),vue.uniforms.tDiffuse.value=this.canvasTexture,this.canvasTexture.needsUpdate=!0;let i=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.clear(),VJe.render(e),e.setRenderTarget(i),(r=this.textureHolder)==null||r.setNeedsUpdate(!0)}}updateEntity2DByOp(e,t,r,i){this.scene2d.updateEntityByOp(e,t,r,i),this.applySize()}updateTreeByOp(e,t){this.scene2d.updateTreeByOp(e,t),this.applySize()}applyOverrides(e){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let t=(e==null?void 0:e.width)??this.width,r=(e==null?void 0:e.height)??this.height;this.frameOverride.width=t,this.frameOverride.height=r,this.frameOverride.localMatrix=GJe,this.isScreenSpace&&(this.frameOverride.fill.color=An.from0to1([0,0,0,0])),this.frameOverride.data={...this.frameOverride.data,width:t,height:r},bue({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(e,t=window.devicePixelRatio){var s,l;let r=Math.max(1,(e==null?void 0:e.width)??this.width),i=Math.max(1,(e==null?void 0:e.height)??this.height);this.dpr=t,this.width=r,this.height=i,this._innerApplySize();let n=1,a=512,o=512;(r*t<a||i*t<o)&&(n=Math.max(a/(r*t),o/(i*t))),this.renderTarget.setSize(r*t*n,i*t*n),(s=this._canvasTexture)==null||s.dispose(),this._canvasTexture=void 0,this.applyOverrides(e),(l=this.frameOverride)==null||l.requestRender()}applyFrame(e){var r,i;let t=this.context.scene.find2D(e);if(!(!t||!(t instanceof fh)))return this.disposeFrameOverride(),this.frameRoot=t,this.frameOverride=t.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),(r=this.frame)==null||r.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse(n=>{n.addEventListener("beginState",this.onFrameOverrideObjectEvent)}),this.frameOverride.traverse(n=>{n.addEventListener("completeState",this.onFrameOverrideObjectEvent)}),(i=this.frame)==null||i.requestRender(),t}get frame(){return this.frameOverride}get frameId(){var e;return(e=this.frame)==null?void 0:e.uuid}find(e){return this.scene2d.find(e)}get texture(){var e;return(e=this.textureHolder)==null?void 0:e.getTexture(1001)}disposeFrameOverride(){var e,t,r;(e=this.frameOverride)==null||e.removeEventListener("render",this.onRenderRequestedDownstream),(t=this.frameOverride)==null||t.traverse(i=>{i.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)}),(r=this.frameOverride)==null||r.traverse(i=>{i.removeEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function bue({objectOverride:e,objectRoot:t,newParentWidth:r,newParentHeight:i,initialParentWidth:n,initialParentHeight:a}){if(e instanceof fh&&t instanceof fh||e instanceof ag&&t instanceof ag)for(let o=0,s=e.children.length;o<s;o++){let l=e.children[o],c=t.children[o];l&&c&&l.uuid===c.uuid&&KJe({objectOverride:l,objectRoot:c,newParentWidth:r,newParentHeight:i,initialParentWidth:n,initialParentHeight:a})}}function qJe(e){if(ZU(e))return[e.width,e.height];if(e instanceof j3){let[t,r]=e.getHalfSize();return[t*2,r*2]}else if(e instanceof ag){let[t,r]=e.recursiveBBox.getHalfSize();return[t*2,r*2]}return[0,0]}function KJe({objectOverride:e,objectRoot:t,newParentWidth:r,newParentHeight:i,initialParentWidth:n,initialParentHeight:a}){let[o,s]=qJe(t),{width:l,height:c,position:u}=mue({constraints:e.data,newParentWidth:r,newParentHeight:i,initialParentWidth:n,initialParentHeight:a,objectInitialWidth:o,objectInitialHeight:s,objectInitialPosition:t.position});if(e.position=u,e.data={...e.data,position:u},e.states)for(let d in e.states)XJe({stateId:d,objectOverride:e,objectRoot:t,newParentWidth:r,newParentHeight:i,initialParentWidth:n,initialParentHeight:a});if(ZU(e)||e instanceof ag)ZU(e)&&(e.width=l,e.height=c,e.data={...e.data,width:l,height:c}),bue({objectOverride:e,objectRoot:t,newParentWidth:l,newParentHeight:c,initialParentWidth:o,initialParentHeight:s});else if(e instanceof j3){let d=t,h=o!==0?l/o:1,f=s!==0?c/s:1;e.path=FJe(d.path,h,f),e.data={...e.data,path:e.path}}}function XJe({stateId:e,objectOverride:t,objectRoot:r,newParentWidth:i,newParentHeight:n,initialParentWidth:a,initialParentHeight:o}){var c,u;let s=(c=t.states)==null?void 0:c[e],l=(u=r.states)==null?void 0:u[e];if(s&&l){let{width:d,height:h,position:f}=mue({constraints:t.data,newParentWidth:i,newParentHeight:n,initialParentWidth:a,initialParentHeight:o,objectInitialWidth:Xm.isResizeable(l)?l.width:0,objectInitialHeight:Xm.isResizeable(l)?l.height:0,objectInitialPosition:l.position});Object.assign(t.states[e],{position:f}),Xm.isResizeable(s)&&Object.assign(t.states[e],{width:d,height:h})}}function ZU(e){return e instanceof M_||e instanceof fh||e instanceof w6||e instanceof x6}var Bo=class extends Jz(uh){constructor(e,t,r){super(),this.data=t,this.bgColor=new is(1,1,1,1),this.fog=null,this.backupFog=new Woe(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new Rr,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Os(C1,{...BC.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new UNe(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),t.uiScene?this.uiScene=new C6((Array.isArray(e)?e[0]:e)+"-ui",t.uiScene,{dpr:window.devicePixelRatio,shared:r.shared}):t.uiFrame&&this.createUICanvas(t.uiFrame,r)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){var e;return(e=this.uiCanvas)==null?void 0:e.frame}createUICanvas(e,t){this.uiCanvas=new yue(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,t),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then(()=>{var r,i;(r=this.uiCanvas)==null||r.applyFrame(e),(i=this.uiCanvas)==null||i.applySize()})}updateVisible(){}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(e,t){e.color!==void 0&&(this.ambientLight.color=nl(e.color,t)),e.intensity!==void 0&&(this.ambientLight.intensity=e.intensity),e.enabled!==void 0&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof d0&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof E1)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){e.softShadowQuality!==void 0&&this.isActive&&hJe(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){if(e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let r=this.scene;r.fog=this.fog}this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=nl(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){e.aoColor!==void 0&&(this.aoColor=nl(e.aoColor,t))}updateByOp(e,t,r,i){let n=this.data.uiFrame;super.updateByOp(e,t,r,i);let a=t;xn(e.path,["fog"])?this.updateFog(a.fog,r.shared):xn(e.path,["ao"])?this.updateAo(a.ao,r.shared):xn(e.path,["ambient"])?this.updateAmbientLight(a.ambient,r.shared):xn(e.path,["shadow"])?this.updateShadow(a.shadow):e.type===0&&e.path.length===0&&(e.props.uiFrame!==void 0||n!==a.uiFrame)&&this.updateUIFrame(e.props.uiFrame,r)}updateUIFrame(e,t){e?(this.uiCanvas||this.createUICanvas(e,t),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(e)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(e,t){this.updateState_Entity(e,t),e.backgroundColor!==void 0&&this.setBackgroundColor(nl(e.backgroundColor,t.shared)),e.fog!==void 0&&this.updateFog(e.fog,t.shared),e.ambient!==void 0&&this.updateAmbientLight(e.ambient,t.shared),e.ao!==void 0&&this.updateAo(e.ao,t.shared),e.shadow!==void 0&&this.updateShadow(e.shadow)}createFrame(e,t){}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){var e;return((e=this.scene)==null?void 0:e.find(this.data.publish.playCamera))??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(r=>{if(!r.visible)return!0;r instanceof uue&&r.visible&&e<3&&(this.penumbraSizeArrayCache[e]=r.data.penumbraSize??.5,e+=1),r instanceof due&&r.visible&&e<5-3&&(this.penumbraSizeArrayCache[3+t]=r.data.penumbraSize??.5,t+=1)})}raycastWithClones(e){let t=[],r=i=>{for(let n of i.children){let a=n.cloner;Oi.is(n)&&(n.visible||a!=null&&a.object.data.visible)&&((ju(n)||VU(n)&&this.scene.enableHelpers&&n.objectHelper.visible)&&(e.intersectObject(n,!1,t),eN(n,e,t,!0)),r(n))}};return r(this),t}updateEntity2DByOp(e,t,r,i){var n;(n=this.uiCanvas)==null||n.updateEntity2DByOp(e,t,r,i)}},YJe=class extends v6(zNe,sue){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=90,i.aspect=1,i.near=100,i.far=2500;let n=new q(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),a=new q(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z),o=new Fa(n,a),s=new uP(o,new Rr(16755200));s.visible=!1,this.gizmos.shadowmap=s,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof uP){let r=this.shadow.camera,i=new q(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),n=new q(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z);t.box.set(i,n),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},$Je=class extends Ts{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?o6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},_6=class extends Ts{constructor(e,t,r){super(e,t,r),this._shapeId=null,this._context=r}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){var i;let e={...this.data.geometry.extrusion.shape};for(let n in e)typeof e[n]=="string"&&(e[n]=this._context.shared.getVariable(e[n],[this.uuid,"geometry","extrusion","shape",n]));let t;if(e.type==="Custom"){let n=e.shapeId;if(n!==this._shapeId&&this.detachShape(),n){this._shapeId=n;let a=this._context.scene.find(n);a!=null&&a.data&&(a.attachedPaths.add(this),t=(i=a.geometry.userData)==null?void 0:i.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let n;switch(e.type){case"Rectangle":n=a6;break;case"Ellipse":n=n6;break;case"Polygon":n=ace;break;case"Star":n=oce;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=n.create({parameters:e}).userData.shape}let r=this.geometry;t&&r.inputs&&(r.inputs.shapeData=t,r.build(),this.attachedSurfaceCloners.forEach(n=>n.update()))}detachShape(){var e;this._shapeId!==null&&((e=this._context.scene.find(this._shapeId))==null||e.attachedPaths.delete(this))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?o6(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},S6=class extends m6{constructor(e,t,r){super(e,t,r),this.data=t}},ub=class extends B1(xf,E_){constructor(e,t,r){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,r)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let r=LP.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(r){let i,n;for(let a of _A.rootOverrideProps)e[a]===void 0?(i===void 0&&(i={...e}),i[a]=r.data[a]):(n===void 0&&(n={}),n[a]=e[a],i===void 0&&(i={...e}),i[a]=VA.apply(r.data[a],e[a]));return this.overrideData=n,i}else return{...Io.defaultData,...e,...dh(Io.defaultData,_A.rootOverrideProps)}}updateByOp(e,t,r,i){let n;if(this.isInstanceRoot&&!i){if(t=this.transformAssignData(t,r),e.type===0&&e.path.length===0&&this.component)for(let a of _A.rootOverrideProps)a in e.props&&e.props[a]===void 0&&(n===void 0&&(n={...e,props:{...e.props}}),n.props[a]=this.component.data[a]);else if(e.type===0&&e.path.length>0&&_A.rootOverrideProps.includes(e.path[0])){let a=e.path[0];n===void 0&&(n={...e,path:[],props:{[a]:t[a]}})}}super.updateByOp(n??e,t,r,i)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(this.component===void 0){let r=e.scene.find(t.component)??null,i=!1;if(r!==this.oldComponent){if(this.oldComponent){let n=0;for(let a of this.children)if(Oi.is(a))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(a),E6(a),n+=1;else break;this.children.splice(0,n)}i=!0}if(r){let n={};wue(e,[this.uuid],t.overrides,this,r,r,0,i,n);for(let a of this.children)if(Oi.is(a)){let o=a.data;o.type==="Empty"&&o.animations&&a.traverseEntity(s=>{let l=s.dataPatched;if(s instanceof Ts&&l.bones&&l.boneInverses){let c=s.dataPatched;if(c.bones&&c.boneInverses){let u=c.bones.map(f=>e.scene.find(n[f])),d=c.boneInverses.map(f=>new kt().fromArray(f)),h=new fz(u,d);s.bind(h,s.bindMatrix)}}else s.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function E6(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let r of e.children)Oi.is(r)&&E6(r)}}function MX(e,t,r,i){return e.component===t&&kz(e.identity,i)?e.overrideData===r?2:1:0}function wue(e,t,r,i,n,a,o,s,l){if(o>50)return!1;if(i.component!==n){if(i.component){let u=i.component.instances.indexOf(i);u>=0&&i.component.instances.splice(u,1)}n.instances.find(u=>u===i)||n.instances.push(i),i.component=n}n instanceof ub&&n.isInstanceRoot&&n.expandInstanceChildren(e);let c=0;for(let u of n.children)if(Oi.is(u)){let d=[...t,...typeof u.identity=="string"?[u.identity]:u.identity],h=OP.resolve(r,d,1);h!=null&&!(h instanceof $a)&&(Object.setPrototypeOf(h,$a.prototype),console.error("wrong prototype"));let f=null,m;if(!s){let A=i.children[c];if(f=Oi.is(A)?A:null,f!==null){let g=MX(f,u,h,d);m=g>=1?f.stateSelection:void 0,g!==2&&(f=null)}if(f===null&&(f=e.scene.findInstance(d)??null,f!==null)){let g=MX(f,u,h,d);if(m=g>=1?f.stateSelection:void 0,g!==2)f=null;else{let p=f.parent.children.indexOf(f);f.parent.children.splice(p,1),i.children.splice(c,0,f),f.parent===i?p<=c&&console.error("not possible"):(f.parent=i,f.matrixWorldNeedsUpdate=!0,f.resetBBoxNeedsUpdate(),f.updateVisible(),e.pendingDeletes.delete(f))}}}if(f===null){let A=h?VA.apply(u.data,h):u.data;c0.is(A.type)&&(A={...A,type:"Empty"}),f=EA.createEntity(d,A,e),f.overrideData=h,i.add(f),i.children.splice(i.children.length-1,1),i.children.splice(c,0,f),f.updateState(f.data,e),m&&f.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(f)}if(f.isBone){let A=f.identity[f.identity.length-1];l[A]=f.uuid}c+=1,wue(e,t,r,f,u,a,o+1,s,l)}if(!s){let u=c;for(;;){let d=i.children[c];if(Oi.is(d))e.pendingDeletes.add(d);else break;c+=1}i.children.splice(u,c-u)}return!0}var JJe=class extends B1(Goe,E_){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}},Es=class extends Ts{constructor(e,t,r){super(e,t,r),this.onBeforeRender=i=>{this.uiCanvas.render(i)},this.uiCanvas=new yue(e+"-canvas",t.geometry.width,t.geometry.height,r),this.uiCanvas.promise.then(()=>{this.applyFrame(this.dataPatched.geometry.frame,r.shared)})}updateByPatchedOpGeometry(e,t,r){super.updateByPatchedOpGeometry(e,t,r),e.type===0&&(e.props.frame!==void 0&&this.applyFrame(e.props.frame,r.shared),(e.props.width!==void 0||e.props.height!==void 0)&&this.applySize(e.props,r.shared))}applySize(e,t){let r=(e==null?void 0:e.width)??this.dataPatched.geometry.width,i=(e==null?void 0:e.height)??this.dataPatched.geometry.height;this.uiCanvas.applySize({width:r,height:i}),this.applyGeometryParametersFromFrame(t)}applyFrame(e,t){this.uiCanvas.applyFrame(e),this.applyGeometryParametersFromFrame(t),this.applyMaterialParametersFromFrame({shared:t})}applyGeometryParametersFromFrame(e){var r;let t=this.frame;t&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),(r=this.localGeometry)==null||r.dispose(),this.localGeometry=LC(this.dataPatched.geometry,e,this.data.flatShading,this))}applyMaterialParametersFromFrame(e){let t=this.frame;if(t){let r=t.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:r.radius,alpha:r.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:r.radius,alpha:r.enabled?1:0}),this.material.reset(this.dataPatched.material,e,!0)}}updateEntity2DByOp(e,t,r,i){this.uiCanvas.updateEntity2DByOp(e,t,r,i),e===this.frameId&&t.type===0&&(t.props.cornerRadius!==void 0?this.applyGeometryParametersFromFrame(i):xn(t.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:i}))}get frame(){return this.uiCanvas.frame}get frameId(){var e;return(e=this.frame)==null?void 0:e.uuid}removeInteractionGeometry(e){super.removeInteractionGeometry(e),this.applySize({},e)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.applySize({width:e.width,height:e.height},t)}},ZJe=class{constructor(e,t,r){this.variables=[],this.currentTextureIndex=0;let i=qa,n=new uh,a=new S0;a.position.z=1;let o={passThruTexture:{value:null}},s=u(h(),o),l=new ta(new zf(2,2),s);n.add(l),this.setDataType=function(f){return i=f,this},this.addVariable=function(f,m,A){let g=this.createShaderMaterial(m),p={name:f,initialValueTexture:A,material:g,dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:Zi,magFilter:Zi};return this.variables.push(p),p},this.setVariableDependencies=function(f,m){f.dependencies=m},this.init=function(){if(r.capabilities.isWebGL2===!1&&r.extensions.has("OES_texture_float")===!1)return"No OES_texture_float support for float textures.";if(r.capabilities.maxVertexTextures===0)return"No support for vertex shader textures.";for(let f=0;f<this.variables.length;f++){let m=this.variables[f];m.renderTargets[0]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),m.renderTargets[1]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),this.renderTexture(m.initialValueTexture,m.renderTargets[0]),this.renderTexture(m.initialValueTexture,m.renderTargets[1]);let A=m.material,g=A.uniforms;if(m.dependencies!==null)for(let p=0;p<m.dependencies.length;p++){let v=m.dependencies[p];if(v.name!==m.name){let y=!1;for(let b=0;b<this.variables.length;b++)if(v.name===this.variables[b].name){y=!0;break}if(!y)return"Variable dependency not found. Variable="+m.name+", dependency="+v.name}g[v.name]={value:null},A.fragmentShader=`
uniform sampler2D `+v.name+`;
`+A.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let f=this.currentTextureIndex,m=this.currentTextureIndex===0?1:0;for(let A=0,g=this.variables.length;A<g;A++){let p=this.variables[A];if(p.dependencies!==null){let v=p.material.uniforms;for(let y=0,b=p.dependencies.length;y<b;y++){let x=p.dependencies[y];v[x.name].value=x.renderTargets[f].texture}}this.doRenderTarget(p.material,p.renderTargets[m])}this.currentTextureIndex=m},this.getCurrentRenderTarget=function(f){return f.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(f){return f.renderTargets[this.currentTextureIndex===0?1:0]},this.dispose=function(){l.geometry.dispose(),l.material.dispose();let f=this.variables;for(let m=0;m<f.length;m++){let A=f[m];A.initialValueTexture&&A.initialValueTexture.dispose();let g=A.renderTargets;for(let p=0;p<g.length;p++)g[p].dispose()}};function c(f){f.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}this.addResolutionDefine=c;function u(f,m){m=m||{};let A=new Wi({uniforms:m,vertexShader:d(),fragmentShader:f});return c(A),A}this.createShaderMaterial=u,this.createRenderTarget=function(f,m,A,g,p,v){return f=f||e,m=m||t,A=A||zn,g=g||zn,p=p||Zi,v=v||Zi,new Ki(f,m,{wrapS:A,wrapT:g,minFilter:p,magFilter:v,format:Po,type:i,depthBuffer:!1})},this.createTexture=function(){let f=new Float32Array(e*t*4),m=new Zc(f,e,t,Po,qa);return m.needsUpdate=!0,m},this.renderTexture=function(f,m){o.passThruTexture.value=f,this.doRenderTarget(s,m),o.passThruTexture.value=null},this.doRenderTarget=function(f,m){let A=r.getRenderTarget(),g=r.xr.enabled,p=r.shadowMap.autoUpdate,v=r.outputEncoding,y=r.toneMapping;r.xr.enabled=!1,r.shadowMap.autoUpdate=!1,r.outputEncoding=td,r.toneMapping=ch,l.material=f,r.setRenderTarget(m),r.render(n,a),l.material=s,r.xr.enabled=g,r.shadowMap.autoUpdate=p,r.outputEncoding=v,r.toneMapping=y,r.setRenderTarget(A)};function d(){return`void main()	{

	gl_Position = vec4( position, 1.0 );

}
`}function h(){return`uniform sampler2D passThruTexture;

void main() {

	vec2 uv = gl_FragCoord.xy / resolution.xy;

	gl_FragColor = texture2D( passThruTexture, uv );

}
`}}},Ho=new Yo,PB=new q,eZe=class{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.positionAttribute,t=this.weightAttribute,r=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let a=1;t&&(a=t.getX(n)+t.getX(n+1)+t.getX(n+2)),Ho.a.fromBufferAttribute(e,n),Ho.b.fromBufferAttribute(e,n+1),Ho.c.fromBufferAttribute(e,n+2),a*=Ho.getArea(),r[n/3]=a}this.distribution=new Float32Array(e.count/3);let i=0;for(let n=0;n<r.length;n++)i+=r[n],this.distribution[n]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,r){let i=this.distribution[this.distribution.length-1],n=this.binarySearch(this.randomFunction()*i);return this.sampleFace(n,e,t,r)}binarySearch(e){let t=this.distribution,r=0,i=t.length-1,n=-1;for(;r<=i;){let a=Math.ceil((r+i)/2);if(a===0||t[a-1]<=e&&t[a]>e){n=a;break}else e<t[a]?i=a-1:r=a+1}return n}sampleFace(e,t,r,i){let n=this.randomFunction(),a=this.randomFunction();return n+a>1&&(n=1-n,a=1-a),Ho.a.fromBufferAttribute(this.positionAttribute,e*3),Ho.b.fromBufferAttribute(this.positionAttribute,e*3+1),Ho.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Ho.a,n).addScaledVector(Ho.b,a).addScaledVector(Ho.c,1-(n+a)),r!==void 0&&Ho.getNormal(r),i!==void 0&&this.colorAttribute!==void 0&&(Ho.a.fromBufferAttribute(this.colorAttribute,e*3),Ho.b.fromBufferAttribute(this.colorAttribute,e*3+1),Ho.c.fromBufferAttribute(this.colorAttribute,e*3+2),PB.set(0,0,0).addScaledVector(Ho.a,n).addScaledVector(Ho.b,a).addScaledVector(Ho.c,1-(n+a)),i.r=PB.x,i.g=PB.y,i.b=PB.z),this}};function tZe(e){let t=new Float32Array(e*e*2);for(let r=0;r<e;r++)for(let i=0;i<e;i++){let n=r*e+i;t[n*2+0]=r/(e-1),t[n*2+1]=i/(e-1)}return t}function rZe(e){let t=Math.ceil(Math.sqrt(e));return Math.max(t,1)}function iZe(e,t){let r=new ta(e.geometry,e.material),i=[],n=[],a=new q,o=new q;r.geometry.index!==null&&(r.geometry=r.geometry.toNonIndexed());let s=new eZe(r).build();for(let u=0;u<t;u++)s.sample(a,o),i.push(a.x,a.y,a.z),n.push(o.x,o.y,o.z);let l=new Float32Array(i),c=new Float32Array(n);return{positions:l,normals:c}}function PX(e,t){let r=e,i=new Float32Array(4*t*t);for(let a=0;a<t*t;a++)i[4*a]=r[3*a],i[4*a+1]=r[3*a+1],i[4*a+2]=r[3*a+2],i[4*a+3]=0;let n=new Zc(i,t,t,Po,qa);return n.needsUpdate=!0,n}function nZe({size:e}){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=i,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let r=new Zc(t,e,e,Po,qa);return r.needsUpdate=!0,r}function aZe(e){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=0,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let r=new Zc(t,e,e,Po,qa);return r.needsUpdate=!0,r}var oZe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform float uTime;
uniform float uSpeed;     // update speed of the particles
uniform vec3 uWorldOffset;    
uniform vec4 uWorldQuaternion;
uniform float uMaxLifeTime;
uniform vec3 uEmitterSize;
uniform float uFPSRatio;     // 1  for 60 FPS

float random (vec2 st) {
    return fract(sin(dot(st.xy,
        vec2(12.9898,78.233)))*
        43758.5453123);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
    vec3 acceleration = force / mass;
    
    return acceleration;
  }
  

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted
    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided
    float lifeTime = uMaxLifeTime;

    // Calculate the position adjustment based on collision
    //     if (collisionFlag > .5) {  
    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0
    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise
    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);

    // Update position based on collision or normal movement
    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);
    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);

    // EMISSION RATE - BIRTH
    // if (isSpawning == 1.0) {
    // Better Approach to avoid If statement
    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;
    originalPosition = mix(originalPosition, newPosition, isSpawning);
    position = mix(position, originalPosition, isSpawning);;
    timeStart = mix(timeStart, uTime, isSpawning);

    // Calculate timeLeft for life normalization
    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);
    float life_Normalize = timeLeft / lifeTime;

    // Use isActive to blend between the calculated color and black
    vec4 activeColor = vec4(position, life_Normalize);
    // if (isActive == 1.0) {
    gl_FragColor = mix(vec4(0.0), activeColor, isActive);

}
`,sZe=`

    vec3 mod289(vec3 x) {
      return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 mod289(vec4 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 permute(vec4 x) {
        return mod289(((x*34.0)+1.0)*x);
    }
    
    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }
    
    vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

    float snoise(vec3 v)
    {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y
    
    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
    
    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;
    
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)
    
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
    
    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    
    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );
    
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
    
    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);
    
    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    
    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
    }
    
    vec3 snoiseVec3( vec3 x ){
    
      float s  = snoise(vec3( x ));
      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
      vec3 c = vec3( s , s1 , s2 );
      return c;
    
    }
    
      
    vec3 curlNoise( vec3 p, float seed){
      p += seed;
      const float e = .1;
      vec3 dx = vec3( e   , 0.0 , 0.0 );
      vec3 dy = vec3( 0.0 , e   , 0.0 );
      vec3 dz = vec3( 0.0 , 0.0 , e   );
    
      vec3 p_x0 = snoiseVec3( p - dx );
      vec3 p_x1 = snoiseVec3( p + dx );
      vec3 p_y0 = snoiseVec3( p - dy );
      vec3 p_y1 = snoiseVec3( p + dy );
      vec3 p_z0 = snoiseVec3( p - dz );
      vec3 p_z1 = snoiseVec3( p + dz );
    
      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;
    
      const float divisor = 1.0 / ( 2.0 * e );
      return normalize( vec3( x , y , z ) * divisor );
    
    }


// Classic Perlin noise
float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}


vec3 fbm_vec3(vec3 p, float frequency, float offset)
{
  return vec3(
    cnoise((p+vec3(offset))*frequency),
    cnoise((p+vec3(offset+20.0))*frequency),
    cnoise((p+vec3(offset-30.0))*frequency)
  );
}

`,lZe=`
  #ifdef USE_COLLIDER
    float restitution = max(uBounce * 2., .01); // Energy Loss
    // SPHERE COLLIDER
    // **************************************************************
    #ifdef USE_SPHERE_COLLIDER       
      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
      vec3 radii = uColliderSize;
      // Adjust position relative to collider
      vec3 relPos = position - uColliderPos;
      // Apply rotation of the collider to the relative position
      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
      // Scale relative position by radii (for ellipsoid collision detection)
      vec3 scaledPos = relPos / radii;
      // Calculate ellipsoidal distance
      float dist = length(scaledPos); // Distance in terms of ellipsoid
      
      // Check for collision
      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {
          // Compute the normal at the collision point, accounting for particle size
        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          
        // Compute the normal at the collision point
        vec3 normal = ellipsoidNormal(adjustedPos, radii);
        // Rotate the normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);
        // Reflect the velocity vector off the normal
        velocity = reflect(velocity, normal) * restitution;

        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif

    // BOX COLLIDER or PLANE COLLIDER 
    // **************************************************************
    #ifdef USE_BOX_COLLIDER
      // Box dimensions and repulsion variables
      vec3 boxHalfSize = uColliderSize / 2.0;
      // Convert world position to box's local space
      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
      // Collision detection
      vec3 localDistance = abs(localPos) - boxHalfSize;
      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    

      // Collision Detected
      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      
        // Find the nearest face normal for bounce direction
        vec3 normal;
        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {
            normal = vec3(sign(localPos.x), 0.0, 0.0);
        } else if (localDistance.y > localDistance.z) {
            normal = vec3(0.0, sign(localPos.y), 0.0);
        } else {
            normal = vec3(0.0, 0.0, sign(localPos.z));
        }            
        // Rotate normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);      
        // Reflect velocity and apply repulsion force
        velocity = reflect(velocity, normal) * restitution;
        
        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif      
  #endif      
  // END COLLIDER    
`,cZe=`
  #ifdef USE_ATTRACTOR

      #ifdef USE_SPHERE_COLLIDER      
        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
        vec3 radii = uColliderSize;
        // Adjust position relative to collider
        vec3 relPos = position - uColliderPos;
        // Apply rotation of the collider to the relative position
        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
        // Scale relative position by radii (for ellipsoid collision detection)
        vec3 scaledPos = relPos / radii;
        // Calculate ellipsoidal distance
        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid
        float insideCheck = 1.0;

      #endif


      #ifdef USE_BOX_COLLIDER
        // Box dimensions
        vec3 boxHalfSize = uColliderSize / 2.0;
        // Convert world position to box's local space
        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
        vec3 localDistance = abs(localPos) - boxHalfSize;
        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));
        float insideCheck = particleSize;
      #endif      
  
      // Apply vortex force inside the Helper
      #ifdef USE_FORCE_LOCAL_SPACE
        if (distToSurface <= insideCheck ) {    
            // Define parameters for the attractor field
            #ifdef USE_SPHERE_COLLIDER      
              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed
            #endif

            #ifdef USE_BOX_COLLIDER
              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed
              #endif

            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)
          
            // Use the same radii calculation code as for the collider
            vec3 attractorRadii = uColliderSize;
            // Adjust position relative to attractor center
            vec3 relPos = position - uColliderPos;
            // Apply rotation of the collider to the relative position
            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
            // Scale relative position by radii (for ellipsoid attraction)
            vec3 scaledPos = relPos / attractorRadii;

            // Calculate ellipsoidal distance as attractor radius
            float attractorRadius = length(scaledPos);
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * attractorStrength;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= attractorDamping;
        }
      #else 
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= uForceDamping;
      #endif    
  #endif      
`,uZe=`
  #ifdef USE_VORTEX
    // Box dimensions
    vec3 boxHalfSize = uColliderSize / 2.0;
    // Convert world position to box's local space
    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
    vec3 localDistance = abs(localPos) - boxHalfSize;
    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));

    // Apply vortex force inside the box
    if (distToSurface <= particleSize) {
      float vortexStrength = uForceIntensity;
      vec3 localTopCenter = vec3(0.0, 0., 0.0);

      // Transform the local top center to the world space
      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);
      // Calculate the vector from particle to vortex center
      vec3 vortexVector = vortexCenter - position;

      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector
      // Note: important to add a tiny z component to the up vector to avoid instability
      vec3 upVector = vec3(0.0, 1.0, 0.01);
      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));
      rotationAxis = normalize(rotationAxis);

      // Add rotational component to velocity
      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; 

      vec3 rotationVelocity = rotationAxis * rotationSpeed;
      // velocity += rotationVelocity * 0.005 ;
      velocity = rotationVelocity * 0.005 ;

      // Calculate vortex force
      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;
      // Apply the vortex force to the particle
      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);
      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);
    }
  #endif      
`,dZe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform sampler2D uDirections;     
uniform vec3 uDirectionsAxis;
uniform vec4 uWorldQuaternion;
uniform vec3 uGravity;        
uniform float uNoiseStrength;     // Variation of the noise
uniform float uNoiseScale;        // Scale of the noise
uniform float uNoiseSeed;         // Seed of the noise
uniform float particleSize;
uniform float uSpeed;     // update speed of the particles
uniform float uRandomMassFactor;

// COLLIDER
uniform vec3 uColliderPos;                // Collider Position
uniform vec3 uColliderSize;               // Collider Dimension
uniform vec4 uColliderQuaternion;         // Collider Rotation
uniform vec4 uColliderQuaternionInvert;   // Collider Rotation
uniform float uBounce;                    // Bounce factor
uniform float uForceDamping;
uniform float uForceIntensity;


`+sZe+`
float rand(vec2 co){
    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
 } 
vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
  
  return acceleration;
}

vec4 conjugate(vec4 q) {
  return vec4(q.w, -q.x, -q.y, -q.z);
}

// Function to compute the normal of the ellipsoid at a given point
vec3 ellipsoidNormal(vec3 p, vec3 radii) {
  return normalize(p / (radii * radii));
}

float friction = .3;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    vec3 directions = texture2D( uDirections, vUv ).xyz;    
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float mass = rand(originalPosition.xy) * 0.5 + 0.5;
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active
    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision

    // Randomness Mass
    mass = (1.0 - (uRandomMassFactor * mass));
    
    if (isActive == 1.0) {
      // **************************************************************
      // FORCES NOISES
      // **************************************************************
      #ifdef USE_CURL_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {
          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;
        }
      #endif
      // **************************************************************
      #ifdef USE_SIMPLEX_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {
          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);
        }
      #endif
      // ************************************************************** 
      #ifdef USE_FBM_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), uNoiseSeed);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      
          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;
        }
      #endif

      // COLLIDER
      ${lZe}
      // ATTRACTION
      ${cZe}  
      // VORTEX
      ${uZe}
    } 
    // End isActive

    // SPAWN BIRTH 
    // **************************************************************
    // if (isSpawning == 1.)
    #ifdef USE_NORMALS
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);
    #else
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    
    #endif
    
    // if (collisionFlag == 0.0)
    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);

    gl_FragColor = vec4(velocity, collisionFlag);
}
`,xue=`

  // Linear Fade In
  float linearFadeIn(float t) {
    return t;
  }


  // linear fade out
  float linearFadeOut(float t) {
    return 1.0 - t;
  }
  
  float linearInOut(float t) {
    return t < 0.5 ? t :  (1.0 - t);  
  }

    // lerp
    float lerp(float a, float b, float t) {
      return a + (b - a) * t;
    }

  // Ease In Out Quart
  float exponentialInOut(float t) {
    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :
    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :
    1.0;
   }

  // constant
  float constant(float t) {
    return 1.0;
  } 
`,hZe=`

float rand(vec3 co){
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

vec3 applyQuaternionToVector( vec4 q, vec3 v ){
  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
    
  return acceleration;
}
`,fZe=`
vec3 rgb2xyz (in vec3 rgb) {
    float r = rgb.r;
	float g = rgb.g;
	float b = rgb.b;

	r = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);
	g = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);
	b = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);

	float x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
	float y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
	float z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
    
    vec3 xyz = vec3(
        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,
        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,
        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0
    );
    return(xyz);
}

vec3 xyz2lab (in vec3 xyz) {
	float x = xyz.x / 95.047;
	float y = xyz.y / 100.0;
	float z = xyz.z / 108.883;

	x = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);
	y = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);
	z = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);

    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));
    return(lab);
}

vec3 rgb2lab(in vec3 rgb) {
    vec3 xyz = rgb2xyz(rgb);
    vec3 lab = xyz2lab(xyz);
    return(lab);
}

vec3 xyz2rgb (in vec3 xyz) {
	float x = xyz.x / 100.0;
	float y = xyz.y / 100.0;
	float z = xyz.z / 100.0;
	
    
	float r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);
	float g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);
	float b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);

	r = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;
	g = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;
	b = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;

	r = min(max(0.0, r), 1.0);
	g = min(max(0.0, g), 1.0);
	b = min(max(0.0, b), 1.0);

	return(vec3(r, g, b));
}

vec3 lab2xyz (in vec3 lab) {
    float l = lab.x;
	float a = lab.y;
	float b = lab.z;

  	float y = (l + 16.0) / 116.0;
	float x = a / 500.0 + y;
	float z = y - b / 200.0;

	float y2 = pow(y, 3.0);
	float x2 = pow(x, 3.0);
	float z2 = pow(z, 3.0);

  	y = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;
	x = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;
	z = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;

	x *= 95.047;
	y *= 100.0;
	z *= 108.883;

	return(vec3(x, y, z));
}
vec3 lab2rgb (in vec3 lab) {
    vec3 xyz = lab2xyz(lab);
    vec3 rgb = xyz2rgb(xyz);
    return(rgb);
}

`,pZe=`
  uniform sampler2D uPosition;
  uniform float uSize;
  uniform float uSizeEnd;
  uniform vec3 uWorldOffset;
  uniform vec4 uWorldQuaternion;
  // Billboard Behavior - Currently at Zero, but we can change that
  uniform float uRotation;
  uniform float uRotationEnd;
  uniform vec2 center;

  // Randomness
  uniform float uRandScaleFactor;
  uniform float uRandRotationFactor;

  attribute vec2 ref;

  varying float v_LifeLeft;    // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  ${hZe}
  ${xue}
`,AZe=({easeSize:e="linearFadeOut"})=>`
  vUv = uv;  
  vRef = ref;
  // Normalized LifeTime 1 to 0
  float lifeLeft = texture2D(uPosition, ref).w;
  v_LifeLeft = lifeLeft;
  // Position From DataTexture Simulation
  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;
  // Apply World Quaternion
  pos = applyQuaternionToVector(uWorldQuaternion, pos);  
            
  #ifdef  USE_SIZE_END
    // Scaled Over Time
    float t = 1. - lifeLeft;
    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd
    vec3 scaledPosition = position * vec3(currentSize);
  #else
    // Change Size Behavior over LifeTime
    float easeSize = ${e}(1. - lifeLeft);
    // Scaled Over Time
    vec3 scaledPosition = position * vec3(uSize * easeSize);
  #endif

  // Billboard Behavior
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    
  // Randomness 
  float randRef = rand(ref);
  scale *= (1.0 - (uRandScaleFactor * randRef));
  // Rotation
  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);
  float originalRotation = (1.0 - uRotation) * 2.0 * PI;
  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;
  // OverTime
  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);

  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;
  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;
  
  mat4 instanceMatrix = mat4(
    vec4(1.0, 0.0, 0.0, 0.0),
    vec4(0.0, 1.0, 0.0, 0.0),
    vec4(0.0, 0.0, 1.0, 0.0),
    vec4(pos.x, pos.y, pos.z, 1.0)
  );  

  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  mvPosition.xy += rotatedPosition;
  gl_Position = projectionMatrix  * mvPosition;   
`,gZe=`
  uniform vec4 uColor;                // start color
  uniform vec4 uColor2;               // end color
  uniform sampler2D uTexture;         // texture
  varying float v_LifeLeft;   // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  float random(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }
  `+xue+`  
  ${fZe}

`,mZe=({easeOpacity:e="linearFadeOut"})=>`  
  // if Particle is dead, hide it
  if (v_LifeLeft <= 0.005 ) {
    discard;
  }

  #ifdef USE_RANDOM_COLORING
    float randVal = random(vRef); // Generate a random value based on the reference
    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors
  #else
    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);
  #endif

  // Opacity over Life Time
  float finalAlpha = ${e}(1. - v_LifeLeft);  
  vec4 textureColor = texture2D(uTexture, vUv).rgba; 
  finalColor = textureColor.rgb * color.rgb;
  finalAlpha = color.a * textureColor.a * finalAlpha;
  
  gl_FragColor = vec4(finalColor, finalAlpha);     

`,vZe=class extends Wi{constructor(e,t){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(e,t),this.context=t}reset(){}init(e,t){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=e.ease,this.easeSize=e.easeSize,this.layers=[],so.startContext(so.globalContext),this.lightLayer=new Qd(0,"",{...Co.defaultData("light","phong"),visible:!1},new d6,{},t.shared),so.endContext(so.globalContext),this.build()}updateState(e){e.coloring!==void 0&&(this.isColoringRandom=e.coloring==="random"),e.color!==void 0&&(e.color instanceof Array?this.uniforms.uColor.value=e.color:this.uniforms.uColor.value=this.context.shared.color(e.color)),e.color2!==void 0&&(e.color2 instanceof Array?this.uniforms.uColor2.value=e.color2:this.uniforms.uColor2.value=this.context.shared.color(e.color2)),e.size!==void 0&&(this.uniforms.uSize.value=e.size[0],this.uniforms.uSizeEnd.value=e.size[1],e.size[0]!==e.size[1]?this.useSizeEnd=!0:this.useSizeEnd=!1),e.ease!==void 0&&(this.easeOpacity=e.ease,this.build()),e.easeSize!==void 0&&(this.easeSize=e.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader}build(){let e=new yce;return e.needsJitter=this.needsJitter,e.addFragmentParsCode(Yqe),e.buildShader("vertex",this.fragment),e.buildShader("fragment",this.fragment),e.addFragmentFinalCode($qe),this.isColoringRandom&&e.define("USE_RANDOM_COLORING"),this.useSizeEnd&&e.define("USE_SIZE_END"),e.addVertexParsCode(pZe),e.addFragmentParsCode(gZe),e.addVertexFinalCode(AZe({easeSize:this.easeSize})),e.addFragmentFinalCode(mZe({easeOpacity:this.easeOpacity})),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms={...e.uniforms,...this.uniforms},this.extensions=e.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose()}},EI=class{constructor(e,t,r,i){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=e,this.type=r,this.textureSize=rZe(t);let n=1;this.targetMesh=(i==null?void 0:i.type)==="Mesh"&&i?i:this.getMesh(r,n);let{positions:a,dataTexture:o,dataTextureNormals:s}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(r,n));this.positionsTexture=o,this.positionsAttribute=a,this.directionsTexture=s}createPositions(e,t){let{positions:r,normals:i}=iZe(t,e*e),n=PX(r,e),a=PX(i,e);return{dataTexture:n,positions:r,dataTextureNormals:a}}getMesh(e,t){let r=null;switch(e){case"SphereEmitterShape":{r=new eb(t*.5,32,32);break}case"TorusEmitterShape":{r=new rse(t*.5,.3,15,40);break}case"ConeEmitterShape":{r=new mz(t,t,15);break}case"BoxEmitterShape":{r=new rd(t,t,t);break}case"PlaneEmitterShape":{r=new zf(t,t),r.rotateX(-Math.PI/2);break}case"MeshEmitterShape":{r=new eb(t,32,32);break}default:{r=new eb(t,32,32);break}}return new ta(r,new jf({color:16711680}))}applyToShader(e,t){this.size=new q().fromArray(t.size),e.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function dy(e){let t={...e},r=SP.defaultData;t.forceFieldObjectId&&(t.colliderEntityId=t.forceFieldObjectId);let i={...r.shape,...t.shape},n={...r.renderMaterial,...t.renderMaterial};return{...r,...t,shape:i,renderMaterial:n}}var yZe=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU

uniform sampler2D uIndex; // Texture with corresponding index
uniform float uLastIndexEmitted; // Last emitted index
uniform float uParticlesToEmit; // Number of particles to emit on that frame
uniform float uTime;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    float particleIndex = texture(uIndex, vUv).x;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;


    // ********** Detect Colision to Create a flag and use it in position **********
    // We are doing this here, so

    // ********** Emit Particles **********
    // X = isSpawning 0.0 or 1.0
    // Y = isActive 0.0 or 1.0
    // Check if the vertex index is between the first value and the last value
    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {
    //     // Emit a particle by writing 1 to the red channel of the color output
    //     // r: 1. == emit the particle
    //     // g: 1. == particle is now active
    //     timeStart = uTime;
    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);
    // } else {
    //     // The Particle is either already emitted or not in the range of the particles to emit
    //     // Do not emit a particle by writing 0 to the red channel of the color output        
    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);
    // }
    // Determine if the particle is within the emission range
    float emitLowerBound = step(uLastIndexEmitted, particleIndex);
    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);
    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise

    // Set timeStart and color
    timeStart = mix(timeStart, uTime, emitParticle);
    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);


}
`,BI=10,bZe=class extends on{constructor(e,t){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new RNe,this.currentWorldPosition=new q,this.systemQuaternion=new qr,this.worldGravity=new q(0,0,0),this.directionAxis=new q(0,0,0),this.colliderV3=new q(0,0,0),this.colliderQuaternion=new qr(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=e,this.system=t,this.shared=t.context.shared;let r=t.data;this.material=new vZe(r.renderMaterial,t.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:r.renderMaterial.color},uColor2:{value:r.renderMaterial.color2},uPosition:{value:new q(0,0,0)},uEmissionData:{value:new q(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new q(0,0,0)},uWorldQuaternion:{value:new Xr(0,0,0,1)},uRandScaleFactor:{value:r.randomScale??0},uRandRotationFactor:{value:r.randomRotation??0},uRotation:{value:r.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:r.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,r.renderMaterial.texture),this.init(r)}setTexture(e,t){let r=t.data;if(typeof t=="string"){let i=this.shared.image(t),n=new ia(i.img);n.needsUpdate=!0,e.uTexture.value=n;return}if(typeof r!="string"){let i=new Image;i.onload=()=>{let o=new ia(i);o.needsUpdate=!0,e.uTexture.value=o};let n=new Blob([r],{type:"image/*"}),a=URL.createObjectURL(n);i.src=a}}updateGeometryAttributes(e,t){var i;let r=tZe(t);!((i=this.emitterShape)!=null&&i.positionsAttribute)||e.geometry.setAttribute("ref",new mC(r,2))}applyWorldSpace(){if(!this.system.started||!this.worldSpace||!this.positionSimRT||!this.velocitySimRT)return;let e=this.system;e.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),e.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(e,t){var o;if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset){this.reset();return}this.applyWorldSpace(),this.globalTime=e,this.positionSimRT.material.uniforms.uTime.value=e,this.emissionRateSimRT.material.uniforms.uTime.value=e;let r=1e3/t,i=this.targetFPS/r,n=this.previousRatio+(i-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=n,this.previousRatio=n;let a=this.isEmitting?this.GoEmitSomeParticles(e,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=a,this.material.uniforms.uPosition.value=(o=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT))==null?void 0:o.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let e=this.system.colliderEntities[0],t=this.simFeaturesDefinition.USE_COLLIDER||this.simFeaturesDefinition.USE_ATTRACTOR||this.simFeaturesDefinition.USE_VORTEX;if(e.destroyedInAction&&t&&this.init(dy({...this.system.data,colliderEntityId:null})),!e||e.destroyedInAction)return;e.getWorldPosition(this.colliderV3),this.colliderV3.y===0&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3);let r=e.data.size;this.colliderV3.fromArray(r),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),e.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert())}updateState(e){!this.velocitySimRT||!this.positionSimRT||(e.renderMaterial&&this.updateMaterialState(e.renderMaterial),this.updateParticleState(e))}updateVariableState(e,t){if(!this.velocitySimRT||!this.positionSimRT)return;t[2]==="size"&&this.material.updateState({size:[e,this.material.uniforms.uSizeEnd.value]}),t[2]==="sizeEnd"&&this.material.updateState({size:[this.material.uniforms.uSize.value,e]});let r=(i,n)=>{let a=[...this.system.data.shape.size];a[i]=n,this.updateParticleState({shape:{...this.system.data.shape,size:a}})};t[2]==="shape_size_0"&&r(0,e),t[2]==="shape_size_1"&&r(1,e),t[2]==="shape_size_2"&&r(2,e),t[2]==="speed"&&(this.velocitySimRT.material.uniforms.uSpeed.value=e/BI),t[2]==="gravity"&&this.worldGravity.set(0,e/100,0),t[2]==="noiseStrength"&&(this.noiseStrength=e,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),t[2]==="noiseScale"&&(this.noiseScale=e,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),t[2]==="direction_x"&&(this.directionAxis=this.getDirectionAxis([Number(e),this.system.data.direction[1],this.system.data.direction[2]])),t[2]==="direction_y"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(e),this.system.data.direction[2]])),t[2]==="direction_z"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(e)]))}updateMaterialState(e){this.material.updateState({...e,size:e.size?[Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]}),e.texture&&(this.setTexture(this.material.uniforms,e.texture),this.material.needsUpdate=!0)}updateParticleState(e){var t,r,i;if(!(!this.positionSimRT||!this.velocitySimRT)){if(this.shouldReInitGPUCompute(e)&&this.init(dy(this.system.data)),e.life!==void 0&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=e.life),e.speed!==void 0&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/BI),e.collisionBounce!==void 0&&(this.velocitySimRT.material.uniforms.uBounce.value=e.collisionBounce),e.noiseStrength!==void 0&&(this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),e.noiseScale!==void 0&&(this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),e.noiseSeed!==void 0&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=e.noiseSeed),e.randomMass!==void 0&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=e.randomMass),((t=e.renderMaterial)==null?void 0:t.size)!==void 0){let n=this.shared.getVariable(e.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(n)}if(((r=e.renderMaterial)==null?void 0:r.spriteRotation)!==void 0&&(this.material.uniforms.uRotation.value=e.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=e.renderMaterial.spriteRotation[1]),e.shape!==void 0){let n=e.shape.size??this.system.data.shape.size,a=[Number(this.shared.getVariable(n[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(n[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(n[2],[this.uuid,"particles","shape_size_2"]))],o={...dy(this.system.data).shape,size:a};(i=this.emitterShape)==null||i.applyToShader(this.positionSimRT.material.uniforms,o)}if(e.gravity!==void 0&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),e.direction!==void 0){let n=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(n),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}e.randomRotation!==void 0&&(this.material.uniforms.uRandRotationFactor.value=e.randomRotation),e.randomScale!==void 0&&(this.material.uniforms.uRandScaleFactor.value=e.randomScale)}}updateForceFieldParameters(e){!this.velocitySimRT||(e.forceIntensity!==void 0&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=e.forceIntensity),e.forceDambing!==void 0&&(this.velocitySimRT.material.uniforms.uForceDamping.value=e.forceDambing))}getDirectionAxis(e){let t=[Number(e[0])*fr.DEG2RAD,Number(e[1])*fr.DEG2RAD,Number(e[2])*fr.DEG2RAD],r=new lo(t[0],t[1],t[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(r).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(e){let{birthRatePerSec:t,rootObjectType:r,colliderEntityId:i,shape:n,emitTimeDuration:a,emitTimeCycle:o,life:s,directionMode:l,noiseType:c}=e;return t!==void 0||r!==void 0||i||i===null||o!==void 0||n!==void 0||s!==void 0||a!==void 0||l!==void 0||c!==void 0}init(e){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:e.birthRatePerSec,particleMaxLifeTime:e.life,loopDuration:e.emitTimeCycle==="infinity"?0:e.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(e.shape,this.particlesAmount);let t=setInterval(()=>{if(this.emitterShape)if(isNaN(this.emitterShape.positionsTexture.source.data.data[0])){this.init(e);return}else clearInterval(t)},100);if(!this.emitterShape)return;let r=new ZJe(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),i=this.updateSimulationDefinition(e),n=r.addVariable("uCurrentPosition",i+oZe,this.emitterShape.positionsTexture),a=r.addVariable("uCurrentVelocity",i+dZe,this.emitterShape.directionsTexture),o=r.addVariable("uCurrentEmissionRate",yZe,aZe(this.emitterShape.textureSize));r.setVariableDependencies(n,[n,a,o]),r.setVariableDependencies(a,[n,a,o]),r.setVariableDependencies(o,[n,a,o]);let s=nZe({size:this.emitterShape.textureSize}),l={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new q(0,0,0)},uWorldQuaternion:{value:new Xr(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:e.life},uEmitterSize:{value:new q(Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};n.material.uniforms=l;let c=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(c),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"]));let u=e.colliderEntityId&&this.system.getColliderData(e.colliderEntityId),d={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new Xr(0,0,0,1)},uColliderPos:{value:new q(0,0,0)},uColliderSize:{value:new q(0,0,0)},uForceIntensity:{value:u?u.forceIntensity:0},uForceDamping:{value:u?u.forceDambing:0},uColliderQuaternion:{value:new Xr(0,0,0,1)},uColliderQuaternionInvert:{value:new Xr(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:e.noiseSeed},uRandomMassFactor:{value:e.randomMass},uBounce:{value:e.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/BI}};a.material.uniforms=d;let h={uIndex:{value:s},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};o.material.uniforms=h;let f=[Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"]))],m={...dy(this.system.data).shape,size:f};this.emitterShape.applyToShader(n.material.uniforms,m),r.init(),this.gpuCompute=r,this.positionSimRT=n,this.velocitySimRT=a,this.emissionRateSimRT=o,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(e){let t=Number(this.shared.getVariable(e[0],[this.uuid,"particles","direction_x"])),r=Number(this.shared.getVariable(e[1],[this.uuid,"particles","direction_y"])),i=Number(this.shared.getVariable(e[2],[this.uuid,"particles","direction_z"]));return[t,r,i]}updateSimulationDefinition(e){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,e.colliderEntityId&&this.system.colliderEntities.length>0){let r=this.system.getColliderData(e.colliderEntityId);switch(r==null?void 0:r.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0;break}let i=r==null?void 0:r.colliderType;i==="sphere"&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),i==="box"&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),(r==null?void 0:r.forceRange)==="helper"&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}e.directionMode==="normals"&&(this.simFeaturesDefinition.USE_NORMALS=!0),e.noiseType==="curl"&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),e.noiseType==="simplex"&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),e.noiseType==="fbm"&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let t="";for(let[r,i]of Object.entries(this.simFeaturesDefinition))i&&(t+=`#define ${r}
`);return t}createShape(e,t){this.emitterShape&&this.emitterShape.dispose();let r=new q(Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.size[2],[this.uuid,"particles","shape_size_2"])));if(e.type==="MeshEmitterShape"){let i=null;return this.system.context.scene.traverseEntity(n=>{n.uuid===e.fromMeshId&&(i=n)}),i?new EI(r,t,e.type,i):new EI(r,t,"SphereEmitterShape")}else return new EI(r,t,e.type)}createPrimaryEmitter(e){let t,r=e*e;return t=new YUe(new zf(1,1,1),this.material,r),this.updateGeometryAttributes(t,e),this.material.needsUpdate=!0,t.onBeforeRender=()=>{this.applyWorldSpace()},t}getMaxParticlesAmount({birthRatePerSecond:e,particleMaxLifeTime:t,loopDuration:r=0}){return Math.ceil(e*(t+r))}dispose(){var e,t,r;!this.gpuCompute||((t=(e=this.rootObject)==null?void 0:e.parent)==null||t.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),(r=this.emitterShape)==null||r.dispose())}GoEmitSomeParticles(e,t){let r=e-this.lastEmitTime,i=1/t;if(r>=i){let n=Math.max(1,Math.floor(r/i));return this.lastEmitTime=e,this.emittedParticlesAmount+n>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=n,n}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(dy(this.system.data))}startEmitting(e){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=e}stopEmitting(){this.isEmitting=!1}},V5=class extends ll{constructor(e,t,r){super(e,t),this.type="ParticleSystem",this.geometry=new Mr,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.timeoutId=void 0,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=i=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(i))},this.context=r,this.data={...t,...dy(t)},this.geometry.setAttribute("position",new sr([],3)),this.material=new jf({colorWrite:!1}),this.frustumCulled=!1}init(e){this.renderer=e,this.emitter=new bZe(e,this),this.add(this.emitter),this.updateParticleState(this.data)}update(e){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=e,this.stopped||(this.currentLoopTime+=e);let t=this.data.emitTimeCycle==="one_time";if((this.data.emitTimeCycle==="loop"||t)&&this.currentLoopTime>this.data.emitTimeDuration*1e3&&(this.stopped||(this.stop(),t||this.start(this.data.emitTimeDelay*1e3))),this.emitter&&this.started){let r=this.actualTime/1e3;this.emitter.update(r,e)}this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(e){return this.colliderEntities.some(t=>t.identity===e)}getColliderData(e){let t=this.colliderEntities.find(r=>r.identity===e);return t?t.data:null}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),xn(e.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:{...this.data.renderMaterial,...To.drop(e,1).props}}),xn(e.path,["shape"])&&this.updateParticleState({shape:{...this.data.shape,...To.drop(e,1).props}})}updateState(e,t){super.updateState(e,t),this.updateParticleState(e)}updateParticleState(e){if(this.emitter){if(e.colliderEntityId!==void 0&&e.colliderEntityId!==null){let t=this.context.scene.find(e.colliderEntityId);this.colliderEntities=t?[t]:[]}e.colliderEntityId===null&&(this.colliderEntities=[]),this.emitter.updateState(e),e.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(e){!this.emitter||(this.emitter.updateForceFieldParameters(e),this.stop(),this.start())}start(e=0){var t;if(this.currentLoopTime=0,e){this.timeoutId=window.setTimeout(()=>{this.start(0)},e);return}this.started=!0,this.stopped=!1,this.isFrozen=!1,(t=this.emitter)==null||t.startEmitting(this.actualTime/1e3)}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){var e;this.stopped=!0,this.currentLoopTime=0,(e=this.emitter)==null||e.stopEmitting(),clearTimeout(this.timeoutId)}reset(){var e;this.started=!1,this.stopped=!1,(e=this.emitter)==null||e.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}};function wZe(){try{let e=window.location.href;if(e.includes("reducesubdiv=")){let t=e.indexOf("reducesubdiv=")+13;return parseInt(e.slice(t,t+1))}}catch{}}var MI=wZe();function xZe(e,t,r){var n;MI!==void 0&&(((n=t==null?void 0:t.geometry)==null?void 0:n.subdivisions)??0)>MI&&(console.log("reducing subdivisions",t.name,t.geometry.subdivisions),t.geometry.subdivisions=MI);let i;return t.geometry.type==="TextGeometry"?new m6(e,t,r):t.geometry.type==="InputGeometry"?new S6(e,t,r):(t.geometry.type==="SubdivGeometry"?i=new RC(e,t,r):t.geometry.type==="PathGeometry"?i=new _6(e,t,r):t.geometry.type==="VectorGeometry"?i=new $Je(e,t,r):t.geometry.type==="BooleanGeometry"?i=new d0(e,t,r):t.geometry.type==="UIGeometry"?i=new Es(e,t,r):i=new Ts(e,t,r),i)}function B6(e,t,r){return console.assert(t.type!==void 0),t.type==="Mesh"?xZe(e,t,r):t.type==="Empty"?new cb(e,t):t.type==="Particle"?new V5(e,t,r):t.type==="ParticleCollider"?new z5(e,t,r):t.type==="Splat"?new cb(e,t):t.type==="Bone"?new JJe(e,t):t.type==="Page"?new Bo(e,t,r):t.type==="PointLight"?new YJe(e,t,r):t.type==="SpotLight"?new due(e,t,r):t.type==="DirectionalLight"?new uue(e,t,r):t.type==="Component"||t.type==="Instance"?new ub(e,t,r):c0.is(t.type)?new Os(e,t):(console.error(t),new cb(e,t))}EA.createEntity=B6;function CZe(e,t,r){let i=B6(e.identity,t,r),n=e.children,a=e.attachedPaths,o=e.parent,s=e.component,l=e.instances,c=e.overrideData,u=e.uuid,d=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(i));for(let h of Object.keys(i))e[h]=i[h];e.children=[...e.children,...n],e.attachedPaths=a,e.parent=o,e.component=s,e.instances=l,e.uuid=u,e.overrideData=c,e.updateState(e.data,r),d&&e.changeSelectedState(d,r),e.resetBBoxNeedsUpdate()}EA.changeEntityProptotype=CZe;EA.Cloner=Gu;function _Ze(e,t,r,i){e.updateByOp(t,r,i,!1)}function TX(e,t){let r=!1,i=t.getLayersOfType("transmission"),n=t.getLayersOfType("outline");return n.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),r=!0,g6(e),A6(e)),i.length===0&&n.length===0&&e.layers.set(0),e instanceof E1&&e.needsAO&&e.layers.enable(5),r}function OX(e,t){if(!t.layers)return!1;let r=!1,i=t.getLayersOfType("transmission").filter(a=>a.data.visible),n=t.getLayersOfType("outline").filter(a=>a.data.visible);return i.length>0&&(e.layers.set(3),n.length>0&&e.layers.enable(8),r=!0),i.length===0&&n.length===0&&e.layers.set(0),e.needsAO&&e.layers.enable(5),r}function SZe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof E1)if(Array.isArray(r.material))for(let i=0;i<r.material.length;i++)TX(r,r.material[i])&&(t=!0);else TX(r,r.material)&&(t=!0)}),t}function EZe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof E1)if(Array.isArray(r.material))for(let i=0;i<r.material.length;i++)OX(r,r.material[i])&&(t=!0);else OX(r,r.material)&&(t=!0)}),t}var BZe=new dse,MZe=new kt,PZe=new h1;function eN(e,t,r,i=!1){let n=e.cloner;if(n)for(let a of n.children){let o=MZe.copy(a.matrixWorld).invert(),s=PZe.copy(t.ray).applyMatrix4(o),l=e.matrixWorld;s.applyMatrix4(l);let c=BZe;c.set(s.origin,s.direction),c.near=t.near,c.far=t.far;let u=c.intersectObject(e,!1);u.length>0&&r.push({...u[0],object:i?a:e})}}var TZe=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((r,i)=>{let n=[i,r],a=r;for(;this._constraints.has(a);){if(a=this._constraints.get(a),n.includes(a)){console.warn(`circular dependency detected: ${n.join(" -> ")}`);break}t.has(a)||n.push(a)}for(let o=n.length-2;o>=0;o--)if(!t.has(n[o])){let s=e.find(n[o]);s?s.applyPathSnapping(e):console.warn(`missing entity ${n[o]}`),t.add(n[o])}})}findDependency(e,t){let r=e;for(;this._constraints.has(r);)if(r=this._constraints.get(r),r===t)return!0;return!1}},OZe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",MA=class{};Ix(MA,"DepthMapRange",65536),Ix(MA,"MemoryPageSize",65536),Ix(MA,"BytesPerFloat",4),Ix(MA,"BytesPerInt",4);function DZe(e){let t,r,i,n,a,o,s,l,c,u,d,h,f,m,A,g;function p(M){let O=new Float64Array(u,o,16);for(let F=0;F<16;F++)O[F]=M[F];let I;if(i>1){t.exports.sortIndexes(n,a,c,o,s,l,h.DepthMapRange,i);let F=new Uint32Array(i);I=F.buffer,F.set(new Uint32Array(u,l,i))}else if(i===1){let F=new Uint32Array(i);F[0]=new Uint32Array(u,n,r)[0],I=F.buffer}else I=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:I},[I])}function v(M,O,I){let F=new Float32Array(u,a,r*3);i=0;let V=new Uint32Array(u,n,r);for(let Y=0;Y<I.length-1;Y++){let j=O[Y],R=M[Y].elements,H=j.filter($=>$.enabled&&$.mode==="Include").map($=>$.type==="Box"?w($):B($)),G=j.filter($=>$.enabled&&$.mode==="Exclude").map($=>$.type==="Box"?w($):B($));for(let $=I[Y];$<I[Y+1];$++){let L=f[$*3],K=f[$*3+1],X=f[$*3+2];if((H.length===0||b(L,K,X,H))&&(G.length===0||!b(L,K,X,G))){let ee=1/(R[3]*L+R[7]*K+R[11]*X+R[15]);F[i*3]=(R[0]*L+R[4]*K+R[8]*X+R[12])*ee,F[i*3+1]=(R[1]*L+R[5]*K+R[9]*X+R[13])*ee,F[i*3+2]=(R[2]*L+R[6]*K+R[10]*X+R[14])*ee,V[i]=$,i++}}}}function y(M,O){let I=[],F=O.filter(j=>j.enabled&&j.mode==="Include").map(j=>j.type==="Box"?w(j):B(j)),V=O.filter(j=>j.enabled&&j.mode==="Exclude").map(j=>j.type==="Box"?w(j):B(j)),Y=M.length;for(let j=0;j<Y;j+=3){let R=M[j],H=M[j+1],G=M[j+2];(F.length===0||b(R,H,G,F))&&(V.length===0||!b(R,H,G,V))||I.push(j/3)}return I}function b(M,O,I,F,V){return F[V==="Intersect"?"every":"some"](Y=>{let j=x(M,O,I,Y.invRotationMatrix,Y.cropCenter);return Array.isArray(Y)?_(j.x,j.y,j.z,Y):P(j.x,j.y,j.z,Y)})}function x(M,O,I,F,V){let Y=M-V[0],j=O-V[1],R=I-V[2],H=1/(F[3]*Y+F[7]*j+F[11]*R+F[15]);return{x:(F[0]*Y+F[4]*j+F[8]*R+F[12])*H+V[0],y:(F[1]*Y+F[5]*j+F[9]*R+F[13])*H+V[1],z:(F[2]*Y+F[6]*j+F[10]*R+F[14])*H+V[2]}}function w(M){let O=M.cropSize[0]/2,I=M.cropSize[1]/2,F=M.cropSize[2]/2,V=[M.cropCenter[0]-O,M.cropCenter[1]-I,M.cropCenter[2]-F,M.cropCenter[0]+O,M.cropCenter[1]+I,M.cropCenter[2]+F],Y=C(M.cropRotation);return Object.assign(V,{invRotationMatrix:Y,cropCenter:M.cropCenter})}function C(M){let O=[],I=M[0]*Math.PI/180,F=M[1]*Math.PI/180,V=M[2]*Math.PI/180,Y=Math.cos(I),j=Math.sin(I),R=Math.cos(F),H=Math.sin(F),G=Math.cos(V),$=Math.sin(V),L=Y*G,K=Y*$,X=j*G,ee=j*$;return O[0]=R*G,O[1]=-R*$,O[2]=H,O[4]=K+X*H,O[5]=L-ee*H,O[6]=-j*R,O[8]=ee-L*H,O[9]=X+K*H,O[10]=Y*R,O[12]=0,O[13]=0,O[14]=0,O[3]=0,O[7]=0,O[11]=0,O[15]=1,O}function _(M,O,I,F){return M>=F[0]&&M<=F[3]&&O>=F[1]&&O<=F[4]&&I>=F[2]&&I<=F[5]}function B(M){let O=2/M.cropSize[0],I=2/M.cropSize[1],F=2/M.cropSize[2],V=C(M.cropRotation);return{invRadiusX:O,invRadiusY:I,invRadiusZ:F,cropCenter:M.cropCenter,invRotationMatrix:V}}function P(M,O,I,F){let V=(M-F.cropCenter[0])*F.invRadiusX,Y=(O-F.cropCenter[1])*F.invRadiusY,j=(I-F.cropCenter[2])*F.invRadiusZ;return V*V+Y*Y+j*j<=1}e.onmessage=M=>{if(M.data.getCroppedIndexes){let O=new Uint32Array(y(new Float32Array(M.data.positions),M.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:O},[O])}else if(M.data.positions)d=M.data.positions,f=new Float32Array(d),A=M.data.meshMatrixWorlds,g=M.data.cropsArray,m=M.data.meshIndexIntervals,v(A,g,m),e.postMessage({sortSetupComplete:!0});else if(M.data.sort||M.data.newMatrixWorlds||M.data.newCropsArray)(M.data.newMatrixWorlds||M.data.newCropsArray)&&(g=M.data.newCropsArray||g,A=M.data.newMatrixWorlds||A,v(A,g,m)),p(M.data.sort.view,M.data.sort.cameraPosition);else if(M.data.init){h=M.data.init.Constants,r=M.data.init.splatCount;let O=h.BytesPerInt,I=h.BytesPerFloat*3,F=new Uint8Array(M.data.init.sorterWasmBytes),V=O+I,Y=r*V,j=r*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2,R=h.MemoryPageSize*32,H=Y+j+R,G=Math.floor(H/h.MemoryPageSize)+1,$={module:{},env:{memory:new WebAssembly.Memory({initial:G*2,maximum:G*3,shared:!0})}};WebAssembly.compile(F).then(L=>WebAssembly.instantiate(L,$)).then(L=>{t=L,n=0,a=r*O,o=a+r*I,c=o+16*h.BytesPerFloat*2,s=c+r*h.BytesPerInt,l=s+h.DepthMapRange*h.BytesPerInt,u=$.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function IZe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",DZe.toString(),")(self)"],{type:"application/javascript"}))),r=atob(OZe),i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return t.postMessage({init:{sorterWasmBytes:i.buffer,splatCount:e,Constants:{BytesPerFloat:MA.BytesPerFloat,BytesPerInt:MA.BytesPerInt,DepthMapRange:MA.DepthMapRange,MemoryPageSize:MA.MemoryPageSize}}}),t}var PI=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(r){return e[0]=r,t[0]}}(),FZe=function(e,t,r,i){return e+(t<<8)+(r<<16)+(i<<24)},TB=new ke;function DX(e){let t=!1;return e.scene.objects.traverse((r,i)=>{if(i.visible===!1)return!0;i.type==="Splat"&&(t=!0)}),t}var Q5=class extends ta{constructor(e,t,r,i,n=!1,a=1,o,s){super(r,i),this.splatCount=t,this.meshIndexIntervals=o,this.meshMatrixWorlds=s,this.splatBuffers=e,this.geometry=r,this.material=i,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=n,this.devicePixelRatio=a,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,r=!1,i=1,n,a){let o=Q5.buildGeomtery(t),s=Q5.buildMaterial(n);return new Q5(e,t,o,s,r,i,n,a)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,r=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,i={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new ke},viewport:{type:"v2",value:new ke},basisViewport:{type:"v2",value:new ke},debugColor:{type:"v3",value:new Rr},covariancesTextureSize:{type:"v2",value:new ke(1024,1024)},centersColorsTextureSize:{type:"v2",value:new ke(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Wi({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!0,alphaTest:1,blending:Qm,depthTest:!0,depthWrite:!1,side:Ms})}static buildGeomtery(e){let t=new Mr;t.setIndex([0,1,2,0,2,3]);let r=new Float32Array(4*3),i=new Qr(r,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;let n=new cse().copy(t),a=new Uint32Array(e),o=new mC(a,1,!1);return o.setUsage(L4e),n.setAttribute("splatIndex",o),n.instanceCount=e,n}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(i=>i.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,r=0;for(let i of this.splatBuffers){let n=i.nsplats;this.colors.subarray(e,e+n*4).set(i.colorsA),e+=n*4,this.centers.subarray(t,t+n*3).set(i.decoded.xyz.denormDequant().data),t+=n*3,this.covariances.subarray(r,r+n*6).set(new Float32Array(i.precomputedCovarianceBufferData)),r+=n*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new ke(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let r=new ke(4096,1024);for(;r.x*r.y*4<e*4;)r.y*=2;let i,n;if(this.halfPrecisionCovariancesOnGPU){n=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)n[u]=dke.toHalfFloat(this.covariances[u]);i=new Zc(n,t.x,t.y,$M,kf)}else n=new Float32Array(t.x*t.y*2),n.set(this.covariances),i=new Zc(n,t.x,t.y,$M,qa);i.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=i,this.material.uniforms.covariancesTextureSize.value.copy(t);let a=new Uint32Array(r.x*r.y*4);for(let u=0;u<e;u++){let d=u*4,h=u*3,f=u*4;a[f]=FZe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),a[f+1]=PI(this.centers[h]),a[f+2]=PI(this.centers[h+1]),a[f+3]=PI(this.centers[h+2])}let o=new Zc(a,r.x,r.y,Eoe,bf);o.internalFormat="RGBA32UI",o.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=o,this.material.uniforms.centersColorsTextureSize.value.copy(r);let s=256*4,l=new Float32Array(256*16);for(let u=0;u<this.meshMatrixWorlds.length;u++)l.set(this.meshMatrixWorlds[u].elements,u*16);let c=new Zc(l,s,1,Po,qa);c.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=c,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:n,texture:i,size:t},centerColors:{data:a,texture:o,size:r},meshMatrixWorlds:{data:l,texture:c}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,r,i){this.splatCount>0&&(TB.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(TB),this.material.uniforms.basisViewport.value.set(2/TB.x,2/TB.y),this.material.uniforms.focal.value.set(t,r),this.material.uniforms.orthoZoom.value=i,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose()),this.removeFromParent()}},Cue,LZe=new Promise(e=>{Cue=e}),IX=!1,OB;function RZe(){if(IX)return;if(OB)return OB;async function e(){let t=await Zu(()=>import("./gaussian-splat-compression-f68e3207.js"),[]);Cue(t),IX=!0}return OB=e(),OB}var _ue;LZe.then(e=>_ue=e);var UZe=class{constructor(e={}){Ix(this,"updateView",function(){let t=new kt,r=[],i=new q(0,0,-1),n=new q(0,0,-1),a=new q,o=new q;return function(s=!1,l){let c=this.updateMatrixWorldsInWorkerIfNeeded(),u=this.cropsChanged();if(!s){n.set(0,0,-1).applyQuaternion(l.quaternion);let h=!1,f=!1;if(n.dot(i)<=.95&&(h=!0),o.copy(l.position).sub(a).length()>=1&&(f=!0),!h&&!f&&!c&&!u&&!this.needsInitialRender)return}this.needsInitialRender=!1,a.copy(l.position),i.copy(n),t.copy(l.matrixWorld).invert(),t.premultiply(this.dummyPerspectiveMatrix),r[0]=l.position.x,r[1]=l.position.y,r[2]=l.position.z;let d={sort:{view:t.elements,cameraPosition:r,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...c?{newMatrixWorlds:this.meshMatrixWorlds}:{},...u?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=d:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(d))}}()),this.scene=e.scene,this.currentPage=null,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null,this.needsInitialRender=!0,this.dummyPerspectiveMatrix=new kt().makePerspective(-1,1,-1,1,.1,1e3)}updateSplatMeshUniforms(e,t){let r=new ke;this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(e.getSize(r),this.cameraFocalLengthX=t.projectionMatrix.elements[0]*this.devicePixelRatio*r.x*.45,this.cameraFocalLengthY=t.projectionMatrix.elements[5]*this.devicePixelRatio*r.y*.45,this.splatMesh.updateUniforms(r,this.cameraFocalLengthX,this.cameraFocalLengthY,t.isPerspectiveCamera?-1:t.zoom*this.devicePixelRatio))}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new q().fromArray(e.position)),e.orientation&&(e.orientation=new qr().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseVisibleEntity(a=>{a.data.type==="Splat"&&t.push(a)}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(a=>a.matrixWorld),this.meshMatrixWorldsOld=t.map(a=>a.matrixWorld.clone()),this.cropsArray=t.map(a=>a.data.crops.map(o=>o.data));let r=t.map(a=>new _ue.GSplineBuffer(new Uint8Array(a.data.buffer).buffer)),i=0,n=[0];for(let a of r)i+=a.getSplatCount(),n.push(i);return this.setupSplatMesh(r,i,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,n,this.meshMatrixWorlds),this.setupSortWorker(i),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,r)=>t.equals(this.meshMatrixWorldsOld[r]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,r)=>{var i;t.data.crops.forEach((n,a)=>{this.cropsArray[r][a]===void 0?(e=!0,this.cropsArray[r][a]=n.data):Object.entries(n.data).forEach(([o,s])=>{var l;Array.isArray(s)&&s.some((c,u)=>c!==this.cropsArray[r][a][o][u])?(e=!0,this.cropsArray[r][a][o]=s):s!==((l=this.cropsArray[r][a])==null?void 0:l[o])&&(e=!0,this.cropsArray[r][a][o]=s)})}),t.data.crops.length!==((i=this.cropsArray[r])==null?void 0:i.length)&&(this.cropsArray[r].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,r=new q,i=new qr,n=!1,a=1,o,s){this.splatMesh=Q5.buildMesh(e,t,n,a,o,s),this.splatMesh.position.copy(r),this.splatMesh.quaternion.copy(i),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=99999,this.splatRenderCount=t,this.splatMesh.onBeforeRender=(l,c,u)=>this.update(l,u)}setupSortWorker(e){this.sortWorker=IZe(e),this.sortWorker.onmessage=t=>{var r;t.data.sortDone?(this.sortRunning=!1,(r=this.splatMesh)==null||r.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.scene.activePage.add(this.splatMesh),this.needsInitialRender=!0)}}update(e,t){this.splatMesh!==null&&(this.updateSplatMeshUniforms(e,t),this.updateView(!1,t))}getSplatMesh(){return this.splatMesh}},tN=new jf;tN.wireframe=!0;var FX=new q,M6=class extends uh{constructor(e,t){super(),this.data=e,this.sharedAssets=t,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new TZe,this.invisibleObjects=new cb("jflkdsafjasdifjaslk",{...lU.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1,this.errorPage=new Bo("fdasfa",{...Hb.defaultData,name:""},{shared:t,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=EZe(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=SZe(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),r=this.entityIdentityToEntity[t];r&&(e.uuid=r.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Bo&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let r=[],i=t;for(;i!==this;){let n=i;i=i.parent;let a=i.children.indexOf(n);r.splice(0,0,a)}return{entity:t,sortKey:r}}getAllSorted(e){let t=[];for(let r of e){let i=this.getWithSortKey(r.id);i!==void 0&&t.push(i)}return t.sort((r,i)=>Jse(r.sortKey,i.sortKey)),t.map(r=>r.entity)}nonExistOrDescendantOf(e,t){let r=this.find(e);if(r===void 0)return!0;for(;r;){if(r.uuid===t)return!0;r=r.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===C1)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}find2D(e){for(let t of this.children)if(t instanceof Bo&&t.uiScene){let r=t.uiScene.find(e);if(r)return r}}findScene2DfromObject2D(e){for(let t of this.children)if(t instanceof Bo&&t.uiScene&&t.uiScene.find(e))return t.uiScene}find2DInUIObjects(e){let t;return this.traverseEntity(r=>{t===void 0&&r instanceof Es&&(t=r.uiCanvas.find(e))}),t}traverse2D(e){for(let t of this.children)t instanceof Bo&&t.uiScene&&t.uiScene.traverse(e)}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{var t;(t=e.cloner)==null||t.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){var r;if(e.path.length===0&&e.type===7){let i=e.parent===null?this:this.find(e.parent);if(i===void 0)throw new Error("unexpected");let n=this.createObject(e.id,e.data,e.children,i,e.localIndex,t);n.updateVisible(this),n.resetBBoxNeedsUpdate(),ju(n)&&_f(n.parent)&&(n.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markToExpandCloner(n),this.markPenumbraSizeDirty(),n.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let i=this.find(e.id);if(i===void 0)throw new Error("unexpected");this.markToExpandCloner(i),i.resetBBoxNeedsUpdate(),this.unregisterObject(i);let n=i.parent;this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markPenumbraSizeDirty(),i.parent.remove(i),_f(i.parent)&&(i.parent.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),ju(i)&&(i.freeBooleanPointer(),n instanceof d0&&n.invalidateDownstreamBooleanData().recomputeBoolean()),i instanceof _6&&i.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(i),this.pathConstraints.removeDependencies(i.uuid),i.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let i=this.find(e.id);if(i===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(i);let n=i.parent;this.markNeedsRecomputeInstancesForAncessors(n),(r=i.cloner)==null||r.resetOnMove(),this.markToExpandCloner(i);let a=e.parent===null?this:this.find(e.parent);if(a===void 0)throw new Error("unexpected");a.add(i),this.markNeedsRecomputeInstancesForAncessors(a),this.markToExpandCloner(i),i.invalidateClonerTransform(i),i.updateVisible(this),i.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let o=e.localIndex;a.children.splice(o,0,a.children.pop()),ju(i)&&(i.invalidateUpstreamBooleanData(),_f(i.parent)?i.parent.invalidateDownstreamBooleanData().recomputeBoolean():n instanceof d0&&n.invalidateDownstreamBooleanData().recomputeBoolean()),i.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){var t;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let r of this.children)r instanceof Bo&&(r.visible=r.uuid===e,r.visible&&(this.activePage=r,this.activePage.onActive(this)));this.activePage!==((t=this.splatViewer)==null?void 0:t.activePage)&&this.reloadSplats()}updateEntityByOp(e,t,r,i){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:a}=t.props;t={...t,props:a},this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let n=this.find(e);if(n)try{_Ze(n,t,r,{scene:this,shared:i}),n instanceof Ts&&n.updateGeometryGroupsIfNeeded()}catch(a){console.error(a)}}updateEntity2DByOp(e,t,r,i,n,a=[]){e.updateEntityByOp(t,r,i,n),this.traverseEntity(o=>{(o instanceof Es||o instanceof Bo)&&(a.includes(o.frameId??"")||o.frameId===t)&&o.updateEntity2DByOp(t,r,i,n)})}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let r=Object.entries(t.data.lib.components).map((i,n)=>({data:i[1].asset.data,children:i[1].asset.children,id:i[0],fi:n}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(r,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(i=>{i instanceof Os&&i.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){Oi.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{Oi.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,r,i,n,a,o){if(e){let s=i.find(e);s&&s!==i&&n.forInstancesRec(l=>{l.data=EC(l.data,c=>{let u=c.events.data(o.id),d=l.goUp(a);if(d){let h=[...$se(d.identity),e].join("-"),f=this.entityIdentityToEntity[h];if(f){let m=f.uuid,A=co.zoom(u,t);A[r]=m}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,r,i,n,a){e.forEach(o=>{o.data.type==="Transition"?this.relativeizeInner(o.data.object,[...t,o.id],"object",r,i,n,a):o.data.type==="Animation"?this.relativeizeInner(o.data.object,[...t,o.id],"object",r,i,n,a):o.data.type==="Conditional"&&(this.rewriteActions(o.data.ifActions,[...t,o.id,"ifActions"],r,i,n,a),this.rewriteActions(o.data.elseActions,[...t,o.id,"elseActions"],r,i,n,a))})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof ub&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,r)=>{t.data.events.forEach(i=>{if(i.data.type==="GameControl"){let n=!1;if(t.forInstancesRec(a=>{a.data=EC(a.data,o=>{a.isInstanceRoot||(o.events.delete(i.id),n=!0)}).data}),n===!1)for(let a of IP.list)this.rewriteActions(i.data.gameActions[a],["gameActions",a],e,t,r,i)}else i.data.type==="Conditional"?(i.data.condition.type==="Distance"?(this.relativeizeInner(i.data.condition.fromObject,["condition"],"fromObject",e,t,r,i),this.relativeizeInner(i.data.condition.toObject,["condition"],"toObject",e,t,r,i)):i.data.condition.type==="State"?this.relativeizeInner(i.data.condition.object,["condition"],"object",e,t,r,i):i.data.condition.type==="Comparison"&&(i.data.condition.lOperand.type==="Property"&&this.relativeizeInner(i.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,r,i),i.data.condition.rOperand.type==="Property"&&this.relativeizeInner(i.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,r,i)),this.rewriteActions(i.data.inActions,["inActions"],e,t,r,i),this.rewriteActions(i.data.outActions,["outActions"],e,t,r,i)):"actions"in i.data&&this.rewriteActions(i.data.actions,["actions"],e,t,r,i)})}),!0})}expandInstances(e,t,r){let i=new Set;this.traverseEntity(n=>{if(n instanceof ub&&n.isInstanceRoot)return n.expandInstanceChildren({scene:this,shared:e,pendingDeletes:i}),t||n.resetBBoxNeedsUpdate(),r&&n.traverseEntity(a=>{r.addClip(a)}),!0});for(let n of i)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),E6(n)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(r=>{r instanceof ub&&r.isInstanceRoot&&(r.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let r=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[r]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[r]),t.dispose()})}clearScene(){for(let e of this.children)Oi.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let r=[],i=n=>{for(let a of n.children){let o=a.cloner;if(Oi.is(a)&&!a.raycastLock&&(a.visible||o!=null&&o.object.data.visible))if(t===!0&&a.isInstanceRoot){let s=[];if(e.intersectObject(a,!0,s),s.length){let l=s[0];l.object=a,l.point.applyMatrix4(l.object.matrixWorld);let c=a.matrixWorld.clone().invert();l.point.applyMatrix4(c),r.push(l)}}else(ju(a)||VU(a)&&this.enableHelpers&&a.objectHelper.visible)&&(e.intersectObject(a,!1,r),eN(a,e,r)),i(a)}};return i(this.activePage),r}raycastWithClones(e){let t=[],r=i=>{for(let n of i.children){let a=n.cloner;Oi.is(n)&&(n.visible||a!=null&&a.object.data.visible)&&((ju(n)||VU(n)&&this.enableHelpers&&n.objectHelper.visible)&&(e.intersectObject(n,!1,t),eN(n,e,t,!0)),r(n))}};return r(this),t}forEachEntity(e){for(let t of this.children)Oi.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)Oi.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)Oi.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(r=>{if(r instanceof Ts&&r.data.type==="Mesh"&&(r.data.geometry.type==="TextGeometry"||r.data.geometry.type==="InputGeometry")&&r.data.geometry.font===e){let i=r.geometry,n=r.data.geometry;i.updateFont(e,t).then(()=>{i.update(n);let a=r.invalidateDownstreamBooleanData();_f(a)&&a.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)FC.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)Oi.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,r){let i=0;for(let n of e)this.createObject(n.id,n.data,n.children,t,i,r),i+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,r,i,n,a){var l;let o={scene:this,shared:a},s=B6(e,t,o);return s&&(this.entityByUuid[e]=s,i.add(s),i.children.splice(n,0,i.children.pop()),r.length>0&&(s.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(r,s,a)),s.updateState(t,o),s instanceof Ts&&s.updateGeometryGroupsIfNeeded(),s.updateVisible(this),s.cloner&&this.toExpandCloner.add(s),(l=t.pathSnapping)!=null&&l.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&s.traverseEntity(c=>{let u=c.dataPatched;if(c instanceof Ts&&u.bones&&u.boneInverses){let d=u.bones.map(m=>this.find(m)),h=u.boneInverses.map(m=>new kt().fromArray(m)),f=new fz(d,h);c.bind(f,c.bindMatrix)}else c.matrixAutoUpdate=!0}),s}getCenter(e){let t=[];for(let i=0,n=e.length;i<n;++i){let{id:a,recursive:o}=e[i],s=this.find(a),l=o?s.recursiveBBox:s.singleBBox;t.push(...l.vertices)}let r=new Fa;return r.setFromPoints(t),r.getCenter(FX),FX}copyMatrixWorld(e,t){if(e===null){t.identity();return}let r=this.find(e);r?t.copy(r.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var i;if(e===null){t.identity();return}let r=(i=this.find(e))==null?void 0:i.parent;r?t.copy(r.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof ll)if(Array.isArray(t.material))for(let r=0;r<t.material.length;r++)t.material[r]instanceof ng&&e(t.material[r]);else t.material instanceof ng&&e(t.material)})}updateViewPlaneSize(e,t,r=!1){this.traverseConcreteEntity(i=>{i instanceof Os&&i.setViewplaneSize(e,t,r)})}initializeSplatViewer(){this.splatViewer=new UZe({scene:this}),this.reloadSplats()}reloadSplats(){var e;(e=this.splatViewer)==null||e.loadSplat()}},W5=(e,t)=>{let r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)},NZe=(e,t)=>{let r=t.x-e.x,i=t.y-e.y;return jZe(Math.atan2(i,r))},kZe=(e,t,r)=>{let i={x:0,y:0};return r=rN(r),i.x=e.x-t*Math.cos(r),i.y=e.y-t*Math.sin(r),i},rN=e=>e*(Math.PI/180),jZe=e=>e*(180/Math.PI),zZe=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,TI=new Map,LX=e=>{TI.has(e)&&clearTimeout(TI.get(e)),TI.set(e,setTimeout(e,100))},KP=(e,t,r)=>{let i=t.split(/[ ,]+/g),n;for(let a=0;a<i.length;a+=1)n=i[a],e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent&&e.attachEvent(n,r)},RX=(e,t,r)=>{let i=t.split(/[ ,]+/g),n;for(let a=0;a<i.length;a+=1)n=i[a],e.removeEventListener?e.removeEventListener(n,r):e.detachEvent&&e.detachEvent(n,r)},Sue=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),UX=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},iN=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},P6=(e,t,r)=>{let i=Eue(e);for(let n in i)if(i.hasOwnProperty(n))if(typeof t=="string")i[n]=t+" "+r;else{let a="";for(let o=0,s=t.length;o<s;o+=1)a+=t[o]+" "+r+", ";i[n]=a.slice(0,-2)}return i},HZe=(e,t)=>{let r=Eue(e);for(let i in r)r.hasOwnProperty(i)&&(r[i]=t);return r},Eue=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(r){t[r+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},OI=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},VZe=(e,t)=>{let r={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?r[i]=t[i]:e.hasOwnProperty(i)&&(r[i]=e[i]);return r},nN=(e,t)=>{if(e.length)for(let r=0,i=e.length;r<i;r+=1)t(e[r]);else t(e)},QZe=(e,t,r)=>({x:Math.min(Math.max(e.x,t.x-r),t.x+r),y:Math.min(Math.max(e.y,t.y-r),t.y+r)});typeof window<"u"&&(Bue="ontouchstart"in window,Mue=!!window.PointerEvent,Pue=!!window.MSPointerEvent);var Bue,Mue,Pue,sx={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},Ly,UC={};Mue?Ly=sx.pointer:Pue?Ly=sx.MSPointer:Bue?(Ly=sx.touch,UC=sx.mouse):Ly=sx.mouse;function T0(){}T0.prototype.on=function(e,t){var r=this,i=e.split(/[ ,]+/g),n;r._handlers_=r._handlers_||{};for(var a=0;a<i.length;a+=1)n=i[a],r._handlers_[n]=r._handlers_[n]||[],r._handlers_[n].push(t);return r};T0.prototype.off=function(e,t){var r=this;return r._handlers_=r._handlers_||{},e===void 0?r._handlers_={}:t===void 0?r._handlers_[e]=null:r._handlers_[e]&&r._handlers_[e].indexOf(t)>=0&&r._handlers_[e].splice(r._handlers_[e].indexOf(t),1),r};T0.prototype.trigger=function(e,t){var r=this,i=e.split(/[ ,]+/g),n;r._handlers_=r._handlers_||{};for(var a=0;a<i.length;a+=1)n=i[a],r._handlers_[n]&&r._handlers_[n].length&&r._handlers_[n].forEach(function(o){o.call(r,{type:n,target:r},t)})};T0.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=VZe(t.options,e))};T0.prototype.bindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},r._domHandlers_[t]=function(){typeof r["on"+t]=="function"?r["on"+t].apply(r,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},KP(e,Ly[t],r._domHandlers_[t]),UC[t]&&KP(e,UC[t],r._domHandlers_[t]),r};T0.prototype.unbindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},RX(e,Ly[t],r._domHandlers_[t]),UC[t]&&RX(e,UC[t],r._domHandlers_[t]),delete r._domHandlers_[t],this};var T6=T0;function go(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=go.id,go.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}go.prototype=new T6;go.constructor=go;go.id=0;go.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};go.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=HZe("borderRadius","50%"),r=P6("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},OI(i.el,r),this.options.shape==="circle"&&OI(i.back,t),OI(i.front,t),this.applyStyles(i),this};go.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var r in e[t])this.ui[t].style[r]=e[t][r];return this};go.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};go.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};go.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};go.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};go.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var r=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=r,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let r=t.options.restJoystick,i={};i.x=r===!0||r.x!==!1?0:t.instance.frontPosition.x,i.y=r===!0||r.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t};go.prototype.setPosition=function(e,t){var r=this;r.frontPosition={x:t.x,y:t.y};var i=r.options.fadeTime+"ms",n={};n.front=P6("transition",["top","left"],i);var a={front:{}};a.front={left:r.frontPosition.x+"px",top:r.frontPosition.y+"px"},r.applyStyles(n),r.applyStyles(a),r.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(r),r.restCallback()},r.options.fadeTime)};go.prototype.restCallback=function(){var e=this,t={};t.front=P6("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};go.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};go.prototype.computeDirection=function(e){var t=e.angle.radian,r=Math.PI/4,i=Math.PI/2,n,a,o;if(t>r&&t<r*3&&!e.lockX?n="up":t>-r&&t<=r&&!e.lockY?n="left":t>-r*3&&t<=-r&&!e.lockX?n="down":e.lockY||(n="right"),e.lockY||(t>-i&&t<i?a="left":a="right"),e.lockX||(t>0?o="up":o="down"),e.force>this.options.threshold){var s={},l;for(l in this.direction)this.direction.hasOwnProperty(l)&&(s[l]=this.direction[l]);var c={};this.direction={x:a,y:o,angle:n},e.direction=this.direction;for(l in s)s[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+a,e),c.y||this.trigger("plain:"+o,e),c.angle||this.trigger("dir dir:"+n,e)}else this.resetDirection();return e};var WZe=go;function La(e,t){var r=this;r.nipples=[],r.idles=[],r.actives=[],r.ids=[],r.pressureIntervals={},r.manager=e,r.id=La.id,La.id+=1,r.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},r.config(t),(r.options.mode==="static"||r.options.mode==="semi")&&(r.options.multitouch=!1),r.options.multitouch||(r.options.maxNumberOfNipples=1);let i=getComputedStyle(r.options.zone.parentElement);return i&&i.display==="flex"&&(r.parentIsFlex=!0),r.updateBox(),r.prepareNipples(),r.bindings(),r.begin(),r.nipples}La.prototype=new T6;La.constructor=La;La.id=0;La.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(r){if(r===void 0)return t[0];for(var i=0,n=t.length;i<n;i+=1)if(t[i].identifier===r)return t[i];return!1}};La.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};La.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var r=e.createNipple(t.position,e.manager.getIdentifier());r.add(),e.idles.push(r)}};La.prototype.createNipple=function(e,t){var r=this,i=r.manager.scroll,n={},a=r.options,o={x:r.parentIsFlex?i.x:i.x+r.box.left,y:r.parentIsFlex?i.y:i.y+r.box.top};if(e.x&&e.y)n={x:e.x-o.x,y:e.y-o.y};else if(e.top||e.right||e.bottom||e.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=e.top,s.style.right=e.right,s.style.bottom=e.bottom,s.style.left=e.left,s.style.position="absolute",a.zone.appendChild(s);var l=s.getBoundingClientRect();a.zone.removeChild(s),n=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new WZe(r,{color:a.color,size:a.size,threshold:a.threshold,fadeTime:a.fadeTime,dataOnly:a.dataOnly,restJoystick:a.restJoystick,restOpacity:a.restOpacity,mode:a.mode,identifier:t,position:e,zone:a.zone,frontPosition:{x:0,y:0},shape:a.shape});return a.dataOnly||(iN(c.ui.el,n),iN(c.ui.front,c.frontPosition)),r.nipples.push(c),r.trigger("added "+c.identifier+":added",c),r.manager.trigger("added "+c.identifier+":added",c),r.bindNipple(c),c};La.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};La.prototype.bindNipple=function(e){var t=this,r,i=function(n,a){r=n.type+" "+a.id+":"+n.type,t.trigger(r,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};La.prototype.pressureFn=function(e,t,r){var i=this,n=0;clearInterval(i.pressureIntervals[r]),i.pressureIntervals[r]=setInterval(function(){var a=e.force||e.pressure||e.webkitForce||0;a!==n&&(t.trigger("pressure",a),i.trigger("pressure "+t.identifier+":pressure",a),n=a)}.bind(i),100)};La.prototype.onstart=function(e){var t=this,r=t.options,i=e;e=Sue(e),t.updateBox();var n=function(a){t.actives.length<r.maxNumberOfNipples?t.processOnStart(a):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(o){if(Object.values(i.touches).findIndex(function(l){return l.identifier===o})<0){var s=[e[0]];s.identifier=o,t.processOnEnd(s)}}),t.actives.length<r.maxNumberOfNipples&&t.processOnStart(a))};return nN(e,n),t.manager.bindDocument(),!1};La.prototype.processOnStart=function(e){var t=this,r=t.options,i,n=t.manager.getIdentifier(e),a=e.force||e.pressure||e.webkitForce||0,o={x:e.pageX,y:e.pageY},s=t.getOrCreate(n,o);s.identifier!==n&&t.manager.removeIdentifier(s.identifier),s.identifier=n;var l=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),a>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(s))>=0&&t.idles.splice(i,1),t.actives.push(s),t.ids.push(s.identifier),r.mode!=="semi")l(s);else{var c=W5(o,s.position);if(c<=r.catchDistance)l(s);else{s.destroy(),t.processOnStart(e);return}}return s};La.prototype.getOrCreate=function(e,t){var r=this,i=r.options,n;return/(semi|static)/.test(i.mode)?(n=r.idles[0],n?(r.idles.splice(0,1),n):i.mode==="semi"?r.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(n=r.createNipple(t,e),n)};La.prototype.processOnMove=function(e){var t=this,r=t.options,i=t.manager.getIdentifier(e),n=t.nipples.get(i),a=t.manager.scroll;if(!zZe(e)){this.processOnEnd(e);return}if(!n){console.error("Found zombie joystick with ID "+i),t.manager.removeIdentifier(i);return}if(r.dynamicPage){var o=n.el.getBoundingClientRect();n.position={x:a.x+o.left,y:a.y+o.top}}n.identifier=i;var s=n.options.size/2,l={x:e.pageX,y:e.pageY};r.lockX&&(l.y=n.position.y),r.lockY&&(l.x=n.position.x);var c=W5(l,n.position),u=NZe(l,n.position),d=rN(u),h=c/s,f={distance:c,position:l},m,A;if(n.options.shape==="circle"?(m=Math.min(c,s),A=kZe(n.position,m,u)):(A=QZe(l,n.position,s),m=W5(A,n.position)),r.follow){if(c>s){let y=l.x-A.x,b=l.y-A.y;n.position.x+=y,n.position.y+=b,n.el.style.top=n.position.y-(t.box.top+a.y)+"px",n.el.style.left=n.position.x-(t.box.left+a.x)+"px",c=W5(l,n.position)}}else l=A,c=m;var g=l.x-n.position.x,p=l.y-n.position.y;n.frontPosition={x:g,y:p},r.dataOnly||iN(n.ui.front,n.frontPosition);var v={identifier:n.identifier,position:l,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:d,degree:u},vector:{x:g/s,y:-p/s},raw:f,instance:n,lockX:r.lockX,lockY:r.lockY};v=n.computeDirection(v),v.angle={radian:rN(180-u),degree:180-u},n.trigger("move",v),t.trigger("move "+n.id+":move",v)};La.prototype.processOnEnd=function(e){var t=this,r=t.options,i=t.manager.getIdentifier(e),n=t.nipples.get(i),a=t.manager.removeIdentifier(n.identifier);!n||(r.dataOnly||n.hide(function(){r.mode==="dynamic"&&(n.trigger("removed",n),t.trigger("removed "+n.id+":removed",n),t.manager.trigger("removed "+n.id+":removed",n),n.destroy())}),clearInterval(t.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger("end",n),t.trigger("end "+n.id+":end",n),t.ids.indexOf(n.identifier)>=0&&t.ids.splice(t.ids.indexOf(n.identifier),1),t.actives.indexOf(n)>=0&&t.actives.splice(t.actives.indexOf(n),1),/(semi|static)/.test(r.mode)?t.idles.push(n):t.nipples.indexOf(n)>=0&&t.nipples.splice(t.nipples.indexOf(n),1),t.manager.unbindDocument(),/(semi|static)/.test(r.mode)&&(t.manager.ids[a.id]=a.identifier))};La.prototype.onDestroyed=function(e,t){var r=this;r.nipples.indexOf(t)>=0&&r.nipples.splice(r.nipples.indexOf(t),1),r.actives.indexOf(t)>=0&&r.actives.splice(r.actives.indexOf(t),1),r.idles.indexOf(t)>=0&&r.idles.splice(r.idles.indexOf(t),1),r.ids.indexOf(t.identifier)>=0&&r.ids.splice(r.ids.indexOf(t.identifier),1),r.manager.removeIdentifier(t.identifier),r.manager.unbindDocument()};La.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(r){r.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var GZe=La;function Uo(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=UX(),t.config(e),t.prepareCollections();var r=function(){var n;t.collections.forEach(function(a){a.forEach(function(o){n=o.el.getBoundingClientRect(),o.position={x:t.scroll.x+n.left,y:t.scroll.y+n.top}})})};if(typeof window>"u")return t.collections;KP(window,"resize",function(){LX(r)});var i=function(){t.scroll=UX()};return KP(window,"scroll",function(){LX(i)}),t.collections}Uo.prototype=new T6;Uo.constructor=Uo;Uo.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var r;return e.collections.every(function(i){return r=i.get(t),!r}),r}};Uo.prototype.create=function(e){return this.createCollection(e)};Uo.prototype.createCollection=function(e){var t=this,r=new GZe(t,e);return t.bindCollection(r),t.collections.push(r),r};Uo.prototype.bindCollection=function(e){var t=this,r,i=function(n,a){r=n.type+" "+a.id+":"+n.type,t.trigger(r,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};Uo.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};Uo.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};Uo.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};Uo.prototype.removeIdentifier=function(e){var t={};for(var r in this.ids)if(this.ids[r]===e){t.id=r,t.identifier=this.ids[r],delete this.ids[r];break}return t};Uo.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};Uo.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};Uo.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};Uo.prototype.onAny=function(e,t){var r=this,i,n="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=Sue(t);var a=function(s,l,c){c.ids.indexOf(l)>=0&&(c[n](s),s._found_=!0)},o=function(s){i=r.getIdentifier(s),nN(r.collections,a.bind(null,s,i)),s._found_||r.removeIdentifier(i)};return nN(t,o),!1};Uo.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};Uo.prototype.onDestroyed=function(e,t){var r=this;if(r.collections.indexOf(t)<0)return!1;r.collections.splice(r.collections.indexOf(t),1)};var qZe=Uo,NX=new qZe,KZe={create:function(e){return NX.create(e)},factory:NX},Tue=new Map,C2=new Map,Fm=class{constructor(e,t,r,i){this.data=t;let{audio:n,volume:a,delay:o,loop:s}=t;if(!n)throw new Error("Missing property");let l=typeof n=="string"?i.getAudio(n).src:n.data;this.audioPlayer=new Hx({src:l,volume:a,delay:o,loop:s}),C2.has(r.uuid)?C2.get(r.uuid).push(this):C2.set(r.uuid,[this]),Tue.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},aN=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=Tue.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=C2.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...C2.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},Oue=class{constructor(e,t,r,i,n){if(this.data=t,this.shared=i,this.condition=n,t.interaction==="play")this.interaction=new Fm(e,t,r,i);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new aN(t);else throw new Error("Missing property")}dispatchBasic(){if(Ln(this.shared,this.condition)===!1)return!1;this.interaction instanceof Fm?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Ln(this.shared,this.condition)===!1)return!1;this.interaction instanceof Fm?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(Ln(this.shared,this.condition)===!1)return!1;this.interaction instanceof Fm&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},Due=class{constructor(e,t,r,i){this.data=e,this.page=t,this.shared=r,this.condition=i,this.delay=0,this.emission=e.emission,e.delay!==void 0&&(this.delay=e.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop(this.delay):this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze(this.delay):this.unFreeze(this.delay)}start(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.start(0),this.clearDelay()},e);return}this.particleSystem.start()}stop(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.stop(0),this.clearDelay()},e);return}this.particleSystem.stop()}freeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.freeze(0),this.clearDelay()},e);return}this.particleSystem.froze()}unFreeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.unFreeze(0),this.clearDelay()},e);return}this.particleSystem.unFroze()}reset(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.reset(0),this.clearDelay()},e);return}this.particleSystem.reset()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze();break}}dispatchBasic(){if(Ln(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze(this.delay);break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchConditional(){if(Ln(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchGameControl(e){if(Ln(this.shared,this.condition)===!1||!this.particleSystem)return!1;e==="start"?this.start(this.delay):this.stop(this.delay)}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},XZe="text/plain",YZe="us-ascii",kX=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),$Ze=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:i,data:n,hash:a}=r.groups,o=i.split(";");a=t?"":a;let s=!1;o[o.length-1]==="base64"&&(o.pop(),s=!0);let l=(o.shift()||"").toLowerCase(),c=[...o.map(u=>{let[d,h=""]=u.split("=").map(f=>f.trim());return d==="charset"&&(h=h.toLowerCase(),h===YZe)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return s&&c.push("base64"),(c.length>0||l&&l!==XZe)&&c.unshift(l),`data:${c.join(";")},${s?n.trim():n}${a?`#${a}`:""}`};function JZe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return $Ze(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,o=0,s="";for(;;){let c=a.exec(i.pathname);if(!c)break;let u=c[0],d=c.index,h=i.pathname.slice(o,d);s+=h.replace(/\/{2,}/g,"/"),s+=u,o=d+u.length}let l=i.pathname.slice(o,i.pathname.length);s+=l.replace(/\/{2,}/g,"/"),i.pathname=s}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),o=a[a.length-1];kX(o,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])kX(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let n=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!n.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var ZZe=class{constructor({url:e,context:t},r,i,n){if(this.controlsManager=r,this.shared=i,this.condition=n,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:JZe(e,{removeTrailingSlash:!1,removeSingleSlash:!1,stripWWW:!1}),this.context=t??"tab"}dispatch(){var e;if(Ln(this.shared,this.condition)===!1)return!1;w_?window.location.assign(this.url):(this.context==="tab"||Yse&&this.context==="none"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(e=this.controlsManager.orbitControls)==null||e.onPointerUp(jr[0]),z7e())}},Iue=class{constructor(e,t,r,i,n){this.data=e,this.page=t,this.controlsManager=r,this.shared=i,this.condition=n,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=a=>{var c,u;this.timeoutIdQueue.shift();let o=this.page.scene.find(a);if(o===void 0)return;let s=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=s?(c=o.dataPatched.physics)==null?void 0:c.fusedBody:!0;if(o.cloner){for(let d of o.cloner.children)l?(d.playModeVisible=!1,d.rigidBody&&((u=o.dataPatched.physics)==null?void 0:u.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),s.removeRigidBody(d.rigidBody),d.rigidBody=void 0),d.bvhGeometry&&(d.bvhGeometry=void 0)):this.clone===void 0||this.clone===d?(d.playModeVisible=!1,d.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),s.removeRigidBody(d.rigidBody),d.rigidBody=void 0)):d.playModeVisible===void 0&&(d.playModeVisible=!0);(l||this.clone===void 0||this.clone===!1)&&(o.visible=!1,o.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(o.rigidBody.collider(0).handle),s.removeRigidBody(o.rigidBody),o.rigidBody=void 0),o.bvhGeometry&&(o.bvhGeometry=void 0))}else o.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(o.rigidBody.collider(0).handle),s.removeRigidBody(o.rigidBody),o.rigidBody=void 0),o.bvhGeometry&&(o.bvhGeometry=void 0),o.visible=!1;s===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.rigidBody!==void 0),o.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(Ln(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(Ln(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},Fue=class{constructor(e,t,r,i,n){this.data=e,this.page=t,this.shared=r,this.eventManager=i,this.condition=n,this.shared=r}dispatch(){if(Ln(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var e;this.shared.reset(this.shared.data,!0),z6(this.page,this.shared,!0),this.eventManager.reset(),(e=this.eventManager.controlsManager.gameControl)==null||e.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},Lue={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},O6={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},eet=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],XP={CSS:{},springs:{}};function qu(e,t,r){return Math.min(Math.max(e,t),r)}function _2(e,t){return e.indexOf(t)>-1}function DI(e,t){return e.apply(null,t)}var Vr={arr:function(e){return Array.isArray(e)},obj:function(e){return _2(Object.prototype.toString.call(e),"Object")},pth:function(e){return Vr.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||Vr.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Vr.hex(e)||Vr.rgb(e)||Vr.hsl(e)},key:function(e){return!Lue.hasOwnProperty(e)&&!O6.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Rue(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function Uue(e,t){var r=Rue(e),i=qu(Vr.und(r[0])?1:r[0],.1,100),n=qu(Vr.und(r[1])?100:r[1],.1,100),a=qu(Vr.und(r[2])?10:r[2],.1,100),o=qu(Vr.und(r[3])?0:r[3],.1,100),s=Math.sqrt(n/i),l=a/(2*Math.sqrt(n*i)),c=l<1?s*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*s+-o)/c:-o+s;function h(m){var A=t?t*m/1e3:m;return l<1?A=Math.exp(-A*l*s)*(u*Math.cos(c*A)+d*Math.sin(c*A)):A=(u+d*A)*Math.exp(-A*s),m===0||m===1?m:1-A}function f(){var m=XP.springs[e];if(m)return m;for(var A=1/6,g=0,p=0;;)if(g+=A,h(g)===1){if(p++,p>=16)break}else p=0;var v=g*A*1e3;return XP.springs[e]=v,v}return t?h:f}function tet(e){return e===void 0&&(e=10),function(t){return Math.ceil(qu(t,1e-6,1)*e)*(1/e)}}var ret=function(){var e=11,t=1/(e-1);function r(u,d){return 1-3*d+3*u}function i(u,d){return 3*d-6*u}function n(u){return 3*u}function a(u,d,h){return((r(d,h)*u+i(d,h))*u+n(d))*u}function o(u,d,h){return 3*r(d,h)*u*u+2*i(d,h)*u+n(d)}function s(u,d,h,f,m){var A,g,p=0;do g=d+(h-d)/2,A=a(g,f,m)-u,A>0?h=g:d=g;while(Math.abs(A)>1e-7&&++p<10);return g}function l(u,d,h,f){for(var m=0;m<4;++m){var A=o(d,h,f);if(A===0)return d;var g=a(d,h,f)-u;d-=g/A}return d}function c(u,d,h,f){if(!(0<=u&&u<=1&&0<=h&&h<=1))return;var m=new Float32Array(e);if(u!==d||h!==f)for(var A=0;A<e;++A)m[A]=a(A*t,u,h);function g(p){for(var v=0,y=1,b=e-1;y!==b&&m[y]<=p;++y)v+=t;--y;var x=(p-m[y])/(m[y+1]-m[y]),w=v+x*t,C=o(w,u,h);return C>=.001?l(p,w,u,h):C===0?w:s(p,v,v+t,u,h)}return function(p){return u===d&&h===f||p===0||p===1?p:a(g(p),d,f)}}return c}(),Nue=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var n,a=4;i<((n=Math.pow(2,--a))-1)/11;);return 1/Math.pow(4,3-a)-7.5625*Math.pow((n*3-2)/22-i,2)}},Elastic:function(i,n){i===void 0&&(i=1),n===void 0&&(n=.5);var a=qu(i,1,10),o=qu(n,.1,2);return function(s){return s===0||s===1?s:-a*Math.pow(2,10*(s-1))*Math.sin((s-1-o/(Math.PI*2)*Math.asin(1/a))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,n){t[i]=function(){return function(a){return Math.pow(a,n+2)}}}),Object.keys(t).forEach(function(i){var n=t[i];e["easeIn"+i]=n,e["easeOut"+i]=function(a,o){return function(s){return 1-n(a,o)(1-s)}},e["easeInOut"+i]=function(a,o){return function(s){return s<.5?n(a,o)(s*2)/2:1-n(a,o)(s*-2+2)/2}}}),e}();function D6(e,t){if(Vr.fnc(e))return e;var r=e.split("(")[0],i=Nue[r],n=Rue(e);switch(r){case"spring":return Uue(e,t);case"cubicBezier":return DI(ret,n);case"steps":return DI(tet,n);default:return DI(i,n)}}function kue(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function z3(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,n=[],a=0;a<r;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&n.push(o)}return n}function H3(e){return e.reduce(function(t,r){return t.concat(Vr.arr(r)?H3(r):r)},[])}function jX(e){return Vr.arr(e)?e:(Vr.str(e)&&(e=kue(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function I6(e,t){return e.some(function(r){return r===t})}function F6(e){var t={};for(var r in e)t[r]=e[r];return t}function oN(e,t){var r=F6(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function V3(e,t){var r=F6(e);for(var i in t)r[i]=Vr.und(e[i])?t[i]:e[i];return r}function iet(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function net(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(s,l,c,u){return l+l+c+c+u+u}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),n=parseInt(i[1],16),a=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+n+","+a+","+o+",1)"}function aet(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,a=t[4]||1;function o(h,f,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(f-h)*6*m:m<1/2?f:m<2/3?h+(f-h)*(2/3-m)*6:h}var s,l,c;if(i==0)s=l=c=n;else{var u=n<.5?n*(1+i):n+i-n*i,d=2*n-u;s=o(d,u,r+1/3),l=o(d,u,r),c=o(d,u,r-1/3)}return"rgba("+s*255+","+l*255+","+c*255+","+a+")"}function oet(e){if(Vr.rgb(e))return iet(e);if(Vr.hex(e))return net(e);if(Vr.hsl(e))return aet(e)}function Of(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function set(e){if(_2(e,"translate")||e==="perspective")return"px";if(_2(e,"rotate")||_2(e,"skew"))return"deg"}function sN(e,t){return Vr.fnc(e)?e(t.target,t.id,t.total):e}function ih(e,t){return e.getAttribute(t)}function L6(e,t,r){var i=Of(t);if(I6([r,"deg","rad","turn"],i))return t;var n=XP.CSS[t+r];if(!Vr.und(n))return n;var a=100,o=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(o),o.style.position="absolute",o.style.width=a+r;var l=a/o.offsetWidth;s.removeChild(o);var c=l*parseFloat(t);return XP.CSS[t+r]=c,c}function jue(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?L6(e,n,r):n}}function R6(e,t){if(Vr.dom(e)&&!Vr.inp(e)&&(ih(e,t)||Vr.svg(e)&&e[t]))return"attribute";if(Vr.dom(e)&&I6(eet,t))return"transform";if(Vr.dom(e)&&t!=="transform"&&jue(e,t))return"css";if(e[t]!=null)return"object"}function zue(e){if(Vr.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,n;n=r.exec(t);)i.set(n[1],n[2]);return i}}function cet(e,t,r,i){var n=_2(t,"scale")?1:0+set(t),a=zue(e).get(t)||n;return r&&(r.transforms.list.set(t,a),r.transforms.last=t),i?L6(e,a,i):a}function U6(e,t,r,i){switch(R6(e,t)){case"transform":return cet(e,t,i,r);case"css":return jue(e,t,r);case"attribute":return ih(e,t);default:return e[t]||0}}function N6(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=Of(e)||0,n=parseFloat(t),a=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return n+a+i;case"-":return n-a+i;case"*":return n*a+i}}function Hue(e,t){if(Vr.col(e))return oet(e);if(/\s/g.test(e))return e;var r=Of(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function k6(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function uet(e){return Math.PI*2*ih(e,"r")}function det(e){return ih(e,"width")*2+ih(e,"height")*2}function het(e){return k6({x:ih(e,"x1"),y:ih(e,"y1")},{x:ih(e,"x2"),y:ih(e,"y2")})}function Vue(e){for(var t=e.points,r=0,i,n=0;n<t.numberOfItems;n++){var a=t.getItem(n);n>0&&(r+=k6(i,a)),i=a}return r}function fet(e){var t=e.points;return Vue(e)+k6(t.getItem(t.numberOfItems-1),t.getItem(0))}function Que(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return uet(e);case"rect":return det(e);case"line":return het(e);case"polyline":return Vue(e);case"polygon":return fet(e)}}function pet(e){var t=Que(e);return e.setAttribute("stroke-dasharray",t),t}function Aet(e){for(var t=e.parentNode;Vr.svg(t)&&Vr.svg(t.parentNode);)t=t.parentNode;return t}function Wue(e,t){var r=t||{},i=r.el||Aet(e),n=i.getBoundingClientRect(),a=ih(i,"viewBox"),o=n.width,s=n.height,l=r.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function get(e,t){var r=Vr.str(e)?kue(e)[0]:e,i=t||100;return function(n){return{property:n,el:r,svg:Wue(r),totalLength:Que(r)*(i/100)}}}function met(e,t){function r(s){s===void 0&&(s=0);var l=t+s>=1?t+s:0;return e.el.getPointAtLength(l)}var i=Wue(e.el,e.svg),n=r(),a=r(-1),o=r(1);switch(e.property){case"x":return(n.x-i.x)*i.w;case"y":return(n.y-i.y)*i.h;case"angle":return Math.atan2(o.y-a.y,o.x-a.x)*180/Math.PI}}function zX(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=Hue(Vr.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:Vr.str(e)||t?i.split(r):[]}}function Gue(e){var t=e?H3(Vr.arr(e)?e.map(jX):jX(e)):[];return z3(t,function(r,i,n){return n.indexOf(r)===i})}function que(e){var t=Gue(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:zue(r)}}})}function vet(e,t){var r=F6(t);if(/^spring/.test(r.easing)&&(r.duration=Uue(r.easing)),Vr.arr(e)){var i=e.length,n=i===2&&!Vr.obj(e[0]);n?e={value:e}:Vr.fnc(t.duration)||(r.duration=t.duration/i)}var a=Vr.arr(e)?e:[e];return a.map(function(o,s){var l=Vr.obj(o)&&!Vr.pth(o)?o:{value:o};return Vr.und(l.delay)&&(l.delay=s?0:t.delay),Vr.und(l.endDelay)&&(l.endDelay=s===a.length-1?t.endDelay:0),l}).map(function(o){return V3(o,r)})}function yet(e){for(var t=z3(H3(e.map(function(a){return Object.keys(a)})),function(a){return Vr.key(a)}).reduce(function(a,o){return a.indexOf(o)<0&&a.push(o),a},[]),r={},i=function(a){var o=t[a];r[o]=e.map(function(s){var l={};for(var c in s)Vr.key(c)?c==o&&(l.value=s[c]):l[c]=s[c];return l})},n=0;n<t.length;n++)i(n);return r}function bet(e,t){var r=[],i=t.keyframes;i&&(t=V3(yet(i),t));for(var n in t)Vr.key(n)&&r.push({name:n,tweens:vet(t[n],e)});return r}function wet(e,t){var r={};for(var i in e){var n=sN(e[i],t);Vr.arr(n)&&(n=n.map(function(a){return sN(a,t)}),n.length===1&&(n=n[0])),r[i]=n}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function xet(e,t){var r;return e.tweens.map(function(i){var n=wet(i,t),a=n.value,o=Vr.arr(a)?a[1]:a,s=Of(o),l=U6(t.target,e.name,s,t),c=r?r.to.original:l,u=Vr.arr(a)?a[0]:c,d=Of(u)||Of(l),h=s||d;return Vr.und(o)&&(o=c),n.from=zX(u,h),n.to=zX(N6(o,u),h),n.start=r?r.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=D6(n.easing,n.duration),n.isPath=Vr.pth(a),n.isColor=Vr.col(n.from.original),n.isColor&&(n.round=1),r=n,n})}var Kue={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,n){if(i.list.set(t,r),t===i.last||n){var a="";i.list.forEach(function(o,s){a+=s+"("+o+") "}),e.style.transform=a}}};function Xue(e,t){var r=que(e);r.forEach(function(i){for(var n in t){var a=sN(t[n],i),o=i.target,s=Of(a),l=U6(o,n,s,i),c=s||Of(l),u=N6(Hue(a,c),l),d=R6(o,n);Kue[d](o,n,u,i.transforms,!0)}})}function Cet(e,t){var r=R6(e.target,t.name);if(r){var i=xet(t,e),n=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}function _et(e,t){return z3(H3(e.map(function(r){return t.map(function(i){return Cet(r,i)})})),function(r){return!Vr.und(r)})}function Yue(e,t){var r=e.length,i=function(a){return a.timelineOffset?a.timelineOffset:0},n={};return n.duration=r?Math.max.apply(Math,e.map(function(a){let o=a.startOnceDelay??0,s=a.pingPongDelayCorrection??0,l=a.pingPongEndDelayCorrection??0;return i(a)+o+s+l+a.duration*(a.loop??1)})):t.duration,n.delay=r?Math.min.apply(Math,e.map(function(a){let o=a.startOnceDelay??0,s=a.pingPongDelayCorrection??0;return i(a)+o+s+a.delay})):t.delay,n.endDelay=r?n.duration-Math.max.apply(Math,e.map(function(a){let o=a.startOnceDelay??0,s=a.pingPongDelayCorrection??0,l=a.pingPongEndDelayCorrection??0;return i(a)+o+s+a.duration*(a.loop??1)-a.endDelay-l})):t.endDelay,n}var HX=0;function Eet(e){var t=oN(Lue,e),r=oN(O6,e),i=bet(r,e),n=que(e.targets),a=_et(n,i),o=Yue(a,r),s=HX;return HX++,V3(t,{id:s,children:[],animatables:n,animations:a,duration:o.duration,delay:o.delay,endDelay:o.endDelay,startOnceDelay:r.startOnceDelay,pingPongDelayCorrection:r.pingPongDelayCorrection,pingPongEndDelayCorrection:r.pingPongEndDelayCorrection})}var au=[],VX=[],G5,Bet=function(){function e(){G5=requestAnimationFrame(t)}function t(r){var i=au.length;if(i){for(var n=0;n<i;){var a=au[n];a.paused?(au.splice(n,1),i-=1):(a.tick(r),n++)}e()}else G5=cancelAnimationFrame(G5)}return e}();function Met(e){document.hidden?(au.forEach(function(t){return t.pause(e.timeStamp)}),VX=au.slice(0),Ia.running=au=[]):VX.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",Met);function Ia(e){e===void 0&&(e={});var t=0,r=0,i=0,n,a,o=0,s=null;function l(w){var C=window.Promise&&new Promise(function(_){return s=_});return w.finished=C,C}var c=Eet(e);l(c);function u(){var w=c.direction;w!=="alternate"&&(c.direction=w!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,a.forEach(function(C){(C.loop===1||C.loop%2===0)&&(C.reversed=c.reversed)})}function d(){c.direction="normal",c.reversed=!1,a.forEach(function(w){return w.reversed=!1})}function h(w){return c.reversed?c.duration-w:w}function f(){t=0,r=h(c.currentTime)*(1/Ia.speed)}function m(w,C,_=!1){C&&(c.reversed?C.seek(C.duration*C.loop-(w-C.timelineOffset-C.pingPongDelayCorrection),_):C.seek(w-C.timelineOffset-C.startOnceDelay-C.pingPongDelayCorrection,_))}function A(w,C=!1){if(c.reversed)for(var _=o;_--;)m(w,a[_],C);else for(var B=0;B<o;B++)m(w,a[B],C)}function g(w){var te,oe,le,be,ve,se,ye,Be,ge,ae;var C=0,_=c.animations,B=_.length;for(c.direction!=="alternate"&&((te=c.parent)==null?void 0:te.direction)==="alternate"?((oe=c.parent)==null?void 0:oe.rewind)===!1&&c.reversePlayback===!0&&c.rewind===!1&&((le=c.parent)!=null&&le.reversed&&c.direction==="alternate"?w=c.duration-c.delay+c.endDelay-w:w=c.duration+c.delay-c.endDelay-w):b(!1,(be=c.parent)==null?void 0:be.rewind,c.rewind,(ve=c.parent)==null?void 0:ve.reversePlayback,c.reversePlayback)&&((se=c.parent)!=null&&se.reversed&&c.direction==="alternate"?w=c.duration-c.delay+c.endDelay-w:w=c.duration+c.delay-c.endDelay-w);C<B;){var P=_[C],M=P.animatable,O=P.tweens,I=O.length-1,F=O[I];I&&(F=z3(O,function(Ie){return w<Ie.end})[0]||F);let Ne;(ye=c.parent)!=null&&ye.reversed&&c.direction==="alternate"?Ne=qu(w-F.start-F.endDelay,0,F.duration)/F.duration:Ne=qu(w-F.start-F.delay,0,F.duration)/F.duration;for(var V=isNaN(Ne)?1:F.easing(Ne),Y=F.to.strings,j=F.round,R=[],H=F.to.numbers.length,G=void 0,$=0;$<H;$++){var L=void 0;let Ie,Ee;c.direction!=="alternate"?((Be=c.parent)==null?void 0:Be.rewind)===!1&&c.reversePlayback===!0&&c.rewind===!1?(Ie=F.to.numbers[$],Ee=F.from.numbers[$]||0):(Ee=F.to.numbers[$],Ie=F.from.numbers[$]||0):b(!0,(ge=c.parent)==null?void 0:ge.rewind,c.rewind,(ae=c.parent)==null?void 0:ae.reversePlayback,c.reversePlayback)?(Ie=F.to.numbers[$],Ee=F.from.numbers[$]||0):(Ee=F.to.numbers[$],Ie=F.from.numbers[$]||0),F.isPath?L=met(F.value,V*Ee):L=Ie+V*(Ee-Ie),j&&(F.isColor&&$>2||(L=Math.round(L*j)/j)),R.push(L)}var K=Y.length;if(!K)G=R[0];else{G=Y[0];for(var X=0;X<K;X++){Y[X];var ee=Y[X+1],W=R[X];isNaN(W)||(ee?G+=W+ee:G+=W+" ")}}Kue[P.type](M.target,P.property,G,M.transforms),P.currentValue=G,C++}}function p(w){c[w]&&!c.passThrough&&c[w](c)}function v(){c.remaining&&c.remaining!==!0&&c.remaining--}let y={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function b(w,C,_,B,P){return y[w<<4|C<<3|_<<2|B<<1|P]}function x(w,C=!1){var O;var _=c.duration;let B=c.delay,P=_-c.endDelay;(O=c.parent)!=null&&O.reversed&&c.direction==="alternate"&&(B=c.endDelay,P=_-c.delay);var M=h(w);if(c.progress=qu(M/_*100,0,100),C||(c.reversePlayback=M<c.currentTime),o&&A(M,C),!c.began&&c.currentTime>=0&&(c.began=!0,p("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,p("loopBegin")),(c.reversed||M>=0)&&M<=B&&c.currentTime!==0&&(g(0),p("change")),(M>=P&&c.currentTime!==_+c.pingPongDelayCorrection||!_)&&(g(_),p("change")),M>B&&M<P?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,p("changeBegin")),g(M),p("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,p("change"),o&&p("timelineChangeComplete")):c.began&&M>P&&p("changeComplete"),c.currentTime=qu(M,0,_+c.pingPongDelayCorrection),c.began&&p("update"),w>=_)if(v(),!c.remaining)c.paused=!0,c.completed||(c.completed=!0,p("loopComplete"),p("complete"),!c.passThrough&&"Promise"in window&&(s(),l(c)));else{o?t+=c.duration/Ia.speed:t+=c.duration;for(let I of a)I.setStartTime(0),I.remaining=I.loop;p("loopComplete"),c.loopBegan=!1,c.direction==="alternate"?u():o&&d()}}return c.reset=function(){var w=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=w==="reverse",c.remaining=c.loop,a=c.children,o=a.length;for(var C=o;C--;)c.children[C].reset();g(c.reversed?c.duration:0)},c.setStartTime=function(w){t=w},c.set=function(w,C){return Xue(w,C),c},c.tick=function(w){i=w,t||(t=i),x((i+(r-t))*Ia.speed)},c.seek=function(w,C=!1){x(w-t,C)},c.pause=function(w){c.paused=!0,o&&(n=w??performance.now())},c.play=function(w){!c.paused||(c.completed&&c.reset(),c.paused=!1,au.push(c),o&&n!==void 0&&(t+=(w??performance.now())-n),G5||Bet())},c.reverse=function(){u(),c.completed=!c.reversed,f()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function QX(e,t){for(var r=t.length;r--;)I6(e,t[r].animatable.target)&&t.splice(r,1)}function Pet(e){for(var t=Gue(e),r=au.length;r--;){var i=au[r],n=i.animations,a=i.children;QX(t,n);for(var o=a.length;o--;){var s=a[o],l=s.animations;QX(t,l),!l.length&&!s.children.length&&a.splice(o,1)}!n.length&&!a.length&&i.pause()}}function Tet(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?D6(t.easing):null,n=t.grid,a=t.axis,o=t.from||0,s=o==="first",l=o==="center",c=o==="last",u=Vr.arr(e),d=parseFloat(u?e[0]:e),h=u?parseFloat(e[1]):0,f=Of(u?e[1]:e)||0,m=t.start||0+(u?d:0),A=[],g=0;return function(p,v,y){if(s&&(o=0),l&&(o=(y-1)/2),c&&(o=y-1),!A.length){for(var b=0;b<y;b++){if(!n)A.push(Math.abs(o-b));else{var x=l?(n[0]-1)/2:o%n[0],w=l?(n[1]-1)/2:Math.floor(o/n[0]),C=b%n[0],_=Math.floor(b/n[0]),B=x-C,P=w-_,M=Math.sqrt(B*B+P*P);a==="x"&&(M=-B),a==="y"&&(M=-P),A.push(M)}g=Math.max.apply(Math,A)}i&&(A=A.map(function(I){return i(I/g)*g})),r==="reverse"&&(A=A.map(function(I){return a?I<0?I*-1:-I:Math.abs(g-I)}))}var O=u?(h-d)/g:d;return m+O*(Math.round(A[v]*100)/100)+f}}function Oet(e){e===void 0&&(e={});var t=Ia(e);return t.duration=0,t.add=function(r,i){var n=au.indexOf(t),a=t.children;n>-1&&au.splice(n,1);function o(h){h.passThrough=!0}for(var s=0;s<a.length;s++)o(a[s]);var l=V3(r,oN(O6,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=Vr.und(i)?c:N6(i,c),o(t);var u=Ia(l);o(u),a.push(u),u.parent=t;var d=Yue(a,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,u.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}Ia.version="3.2.0";Ia.speed=1;Ia.running=au;Ia.remove=Pet;Ia.get=U6;Ia.set=Xue;Ia.convertPx=L6;Ia.path=get;Ia.setDashoffset=pet;Ia.stagger=Tet;Ia.timeline=Oet;Ia.easing=D6;Ia.penner=Nue;Ia.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var $ue=Ia,WX=new q,GX=new q,qX=new qr;function Det(e,t,r,i){if(i===0)return r.copy(e);if(i===1)return r.copy(t);let n=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(n>=1)return r.copy(e);let a=1-n*n;if(a<=Number.EPSILON){let u=1-i;return r.w=u*e.w+i*t.w,r.x=u*e.x+i*t.x,r.y=u*e.y+i*t.y,r.z=u*e.z+i*t.z,r.normalize(),r}let o=Math.sqrt(a),s=Math.atan2(o,n),l=Math.sin((1-i)*s)/o,c=Math.sin(i*s)/o;return r.w=e.w*l+t.w*c,r.x=e.x*l+t.x*c,r.y=e.y*l+t.y*c,r.z=e.z*l+t.z*c,r}function qo(e,t,r,i,n,a){let o=r[e]!==void 0?r[e]:void 0,s=i[e];if(s==null)return;let l=o!=null?typeof o=="string"?Number(n.getVariable(o)??0):o:t[e],c=typeof s=="string"?Number(n.getVariable(s)??0):s;if(l!==c)return{update:u=>{let d=fr.lerp(l,c,u);a?t[e]=Math.trunc(d):t[e]=d},start:()=>{t[e]=l},end:()=>{t[e]=c}}}function j6(e,t,r,i,n,a){let o=r[e]?r[e]:void 0,s=i[e];if(!s)return;let l=t[e],c=[...o??l].map(d=>typeof d=="string"?Number(n.getVariable(d)??0):d),u=[...s].map(d=>typeof d=="string"?Number(n.getVariable(d)??0):d);if(!(c.length!==u.length||kz(c,u)))return{update:d=>{c.forEach((h,f)=>{let m=fr.lerp(h,u[f],d);t[e][f]=a?Math.trunc(m):m})},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],u)}}}function YP(e,t,r){return t.forEach((i,n)=>{e.setComponent(n,typeof i=="string"?Number(r.getVariable(i)??0):i)}),e}function KX(e,t,r,i,n){let a=r[e]?r[e]:void 0,o=i[e];if(!o)return;let s=t[e],l=a?YP(new q,a,n):s.clone(),c=YP(new q,o,n);if(!l.equals(c))return{update:u=>{s.lerpVectors(l,c,u)},start:()=>{s.copy(l)},end:()=>{s.copy(c)}}}function XX(e,t,r){return t.forEach((i,n)=>{e.setComponent(n,typeof i=="string"?Number(r.getVariable(i)??0):i)}),e}function $P(e,t,r,i,n){let a=r[e]?r[e]:void 0,o=i[e];if(!o)return;let s=t[e],l=!(s instanceof ke),c=s instanceof ke?s:new ke().fromArray(s),u=a?XX(new ke,a,n):c.clone(),d=XX(new ke,o,n);if(!u.equals(d))return{update:h=>{c.lerpVectors(u,d,h),l&&(t[e]=c.toArray())},start:()=>{c.copy(u),l&&(t[e]=c.toArray())},end:()=>{c.copy(d),l&&(t[e]=c.toArray())}}}function Iet(e,t,r,i){let n=r[e]?r[e]:void 0,a=i[e];if(!a)return;let o=t[e],s=n?new kt().fromArray(n):o.clone(),l=new q,c=new qr,u=new q;s.decompose(l,c,u);let d=new kt().fromArray(a),h=new q,f=new qr,m=new q;if(d.decompose(h,f,m),!s.equals(d))return{update:A=>{qX.slerpQuaternions(c,f,A),WX.lerpVectors(l,h,A),GX.lerpVectors(u,m,A),o.compose(WX,qX,GX)},start:()=>{o.compose(l,c,u)},end:()=>{o.compose(h,f,m)}}}function Fet(e,t,r,i,n){let a=r[e]?r[e]:void 0,o=i[e];if(!o)return;let s=t[e],l=a?typeof a=="string"?n.getColor(a).clone():new Rr().setRGB(a.r,a.g,a.b):s.clone(),c=typeof o=="string"?n.getColor(o).clone():new Rr().setRGB(o.r,o.g,o.b);if(l.equals(c))return;let u=s.clone();return t[e]=u,{update:d=>{u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function DB(e,t,r,i,n){let a=r[e]?r[e]:void 0,o=i[e];if(!o)return;let s=t[e],l=new is(s.r,s.g,s.b,s.a),c=a?typeof a=="string"?n.getColor(a).clone():new is(a.r,a.g,a.b,a.a):l.clone(),u=typeof o=="string"?n.getColor(o).clone():new is(o.r,o.g,o.b,o.a);if(!c.equals(u))return{update:d=>{l.lerpColors(c,u,d);let h=fr.lerp(c.a,u.a,d);l.a=h,t[e]={r:l.r,g:l.g,b:l.b,a:l.a}},start:()=>{l.copy(c)},end:()=>{l.copy(u)}}}function fg(e,t,r,i,n){if(typeof t[e]=="number")return qo(e,t,r??{},i,n);if(Array.isArray(t[e]))return j6(e,t,r??{},i,n)}function Let(e,t,r,i){var s,l,c,u;let n=[],a=e.cameraType==="OrthographicCamera"?(s=t.orthographic)==null?void 0:s.zoom:(l=t.perspective)==null?void 0:l.zoom,o=e.cameraType==="OrthographicCamera"?(c=r.orthographic)==null?void 0:c.zoom:(u=r.perspective)==null?void 0:u.zoom;if(o!==void 0){let d=a??e.zoom,h=o;d!==h&&n.push({update:f=>{e.zoom=fr.lerp(d,h,f),e.updateProjectionMatrix()},start:()=>{e.zoom=d,e.updateProjectionMatrix()},end:()=>{e.zoom=h,e.updateProjectionMatrix()}})}if(r.targetOffset!==void 0){let d=qo("targetOffset",e,t,r,i);d&&n.push(d)}return n}function Ret(e,t,r,i){if(r.scaleBaked===void 0)return;let n=(t.scaleBaked??e.data.geometry.scaleBaked).map(s=>typeof s=="string"?Number(i.getVariable(s)??0):s),a=r.scaleBaked.map(s=>typeof s=="string"?Number(i.getVariable(s)??0):s);if(Km.isEqual(n,a))return;let o=[];return o.push({update:s=>{e.updateGeometryInteractions({scaleBaked:[fr.lerp(n[0],a[0],s),fr.lerp(n[1],a[1],s),fr.lerp(n[2],a[2],s)]},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},start:()=>{e.updateGeometryInteractions({scaleBaked:n},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},end:()=>{e.updateGeometryInteractions({scaleBaked:a},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()}}),o}function Uet(e,t,r,i){if(!r.extrusion)return;let n=e.extrusion,a=t.extrusion??{},o=r.extrusion,s=[];return Ile.forEach(l=>{let c=fg(l,n,a,o,i);c&&s.push(c)}),s}function Net(e,t,r,i){let n=[];if(!("geometry"in r))return n;let a=e.geometry.userData.parameters,o="geometry"in t?t.geometry:{},s=r.geometry;if(e instanceof RC){let l=Ret(e,o,s,i);l&&n.push(...l)}else{let l={};if(Object.assign(l,dh(a,U4),dh(o,U4)),U4.forEach(c=>{let u=fg(c,l,o,s,i);u&&n.push(u)}),e instanceof _6){Object.assign(l,{extrusion:{...a.extrusion}});let c=Uet(l,o,s,i);c&&n.push(...c)}n.length&&n.push({update:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},start:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},end:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()}})}return n}function ket(e,t,r,i){let n=[];if(r.intensity!==void 0){let a=qo("intensity",e,t,r,i);a&&n.push(a)}if(r.color!==void 0){let a=Fet("color",e,t,r,i);a&&n.push(a)}return n}function jet(e,t,r,i){let n=[];if(Array.isArray(e.material)){if(!("materials"in r&&r.materials))return n;let a="materials"in t&&t.materials?t.materials:[],o=r.materials;e.material.forEach((s,l)=>{if(!o[l])return;let c=a[l]??{},u=o[l];typeof c=="string"||typeof u=="string"||n.push(...YX(s,c,u,i))})}else{if(!("material"in r&&r.material))return n;let a="material"in t&&t.material?t.material:{},o=r.material;if(typeof a=="string"||typeof o=="string")return n;n.push(...YX(e.material,a,o,i))}return n}function YX(e,t,r,i){var o;let n=[],a=Fy(r,i)||!!t.layers&&Fy(t,i);n.push(Xet(e,a));for(let s of e.layers){let l=(o=t.layers)==null?void 0:o.data(s.uuid),c=r.layers.data(s.uuid);if(!c||s.type!=="light"&&(!(s.visible??!0)||!(c.visible??!0)))continue;let u=s.getNames().filter(d=>!Tle.some(h=>d.includes(h)));for(let d of u)try{let h=s.getValue(d),f;if(d==="colors")f=qet(s,l,c,d);else if(Array.isArray(h))d==="steps"&&(f=Get(s,l,c,d));else if(typeof h=="number")f=zet(s,l,c,d,i);else{if(typeof h=="boolean")continue;h instanceof ke?f=Het(s,l,c,d):h instanceof q?f=Vet(s,l,c,d,i):h instanceof is?f=Wet(s,l,c,d,i):h instanceof Rr?f=Qet(s,l,c,d,i):"isTexture"in h&&(f=Ket(s,l,c,d))}f&&(Array.isArray(f)?n.push(...f):n.push(f))}catch(h){console.error(`lerpMaterial: unexpected material layer for ${d}`,h)}}return n}function zet(e,t,r,i,n){if(!e.hasValue(i)||!(i in r))return;let a=t?t[i]:e.getValue(i),o=r[i],s=typeof a=="string"?Number(n.getVariable(a)??0):a,l=typeof o=="string"?Number(n.getVariable(o)??0):o;if(s!==l)return{update:c=>{e.setValue(i,fr.lerp(s,l,c))},start:()=>{e.setValue(i,s)},end:()=>{e.setValue(i,l)}}}function Het(e,t,r,i){if(!e.hasValue(i)||!(i in r))return;let n=e.getValue(i),a=t?new ke().fromArray(t[i]):n.clone(),o=new ke().fromArray(r[i]);if(!a.equals(o))return{update:s=>{n.lerpVectors(a,o,s)},start:()=>{n.copy(a)},end:()=>{n.copy(o)}}}function Vet(e,t,r,i,n){if(!e.hasValue(i)||!(i in r))return;let a=e.getValue(i),o=t?t[i]:void 0,s=r[i],l=o?YP(new q,o,n):a.clone(),c=YP(new q,s,n);if(!l.equals(c))return{update:u=>{a.lerpVectors(l,c,u)},start:()=>{a.copy(l)},end:()=>{a.copy(c)}}}function Qet(e,t,r,i,n){if(!e.hasValue(i)||!(i in r))return;let a=t?t[i]:void 0,o=r[i],s=e.getValue(i),l=a?typeof a=="string"?n.getColor(a).clone():new Rr().setRGB(a.r,a.g,a.b):s.clone(),c=typeof o=="string"?n.getColor(o).clone():new Rr().setRGB(o.r,o.g,o.b);if(l.equals(c))return;let u=s.clone();return{update:d=>{e.getValue(i)!==u&&e.setValue(i,u),u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function Wet(e,t,r,i,n){if(!e.hasValue(i)||!(i in r))return;let a=t?t[i]:void 0,o=r[i],s=e.getValue(i),l=a?typeof a=="string"?n.getColor(a).clone():new Rr().setRGB(a.r,a.g,a.b):s.clone(),c=typeof o=="string"?n.getColor(o).clone():new is(o.r,o.g,o.b,o.a);if(l.equals(c))return;let u=s.clone();return{update:d=>{e.getValue(i)!==u&&e.setValue(i,u),u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function Get(e,t,r,i="steps"){if(!e.hasValue(i)||!(i in r))return;let n=[],a=e.getValue(i),o=t?t[i]:a,s=r[i];return kz(o,s)||n.push({update:l=>{let c=[...a];for(let u=0;u<a.length;++u){let d=o[u],h=s[u];c[u]=fr.lerp(d,h,l)}e.setValue(i,c)},start:()=>{e.setValue(i,o)},end:()=>{e.setValue(i,s)}}),n.length?n:void 0}function qet(e,t,r,i="colors"){if(!e.hasValue(i)||!(i in r))return;let n=[],a=e.getValue(i),o=t?t[i]:a.map(l=>l.toArray()),s=r[i];for(let l=0;l<a.length;++l){let c=[...o[l]],u=[...s[l]];_P.isEqual(c,u)||n.push({update:d=>{a[l].fromArray(_P.lerp(c,u,d))},start:()=>{a[l].fromArray(c)},end:()=>{a[l].fromArray(u)}})}return n.length?n:void 0}function Ket(e,t,r,i="texture"){var g,p;if(!e.hasValue(i)||!(i in r))return;let n=e.getNode("rotation"),a=((g=t==null?void 0:t[i])==null?void 0:g.rotation)??0,o=((p=r[i])==null?void 0:p.rotation)??0;if(n&&a!==o)return{update:v=>{n.value=fr.lerp(a,o,v)*fr.DEG2RAD},start:()=>{n.value=a*fr.DEG2RAD},end:()=>{n.value=o*fr.DEG2RAD}};let s=e.getNode("mat");if(!s)return;let l=t?t[i]:s,c=r[i],u=[...l.repeat],d=[...l.offset],h=[...c.repeat],f=[...c.offset],m=l.rotation??0,A=c.rotation??0;if(!Cf.isEqual(u,h)||!Cf.isEqual(d,f)||m!==A)return{update:v=>{s.repeat=Cf.lerp(u,h,v),s.offset=Cf.lerp(d,f,v),s.rotation=fr.lerp(m,A,v),s.updateMatrix()},start:()=>{s.repeat=[...u],s.offset=[...d],s.rotation=m,s.updateMatrix()},end:()=>{s.repeat=[...h],s.offset=[...f],s.rotation=A,s.updateMatrix()}}}function Xet(e,t){return{update:()=>{e.transparent=t}}}var II=new q,$X=new lo;function Yet(e,t,r,i,n){var m,A,g,p,v,y;let a=[],o,s,l,c,u,d,h,f;if(e instanceof Ro?(o=$P("position",e,t,r,n),o&&a.push(o),l=qo("rotation",e,t,r,n),l&&a.push(l),c=$P("shear",e,t,r,n),c&&a.push(c)):(f={slide:((m=t.pathSnapping)==null?void 0:m.slide)??((A=e.updatedPathSnapping)==null?void 0:A.slide)??((g=e.dataPatched.pathSnapping)==null?void 0:g.slide)??0,offset:((p=t.pathSnapping)==null?void 0:p.offset)??((v=e.updatedPathSnapping)==null?void 0:v.offset)??((y=e.dataPatched.pathSnapping)==null?void 0:y.offset)??0},d=qo("slide",f,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,n),d&&a.push(d),h=qo("offset",f,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,n),h&&a.push(h),!d&&!h&&(o=KX("position",e,t,r,n),o&&a.push(o),s=KX("scale",e,t,r,n),s&&a.push(s),l=$et(e,t,r,i,n),l&&a.push(l),u=Iet("hiddenMatrix",e,t,r),u&&a.push(u))),o||s||l||u||d||h){let b=e instanceof Ro?()=>{e.updateWorldMatrix(!0)}:()=>{var x;e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),(x=e.parent)!=null&&x.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),ju(e)&&_f(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,f))};a.push({update:b,start:b,end:b})}return a}function $et(e,t,r,i,n){var u;let a=t!=null&&t.rotation?t.rotation.map(d=>(typeof d=="string"?Number(n.getVariable(d)??0):d)*fr.DEG2RAD):void 0,o=(u=r.rotation)==null?void 0:u.map(d=>(typeof d=="string"?Number(n.getVariable(d)??0):d)*fr.DEG2RAD);if(!o)return;let s=a?new q().fromArray(a):new q().setFromEuler(e.rotation),l=new q().fromArray(o);if(s.equals(l))return;let c=II.subVectors(l,s);if(i&&c.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=new qr().setFromEuler($X.setFromVector3(s)),h=new qr().setFromEuler($X.setFromVector3(l));return{update:f=>{Det(d,h,e.quaternion,f)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}else return{update:d=>{II.lerpVectors(s,l,d),e.rotation.setFromVector3(II)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}function Jet(e,t,r,i){let n=[];if(!("cloner"in r)||!e.cloner)return n;let a=e.cloner,o="cloner"in t?t.cloner:{},s=r.cloner;_le.forEach(f=>{let m;f==="count"?m=qo("count",a.parameters,o,s,i,!0):m=fg(f,a.parameters,o??{},s,i),m&&n.push(m)});let l=Zet(a,o,s,i);l!=null&&l.length&&n.push(...l);let c=ett(a,o,s,i);c!=null&&c.length&&n.push(...c);let u=ttt(a,o,s,i);u!=null&&u.length&&n.push(...u);let d=rtt(a,o,s,i);d!=null&&d.length&&n.push(...d);let h=itt(a,o,s,i);return h!=null&&h.length&&n.push(...h),n.length&&n.push({update:()=>{a.update()}}),n}function Zet(e,t,r,i){if(e.parameters.type!=="radial")return;let n=t.radial,a=r.radial;if(!a)return;let o=e.parameters.radial,s=[];return Sle.forEach(l=>{let c=fg(l,o,n??{},a,i);c&&s.push(c)}),s}function ett(e,t,r,i){if(e.parameters.type!=="linear")return;let n=t.linear,a=r.linear;if(!a)return;let o=[],s=e.parameters.linear;return Ele.forEach(l=>{let c=fg(l,s,n??{},a,i);c&&o.push(c)}),o}function ttt(e,t,r,i){if(e.parameters.type!=="grid")return;let n=t.grid,a=r.grid;if(!a)return;let o=[],s=e.parameters.grid;return Ble.forEach(l=>{let c;l==="count"?c=j6(l,s,n??{},a,i,!0):c=fg(l,s,n??{},a,i),c&&o.push(c)}),o}function rtt(e,t,r,i){if(e.parameters.type!=="toObject")return;let n=t.toObject,a=r.toObject;if(!a)return;let o=[],s=e.parameters.toObject;return Mle.forEach(l=>{let c;l==="count"?c=qo(l,s,n??{},a,i,!0):c=fg(l,s,n??{},a,i),c&&o.push(c)}),o}function itt(e,t,r,i){if(!e.parameters.randomness)return;let n=t.randomnessObject,a=r.randomnessObject;if(!a)return;let o=[],s=e.parameters.randomnessObject;return Ple.forEach(l=>{let c=fg(l,s,n??{},a,i);c&&o.push(c)}),o}function ntt(e,t){return{update:()=>{e instanceof Mo&&(e.fill.enabled=t)}}}function att(e,t){return{update:()=>{e instanceof Mo&&(e.stroke.enabled=t)}}}function ott(e,t){return{update:()=>{e instanceof Mo&&(e.dropShadow.enabled=t)}}}function stt(e,t){return{update:()=>{e instanceof Mo&&(e.innerShadow.enabled=t)}}}function ltt(e,t){return{update:()=>{e instanceof Mo&&(e.backgroundBlur.enabled=t)}}}function ctt(e,t){return{update:()=>{e instanceof Mo&&(e.layerBlur.enabled=t)}}}function utt(e,t,r,i,n){let a=[],o,s,l,c,u,d,h,f,m,A,g,p,v,y,b;if("width"in e&&(o=qo("width",e,t,r,n),o&&a.push(o)),"height"in e&&(s=qo("height",e,t,r,n),s&&a.push(s)),e instanceof Mo||e instanceof fh){let x={...t.fill},w={...r.fill};x.enabled!==void 0&&x.enabled!==w.enabled&&(a.push(ntt(e,!0)),x.enabled||Object.assign(x,{enabled:!0,color:{...x.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),l=DB("color",e.fill,x,w,n),l&&a.push(l)}if(e instanceof Mo){let x={...t.stroke},w={...r.stroke};(x.enabled||w.enabled)&&(a.push(att(e,!0)),x.enabled||Object.assign(x,{enabled:!0,color:{...x.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),c=DB("color",e.stroke,x,w,n),c&&a.push(c),u=qo("thickness",e.stroke,x,w,n),u&&a.push(u)}if(e instanceof Mo){let x={...t.dropShadow},w={...r.dropShadow};(x.enabled||w.enabled)&&(a.push(ott(e,!0)),x.enabled||Object.assign(x,{enabled:!0,color:{...x.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),d=DB("color",e.dropShadow,x,w,n),d&&a.push(d),h=qo("blurRadius",e.dropShadow,x,w,n),h&&a.push(h),m=qo("spread",e.dropShadow,x,w,n),m&&a.push(m),f=$P("offset",e.dropShadow,x,w,n),f&&a.push(f)}if(e instanceof Mo){let x={...t.innerShadow},w={...r.innerShadow};(x.enabled||w.enabled)&&(a.push(stt(e,!0)),x.enabled||Object.assign(x,{enabled:!0,color:{...x.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),A=DB("color",e.innerShadow,x,w,n),A&&a.push(A),g=qo("blurRadius",e.innerShadow,x,w,n),g&&a.push(g),v=qo("spread",e.innerShadow,x,w,n),v&&a.push(v),p=$P("offset",e.innerShadow,x,w,n),p&&a.push(p)}if(e instanceof Mo||e instanceof fh){let x={...t.backgroundBlur},w={...r.backgroundBlur};(x.enabled||w.enabled)&&(a.push(ltt(e,!0)),x.enabled||Object.assign(x,{enabled:!0,radius:0}),w.enabled||Object.assign(w,{enabled:!0,radius:0})),y=qo("radius",e.backgroundBlur,x,w,n),y&&a.push(y)}if(e instanceof Mo){let x={...t.layerBlur},w={...r.layerBlur};(x.enabled||w.enabled)&&(a.push(ctt(e,!0)),x.enabled||Object.assign(x,{enabled:!0,radius:0}),w.enabled||Object.assign(w,{enabled:!0,radius:0})),b=qo("radius",e.layerBlur,x,w,n),b&&a.push(b)}if(e instanceof fh||e instanceof M_){let x=j6("cornerRadius",e,t,r,n);x&&a.push(x)}return a}function JX(e,t,r,i,n){let a=[];return e.data.visible&&a.push(...Yet(e,t,r,n,i)),e instanceof Ro?a.push(...utt(e,t,r,n,i)):(e.data.visible&&a.push(...Jet(e,t,r,i)),ju(e)?(e instanceof Ts&&e.data.visible&&a.push(...Net(e,t,r,i)),e.data.visible&&a.push(...jet(e,t,r,i))):eYe(e)?e.data.visible&&a.push(...ket(e,t,r,i)):ZXe(e)&&a.push(...Let(e,t,r,i))),a.length?{update:o=>{a.forEach(s=>s.update(o))},start:o=>{a.forEach(s=>{var l;return(l=s.start)==null?void 0:l.call(s,o)})},end:o=>{a.forEach(s=>{var l;return(l=s.end)==null?void 0:l.call(s,o)})}}:void 0}var ZX=new q;function z6(e,t,r=!1){var a;let i=[],n=o=>{let s=o.data;delete o.states,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let l of s.states){let c={...l.data};o.states||(o.states={}),o.states[l.id]=Dm.patch(s,c)}tY(e.scene,o,null,t,s.events.find(l=>l.data.type==="Follow"||l.data.type==="LookAt")!==void 0),eY(e)};e.scene.traverse2D(n),e.traverseChildren(o=>{var u,d,h,f,m,A;if(r&&((u=o.rigidBody)==null||u.setTranslation(o.position0,!0),(d=o.rigidBody)==null||d.setRotation(o.rotation0,!0),(h=o.rigidBody)==null||h.setLinvel(ZX,!0),(f=o.rigidBody)==null||f.setAngvel(ZX,!0)),!Oi.is(o))return;let s=o.uuid,l=o.data;if(delete o.states,o.uuid===C1)return;let c=!1;i.some(g=>{var p;return(p=e.scene.find(s))==null?void 0:p.isDescendantOf(g)})?c=!0:((m=l.physics)==null?void 0:m.fusedBody)===!0&&l.physics.rigidBody==="dynamic"&&i.push(s),o.data=l,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let g of l.states){let p={...g.data};e.data.globalPhysics.usePhysics===!0&&l.physics&&(l.physics.rigidBody==="dynamic"||c)&&(g.data.position!==void 0&&delete p.position,g.data.rotation!==void 0&&delete p.rotation,g.data.hiddenMatrix!==void 0&&delete p.hiddenMatrix),o.states||(o.states={}),o.states[g.id]=Pm.patch(l,p)}tY(e.scene,o,null,t,l.events.find(g=>g.data.type==="Follow"||g.data.type==="LookAt")!==void 0),eY(e),o instanceof Es&&o.frame&&(o.frame.traverse(g=>n(g)),(A=o.uiCanvas)==null||A.applySize())}),e.frame&&(e.frame.traverse(o=>n(o)),(a=e.uiCanvas)==null||a.applySize())}function eY(e){e.traverseEntity(t=>{for(let r of t.data.events){let i=[];switch(r.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":i.push(...r.data.actions);break;case"GameControl":for(let n of Object.values(r.data.gameActions))i.push(...n);break;case"DragDrop":i.push(...r.data.dragDropActions.drag,...r.data.dragDropActions.drop);break;case"Conditional":i.push(...r.data.inActions,...r.data.outActions);break}for(let n of i)if(n.data.type==="Create"&&n.data.hideBase==="Yes"){let a=e.scene.find(n.data.object);a&&(a.visible=!1)}}})}function tY(e,t,r,i,n=!1){if(t instanceof Ts&&t.removeInteractionGeometry(i),t instanceof Ro?t.changeSelectedState(r,{shared:i},n):t.changeSelectedState(r,{scene:e,shared:i},n),t instanceof Ts&&t.updateGeometryGroupsIfNeeded(),t instanceof Os&&t.updateCameraState(t.dataPatched,{scene:e,shared:i}),!(t instanceof Ro)){if(t.cloner)for(let a of t.cloner.children)a.playModeVisible=void 0;t.updateVisible()}}function Jue(e){let t;if(e.easing===5){let{control1:r,control2:i}=e;t=`cubicBezier(
			${r[0]}, ${r[1]}, ${i[0]}, ${i[1]}
		)`}else if(e.easing===6){let{mass:r,stiffness:i,damping:n,velocity:a}=e;t=`spring( ${r}, ${i}, ${n}, ${a} )`}else{let r;switch(e.easing){case 0:r=tA.linear;break;case 1:r=tA.ease;break;case 2:r=tA.easeIn;break;case 3:r=tA.easeOut;break;case 4:r=tA.easeInOut;break;default:r=tA.linear}let[i,n,a,o]=r;t=`cubicBezier( ${i}, ${n}, ${a}, ${o} )`}return{duration:Math.max(e.duration,1e-4),easing:t}}function lN(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var dtt={type:"beginState"},htt={type:"completeState",isfromEntity:!1},rY=class{constructor(e,t,r,i,n,a){if(this.object=e,this.data=i,this.sharedAssets=n,this.allowSlerp=a,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let o=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=o,this.object.dispatchEvent({type:"beginState",state:o}),this.object instanceof Ro||this.object.traverseEntity(s=>{s!==this.object&&s instanceof Os&&s.dispatchEvent(dtt)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let o=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=o,this.object.dispatchEvent({type:"completeState",state:o}),this.object instanceof Ro||this.object.traverseEntity(s=>{s!==this.object&&s instanceof Os&&s.dispatchEvent(htt)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=JX(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let o=q5(this.object,this.object.currentState===r?this.object.prevState:this.object.currentState);if(!o)throw new Error("Missing property");this.from=o}else{let o=q5(this.object,t);if(!o)throw new Error("Missing property");this.from=o}if(r===void 0)throw new Error("Missing property");{let o=q5(this.object,r);if(!o)throw new Error("Missing property");this.to=o}this.useCurrentState=t===void 0||r===void 0,this.params={targets:this.targets,t:1,autoplay:!1,...lN(i),...Jue(i),change:this.onChange},this.callback=JX(this.object,t===void 0?{}:this.from.data,r===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},Zue=class extends as{constructor(e,t,r,i,n){var o;if(super(),this.eventType=e,this.data=t,this.page=r,this.shared=i,this.condition=n,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.hasPlayedOnce=!1,this.onTimelineChangeComplete=()=>{var s;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((s=this.timeline)==null||s.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!t.object)throw new Error("Missing property");let a=this.page.scene.find(t.object)??((o=this.page.uiCanvas)==null?void 0:o.find(t.object))??this.page.scene.find2DInUIObjects(t.object);if(!a)throw new Error("Missing property");if(!a.states)throw new Error("Missing property");if(this.object=a,t.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=t.tweens[0].data.delayDirection==="start-once"?t.tweens[0].data.delay:0,this.init()}get playing(){var e;return((e=this.timeline)==null?void 0:e.paused)===!1}get changeBegan(){return this.tweens.some(e=>e.changeBegan)??!1}init(){this.initialCurrentState=q5(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.data.runMode==="Toggle"&&nq(this.eventType)?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:r=!1}={}){var i,n,a,o;try{let s=lN(this.data.tweens[0].data);r&&typeof s.loop=="number"&&s.loop--,(i=this.timeline)==null||i.pause(),this.timeline=$ue.timeline({autoplay:!1,...s,...s.loop===!0||s.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let l=this.tweens.findIndex(c=>c==null?void 0:c.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let c=l===-1?0:l;for(let u=c;u<this.data.tweens.length-1;u++){let d=this.data.tweens[u],h=this.data.tweens[u+1],f;u===c&&(this.object.wasMovedByUser===!0||((n=this.object.previousAction)==null?void 0:n.changeBegan)===!0)?(f=void 0,this.object instanceof Os&&(this.object.wasMovedByUser=!1)):f=d.data.state===void 0?this.currentState:d.data.state;let m=new rY(this.object,f,h.data.state===void 0?this.currentState:h.data.state,h.data,this.shared,this.data.allowSlerp??!1);l!==-1&&u===c&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u]=m,this.timeline.add(m.params,this.timeline.duration+(u===c?s.delay:0))}this.timeline.duration+=s.endDelay}else{let c=l===-1?this.data.tweens.length-1:l+1;for(let u=c;u>0;u--){let d=this.data.tweens[u],h=this.data.tweens[u-1],f;u===c&&(this.object.wasMovedByUser===!0||((a=this.object.previousAction)==null?void 0:a.changeBegan)===!0)?(f=void 0,this.object instanceof Os&&(this.object.wasMovedByUser=!1)):f=d.data.state===void 0?this.currentState:d.data.state;let m=new rY(this.object,f,h.data.state===void 0?this.currentState:h.data.state,d.data,this.shared,this.data.allowSlerp??!1);l!==-1&&u===c&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u-1]=m,this.timeline.add(m.params,this.timeline.duration+(u===c?s.endDelay:0))}this.timeline.duration+=s.delay}}catch(s){s instanceof Error&&console.error(s.message)}((o=this.object.previousAction)==null?void 0:o.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(Ln(this.shared,this.condition)===!1||nq(this.eventType)&&this.data.runMode==="Once"&&this.hasPlayedOnce||(this.hasPlayedOnce=!0,this.playing))return!1;clearTimeout(this.timeoutId);let e=lN(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){var e;(e=this.timeline)==null||e.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object instanceof Ro?this.object.changeSelectedState(e,{shared:this.shared}):this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){var t;if(Ln(this.shared,this.condition)===!1)return!1;this.timeline===void 0&&this.buildTimeline(),(t=this.timeline)==null||t.seek(e*this.timeline.duration,!0)}toggle(e){var t;if(Ln(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?((t=this.timeline)==null||t.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var r;(r=this.timeline)==null||r.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function q5(e,t){var n;let r,i;if(typeof t=="string"?(r=t,i=(n=e.states)==null?void 0:n[r]):t===null&&(r=null,i=e.data),!(r===void 0||i===void 0))return{id:r,data:i}}var ftt={type:"beginState"},iY={type:"completeState",isfromEntity:!1},nY={type:"requestRender"},ede=class extends as{constructor(e,t,r,i){super(),this.data=e,this.page=t,this.shared=r,this.condition=i,this.toggleIsForward=!1,this.posStart=new q,this.posEnd=new q,this.qStart=new qr,this.qEnd=new qr,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let r={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=$ue({targets:r,t:1,...Jue(this.data),update:()=>{r.t===0&&(this.data.runMode==="Toggle"&&!this.toggleIsForward?this.fromCamera&&(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(ftt));let i=this.page.activeCamera;i.position.lerpVectors(this.posStart,this.posEnd,r.t),i.quaternion.slerpQuaternions(this.qStart,this.qEnd,r.t),i.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*r.t,i.wasMovedBySwitchCameraAction=!0,i.updateMatrix(),i.updateMatrixWorld(),i.updateProjectionMatrix(),i.dispatchEvent(nY),r.t===1&&i.dispatchEvent(iY)}})}switchCamera(e){let t=this.page.activeCamera,r=this.page.scene.find(e);if(!r||!r.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(r),t.dispatchEvent({type:"cameraChange",camera:r})}play(){if(Ln(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var e;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(e=this.animation)==null||e.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){var e;(e=this.animation)==null||e.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){var t,r;if(Ln(this.shared,this.condition)===!1)return!1;if(window.clearTimeout(this.timeoutId),delete this.timeoutId,e!==this.toggleIsForward)try{this.playing?((t=this.animation)==null||t.pause(),this.toggleIsForward=e??!this.toggleIsForward,this.buildAnimation(!0),(r=this.animation)==null||r.play()):this.timeoutId=window.setTimeout(()=>{var i,n;this.toggleIsForward=e??!this.toggleIsForward,this.data.animate?((i=this.animation)==null||i.pause(),this.buildAnimation(),(n=this.animation)==null||n.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.fromCamera&&this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(iY),this.page.activeCamera.dispatchEvent(nY))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}};function tde(e){let t=e==null?void 0:e.tracks.filter(r=>r.ValueTypeName==="vector"||r.ValueTypeName==="quaternion").map(r=>r.times.length);if(t!=null&&t.length){let r=d7e(t);return r&&r>2?r:2}return 2}var rde=class extends as{constructor(e,t,r,i,n){var l,c,u;super(),this.data=e,this.page=t,this.animationControls=r,this.shared=i,this.condition=n,this.startOnceDelay=0,this.toggleIsForward=!1;let a=e.object,o=t.scene.find(e.object);o&&Array.isArray(o.identity)&&(a=o.identity[0]),this.data={...e,object:a};let s=this.animationControls.clipIdToAction[e.clipId+"/"+a];if(this.duration=((l=s==null?void 0:s.getClip())==null?void 0:l.duration)??1,this.data.crop2){let d=tde(s==null?void 0:s.getClip());this.leftFrameTime=this.data.crop2[0]/(d-1)*this.duration,this.rightFrameTime=this.data.crop2[1]/(d-1)*this.duration}else{let d=(u=(c=s==null?void 0:s.getClip())==null?void 0:c.tracks[0])==null?void 0:u.times.length;d&&d>1?(this.leftFrameTime=this.data.crop[0]/d*this.duration,this.rightFrameTime=this.data.crop[1]/d*this.duration):(this.leftFrameTime=0,this.rightFrameTime=this.duration)}this.startOnceDelay=e.delay}get playing(){var e;return((e=this.threeAnimAction)==null?void 0:e.isRunning())??!1}play(e=!1){if(Ln(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([i,n])=>{let a=i.split("/")[1];this.threeAnimAction!==n&&a===t&&n.isRunning()&&(e?n.fadeOut(.2):n.stop())}),e&&((r=this.threeAnimAction)==null||r.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var e;(e=this.threeAnimAction)==null||e.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=fr.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(Ln(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let i=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([n,a])=>{let o=n.split("/")[1];this.threeAnimAction!==a&&o===i&&a.isRunning()&&(t?a.fadeOut(.2):a.stop())}),t&&((r=this.threeAnimAction)==null||r.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var t;let e=(t=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:t.getClip();e&&(e.duration=this.duration),this.pause()}},ide=class{constructor(e,t,r,i,n){this.data=e,this.page=t,this.eventManager=r,this.shared=i,this.condition=n,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(Ln(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity(t=>{t.type==="ParticleSystem"&&(t.sleep(),t.wakeUp(),t.data.autoPlay?t.start():t.stop())}),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),z6(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},nde=class{constructor(e,t,r,i){this.data=e,this.page=t,this.shared=r,this.condition=i,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=Ln(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=sce(this.data.expression,this.shared,es.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},ade=class{constructor(e,t,r,i){this.data=e,this.page=t,this.shared=r,this.condition=i,this.timeoutId=null}dispatchInner(){if(Ln(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},ptt=class{constructor(e,t,r,i){this.data=e,this.page=t,this.shared=r,this.condition=i}dispatch(){if(Ln(this.shared,this.condition)===!1)return!1;(this.data.target==="single"?this.data.variableId?[this.data.variableId]:[]:Object.keys(this.shared.getVariables())).forEach(e=>{var r;this.shared.getVariable(e);let t=(r=this.shared.data.variables.data(e))==null?void 0:r.value;t!==void 0&&this.shared.updateVariable(e,t),this.shared.enableLocalStorageForPersistentVariables&&localStorage.removeItem(jU(e))})}dispose(){}},Att=class{constructor(e,t,r,i){this.data=e,this.page=t,this.shared=r,this.condition=i}dispatch(){var e;if(Ln(this.shared,this.condition)===!1)return!1;this.data.userAPIId&&((e=this.shared.getUserAPI(this.data.userAPIId))==null||e.callUserAPI(this.shared))}dispose(){}};function Ln(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let r=sce(t.expression,e,"boolean");return t.negate?!r:!!r}function No(e,t,r,i,n,a){let o={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[],ClearLocalStorage:[],UserAPI:[]},s=l=>({id:c,data:u})=>{try{u.type==="Audio"?ys[e.type].includes("Audio")&&o.Audio.push(new Oue(c,u,a,i,l)):u.type==="Video"&&!(a instanceof Ro)?ys[e.type].includes("Video")&&o.Video.push(new sde(c,u,a,i,l)):u.type==="Particles"?ys[e.type].includes("Particles")&&o.Particles.push(new Due(u,r,i,l)):u.type==="Link"?ys[e.type].includes("Link")&&o.Link.push(new ZZe(u,n.controlsManager,i,l)):u.type==="Create"?ys[e.type].includes("Create")&&o.Create.push(new lde(u,r,n.controlsManager,i,l)):u.type==="Destroy"?ys[e.type].includes("Destroy")&&o.Destroy.push(new Iue(u,r,n.controlsManager,i,l)):u.type==="Reset"?ys[e.type].includes("Reset")&&o.Reset.push(new Fue(u,r,i,n,l)):u.type==="Transition"?ys[e.type].includes("Transition")&&o.Transition.push(new Zue(e.type,u,r,i,l)):u.type==="SwitchCamera"?ys[e.type].includes("SwitchCamera")&&o.SwitchCamera.push(new ede(u,r,i,l)):u.type==="SceneTransition"?ys[e.type].includes("SceneTransition")&&o.SceneTransition.push(new ide(u,r,n,i,l)):u.type==="Animation"?ys[e.type].includes("Animation")&&o.Animation.push(new rde(u,r,n.animationControls,i,l)):u.type==="SetVariable"?ys[e.type].includes("SetVariable")&&o.SetVariable.push(new nde(u,r,i,l)):u.type==="DynamicVariablePlay"?ys[e.type].includes("DynamicVariablePlay")&&o.DynamicVariablePlay.push(new ade(u,r,i,l)):u.type==="Conditional"?ys[e.type].includes("Conditional")&&(u.ifActions.forEach(s({expression:u.condition,negate:!1})),u.elseActions.forEach(s({expression:u.condition,negate:!0}))):u.type==="ClearLocalStorage"?ys[e.type].includes("ClearLocalStorage")&&o.ClearLocalStorage.push(new ptt(u,r,i,l)):u.type==="UserAPI"&&ys[e.type].includes("UserAPI")&&o.UserAPI.push(new Att(u,r,i,l))}catch{}};return t.forEach(s()),o}function Fo(e){Object.values(e).forEach(t=>{t.forEach(r=>{(r instanceof Oue||r instanceof sde||r instanceof Due||r instanceof rde||r instanceof Zue||r instanceof lde||r instanceof Iue||r instanceof ede||r instanceof ide||r instanceof Fue||r instanceof nde||r instanceof ade)&&r.dispose()})})}function gtt(e,t){let r;if("material"in e){let i=e.material;Array.isArray(i)?r=e.material[0].layers.find(n=>n.uuid===t):r=e.material.layers.find(n=>n.uuid===t)}if(r)return r.color.texture.image.img instanceof HTMLVideoElement?r.color.texture.image.img:void 0}var ode=new Map,S2=new Map,db=class{constructor(e,t,r){this.data=t,this.delay=0,this.status="stopped";let{layerId:i,loop:n,volume:a,delay:o}=t;if(this.object=r,i===void 0)throw new Error("Missing property");let s=gtt(r,i);s&&(this.videoElement=s,this.videoElement.loop=n===1/0,w_&&(this.videoElement.autoplay=!0),a!==void 0&&(this.videoElement.volume=a)),o!==void 0&&(this.delay=o),S2.has(r.uuid)?S2.get(r.uuid).push(this):S2.set(r.uuid,[this]),ode.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let r=this.videoElement.play();r!==void 0&&r.then(i=>{}).catch(i=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},cN=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=ode.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=S2.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r[this.data.interaction]()))}pauseAllVideos(){let e=[...S2.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},sde=class{constructor(e,t,r,i,n){if(this.data=t,this.shared=i,this.condition=n,t.interaction==="play")this.interaction=new db(e,t,r);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new cN(t);else throw new Error("Missing property")}dispatchBasic(){if(Ln(this.shared,this.condition)===!1)return!1;this.interaction instanceof db?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Ln(this.shared,this.condition)===!1)return!1;this.interaction instanceof db?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},aY=(()=>{let e,t,r,i;function n(s){!e&&!oY()&&(t==null?void 0:t.sharedGameControlGlobals.createdObjects.length)>0&&(e=requestAnimationFrame(a)),s&&(t=s,i=s.requestRender)}function a(s){let l=r?s-r:0,c=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,d=c.length,h=0;for(;h<d;){let f=c[h];f.userData.createdTime===void 0&&(f.userData.createdTime=s),f.userData.lifetime===void 0&&f.userData.quantity===void 0||f.userData.lifetime&&s-f.userData.createdTime<f.userData.lifetime||f.userData.quantity&&u[f.userData.actionId]<=f.userData.quantity?(f.userData.velocity&&(f.position.addScaledVector(f.userData.velocity,l/1e3),f.updateMatrix(),i()),h++):(u[f.userData.actionId]>f.userData.quantity&&u[f.userData.actionId]--,c.splice(h,1),f.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&f.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(f.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(f.rigidBody)):(f.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(m=>m.bvhGeometry!==void 0)),d--,i())}e=h>0?requestAnimationFrame(a):void 0,r=h>0?s:void 0}function o(){oY()?e&&(cancelAnimationFrame(e),e=void 0,r=void 0):n()}return typeof document<"u"&&document.addEventListener("visibilitychange",o),n})();function oY(){return!!document&&document.hidden}var sY=new qr,mtt=new q,vtt=new q,lde=class{constructor(e,t,r,i,n){this.data=e,this.page=t,this.controlsManager=r,this.shared=i,this.condition=n,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=fr.generateUUID(),this.dispatch=()=>{if(Ln(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(Ln(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=P7e(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let o=new Ps(this.object);if(o.playModeVisible=!0,o.expand(),this.data.coordinateSystem!=="world"){let l=this.data.coordinateSystem,c=this.page.scene.find(l);c&&(c.updateMatrixWorldSVD(),o.hiddenMatrix.copy(c.matrixWorldRigid))}o.scale.copy(this.object.scale),o.position.fromArray(this.data.position),o.rotation.fromArray(this.data.rotation),o.updateMatrix(),this.page.add(o);let s=this.controlsManager.sharedGameControlGlobals;s.createdObjects.push(o),s.nCreatedPerAction[this.uniqueId]===void 0?s.nCreatedPerAction[this.uniqueId]=1:s.nCreatedPerAction[this.uniqueId]++,o.updateWorldMatrix(!0,!0),o.traverseObject(this.traverseObjectCB),aY(),this.controlsManager.requestRender()},this.traverseObjectCB=o=>{var u,d,h,f;o.hasNonUniformScale&&o.updateMatrixWorldSVD();let s;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(o instanceof Gu)if(o.objectForSample){if(o.objectForSample.dataPatched.physics.fusedBody)return;s=o.object}else return o.object.dataPatched.physics.fusedBody===!0&&o.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(o instanceof Ps)s=o.object;else if(s=o,(u=s.dataPatched.cloner)==null?void 0:u.hideBase)return!0}else{if(o instanceof Gu)return;o instanceof Ps?s=o.object:s=o}this.data.destroy==="Time"?o.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(o.userData.quantity=this.data.destroyAfterQuantity,o.userData.actionId=this.uniqueId);let l=new q().fromArray(this.data.velocity),c=s.dataPatched;if(!(c.physics.enabled==="visibility"?!c.visible:!c.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(o,s,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((d=o.rigidBody)==null||d.collider(0).setActiveEvents(1),o.userData.hasCollisionDestroy=!0),o.matrixWorld.decompose(mtt,sY,vtt),l.applyQuaternion(sY),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&((h=o.rigidBody)==null||h.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in o.object&&this.controlsManager.addBoundsTree(o),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&(o.userData.velocity=l)),((f=s.dataPatched.physics)==null?void 0:f.fusedBody)===!0))return!0};let a=this.page.scene.find(this.data.object);if(!a)throw new Error("Missing Property");if(this.object=a,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");aY(r)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},cde=200,FI=.02,LI=.3,ytt=65;new q;var lY=new q,cY=new q,btt=new q,Xs=new q,Cl=new q,Qp=new q,RI=new kt,uY=new kt,wtt=new kt;new kt;var Tu=new qr,Wh=new qr,Fd=new lo(0,0,0,"YXZ"),xtt=new q(1,0,0),Ou=new q(0,1,0),Ctt=new q(0,0,1),dY=new q(1,1,1);new jl;var _tt=1,Stt=.025,Ett=16e-6,hY=12,Btt=20,bo=new nu,Uc=new Fa,Mtt={type:"requestRender"},Ptt={type:"updateMatrix"},fY=Math.PI/6,uN=class extends as{constructor(e,t,r,i,n,a,o,s,l){var m;super(),this.object=e,this.domElement=t,this.data=r,this.gloabalPhysics=i,this.controlsManager=n,this.cameraFollow=a,this.camera=o,this.page=s,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new kt,this.target0=new q,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=cde,this.euler0=new lo(0,0,0,"YXZ"),this.position0Cam=new q,this.quat0Cam=new qr,this.scale0Cam=new q,this.hiddenMatrix0Cam=new kt,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new nu(new q(0,-40,0),new q(0,40,0)),matrix:new kt,position:new q,rotation:new qr},this.euler=new lo(0,0,0,"YXZ"),this.eulerDelta=new q,this.lastPosition=new q,this.lastCameraQuaternion=new qr,this.lastCameraPosition=new q,this.PI_2=Math.PI/2,this.prevMouse=new ke,this.velocityTarget=new q,this.velocity=new q,this.directionXZ=new q,this.rotVelocityStick=new q,this.rotVelocityTarget=new q,this.rotVelocity=new q,this.rotDirection=new q,this.nonColliderRotOffset=new kt,this.nonColliderPosOffset=new kt,this.firstPointerId=-1,this.rot=new q,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new kt,this.objectToTarget=new q,this.objectToTarget0=new q,this.objectToCamXZ=new q,this.objectToCamXZ0=new q,this.targetToCamera=new q,this.targetToCamera0=new q,this.cameraPolarAxis0=new q,this.targetPos=new q,this.targetQuat=new qr,this.lerpFactorPos=new q().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new qr,this.objXZQuatInv=new qr,this.objXZRotMat=new kt,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new q,this.pushedVelocity=new q,this.groundYRotation=0,this.objectRealQuat=new qr,this.colliderWorldQuat=new qr,this.groundNormal=new q,this.groundTilt=new qr,this.groundTiltInv=new qr,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new q,this.quaternion=new qr,this.scale=new q,this.initialAction=!0,this.onPointerDown=A=>{var g;!(A.target===this.domElement||A.target instanceof HTMLElement&&A.target.tagName==="SPLINE-VIEWER"&&((g=A.target.shadowRoot)!=null&&g.contains(this.domElement)))||this.firstPointerId!==-1||(this.firstPointerId=A.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!pc&&!V9&&this.domElement.requestPointerLock(),this.prevMouse.set(A.clientX,A.clientY))},this.onPointerUp=A=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),A.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=A=>{if(A.pointerId!==this.firstPointerId)return;let g=A.clientX-this.prevMouse.x,p=A.clientY-this.prevMouse.y;this.prevMouse.set(A.clientX,A.clientY),A.pointerType==="mouse"&&this.rotBy!=="keys"&&(V9&&k7e<15.5&&!pc?(this.eulerDelta.y=-g*this.mouseOrbitSensitivity,this.eulerDelta.x=-p*this.mouseOrbitSensitivity):(this.eulerDelta.y=-A.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-A.movementY*this.mouseOrbitSensitivity)),A.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-g*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-p*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=A=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?uN.isLocked=!0:uN.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let A in this.movementState)this.movementState[A]=0},this.onKeyDown=A=>{!(A.target instanceof HTMLInputElement)&&(A.code==="ArrowLeft"||A.code==="ArrowUp"||A.code==="ArrowRight"||A.code==="ArrowDown"||A.code==="Space")&&A.preventDefault();for(let g of this.keyAssignments)if(A.key.toUpperCase()===g[1]||A.key===g[1]){this.movementState[g[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=A=>{for(let g of this.keyAssignments)if(A.key.toUpperCase()===g[1]||A.key===g[1]||A.code.slice(3,A.code.length).toUpperCase()===g[1]){this.movementState[g[0]]=0;break}},this.copyVRGamePadValues=(A,g)=>{for(let p=2;p<4;p++){let v=A.axes[p];g===0?p===2?this.movementState.movePosX=v:this.movementState.movePosZ=v:(A.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,p===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(v)>=.3&&(this.vrEulerYOffset+=v<0?1:-1),this.movementState.rotPosY=v):this.moveMode==="fly"&&(this.movementState.moveNegY=v))}},this.sharedGameControlGlobals=n.sharedGameControlGlobals,e===o&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),u=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,u,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((m=this.camera)==null?void 0:m.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let A=new q(0,0,-1).applyQuaternion(this.camera.quaternion),g=new q().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(g),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let p,v;Math.abs(A.y)<1e-6?(g.y=0,A.y=0,v=g.projectOnVector(A)):g.y/A.y>0?v=A.multiplyScalar(g.y/A.y):v=A.multiplyScalar(g.length()),this.targetToCamera0.copy(v).negate(),p=this.camera.position.clone().add(v),this.objectToTarget0.subVectors(p,this.position);let y=new lo().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-y.x,y.x=0,y.z=0,y.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(y)}if(this.object instanceof Os&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=r.rotByTouch??"joystick",this.rotBy=r.rotBy??"keys",this.rotationMode=r.rotationMode??"normal",this.moveMode=r.moveMode??"walk",this.collisionEnabled=r.collisionEnabled,this.speedTranslate=(r.speedTranslate??250)*_tt,this.speedOrbit=(r.speedRotate??100)*Stt,this.mouseOrbitSensitivity=(r.speedRotate??100)*Ett,this.keyAssignments=r.keyAssignments.map(A=>{let g=[A[0],A[1]];return g[1]==="▲"?g[1]="ArrowUp":g[1]==="◀"?g[1]="ArrowLeft":g[1]==="▼"?g[1]="ArrowDown":g[1]==="▶"?g[1]="ArrowRight":g[1]==="⇧"?g[1]="Shift":g[1]==="↵"?g[1]="Enter":g[1]==="Space"?g[1]=" ":g[1]==="⌘"?g[1]="Meta":g[1]==="Ctrl"?g[1]="Control":g[1]==="Esc"&&(g[1]="Escape"),g}),r.rotBy==="mouse"){let A;A=this.keyAssignments.findIndex(g=>g[0]==="rotNegX"),A!==-1&&(this.keyAssignments[A][1]=""),A=this.keyAssignments.findIndex(g=>g[0]==="rotPosX"),A!==-1&&(this.keyAssignments[A][1]=""),A=this.keyAssignments.findIndex(g=>g[0]==="rotPosY"),A!==-1&&(this.keyAssignments[A][1]=""),A=this.keyAssignments.findIndex(g=>g[0]==="rotNegY"),A!==-1&&(this.keyAssignments[A][1]="")}this.lerpFactorPosStart=1-.02**(1/((r.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((r.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((r.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((r.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((r.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((r.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??jb.defaultData.gravity)*hY,this.usePhysics=this.gloabalPhysics.usePhysics??jb.defaultData.usePhysics,this.jumpPower=r.jumpPower*Btt,this.resetYPosition=this.position.y+Math.abs(r.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=r.alignToGround??!1,this.orientMode=r.autoOrientMove?r.orientMode:"none",this.orientWith=r.orientWith??FP.defaultDataThirdPerson.orientWith,this.slopeThresh=ytt*Math.PI/180,r.collider.type==="capsule"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=r.collider.height/2-r.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=r.collider.height*FI/this.pixelsPerMeter,this.stepThresh=r.collider.height*LI/this.pixelsPerMeter,this.colliderHeight=r.collider.height):r.collider.type==="sphere"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*r.collider.radius*FI/this.pixelsPerMeter,this.stepThresh=2*r.collider.radius*LI/this.pixelsPerMeter,this.colliderHeight=r.collider.radius*2):(this.offset=r.collider.height*FI/this.pixelsPerMeter,this.stepThresh=r.collider.height*LI/this.pixelsPerMeter,this.colliderHeight=r.collider.height),this.collider.type=r.collider.type;let d=new q().fromArray(r.collider.position),h=new qr().setFromEuler(new lo().fromArray([...r.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(d,h,dY),r.cameraXAxis!==void 0&&(this.cameraXAxis=r.cameraXAxis,this.cameraYAxis=r.cameraYAxis,this.minPolarAngle=r.cameraRotXLimits[0],this.maxPolarAngle=r.cameraRotXLimits[1],this.minAzimuthAngleRel=r.cameraRotYLimits[0],this.maxAzimuthAngleRel=r.cameraRotYLimits[1]),this.forwardDir=r.forwardDirection??"-z",this.isFirstPerson&&(this.forwardDir="-z"),this.runMultiplier=r.runMultiplier??2;let f=r.navmesh.destinationHelperRadius*2;if(f>0){let A=new Br;A.push({fi:0,data:{...Co.defaultData("light","phong"),alpha:0},id:"layer1"}),A.push({fi:0,data:{...Co.defaultData("color"),color:r.navmesh.destinationHelperColor,alpha:r.navmesh.destinationHelperColor.a},id:"layer2"});let g=new h6({layers:A},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new ta(Hle.create({parameters:{width:f,height:f/10,hollow:.7}}),g),this.navMeshPathDest.material.userData.opacity0=r.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new lo().setFromQuaternion(this.quaternion,"YXZ"),r=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,r,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Os?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var e;this.deactivate(),(e=this.navMeshPathDest)!=null&&e.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},IP.list.forEach(r=>{this.actions[r]=No({...e,disabled:!1,type:"GameControl"},e.gameActions[r],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),Fo(this.actions.idle),Fo(this.actions.move),Fo(this.actions.run),Fo(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Xs.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,r){var s,l,c,u,d,h,f,m,A;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let i=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let n=i*60,a=!1;if(this.usePhysics&&this.collisionEnabled){let g=Cl.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*hY),1)*(this.gravity>0?1:-1):this.velocity.y)*i,0).divideScalar(this.pixelsPerMeter),p=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,g,(s=this.object.rigidBody)==null?void 0:s.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(p){this.onObject=!0,this.groundNormal.set(p.normal2.x,p.normal2.y,p.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(a=!0),((l=p.collider.parent())==null?void 0:l.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let v=p.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let y of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(y.rigidBody===v&&y.userData.isFollowingObj!==this.object.uuid){(y.hasNonUniformScale?y.matrixWorldRigid:y.matrixWorld).decompose(Xs,Wh,Cl),this.groundVelocity.subVectors(Xs,y.prevT),this.object.getWorldPosition(Cl).add(this.collider.position).sub(Xs),this.groundYRotation=Fd.setFromQuaternion(Wh).y-y.prevR.y,Qp.copy(Cl).applyAxisAngle(Ou,this.groundYRotation),this.groundVelocity.add(Qp.sub(Cl)).divideScalar(i);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*n),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let g=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let p=Xs.subVectors(this.path[1],this.position),v=Cl.subVectors(this.path[1],this.path[0]);p.dot(v)<0?this.path.shift():(this.directionXZ.x=v.x,this.directionXZ.z=v.z),g.opacity=g.userData.opacity0}else g.opacity-=.05*g.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**n),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**n),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**n)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let o=btt.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let g=Cl.copy(o);g.y=0,o.set(0,o.y,g.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none"&&this.isFirstPerson===!1)if(this.orientWith==="camera"&&this.path.length<=1){let g=Xs;this.camera.getWorldDirection(g);let p=Qp.copy(Ou).multiplyScalar(g.dot(Ou));g.sub(p);let v=Cl.copy(this.directionXZ);v.x*=-1,this.rot.y=g.angleTo(v)*(g.cross(v).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(Fd.setFromVector3(this.rot),this.moveMode==="walk"&&(Fd.x=0),o.applyEuler(Fd),a&&(Wh.setFromUnitVectors(Ou,this.groundNormal),o.applyQuaternion(Wh)),r){let g=Fd.set(0,this.vrEulerYOffset*fY,0);r.applyEuler(g),o.x+=r.x,o.z+=r.z,this.nonColliderPosOffset.elements[13]+=r.y*i}if(this.usePhysics===!0){let g=Cl;this.pushedVelocity.set(0,0,0);for(let p of this.sharedGameControlGlobals.entitiesWithTransformAnim){let v=Qp.setFromMatrixPosition(p.matrixWorld).sub(p.prevT).divideScalar(i).divideScalar(this.pixelsPerMeter),y=p.rigidBody.collider(0).castCollider(v,this.object.rigidBody.collider(0),Xs.copy(o).divideScalar(this.pixelsPerMeter),i,!1);v.multiplyScalar(this.pixelsPerMeter);let b=Oi.is(p)?p:p.object;if(y!==null&&this.lastHitObj!==b){let x;p instanceof Ps&&(x=p);let w=this.sharedGameControlGlobals.entityToCollisionEvents[b.uuid];if(w)for(let C of w)C.data.target==="character"&&(C.dispatch(x),b.dispatchEvent(hN));this.lastHitObj=b}if(y!==null){this.pushedVelocity.copy(v),g.copy(y.normal1).applyQuaternion(p.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let p=g.dot(o);p<0&&o.addScaledVector(g,-p),o.add(this.pushedVelocity)}else o.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(i),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**n):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**n),this.euler.x+=this.rotVelocity.x*i,this.euler.y+=this.rotVelocity.y*i+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*i),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Ou,this.euler.y-this.euler0.y);let g=Cl.copy(this.objectToCamXZ).normalize(),p=Qp.copy(o).multiplyScalar(i);p.y=0;let v=p.sub(Xs.copy(g).multiplyScalar(p.dot(g))).cross(g).y;this.euler.y-=Math.atan2(v,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*i+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=fr.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=fr.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=fr.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(Fd.copy(t),Fd.y=0):(Fd.copy(this.euler),Fd.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Fd)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*fY),Tu.setFromAxisAngle(xtt,this.rot.x),Wh.setFromAxisAngle(Ou,this.rot.y),Wh.multiply(Tu),Tu.setFromAxisAngle(Ctt,this.rot.z),Wh.multiply(Tu),this.quaternion.copy(Wh),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let g=Cl.copy(o).multiplyScalar(i/this.pixelsPerMeter),p=null;this.didHit=!1;let v=new q;for(let y=0;y<5;y++){let b=g.length(),x=Qp.copy(g).normalize();if(p=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(v),this.colliderWorldQuat,x,(c=this.object.rigidBody)==null?void 0:c.collider(0).shape,b,!1,24,void 0,void 0,this.object.rigidBody),p!==null){this.didHit=!0;let w=this.sharedGameControlGlobals.colliderToEntity.get(p.collider.handle);if(w!==this.lastHitObj&&y===0){this.lastHitObj=w;let P=this.sharedGameControlGlobals.entityToCollisionEvents[w==null?void 0:w.uuid];if(P){for(let M of P)if(M.data.target==="character"){let O=((u=this.sharedGameControlGlobals.rapierWorld)==null?void 0:u.getCollider(p.collider.handle))._parent,I;if(w.cloner){for(let F of w.cloner.children)if(F.rigidBody===O){I=F;break}}M.dispatch(I),w.dispatchEvent(hN)}}}let C=lY.set(p.normal2.x,p.normal2.y,p.normal2.z).applyQuaternion(this.colliderWorldQuat),_=cY.copy(x).multiplyScalar(p.toi).dot(C),B=p.toi;if(B===0&&(this.position.y+=this.offset*this.pixelsPerMeter),_>this.offset&&(B=p.toi*(_-this.offset)/_,v.addScaledVector(x,B)),g.copy(x).multiplyScalar(b-B),Math.acos(-C.y)>this.slopeThresh){let P=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(v),M=Qp.copy(p.witness2).applyQuaternion(this.colliderWorldQuat);M.y=0;let O=P.add(M);O.y+=this.stepThresh;let I=this.sharedGameControlGlobals.rapierWorld.castShape(O,this.colliderWorldQuat,g,(d=this.object.rigidBody)==null?void 0:d.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);I!==null&&I.toi===0&&(C.y=0,C.normalize())}g.addScaledVector(C,-g.dot(C))}else{y===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),v.add(g);break}}this.position.addScaledVector(v,this.pixelsPerMeter),(h=this.object.rigidBody)==null||h.setTranslation(Xs.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(f=this.object.rigidBody)==null||f.setRotation(Tu.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let g=this.onObject?1:5,p=o.multiplyScalar(i/g);for(let v=0;v<g;v++)this.position.add(p),this.collisionAdjustment(i/g)}else this.position.addScaledVector(o,i);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let g=this.objectToTarget.add(this.position),p=this.targetToCamera.add(g);RI.lookAt(p,g,Ou).setPosition(p),RI.decompose(this.targetPos,this.targetQuat,Xs),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**n),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**n),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=fr.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=fr.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(Ptt),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((A=(m=this.navMeshPathDest)==null?void 0:m.material)==null?void 0:A.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(Mtt),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=Tu.setFromAxisAngle(Ou,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?fr.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=fr.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=fr.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let r=Xs.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&r.applyQuaternion(e);let i=Wh.setFromAxisAngle(r,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(i)}groundTiltAdjustment(e){Ou.angleTo(e)*180/Math.PI<15||Ou.angleTo(e)*180/Math.PI>85?Tu.identity():Tu.setFromUnitVectors(Ou,e),this.groundTilt.slerp(Tu,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){var n;let t=cY.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let r=RI.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Xs,Tu,Cl).compose(Xs,Tu,dY);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(a=>{if(a===this.object||a.isDescendantOf(this.object))return;Uc.makeEmpty(),a.updateMatrixWorldSVD();let o=a.matrixWorldRigid,s=uY.copy(o).invert(),l=wtt.copy(uY).multiply(r);bo.copy(this.collider.segment),bo.start.applyMatrix4(l),bo.end.applyMatrix4(l);let c=lY.copy(this.position).applyMatrix4(s);Uc.expandByPoint(bo.start),Uc.expandByPoint(bo.end),Uc.min.addScalar(-this.collider.radius),Uc.max.addScalar(this.collider.radius),a.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(u){return u.distanceToPoint(bo.end)},intersectsBounds:u=>u.intersectsBox(Uc),intersectsTriangle:u=>{let d=Xs,h=Cl,f=u.closestPointToSegment(bo,d,h);if(f<this.collider.radius){let m=this.collider.radius-f,A=h.sub(d).normalize(),g=Qp.copy(c);g.addScaledVector(A,m);let p=g.applyMatrix4(o).sub(this.position);t.add(p),bo.start.addScaledVector(A,m),bo.end.addScaledVector(A,m)}}})}),Uc.makeEmpty(),bo.copy(this.collider.segment),bo.start.applyMatrix4(r),bo.end.applyMatrix4(r),Uc.expandByPoint(bo.start),Uc.expandByPoint(bo.end),Uc.min.addScalar(-this.collider.radius),Uc.max.addScalar(this.collider.radius),(n=this.sharedGameControlGlobals.staticMeshBVH)==null||n.shapecast({traverseBoundsOrder(a){return a.distanceToPoint(bo.end)},intersectsBounds:a=>a.intersectsBox(Uc),intersectsTriangle:a=>{let o=Xs,s=Cl,l=a.closestPointToSegment(bo,o,s);if(l<this.collider.radius){let c=this.collider.radius-l,u=s.sub(o).normalize();this.alignToGround&&this.groundTiltAdjustment(u),t.addScaledVector(u,c),bo.start.addScaledVector(u,c),bo.end.addScaledVector(u,c)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.position.add(t)}},ude=uN;ude.isLocked=!1;var Ttt=Xf(yoe());function uf(e,t){let r=new Mr;if(!e.getAttribute("position"))return r.setAttribute("position",new sr([],3)),r.setIndex([]),r;let{positions:i,triIndices:n}=U3(e.getAttribute("position"),e.getIndex());return r.setAttribute("position",new sr(i,3)),r.setIndex(n),t&&r.applyMatrix4(t),r}var Ott=new kt,Dtt=new kt,Ld=[[0,0,0],[0,0,0],[0,0,0]];function dde(e){let t=e.elements;Ld[0][0]=t[0],Ld[0][1]=t[4],Ld[0][2]=t[8],Ld[1][0]=t[1],Ld[1][1]=t[5],Ld[1][2]=t[9],Ld[2][0]=t[2],Ld[2][1]=t[6],Ld[2][2]=t[10];let{u:r,v:i}=(0,Ttt.SVD)(Ld),n=Ott.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),a=Dtt.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1);return n.multiply(a.transpose())}var Itt=class extends dse{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,r=[]){return e.forEach(i=>{i.visible&&this.intersectObject(i,t,r)}),r}createRaycastLineHelper(){let e=new hg({color:65280,linewidth:10}),t=new q(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),r=new q(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),i=this.camera.far-this.camera.near,n=new q().addVectors(t,r.multiplyScalar(i)),a=new Mr;return a.setFromPoints([t,n]),new iP(a,e)}},hde=e=>e instanceof cb||e instanceof ub;function Ftt(e,t){return e.distance-t.distance}function fde(e,t,r){if(!(!cf(t)||!t.visible)){ju(t)&&t.raycast(e,r);for(let i of t.children)fde(e,i,r)}}function K5(e,t,r,i=!1){if(!i&&!r.some(a=>JP(e,a)!==void 0))return[];let n=[];return t.children.forEach(a=>fde(e,a,n)),n.sort(Ftt),n}function dN(e){let t=[];if(e.length){let r=e[0].object;cf(r)&&t.push(r);let i=r.parent;for(;i;)hde(i)&&t.push(i),i=i.parent}return t}function df(e,t,r,i){let n=e.frame;if(n){let a=t[0]*n.width,o=(1-t[1])*n.height;for(let s of r){let l=s===n.uuid?n:n.find(s);if(l!=null&&l.intersects(a,o))return i(l),!0}}return!1}function JP(e,t){if(ju(t)){if(t.visible){let r=[];return t.raycast(e,r),r.length?r[0]:void 0}}else if(hde(t))return pde(e,t)}function pde(e,t){if(!(!cf(t)||!t.visible)){if(ju(t)){let r=[];if(t.raycast(e,r),r.length)return r[0]}for(let r of t.children){let i=pde(e,r);if(i)return i}}}function Ltt(e,t,r){return{x:(e-(r.left+window.scrollX))/r.width*2-1,y:-((t-(r.top+window.scrollY))/r.height)*2+1}}function Rtt(e,t,r){return{x:(e-(r.left+window.scrollX))/r.width,y:1-(t-(r.top+window.scrollY))/r.height}}var Utt=class{constructor(e,t,r,i,n,a,o,s){this.renderer=e,this.publish=t,this.scene=r,this.getCamera=i,this.sharedAssets=n,this.requestRender=a,this.isExport=o,this.frame=s,this.raycaster=new Itt,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}get domRect(){return this._domRect}updateRaycaster(e){var i;let{pageX:t,pageY:r}=((i=e.touches)==null?void 0:i.length)>0?e.touches[0]:e;this.pointerWorld=Ltt(t,r,this._domRect),this.pointerScreen=Rtt(t,r,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}},Vl=class{constructor(t){this.eventContext=t,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},H6=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],Ade=e=>{var t;return(t=H6.find(([r,i])=>i===e))==null?void 0:t[0]},P_=e=>{var t;return(t=H6.find(([r])=>r===e))==null?void 0:t[1]},Ntt=(e,t)=>{let r=Ade(e);if(r){let i=new CustomEvent(r,{bubbles:!0});return Object.defineProperty(i,"target",{writable:!1,value:t}),i}},ktt=class extends Vl{constructor(){super(...arguments),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=e=>{var i;if(!e.eventName||!e.target||e.eventName==="Scroll")return;let t=(i=this.splineEvents[Ade(e.eventName)])==null?void 0:i[e.target.uuid];if(!t)return;e.eventName==="Scroll"&&e.deltaY!==void 0&&Object.assign(t,{deltaY:e.deltaY});let{domElement:r}=this.eventContext;r.dispatchEvent(t)}}connect(){let{page:e}=this.eventContext;e.traverseEntity(t=>{var r,i;if((r=t.data)!=null&&r.events.length){for(let[n,a]of H6)if(t.data.events.some(o=>o.data.type===a&&!o.data.disabled)){this.objectsPerEvents.has(n)?(i=this.objectsPerEvents.get(n))==null||i.push(t):this.objectsPerEvents.set(n,[t]);let o={id:t.uuid,name:t.name},s=Ntt(a,o),l=this.splineEvents[n];l?l[t.uuid]=s:this.splineEvents[n]={[t.uuid]:s}}}}),this.objectsPerEvents.forEach(t=>{t.forEach(r=>{r.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},jtt=class{constructor(e,t,r,i,n,a){if(this.id=e,this.data=t,this.object=r,this.entered=!1,(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=No(t,t.actions,i,n,a,r)}disconnect(){Fo(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.Transition.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.SwitchCamera.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.SwitchCamera.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},ztt=class extends Vl{constructor(e,t,r){super(e),this.eventManager=t,this.useForRaycastProperty=r,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=i=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(i);let{raycaster:n,page:a}=this.eventContext,o=K5(n,a,[],!0);this.sceneInterects=o,o.length&&(this.eventContext.sharedAssets.raycastProperty={x:o[0].point.x,y:o[0].point.y,z:o[0].point.z,objX:o[0].object.matrixWorld.elements[12],objY:o[0].object.matrixWorld.elements[13],objZ:o[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=i=>{(i.target===this.eventContext.domElement||i.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(n=>{(n.data.type==="MouseDown"||n.data.type==="MousePress")&&(this.onCanvasRaycast(i),n.dispatch())})},this.onCanvasMouseUp=i=>{(i.target===this.eventContext.domElement||i.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(n=>{n.data.type==="MouseUp"?(this.onCanvasRaycast(i),n.dispatch()):n.data.type==="MousePress"&&n.dispatchRelease()})},this.onMouseDown=i=>{jr.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseDown"))},this.onMouseUp=i=>{jr.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=i=>{jr.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent())},this.onMousePressRelease=i=>{jr.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent(!0))},this.onKeyDown=i=>{this.heldKeys[i.key]||(this.handleKeyEvent(i,"KeyDown"),this.handleKeyEventHeld(i,"KeyDown",!0)),this.heldKeys[i.key]=!0},this.onKeyUp=i=>{this.handleKeyEvent(i,"KeyUp"),this.handleKeyEventHeld(i,"KeyUp",!0)},this.onKeyPressDown=i=>{this.heldKeysPress[i.key]?this.handleKeyEventHeld(i,"KeyPress"):(this.handleKeyEvent(i,"KeyPress"),this.handleKeyEventHeld(i,"KeyPress",!0)),this.heldKeysPress[i.key]=!0},this.onKeyPressUp=i=>{this.handleKeyEvent(i,"KeyPress",!0)},this.releaseHeldKey=i=>{delete this.heldKeys[i.key]},this.releaseHeldKeyPress=i=>{delete this.heldKeysPress[i.key]},this._onUserEvent=({eventName:i,target:n,reverse:a})=>{var s,l,c,u;if(!i||!n)return;let o=P_(i);o&&(o==="MouseDown"||o==="MouseUp"||o==="MousePress"?(n.dispatchEvent({type:"beginEvent",eventName:o}),(l=(s=this.eventsPerObjects[o])==null?void 0:s[n.uuid])==null||l.forEach(d=>{d.dispatchUserEvent(a)})):(o==="KeyDown"||o==="KeyUp"||o==="KeyPress")&&(n.dispatchEvent({type:"beginEvent",eventName:o}),(u=(c=this.eventsPerObjects[o])==null?void 0:c[n.uuid])==null||u.forEach(d=>{d.dispatchUserEvent()})))}}connect(){var n,a,o,s,l,c;let{page:e,sharedAssets:t,domElement:r}=this.eventContext,i=(u,d)=>{var f,m;if(!((f=u.data)!=null&&f.events.length))return;let h=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let A of h){let g=this.eventsPerObjects[A];u.data.events.filter(({data:p})=>p.type===A&&p.disabled!==!0).forEach(({id:p,data:v})=>{try{let y=new jtt(p,v,u,e,t,this.eventManager);y.actions.Video.length&&(this.hasVideoAction=!0),(v.type==="MouseDown"||v.type==="MouseUp"||v.type==="MousePress")&&(v.mode==="Canvas"||v.mode==="Window")?this.canvasMouseEvents.push(y):g[u.uuid]?g[u.uuid].some(b=>b.id===y.id)||g[u.uuid].push(y):g[u.uuid]=[y]}catch{}}),(m=g[u.uuid])!=null&&m.length&&this.objectsPerTypes[A].push(u instanceof Ro&&(A==="MouseDown"||A==="MouseUp"||A==="MousePress")?d:u)}};e.traverseEntity(u=>{var d;(u instanceof Es||u instanceof Bo)&&((d=u.frame)==null||d.traverse(h=>{i(h,u)})),i(u)}),this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),r.addEventListener("pointerdown",this.onCanvasMouseDown),r.addEventListener("pointerup",this.onCanvasMouseUp),((n=this.objectsPerTypes.MouseDown)!=null&&n.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),r.addEventListener("pointerdown",this.onMouseDown)),(a=this.objectsPerTypes.MouseUp)!=null&&a.length&&(this.domEventsNeeded.add("pointerup"),r.addEventListener("pointerup",this.onMouseUp)),(o=this.objectsPerTypes.MousePress)!=null&&o.length&&(this.domEventsNeeded.add("pointerdown"),r.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),r.addEventListener("pointerup",this.onMousePressRelease)),(s=this.objectsPerTypes.KeyDown)!=null&&s.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(l=this.objectsPerTypes.KeyUp)!=null&&l.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(c=this.objectsPerTypes.KeyPress)!=null&&c.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([u,d])=>{d.forEach(h=>{h.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(r=>{r.forEach(i=>{i.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,r])=>{r.forEach(i=>{i.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){var s,l,c,u;let{stopRaycast:t,raycaster:r,page:i,pointerScreen:n}=this.eventContext,a=this.objectsPerTypes[e],o=a.filter(d=>!(d instanceof Ro));if(!(!a.length&&!this.useForRaycastProperty)&&!(i.uiCanvas&&df(i,[n.x,n.y],Object.keys(this.eventsPerObjects[e]),d=>{this.handleObjectMouseEventDispatch(d,e)}))){if(t||this.useForRaycastProperty){let d;if(this.sceneInterects===null?d=K5(r,i,o,this.useForRaycastProperty):(d=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&d.length&&(this.eventContext.sharedAssets.raycastProperty={x:d[0].point.x,y:d[0].point.y,z:d[0].point.z,objX:d[0].object.matrixWorld.elements[12],objY:d[0].object.matrixWorld.elements[13],objZ:d[0].object.matrixWorld.elements[14]}),t){let h=[((l=(s=d[0])==null?void 0:s.uv)==null?void 0:l.x)??0,((u=(c=d[0])==null?void 0:c.uv)==null?void 0:u.y)??0];dN(d).forEach(f=>{f instanceof Es&&df(f,h,Object.keys(this.eventsPerObjects[e]),m=>{this.handleObjectMouseEventDispatch(m,e)}),this.eventsPerObjects[e][f.uuid]&&this.handleObjectMouseEventDispatch(f,e)})}}t||o.forEach(d=>{var f,m;let h=JP(r,d);h&&(this.handleObjectMouseEventDispatch(d,e),d instanceof Es&&df(d,[((f=h==null?void 0:h.uv)==null?void 0:f.x)??0,((m=h==null?void 0:h.uv)==null?void 0:m.y)??0],Object.keys(this.eventsPerObjects[e]),A=>{this.handleObjectMouseEventDispatch(A,e)}))})}}handleMousePressEvent(e=!1){let t="MousePress",r=this.objectsPerTypes[t],i=r.filter(a=>!(a instanceof Ro)),n=[];if(r.length){if(!e){let{stopRaycast:a,raycaster:o,page:s,pointerScreen:l}=this.eventContext,c=!1;if(s.uiCanvas&&(c=df(s,[l.x,l.y],Object.keys(this.eventsPerObjects[t]),u=>{n.push(u)})),a&&!c){let u=K5(o,s,i);n=dN(u),u.forEach(d=>{var h,f;d.object instanceof Es&&df(d.object,[((h=d==null?void 0:d.uv)==null?void 0:h.x)??0,((f=d==null?void 0:d.uv)==null?void 0:f.y)??0],Object.keys(this.eventsPerObjects[t]),m=>{n.push(m)})})}else i.forEach(u=>{var h,f;let d=JP(o,u);d&&(n.push(u),u instanceof Es&&df(u,[((h=d==null?void 0:d.uv)==null?void 0:h.x)??0,((f=d==null?void 0:d.uv)==null?void 0:f.y)??0],Object.keys(this.eventsPerObjects[t]),m=>{n.push(m)}))})}this._prevObjects.length&&this._prevObjects.forEach(a=>{n.includes(a)||this.handleObjectMouseEventDispatchRelease(a,t)}),n.length&&n.forEach(a=>{this.handleObjectMouseEventDispatch(a,t)}),this._prevObjects=n}}handleObjectMouseEventDispatch(e,t){var r,i;e.dispatchEvent({type:"beginEvent",eventName:t}),(i=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||i.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){var r,i;e.dispatchEvent({type:"beginEvent",eventName:t}),(i=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||i.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,r=!1){this.objectsPerTypes[t].forEach(i=>{let n=this.eventsPerObjects[t][i.uuid];n.some(({data:a})=>"key"in a&&a.key===e.key)&&i.dispatchEvent({type:"beginEvent",eventName:t}),n.forEach(a=>{"key"in a.data&&a.data.key===e.key&&(r?a.dispatchRelease():a.dispatch(!0))})})}handleKeyEventHeld(e,t,r=!1){this.objectsPerTypes[t].forEach(i=>{this.eventsPerObjects[t][i.uuid].forEach(n=>{"key"in n.data&&n.data.key===e.key&&n.dispatchHeld(r)})})}},Htt=new q,Vtt=new q,gde=class{constructor(e,t,r,i,n){this.actionsIn=No(e,e.inActions,r,i,n,t),this.actionsOut=No(e,e.outActions,r,i,n,t)}disconnect(){Fo(this.actionsIn),Fo(this.actionsOut)}},Qtt=class extends gde{constructor(e,t,r,i,n,a){super(t,r,i,n,a),this.id=e,this.data=t,this.object=r,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let c=Htt.setFromMatrixPosition(this.objects[0].matrixWorld),u=Vtt.setFromMatrixPosition(this.objects[1].matrixWorld),d=c.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let h=d==="in"?this.actionsIn:this.actionsOut;h.Audio.forEach(f=>f.dispatchConditional()),h.Particles.forEach(f=>f.dispatchConditional()),h.Video.forEach(f=>f.dispatchConditional()),h.Link.forEach(f=>f.dispatch()),h.Create.forEach(f=>f.dispatch()),h.Destroy.forEach(f=>f.dispatch()),h.Reset.forEach(f=>f.dispatch()),h.Transition.forEach(f=>{f.object.currentTransitionEvent!==this&&(f.object.currentTransitionEvent=this),f.init()}),h.Transition.forEach(f=>f.play()),h.Animation.forEach(f=>f.play()),h.SwitchCamera.forEach(f=>f.play()),h.SceneTransition.forEach(f=>f.dispatch()),h.SetVariable.forEach(f=>f.checkConditions()),h.SetVariable.forEach(f=>f.dispatch()),h.DynamicVariablePlay.forEach(f=>f.dispatch()),h.ClearLocalStorage.forEach(f=>f.dispatch()),h.UserAPI.forEach(f=>f.dispatch())}};let{distance:o,fromObject:s,toObject:l}=t.condition;this.distance=o;for(let c of[s,l]){if(!c)throw new Error("Missing property");let u=i.find(c);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},Wtt=class extends gde{constructor(e,t,r,i,n,a){var l;super(t,r,i,n,a),this.id=e,this.data=t,this.object=r,this.onBegin=({target:c,state:u})=>{this.toState!==u&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Particles.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))},this.onComplete=({target:c,state:u})=>{this.toState===u&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Particles.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))};let{condition:o}=t;if(!o.object)throw new Error("Missing property");let s=i.find(o.object)??i.scene.find2D(o.object);if(!s)throw new Error("Missing property");if(this.toObject=s,o.state&&!((l=this.toObject.states)!=null&&l[o.state]))throw new Error("Missing property");this.toState=o.state}connect(){Em(this.actionsOut).forEach(e=>{var t;(t=this.actionsOut[e])!=null&&t.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Em(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Em(this.actionsOut).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Em(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},Gtt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1}connect(){super.connect();let{page:e,sharedAssets:t}=this.eventContext;e.traverseEntity(r=>{var i;if((i=r.data)!=null&&i.events.length){for(let{id:n,data:a}of r.data.events)if(!a.disabled&&a.type==="Conditional")try{let o;a.condition.type==="Comparison"||(a.condition.type==="Distance"?o=new Qtt(n,a,r,e,t,this.eventManager):a.condition.type==="State"&&(o=new Wtt(n,a,r,e,t,this.eventManager))),o&&(this.eventsPerConditions[a.condition.type].push(o),(o.actionsIn.Video.length||o.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}}),Object.values(this.eventsPerConditions).forEach(r=>r.forEach(i=>i.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},lx=new q,Wp=new q,Zg=new q,pY=new Bl,qtt=.01,Yi=new q,io=new q,AY=new q,Lm=new qr,UI=new lo,Ktt=new kt,NI=new Ka,Kv=new q,Rd=new q,Xv=.2;function kI(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var Xtt=function(){let e=new kt;return(t,r,i)=>{let n=t.obj;e.copy(n.hiddenMatrix),n.parent!==null&&e.premultiply(n.parent.matrixWorld),e.invert(),n.position.copy(r),t.reference==="global"&&kI(n.position,t.limits),n.position.applyMatrix4(e),t.reference==="parent"?kI(n.position,t.limits):t.reference==="local"&&(Lm.copy(t.quat0).invert(),n.position.sub(t.position0),n.position.applyQuaternion(Lm),kI(n.position,t.limits),Lm.invert(),n.position.applyQuaternion(Lm),n.position.add(t.position0)),e.multiply(i??n.matrixWorld).decompose(Yi,n.quaternion,io),n.updateMatrix(),n.hasNonUniformScale&&(n.updateMatrixWorld(),n.updateMatrixWorldSVD()),n instanceof ll&&_f(n.parent)&&n.invalidateDownstreamBooleanData(!0)}}(),Ytt=class{constructor(e,t,r,i,n,a,o){this.object=e,this.id=t,this.data=r,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=No(r,r.dragDropActions.drag,i,n,a,this.object),this.actionsDrop=No(r,r.dragDropActions.drop,i,n,a,this.object);let s=[];this.data.objects.forEach(l=>{let c=i.find(l);!c||c.data.visible!==!1&&(s.push(c),o[c.uuid]&&o[c.uuid].forEach(u=>{let d=i.find(u);!d||d.data.visible!==!1&&s.push(d)}))}),this.data.dropDestinations.forEach(l=>{let c=i.find(l);!c||c.data.visible!==!1&&(this.dropDestIds.push(c.uuid),o[c.uuid]&&o[c.uuid].forEach(u=>{let d=i.find(u);!d||d.data.visible!==!1&&this.dropDestIds.push(d.uuid)}))}),this.dragItems=s.map(l=>(this.data.planeMode==="locked"&&(l.userData.lockedPlane=!0),l.userData.worldPosition0=new q().setFromMatrixPosition(l.matrixWorld),{obj:l,fromPosition:new q().setFromMatrixPosition(l.matrixWorld),pointStart:new q,pointEnd:new q,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new q().copy(l.position),quat0:new qr().copy(l.quaternion),snapped:!1,orientationMatrix:new kt,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){Fo(this.actionsDrag),Fo(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},$tt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=r=>{var o;if(jr.length>1)return;this.eventContext.updateRaycaster(r);let{raycaster:i,page:n}=this.eventContext,a=n.raycastWithClones(i);if(this.lastDropDestination=null,a.length===0){this.activeEvent=null;return}for(let s of this.events){let l=0;for(let{obj:c,pointEnd:u,pointStart:d}of s.dragItems){if(c===a[0].object||c===a[0].object.object||Oi.is(c)&&c.isAncestorOf(a[0].object.uuid)){if(s.activeIdx=l,s.activeDragItem.reset=!1,s.activeDragItem.currentDampingFactor=s.data.dampingFactor,s.activeDragItem.snapped=!1,s.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){s.activeDragItem.obj.rigidBody&&s.activeDragItem.obj.rigidBody.setBodyType(2,!0);let h=s.activeDragItem.obj;c.hasNonUniformScale&&c.updateMatrixWorldSVD(),(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose(Yi,Lm,io),UI.setFromQuaternion(Lm),h.prevR===void 0?(h.prevR=UI.clone(),h.prevT=Yi.clone()):(h.prevR.copy(UI),h.prevT.copy(Yi)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(s.activeDragItem.obj)}this.calcPlaneIntersectPos(c,d,s.data.plane,s.data.referenceFrame),u.copy(d),(this.eventManager.controlsManager.usePhysics&&((o=c.data.physics)==null?void 0:o.rigidBody)==="dynamic"||s.data.drop===!1||s.data.resetOnSnapFail===!1)&&s.activeDragItem.fromPosition.setFromMatrixPosition(s.activeDragItem.obj.matrixWorld),this.activeEvent=s,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}l++}}this.activeEvent=null},this.onPointerMove=r=>{var o,s,l,c;if(jr.length>1)return;this.eventContext.updateRaycaster(r);let{raycaster:i,page:n}=this.eventContext,a=n.raycastWithClones(i);if(jr.length===0){let u=!1;for(let d of this.events){for(let{obj:h}of d.dragItems)if(h===((o=a[0])==null?void 0:o.object)||h===((l=(s=a[0])==null?void 0:s.object)==null?void 0:l.object)||Oi.is(h)&&h.isAncestorOf((c=a[0])==null?void 0:c.object.uuid)){switch(u=!0,d.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break}break}if(u)break}u||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let u=this.activeEvent.activeDragItem;u.snapped=!1;let d;if(this.activeEvent.data.drop&&(d=a.filter(h=>u.obj!==h.object&&!u.obj.isAncestorOf(h.object.uuid)&&!(h.object instanceof cb)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(f=>f===h.object.uuid||n.scene.find(f).isAncestorOf(h.object.uuid))))[0]),d){let h=AY.copy(d.face.normal).applyMatrix3(NI.getNormalMatrix(d.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")u.fromPosition.setFromMatrixPosition(d.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(u.fromPosition.copy(d.point),this.activeEvent.data.snapSurfaceMode==="bbox"){Yi.copy(h).applyMatrix3(NI.setFromMatrix4(u.obj.matrixWorld).transpose());let f=u.obj;Yi.x>Xv?io.x=-f.recursiveBBox.min.x:Yi.x<-Xv&&(io.x=-f.recursiveBBox.max.x),Yi.y>Xv?io.y=-f.recursiveBBox.min.y:Yi.y<-Xv&&(io.y=-f.recursiveBBox.max.y),Yi.z>Xv?io.z=-f.recursiveBBox.min.z:Yi.z<-Xv&&(io.z=-f.recursiveBBox.max.z),io.applyMatrix3(NI.invert())}else io.copy(h).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);u.fromPosition.add(io)}this.activeEvent.data.autoOrient&&(Yi.set(0,1,0).cross(h),Yi.length()<1e-4&&Yi.set(-1,0,0).cross(h),io.crossVectors(AY,Yi),u.orientationMatrix.makeBasis(Yi,io,h)),u.pointStart.copy(u.fromPosition),u.pointEnd.copy(u.pointStart),u.currentDampingFactor=this.activeEvent.snapDampingFactor,u.snapped=!0,this.lastDropDestination!==d.object&&(this.lastDropDestination=d.object,this.activeEvent.actionsDrop.Transition.forEach(f=>{f.play()}),this.activeEvent.actionsDrop.Animation.forEach(f=>{f.play()}),this.activeEvent.actionsDrop.Audio.forEach(f=>{f.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Particles.forEach(f=>{f.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(f=>{f.dispatchThrottled()}))}else u.orientationMatrix.makeRotationFromQuaternion(u.quat0),this.lastDropDestination=null,u.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(u.obj,u.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(h=>{h.stop()}),this.activeEvent.actionsDrop.Audio.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.Particles.forEach(h=>{h.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(h=>{h.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.ClearLocalStorage.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.UserAPI.forEach(h=>h.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("start")}),this.activeEvent.actionsDrag.Particles.forEach(h=>{h.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.stop()}))},500),this.updateDragItem(u),u.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=r=>{var i;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let n=((i=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:i.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!n)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&n&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(a=>{a.stop(),a.object.currentState!==null&&a.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(a=>{a.stop()}),this.activeEvent.actionsDrag.Audio.forEach(a=>{a.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(a=>{a.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(a=>a.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.ClearLocalStorage.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.UserAPI.forEach(a=>a.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}}}connect(){let e={};if(this.eventContext.page.traverseEntity(r=>{r.component&&(e[r.component.uuid]?e[r.component.uuid].push(r.uuid):e[r.component.uuid]=[r.uuid])}),this.eventContext.page.traverseEntity(r=>{var i;(i=r.data)==null||i.events.filter(n=>n.data.type==="DragDrop"&&!n.data.disabled).forEach(n=>{this.events.push(new Ytt(r,n.id,n.data,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager,e))})}),!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let t=this.eventContext.domElement;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,r,i){let{getCamera:n,raycaster:a}=this.eventContext;n().getWorldDirection(Wp),Wp.negate();let o=Lm.identity();switch(i==="parent"?Ktt.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(Yi,o,io):i==="local"&&e.matrixWorld.decompose(Yi,o,io),r){case"x":Yi.set(1,0,0).applyQuaternion(o),Kv.copy(Wp).cross(Yi),Rd.copy(Yi).cross(Kv);break;case"y":Yi.set(0,1,0).applyQuaternion(o),Kv.copy(Wp).cross(Yi),Rd.copy(Yi).cross(Kv);break;case"z":Yi.set(0,0,1).applyQuaternion(o),Kv.copy(Wp).cross(Yi),Rd.copy(Yi).cross(Kv);break;case"xy":Rd.set(0,0,1).applyQuaternion(o);break;case"yz":Rd.set(1,0,0).applyQuaternion(o);break;case"xz":Rd.set(0,1,0).applyQuaternion(o);break;case"adaptive":Wp.angleTo(io.set(0,1,0))>Math.PI/6?(Yi.crossVectors(io.set(0,1,0),Wp),Rd.crossVectors(Yi,io)):Rd.set(0,1,0);break;default:Rd.copy(Wp);break}Zg.setFromMatrixPosition(e.matrixWorld);let s=e.userData.lockedPlane?e.userData.worldPosition0:Zg;if(pY.setFromNormalAndCoplanarPoint(Rd,s),!!a.ray.intersectPlane(pY,t)&&(r==="x"||r==="y"||r==="z")){let l=io.subVectors(t,s).dot(Yi);t.copy(s).addScaledVector(Yi,l)}}updateDragItem(e,t=!1){var r,i;Zg.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?lx.subVectors(e.fromPosition,Zg).divideScalar(e.currentDampingFactor):e.reset==="original"?(lx.subVectors(e.obj.userData.worldPosition0,Zg).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):lx.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(Zg).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?lx.length()<qtt:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&Xtt(e,lx.add(Zg),(r=this.activeEvent)!=null&&r.data.drop&&((i=this.activeEvent)!=null&&i.data.autoOrient)?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Yv=new q,jI=new q,Gh=new q,qh=new q,gY=new Bl,Jtt=.01,Ztt={type:"requestRender"},ert=function(){let e=new q,t=new q;return(r,i,n)=>n>0?(e.subVectors(r,i),e.length()<=n?r:t.copy(i).add(e.normalize().multiplyScalar(n))):i}(),mY=function(){let e=new kt;return(t,r)=>{t.position.copy(r),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof ll&&_f(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),trt=class{constructor(e,t,r,i,n,a){this.data=e,this.id=t,this.object=r,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new q,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...HR.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=No(e,e.actions,i,n,a,r)}},rrt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.pairOfEventListeners=[],this.onMouseMove=r=>{if(!(jr.length>1)){this.eventContext.updateRaycaster(r);for(let i of this.events)i.target===void 0&&this.updateSingleEvent(i)}},this.onMouseEnter=r=>{for(let i of this.events)i.target===void 0&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=r=>{for(let i of this.events)i.target===void 0&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onTargetChange=r=>()=>{this.updateSingleEvent(r)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{var a,o;let n=(a=i.data)==null?void 0:a.events.find(s=>s.data.type==="Follow"&&!s.data.disabled);n&&(!e.data.globalPhysics.usePhysics||((o=i.dataPatched.physics)==null?void 0:o.rigidBody)!=="dynamic")&&this.events.push(new trt(n.data,n.id,i,e,this.eventContext.sharedAssets,this.eventManager))}),!this.events.length)return;let{domElement:t,eventElement:r}=this.eventContext;this.domEventsNeeded.clear(),pc&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),r.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events)if(i.target!==void 0){let n=i.target,a=this.onTargetChange(i);this.pairOfEventListeners.push([n,a]),n.addEventListener("requestRender",a)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),pc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[r,i]of this.pairOfEventListeners)r.removeEventListener("requestRender",i);for(let r of this.events)r.paused=!0,r.isReset=!1,Fo(r.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){var o;this.events.forEach(s=>{s.actions.Create.forEach(l=>{l.dispatchThrottled()})});let{plane:r,limitDistance:i,limitDistanceEnabled:n}=e.data;if(e.object.getWorldPosition(Gh),e.isReset)qh.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(qh);else{let{getCamera:s,raycaster:l}=this.eventContext;if(r==="custom"?(s().getWorldDirection(jI),jI.negate(),Yv.copy(jI)):r==="xy"?Yv.set(0,0,1):r==="xz"?Yv.set(0,1,0):r==="yz"&&Yv.set(1,0,0),gY.setFromNormalAndCoplanarPoint(Yv,Gh),!l.ray.intersectPlane(gY,qh))return}if(!e.isReset){if(qh.distanceTo(e.worldPosition0)>i&&n&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)qh.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(qh.x=Gh.x),e.data.enabledTranslation[1]===!1&&(qh.y=Gh.y),e.data.enabledTranslation[2]===!1&&(qh.z=Gh.z);let a=ert(Gh,qh,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let s=Yv.subVectors(a,Gh).divideScalar(e.currentDampingFactor);Gh.add(s),t&&mY(e.object,Gh),e.paused=s.length()<Jtt}else mY(e.object,a),e.paused=!0;(o=e.object)==null||o.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(Ztt)}},cx=new q,IB=new q,ux=new kt,$v=new qr,Gp=new qr,dx=new q,hx=new q,em=new q,Kh=new q,zI=new Bl,irt=1e-6,nrt={type:"requestRender"},art={type:"changeRotation"},vY=function(){let e=new kt;return function(t,r){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),r.premultiply(dde(e).invert()),t.rotation.setFromRotationMatrix(r),t.updateMatrix(),t instanceof ll&&_f(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),ort=class{constructor(e,t,r,i){this.id=t,this.object=r,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new qr,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...VR.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},srt=class extends Vl{constructor(){super(...arguments),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=e=>{if(!(jr.length>1)){this._lastMouseEvent=e,this.eventContext.updateRaycaster(e);for(let t of this.events)t.target===void 0&&this.updateSingleEvent(t)}},this.onMouseEnter=e=>{for(let t of this.events)t.target===void 0&&(t.isReset=!1,t.currentDampingFactor=t.data.dampingFactor)},this.onMouseLeave=e=>{for(let t of this.events)t.target===void 0&&(t.data.resetOnPointerLeave&&(t.isReset=!0,t.currentDampingFactor=t.resetDampingFactor),this.updateSingleEvent(t))},this.onScroll=e=>{if(this._lastMouseEvent){let t=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(t)}},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)},this.createUserEventListener=e=>({eventName:t,target:r})=>{if(!t||!r)return;let i=P_(t);i&&i==="LookAt"&&this.updateSingleEvent(e)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{var a,o;let n=(a=i.data)==null?void 0:a.events.find(s=>s.data.type==="LookAt"&&!s.data.disabled);n&&(!e.data.globalPhysics.usePhysics||((o=i.dataPatched.physics)==null?void 0:o.rigidBody)!=="dynamic")&&this.events.push(new ort(n.data,n.id,i,e))}),!this.events.length)return;let{domElement:t,eventElement:r}=this.eventContext;this.domEventsNeeded.clear(),pc&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),r.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?r.addEventListener("scroll",this.onScroll):(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events){if(i.target!==void 0){let o=this.onTargetChange(i),s=i.target;this.pairOfEventListeners.push([s,o]),s.addEventListener("requestRender",o)}let n=this.createUserEventListener(i),a=i.object;this.pairOfUserEventListeners.push([a,n]),a.addEventListener("userEvent",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),pc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[r,i]of this.pairOfEventListeners)r.removeEventListener("requestRender",i);for(let[r,i]of this.pairOfUserEventListeners)r.removeEventListener("userEvent",i);for(let r of this.events)r.paused=!0,r.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){var h;let{tilt:t,axis:r,distance:i,plane:n,limitDistance:a,enabledRotation:o,limitDistanceEnabled:s}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:u,target:d}=e;if(u.getWorldPosition(dx),!e.isReset)if(e.target)e.target.getWorldPosition(hx);else{if(n==="custom"?(l().getWorldDirection(IB),IB.negate(),zI.setFromNormalAndCoplanarPoint(IB,dx)):(n==="xy"?cx.set(0,0,1):n==="xz"?cx.set(0,1,0):n==="yz"&&cx.set(1,0,0),zI.setFromNormalAndCoplanarPoint(cx,dx)),!c.ray.intersectPlane(zI,hx))return;i>0&&(n==="custom"||n===void 0)&&hx.addScaledVector(IB,i)}if(e.isReset||(d?t==="target"?em.copy(d.up).applyMatrix4(ux.extractRotation(d.matrixWorld)).normalize():o.some(f=>f===!1)?(r==="x"?(Kh.set(0,0,1),o[2]===!1&&Kh.set(0,1,0)):r==="y"?(Kh.set(1,0,0),o[0]===!1&&Kh.set(0,0,1)):(Kh.set(0,1,0),o[1]===!1&&Kh.set(1,0,0)),em.copy(Kh).applyQuaternion(e.worldQuaternion0).normalize()):em.set(0,1,0):n==="custom"?em.set(0,1,0):em.copy(cx)),e.isReset)Gp.copy(e.worldQuaternion0);else if(dx.distanceTo(hx)>a&&s&&d)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Gp.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;lrt(ux,hx,dx,em,r,Kh),Gp.setFromRotationMatrix(ux),$v.setFromUnitVectors(Kh.applyQuaternion(Gp),em),o.some(f=>f===!1)&&t!=="target"&&Gp.premultiply($v).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),$v.setFromRotationMatrix(dde(u.matrixWorld)),$v.slerp(Gp,1/e.currentDampingFactor),vY(u,ux.makeRotationFromQuaternion($v)),e.paused=8*(1-$v.dot(Gp))<irt):(vY(u,ux.makeRotationFromQuaternion(Gp)),e.paused=!0),(h=e.object)==null||h.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(nrt),u.dispatchEvent(art)}},Nc=new q,ro=new q,Sa=new q;function lrt(e,t,r,i,n,a){let o=e.elements;Sa.subVectors(t,r),Sa.lengthSq()===0&&(Sa.z=1),Sa.normalize(),ro.crossVectors(i,Sa),ro.lengthSq()===0&&(Math.abs(i.z)===1?Sa.x+=1e-4:Sa.z+=1e-4,Sa.normalize(),ro.crossVectors(i,Sa)),ro.normalize(),Nc.crossVectors(Sa,ro),n==="x"?a.z===1?[ro,Nc,Sa]=[Sa,ro,Nc]:(ro.negate(),[ro,Sa]=[Sa,ro]):n==="y"?a.x===1?[ro,Nc,Sa]=[Nc,Sa,ro]:(ro.negate(),[Nc,Sa]=[Sa,Nc]):a.x===1&&(ro.negate(),[ro,Nc]=[Nc,ro]),o[0]=ro.x,o[4]=Nc.x,o[8]=Sa.x,o[1]=ro.y,o[5]=Nc.y,o[9]=Sa.y,o[2]=ro.z,o[6]=Nc.z,o[10]=Sa.z}var crt=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.entered=!1,this.actions=No(t,t.actions,i,n,a,r)}disconnect(){Fo(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatchStart()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Create.forEach(e=>e.dispatchStop()),this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Particles.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Particles.forEach(t=>t.dispatchBasic()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},urt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=r=>{jr.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onMouseUp=r=>{jr.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=r=>{jr.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:r,target:i,reverse:n})=>{var o;if(!r||!i)return;let a=P_(r);a&&a==="MouseHover"&&(i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(o=this.eventsPerObjects[i.uuid])==null||o.forEach(s=>s.dispatchUserEvent(n)))}}connect(){let{page:e,sharedAssets:t}=this.eventContext,r=(n,a)=>{var o,s;if(!(!n.visible||!((o=n.data)!=null&&o.events.length))){for(let{id:l,data:c}of n.data.events)if(!c.disabled&&c.type==="MouseHover")try{let u=new crt(l,c,n,e,t,this.eventManager);this.eventsPerObjects[n.uuid]?this.eventsPerObjects[n.uuid].push(u):this.eventsPerObjects[n.uuid]=[u]}catch{}(s=this.eventsPerObjects[n.uuid])!=null&&s.length&&this.objects.push(n instanceof Ro?a:n)}};if(e.traverseEntity(n=>{var a;(n instanceof Es||n instanceof Bo)&&((a=n.frame)==null||a.traverse(o=>{r(o,n)})),r(n)}),!this.objects.length)return;let{domElement:i}=this.eventContext;this.domEventsNeeded.clear(),pc&&(this.domEventsNeeded.add("pointerdown"),i.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),i.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),i.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(n=>{n.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),pc&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(r=>{r.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:r,raycaster:i,page:n,pointerScreen:a}=this.eventContext,o=!1;if(n.uiCanvas&&(o=df(n,[a.x,a.y],Object.keys(this.eventsPerObjects),s=>{t.push(s)})),r&&!o){let s=K5(i,n,this.objects);t=dN(s),s.forEach(l=>{var c,u;l.object instanceof Es&&df(l.object,[((c=l==null?void 0:l.uv)==null?void 0:c.x)??0,((u=l==null?void 0:l.uv)==null?void 0:u.y)??0],Object.keys(this.eventsPerObjects),d=>{t.push(d)})})}else this.objects.forEach(s=>{var c,u;let l=JP(i,s);l&&(t.push(s),s instanceof Es&&df(s,[((c=l==null?void 0:l.uv)==null?void 0:c.x)??0,((u=l==null?void 0:l.uv)==null?void 0:u.y)??0],Object.keys(this.eventsPerObjects),d=>{t.push(d)}))})}this._prevObjects.length&&this._prevObjects.forEach(r=>{var i;t.includes(r)||(r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(i=this.eventsPerObjects[r.uuid])==null||i.forEach(n=>n.dispatchLeave()))}),t.length&&t.forEach(r=>{var i;r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(i=this.eventsPerObjects[r.uuid])==null||i.forEach(n=>n.dispatchEnter())}),this._prevObjects=t}},drt=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.scrollCounter=0,this.actions=No(t,t.actions,i,n,a,r)}connect(){this.scrollCounter=0}disconnect(){Fo(this.actions)}dispatch(e){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let r=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(i=>i.seek(r)),this.actions.Animation.forEach(i=>i.seek(t)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch()),this.actions.ClearLocalStorage.forEach(i=>i.dispatch()),this.actions.UserAPI.forEach(i=>i.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},hrt=class{constructor(e,t,r,i,n,a,o){this.id=e,this.data=t,this.object=r,this.domElement=a,this.eventManager=o,this.scrollStart=0,this.scrollEnd=0,this.actions=No(t,t.actions,i,n,o,r)}getStickyParentElement(){let e=this.domElement;for(;e;){if(window.getComputedStyle(e).position==="sticky")return e;e=e.parentElement}return null}computeScrollBounds(){let e=this.getStickyParentElement(),t=e==null?void 0:e.parentElement,r=this.domElement.getBoundingClientRect(),i={top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:r.width,height:r.height};if(t){let c=t.getBoundingClientRect(),u=window.getComputedStyle(e),d=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.top),f=parseFloat(u.bottom),m=c.height-d;if(!isNaN(h))r.top===h?(i.top+=c.top-h,i.bottom+=c.top-h):r.top<0&&(i.top-=m-r.height,i.bottom-=m-r.height);else if(!isNaN(f)){let A=document.body.clientHeight??window.innerHeight,g=window.innerWidth-(document.documentElement.clientWidth??window.innerWidth);r.bottom===A-f?(i.top+=c.top-r.height+f+g,i.bottom+=c.top-r.height+f+g):r.bottom<A-f&&(i.top-=m-r.height,i.bottom-=m-r.height)}}let n=document.body,a=document.documentElement,o=window.pageYOffset||a.scrollTop||n.scrollTop,s=a.clientTop||n.clientTop||0,l=Math.round(i.top+o-s);if(this.data.startFrom==="enter"){let c=window.innerHeight,u=i.height,d=this.data.enterAnchor,h=d==="top"?c:d==="bottom"?c-u:c-u*.5;this.scrollStart=l-h}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=i,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){Fo(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(n=>{n.object.currentTransitionEvent!==this&&(n.object.currentTransitionEvent=this,n.init())});let r=this.scrollEnd-this.scrollStart,i=Math.min(1,Math.max(0,(t-this.scrollStart)/r));this.actions.Transition.forEach(n=>n.seek(i)),this.actions.Animation.forEach(n=>n.seek(i)),this.actions.Create.forEach(n=>n.dispatchThrottled()),this.actions.SetVariable.forEach(n=>n.checkConditions()),this.actions.SetVariable.forEach(n=>n.dispatch()),this.actions.DynamicVariablePlay.forEach(n=>n.dispatch()),this.actions.ClearLocalStorage.forEach(n=>n.dispatch()),this.actions.UserAPI.forEach(n=>n.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},frt=class extends Vl{constructor(e,t){super(e),this.managers=t,this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([r,i])=>{i.forEach(n=>n.handleResize())})},this.onScroll=r=>{if(!this.isInview)return;let i={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([n,a])=>{n.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:i}),a.forEach(o=>o.dispatch(i))})},this.onWheel=r=>{!this.isInview||r.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:r.deltaY}),n.forEach(a=>a.dispatch(r.deltaY))})},this.onUserEvent=({eventName:r,target:i,reverse:n})=>{var o;if(!r||!i)return;let a=P_(r);a&&a==="Scroll"&&(i.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(o=this.wheelEventsPerObject.get(i))==null||o.forEach(s=>{s.dispatchUserEvent(n)}))}}connect(){let{page:e,sharedAssets:t,domElement:r,isExport:i}=this.eventContext,n=a=>{var o,s,l;if((o=a.data)!=null&&o.events.length){for(let{id:c,data:u}of a.data.events)if(!u.disabled&&u.type==="Scroll")if(u.trigger==="load"||!i){let d=new drt(c,u,a,e,t,this.managers);this.wheelEventsPerObject.has(a)?(s=this.wheelEventsPerObject.get(a))==null||s.push(d):this.wheelEventsPerObject.set(a,[d])}else{let d=new hrt(c,u,a,e,t,r,this.managers);this.scrollEventsPerObject.has(a)?(l=this.scrollEventsPerObject.get(a))==null||l.push(d):this.scrollEventsPerObject.set(a,[d])}}};e.traverseEntity(a=>{var o;(a instanceof Es||a instanceof Bo)&&((o=a.frame)==null||o.traverse(s=>{n(s)})),n(a)}),this.intersectionObserver=new IntersectionObserver(a=>{let o=a[0];o&&(this.isInview=o.isIntersecting)},{root:null}),this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([a,o])=>{o.forEach(s=>s.connect()),a.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([a,o])=>{o.forEach(s=>s.connect()),a.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(a=>a.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(a=>a.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},prt=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.actions=No(t,t.actions,i,n,a,r)}disconnect(){Fo(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof Fm?t.interaction.audioPlayer.play():t.interaction instanceof aN&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let r=t.interaction.data.triggerAfter??"autoplay";r===e&&(t.interaction instanceof db?t.interaction.play(r==="autoplay"):t.interaction instanceof cN&&t.interaction.dispatch())}),this.actions.Particles.forEach(t=>{(t.data.triggerAfter??"any")===e&&t.dispatchBasic()})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof Fm?t.interaction.audioPlayer.play():t.interaction instanceof aN&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof db?t.interaction.play():t.interaction instanceof cN&&t.interaction.dispatch()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()})}},Art=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,i])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(n=>{n.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,i])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(n=>{n.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:r,isExport:i}=this.eventContext,n=i?document:r;n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([a,o])=>{a.dispatchEvent({type:"beginEvent",eventName:"Start"}),o.forEach(s=>{s.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,i])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(n=>{n.actions.Audio.forEach(a=>{a.interaction instanceof Fm&&a.interaction.audioPlayer.play()}),n.actions.Video.forEach(a=>{let o=a.interaction.data.triggerAfter??"autoplay";a.interaction instanceof db&&a.interaction.play(o==="autoplay")}),n.actions.Particles.forEach(a=>{a.dispatchBasic()})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,i])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(n=>{n.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:r,target:i,reverse:n})=>{var o,s;if(!r||!i)return;let a=P_(r);a&&a==="Start"&&(i instanceof Ro||i.dispatchEvent({type:"beginEvent",eventName:"Start"}),(o=this.eventsPerObject.get(i))==null||o.forEach(l=>{l.dispatchUserEvent(n)}),(s=this.eventsAfterPerObject.get(i))==null||s.forEach(l=>{l.dispatchUserEvent(n)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext,r=i=>{var n,a,o,s,l;if((n=i.data)!=null&&n.events.length)for(let{id:c,data:u}of i.data.events){if(u.disabled||u.type!=="Start")continue;let d=new prt(c,u,i,t,e,this.eventManager);(d.actions.Transition.length||d.actions.Animation.length||d.actions.SwitchCamera.length||d.actions.Create.length||d.actions.Destroy.length||d.actions.SceneTransition.length||d.actions.Reset.length||d.actions.SetVariable.length||d.actions.DynamicVariablePlay.length||d.actions.ClearLocalStorage.length||d.actions.UserAPI.length)&&(this.eventsPerObject.has(i)?(a=this.eventsPerObject.get(i))==null||a.push(d):this.eventsPerObject.set(i,[d])),d.actions.Audio.length&&(this.eventsAfterPerObject.has(i)?(o=this.eventsAfterPerObject.get(i))==null||o.push(d):this.eventsAfterPerObject.set(i,[d])),d.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(i)?(s=this.eventsAfterPerObject.get(i))==null||s.push(d):this.eventsAfterPerObject.set(i,[d])),d.actions.Particles.length&&(this.eventsAfterPerObject.has(i)?(l=this.eventsAfterPerObject.get(i))==null||l.push(d):this.eventsAfterPerObject.set(i,[d]))}};if(t.traverseEntity(i=>{var n;(i instanceof Es||i instanceof Bo)&&((n=i.frame)==null||n.traverse(a=>{r(a)})),r(i)}),[...this.eventsAfterPerObject.values()].some(i=>i.length)){if(this.eventManager.activateCount===0){let{domElement:i,isExport:n}=this.eventContext,a=n?document:i;a.addEventListener("pointerdown",this.onMouseDown,{once:!0}),a.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),a.addEventListener("pointerdown",this.onAny),a.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,s])=>{o.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(a=>a.dispatch()),i.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,r=t?document:e;r.removeEventListener("pointerdown",this.onMouseDown),r.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),r.removeEventListener("pointerdown",this.onAny),r.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,n])=>{i.removeEventListener("userEvent",this.onUserEvent),n.forEach(a=>a.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(r=>r.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},grt=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.initialDisabled=!1,this.actions=No(t,t.actions,i,n,a,r),this.target=t.target}disconnect(){Fo(this.actions)}dispatch(e){this.initialDisabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.actions.Transition.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()))}},mrt=class extends Vl{constructor(e,t,r,i,n){super(e),this.sharedVariables=t,this.eventManager=r,this.needsMouse=i,this.needsRaycast=n,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.isOutOfFocus=!1,this.events=[],this.onFrame=a=>{let o=this.eventContext.sharedAssets;if(this.rafId=window.requestAnimationFrame(this.onFrame),this.isOutOfFocus)return;let s=new Date,l=[],c=[];for(let h=0;h<this.propertiesToWatch.length;h++){let{objectId:f,property:m,prevValue:A}=this.propertiesToWatch[h],g=this.eventContext.scene.find(f),p=WR.propertyPaths[m];if(p[0]==="width"||p[0]==="height"||p[0]==="depth")g=g.geometry.userData.parameters[p[0]];else for(let v=0;v<p.length;v++)g=g[p[v]];A===null?this.propertiesToWatch[h].prevValue=g instanceof q?g.clone():g:(g instanceof q?!g.equals(A):A!==g)&&(c.push({objId:f,property:m}),g instanceof q?this.propertiesToWatch[h].prevValue.copy(g):this.propertiesToWatch[h].prevValue=g)}for(let h=0;h<this.variablesToWatch.length;h++){let{id:f,prevValue:m}=this.variablesToWatch[h],A=o.getVariable(f);A!==m&&(l.push(f),this.variablesToWatch[h].prevValue=A)}for(let h=0;h<this.dynamicVars.length;h++){let{id:f,expectedTime:m,last:A,data:g,timerSeconds:p,startValue:v}=this.dynamicVars[h],y=1e3;if((g.dynamicVariableType==="timer"||g.dynamicVariableType==="stopwatch")&&g.format==="number3decimal"?y=1:g.dynamicVariableType==="counter"?y=g.updateInterval:g.dynamicVariableType==="random"&&(y=g.isStatic?1/0:g.updateInterval),m===-1){this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+y;continue}if(!((o.getDynamicVariablePlayState(f)==="Stopped"||o.getDynamicVariablePlayState(f)==="Restarted")&&(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+y,g.dynamicVariableType==="counter"&&o.getVariable(f)!==v&&(o.updateVariable(f,v),this.eventManager.requestRender()),(g.dynamicVariableType==="timer"||g.dynamicVariableType==="stopwatch")&&this.dynamicVars[h].timerSeconds!==v&&(this.dynamicVars[h].timerSeconds=v,o.updateVariable(f,Qc.getFormattedTimerTime(v,g)),this.eventManager.requestRender()),o.getDynamicVariablePlayState(f)==="Restarted"&&o.setDynamicVariablePlayState(f,"Playing"),o.getDynamicVariablePlayState(f)==="Stopped"))){if(o.getDynamicVariablePlayState(f)==="Paused"){this.dynamicVars[h].deltaToExpectedTime===void 0&&(this.dynamicVars[h].deltaToExpectedTime=Math.max(this.dynamicVars[h].expectedTime-a,0)),this.dynamicVars[h].last=a-(y-this.dynamicVars[h].deltaToExpectedTime),this.dynamicVars[h].expectedTime=a+this.dynamicVars[h].deltaToExpectedTime;continue}else this.dynamicVars[h].deltaToExpectedTime=void 0;if(a>=m)if(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime+=y,g.dynamicVariableType==="random"){let b=g.min+Math.random()*(g.max-g.min),x=g.decimals;b=Math.round(b*Math.pow(10,x))/Math.pow(10,x),o.updateVariable(f,b),l.push(f),this.eventManager.requestRender()}else if(g.dynamicVariableType==="counter"){let b=o.getVariable(f),x=o.getDynamicVariableToggleIsForward(f)??!0,w=o.getVariable(f)+g.increment*(x?1:-1);g.hasEnd&&(w=g.increment>0?fr.clamp(w,v,g.endValue):fr.clamp(w,g.endValue,v),w===v&&o.setDynamicVariableToggleIsForward(f,void 0),g.repeat?w===g.endValue&&(w=v):(w===v||w===g.endValue)&&o.setDynamicVariablePlayState(f,"Paused")),w!==b&&(l.push(f),o.updateVariable(f,w),this.eventManager.requestRender())}else if(g.dynamicVariableType==="time"){let b=o.getVariable(f),x=RK(s,g);if(typeof b=="object"&&"textValue"in b&&typeof x=="object"&&"textValue"in x){if(Array.isArray(b.textValue)&&Array.isArray(x.textValue)){if(b.textValue.every((w,C)=>w===x.textValue[C]))continue}else if(b.textValue===x.textValue)continue}else if(b===x)continue;o.updateVariable(f,x),l.push(f),this.eventManager.requestRender()}else{let b=es.isTextValue(g.endValue)?yY(g.endValue.textValue):g.endValue,x=o.getDynamicVariableToggleIsForward(f)??!0,w=p+(a-A)/1e3*(g.dynamicVariableType==="timer"?-1:1)*(x?1:-1);w=Math.max(w,0),g.hasEnd&&(w=g.dynamicVariableType==="stopwatch"?fr.clamp(w,v,b):fr.clamp(w,b,v),w===v&&o.setDynamicVariableToggleIsForward(f,void 0),g.repeat?Math.abs(w-b)<(g.format==="number3decimal"?1e-4:.1)&&(w=v):(Math.abs(w-v)<(g.format==="number3decimal"?1e-4:.1)||Math.abs(w-b)<(g.format==="number3decimal"?1e-4:.1))&&o.setDynamicVariablePlayState(f,"Paused")),w!==p&&(l.push(f),this.dynamicVars[h].timerSeconds=w,o.updateVariable(f,Qc.getFormattedTimerTime(w,g)),this.eventManager.requestRender())}}}let u=!1;o.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=o.mouseProperty,u=!0);let d=!1;o.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=o.raycastProperty,d=!0),this.events.forEach(h=>{(l.includes(h.data.variableId)||c.find(f=>f.objId===h.data.objectId&&f.property===h.data.property)||h.data.variableId==="mouseProperty"&&u||h.data.variableId==="raycastProperty"&&d)&&(h.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()}}pause(){this.isOutOfFocus||(this.isOutOfFocus=!0,this.pauseTime=Date.now())}resume(){if(!this.isOutOfFocus)return;this.isOutOfFocus=!1;let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.eventContext.page.traverseEntity(t=>{var r;(r=t.data)==null||r.events.filter(i=>i.data.type==="VariableChange"&&!i.data.disabled).forEach(i=>{this.events.push(new vrt(i.id,i.data,t,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.propertiesToWatch=this.events.filter(t=>t.data.variableId==="objectProperty"&&t.data.objectId!==null).map(t=>({objectId:t.data.objectId,property:t.data.property,prevValue:null}));let e=this.eventContext.sharedAssets;this.sharedVariables.forEach(({id:t,data:r})=>{if(!("dynamicVariableType"in r)){this.events.find(n=>n.data.variableId===t)&&this.variablesToWatch.push({id:t,prevValue:e.getVariable(t)});return}let i;if(r.dynamicVariableType==="timer"||r.dynamicVariableType==="stopwatch"){let n;if(es.isTextValue(r.value)&&Array.isArray(r.value.textValue)){let a=r.value.textValue;a.length===3?n=a[2]+a[1]*60+a[0]*3600:n=a[1]+a[0]*60}else n=r.value;i=n,this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:r,timerSeconds:n,startValue:i})}else r.dynamicVariableType==="time"&&e.updateVariable(t,RK(new Date,r)),r.dynamicVariableType==="counter"&&(i=es.isTextValue(r.value)?yY(r.value.textValue):r.value),this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:r,startValue:i})}),this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},vrt=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.actions=No(t,t.actions,i,n,a,r)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}dispose(){Fo(this.actions)}};function yY(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var yrt="https://unpkg.com/@splinetool/runtime@1.9.27/build/",brt="https://unpkg.com/@splinetool/navmesh-wasm@1.9.27/build/",wrt=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${yrt}' + 'navmesh.js'),
		fetch('${brt}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,xrt=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,Crt=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,_rt=.001,Srt={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},mde,_i,Vo;Q7e.then(e=>{mde=e,_i=new e.Vec3,Vo=new e.Vec3});var Ert=new q,Brt=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=r=>{if(jr.length!==1)return;let{raycaster:i,page:n}=this.eventContext;this.eventContext.updateRaycaster(r);let a=n.raycastWithClones(i);if(a.length!==0){if(this.gameControl){let o=Ert.copy(this.gameControl.colliderWorldPosition);o.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(o,a[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(r,i)=>n=>{var h,f,m,A,g,p,v;let a;if(n instanceof Gu)if(n.objectForSample){if(n.objectForSample.dataPatched.physics.fusedBody)return;a=n.object}else return n.object.dataPatched.physics.fusedBody===!0&&n.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(n instanceof Ps)a=n.object;else if(a=n,((h=a.dataPatched.cloner)==null?void 0:h.disabled)===!1&&((f=a.dataPatched.cloner)==null?void 0:f.hideBase)&&((m=a.dataPatched.physics)==null?void 0:m.fusedBody)!==!0)return!0;if(i&&!a.userData.navmesh)return;let o=a.dataPatched;if(!o.visible&&((A=o.physics)==null?void 0:A.enabled)!==!0)return!0;n.updateMatrixWorldSVD();let s=ZP(o),l=a.userData.hasDestroy,c=a.userData.hasDrag,u=!1,d=!1;for(let y of o.events)y.data.disabled!==!0&&(y.data.type==="GameControl"?u=!0:y.data.type==="Follow"&&(d=!0));if(u||s||d||l||c)return!0;if(this.usePhysics&&((g=o.physics)==null?void 0:g.rigidBody)==="dynamic"){if(this.usePhysics&&((p=o.physics)!=null&&p.fusedBody))return!0}else if("geometry"in n&&n.geometry&&r.push(uf(n.geometry,n.matrixWorld)),this.usePhysics&&((v=o.physics)==null?void 0:v.fusedBody))return n.traverseObject((y,b)=>{var C,_;if(b===0)return;let x;if(y instanceof Gu)if(y.objectForSample){if(y.objectForSample.dataPatched.physics.fusedBody)return;x=y.object}else return y.object.dataPatched.physics.fusedBody===!0&&y.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(y instanceof Ps)x=y.object;else if(x=y,(C=y.dataPatched.cloner)==null?void 0:C.hideBase)return!0;let w=x.dataPatched;if(!w.visible&&((_=w.physics)==null?void 0:_.enabled)!==!0)return!0;"geometry"in y&&y.geometry&&r.push(uf(y.geometry,y.matrixWorld))}),!0},this.traverseNoPhysics=(r,i)=>n=>{let a;if(n instanceof Gu)return;n instanceof Ps?a=n.object:a=n;let o=a.dataPatched;if(o.physics.enabled==="visibility"?!o.visible:!o.physics.enabled)return!0;if(i&&!a.userData.navmesh)return;let s=n.geometry,l=a.userData.hasDestroy===!0,c=a.userData.hasDrag===!0;if(ZP(o)||l||c||a.dataPatched.events.some(u=>u.data.disabled!==!0&&u.data.type==="GameControl"))return!0;s&&r.push(uf(s,n.matrixWorld))},this.navmeshWasm=mde,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?wrt:xrt)+Crt])),this._worker=new Worker(this._workerURL)}init(e,t,r){this.gameControl=t,this.eventContext=r,this.setDefaultQueryExtent(new q().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(r.page,e,i=>{this.buildFromNavmeshData(i.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,r){t.objects.forEach(l=>{var u;let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=!0}),(u=c.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=!0})});let i=[],n=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(i,t.zones==="custom");if(e.traverseChildren(n),t.objects.forEach(l=>{var u;let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=void 0}),(u=c.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=void 0})}),i.length===0)return!1;let a=Im(i),{positions:o,triIndices:s}=U3(a.getAttribute("position"),a.getIndex());return this._worker.postMessage([o,o.length/3,s,s.length,{...Srt,...t}]),this._worker.onmessage=r,!0}createDebugNavGeometry(){let e,t,r=this.navMesh.getDebugNavMesh(),i=r.getTriangleCount(),n=new Uint32Array(i*3),a=new Float32Array(i*3*3);for(e=0;e<i*3;e++)n[e]=e;for(e=0;e<i;e++)for(t=0;t<3;t++){let s=r.getTriangle(e).getPoint(t);a[e*9+t*3+0]=s.x,a[e*9+t*3+1]=s.y,a[e*9+t*3+2]=s.z}let o=new Mr;return o.setIndex(new Qr(n,1)),o.setAttribute("position",new Qr(a,3)),o}getClosestPoint(e){return _i.x=e.x,_i.y=e.y,_i.z=e.z,this.navMesh.getClosestPoint(_i)}getClosestPointToRef(e,t){_i.x=e.x,_i.y=e.y,_i.z=e.z;let r=this.navMesh.getClosestPoint(_i);t.set(r.x,r.y,r.z)}getRandomPointAround(e,t){return _i.x=e.x,_i.y=e.y,_i.z=e.z,this.navMesh.getRandomPointAround(_i,t)}getRandomPointAroundToRef(e,t,r){_i.x=e.x,_i.y=e.y,_i.z=e.z;let i=this.navMesh.getRandomPointAround(_i,t);r.set(i.x,i.y,i.z)}moveAlong(e,t){return _i.x=e.x,_i.y=e.y,_i.z=e.z,Vo.x=t.x,Vo.y=t.y,Vo.z=t.z,this.navMesh.moveAlong(_i,Vo)}moveAlongToRef(e,t,r){return _i.x=e.x,_i.y=e.y,_i.z=e.z,Vo.x=t.x,Vo.y=t.y,Vo.z=t.z,this.navMesh.moveAlong(_i,Vo)}computePath(e,t){let r=this.getClosestPoint(t);if(Vo.x=r.x,Vo.y=r.y,Vo.z=r.z,Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2))>this.getDefaultQueryExtent().y)return[];this.getClosestPoint(e);let i=this.navMesh.computePath(_i,Vo),n=i.getPointCount(),a=[];for(let o=0;o<n;o++){let s=i.getPoint(o);a.push(new q(s.x,s.y,s.z))}return a}createCrowd(e,t){return new Mrt(this,e,t)}setDefaultQueryExtent(e){_i.x=e.x,_i.y=e.y,_i.z=e.z,this.navMesh.setDefaultQueryExtent(_i)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,r=this.navmeshWasm._malloc(t),i=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,r,t);i.set(e);let n=new this.navmeshWasm.NavmeshData;n.dataPointer=i.byteOffset,n.size=e.length,this.navMesh.buildFromNavmeshData(n),this.navmeshWasm._free(i.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),r=new Uint8Array(e.size);return r.set(t),this.navMesh.freeNavmeshData(e),r}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){var e;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(e=this.eventContext)==null||e.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,r){return _i.x=e.x,_i.y=e.y,_i.z=e.z,this.navMesh.addCylinderObstacle(_i,t,r)}addBoxObstacle(e,t,r){return _i.x=e.x,_i.y=e.y,_i.z=e.z,Vo.x=t.x,Vo.y=t.y,Vo.z=t.z,this.navMesh.addBoxObstacle(_i,Vo,r)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},Mrt=class{constructor(e,t,r){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,r,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,r){let i=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;i.radius=t.radius,i.height=t.height,i.maxAcceleration=t.maxAcceleration,i.maxSpeed=t.maxSpeed,i.collisionQueryRange=t.collisionQueryRange,i.pathOptimizationRange=t.pathOptimizationRange,i.separationWeight=t.separationWeight,i.updateFlags=7,i.obstacleAvoidanceType=0,i.queryFilterType=0,i.userData=0;let n=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),i);return this.transforms.push(r),this.agents.push(n),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new q(0,0,0)),n}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let r=this.crowd.getAgentPosition(e);t.set(r.x,r.y,r.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let r=this.crowd.getAgentVelocity(e);t.set(r.x,r.y,r.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let r=this.crowd.getAgentNextTargetPath(e);t.set(r.x,r.y,r.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let r=this.agents.indexOf(e);r>-1&&(this._agentDestinationArmed[r]=!0,this._agentDestination[r].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let r=this.crowd.getAgentParameters(e);t.radius!==void 0&&(r.radius=t.radius),t.height!==void 0&&(r.height=t.height),t.maxAcceleration!==void 0&&(r.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(r.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(r.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(r.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(r.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,r)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=_rt)return;let t=1/60,r=10;{let i=Math.floor(e/t);i>r&&(i=r),i<1&&(i=1);let n=e/i;for(let a=0;a<i;a++)this.crowd.update(n)}for(let i=0;i<this.agents.length;i++){let n=this.agents[i],a=this.getAgentPosition(n);if(this.transforms[i].copy(a),this._agentDestinationArmed[i]){let o=a.x-this._agentDestination[i].x,s=a.z-this._agentDestination[i].z,l=this.reachRadii[i],c=this._agentDestination[i].y-this.reachRadii[i],u=this._agentDestination[i].y+this.reachRadii[i],d=o*o+s*s;a.y>c&&a.y<u&&d<l*l&&(this.onReachTarget(n,this._agentDestination[i]),this._agentDestinationArmed[i]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,r=this.crowd.getCorners(e),i=r.getPointCount(),n=[];for(t=0;t<i;t++){let a=r.getPoint(t);n.push(new q(a.x,a.y,a.z))}return n}dispose(){this.crowd.destroy()}};function Prt(e){let t=!1;return e.scene.objects.forEach(r=>{r.data.type==="Page"&&!t&&r.data.publish.gameControlObject&&MC.traverseModuleInstances(e,r.id,(i,n,a)=>{for(let o of a)o.data.type==="GameControl"&&o.data.navmesh.enabled&&(t=!0)})}),t}var Trt={type:"change"},bY={type:"changeZoom"},Ort={type:"changePan"},tm={type:"start"},rm={type:"end",changed:!0},Drt={type:"end",changed:!1},HI=new qr,wY=new ke,Irt=2*Math.PI,Frt=1e-8,Lrt=.01,VI=new q,FB=new ke,QI=new q,LB=new qr,xY=new kt,Rrt={type:"requestRender"},vde=class extends as{constructor(e,t,r={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=r,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,Ic.DOLLY_ROTATE,Ic.PAN],this.offset=new q,this.eye=new q,this.lastPosition=new q,this.lastQuaternion=new qr,this.current=new ke,this.overShoot=new ke,this.overRatio=new ke,this.spherical=new t9,this.sphericalDelta=new t9,this.panOffset=new q,this.panLeftV=new q,this.panUpV=new q,this.panV=new q,this.rotateStart=new ke,this.rotateEnd=new ke,this.rotateDelta=new ke,this.panStart=new ke,this.panEnd=new ke,this.panDelta=new ke,this.dollyStart=new ke,this.dollyEnd=new ke,this.dollyDelta=new ke,this.rotationRangeFactor=new ke,this.panRangeFactor=new ke,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=i=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=i.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(QI,LB,VI),this.offset.copy(QI).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&this.object.isPerspectiveCamera&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(HI.copy(LB).invert()),this.panOffset.applyQuaternion(HI),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(LB),this.panOffset.applyQuaternion(LB)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),QI.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(xY.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(xY));let i=this.spherical.phi%Irt;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(on.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),i>0&&i>Math.PI||i<0&&i>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let n=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-n,this.sphericalDelta.phi*=1-n}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>Lrt||8*(1-this.lastQuaternion.dot(this.object.quaternion))>Frt?(this.dispatchEvent(Trt),this.object.dispatchEvent(Rrt),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=i=>{this.enabled!==!1&&(i.pointerType==="touch"||i.pointerType==="pen"&&pc?this.onPointerDownTouch(i):this.onPointerDownMouse(i),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(tm),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),i.stopPropagation(),i.pointerType==="touch"||i.pointerType==="pen"&&pc||this.domElement.setPointerCapture(i.pointerId)))},this.onPointerLeave=i=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,VI.subVectors(this.position0,this.target0),this.spherical.setFromVector3(VI),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=i},this.onPointerEnter=i=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?FB.set(i.clientX-this.domElement.clientWidth/2,i.clientY-this.domElement.clientHeight/2):FB.set(i.clientX-this.pointerLeaveEvent.clientX,i.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(FB).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(wY,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(i.clientX,i.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(FB).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(i.clientX,i.clientY)),this.update()},this.onPointerMove=i=>{this.enabled!==!1&&(this.checkRaycastLock()||(i.pointerType==="touch"||i.pointerType==="pen"&&pc?this.onPointerMoveTouch(i):this.onPointerMoveMouse(i),i.stopPropagation()))},this.onPointerUp=i=>{this.isPointerDown=!1,jr.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),jr.length>1&&i.preventDefault(),this.hasChange?this.dispatchEvent(rm):this.dispatchEvent(Drt),this.state=-1,i&&(i.stopPropagation(),i.pointerType==="touch"||i.pointerType==="pen"&&pc||this.domElement.releasePointerCapture(i.pointerId))},this.onPointerDownMouse=i=>{let n;switch(this.useKeyEvents?n=this.mouseButtons[i.button]:n=this.mouseButtonsPlay[i.button],n){case 0:if(i.altKey===!0&&!i.shiftKey&&!GE(i)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2;break;case 3:if(GE(i)||i.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}break;case 5:if(GE(i)||i.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(i),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(i),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=i=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(i);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(i);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(i);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=i=>{switch(jr.length>1&&i.preventDefault(),this.touches[jr.length-1]){case Ic.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case Ic.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case Ic.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case Ic.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=i=>{switch(jr.length>1&&i.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(i),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(i),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(i),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(i),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=Nz(()=>this.dispatchEvent(rm),33),this.onMouseWheel=i=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&i.preventDefault(),this.dispatchEvent(tm),this.handleMouseWheel(i),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=i=>{if(i.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!w_)if(i.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(tm),i.scale>this.prevScale?this.dollyIn(this.getZoomScale()):i.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=i.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(rm)},this.onContextMenu=i=>{i.preventDefault()},this.onTouchEnd=i=>{i.preventDefault()},this.onKeyDown=i=>{this.enabled!==!1&&(this.key=i.key,i.key===" "&&this.dispatchEvent(tm))},this.onKeyUp=i=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&i.key==="Alt"&&this.onPointerUp(jr[0]),i.key===" "&&this.dispatchEvent(rm))},this.onPointerHover=i=>{i.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(i,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(i,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=i=>{i.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.initialSphericalRadius=this.spherical.radius,this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let r=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=r**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let i=this.object.getTarget().applyQuaternion(HI.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+i.y,this.maxV=e.panVerticalOffset.max+i.y,this.minH=-e.panHorizontalOffset.min+i.x,this.maxH=e.panHorizontalOffset.max+i.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Ud(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Ud(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Ud(Ud(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Ud(Ud(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=Ic.ROTATE),e.panTouches===1&&(this.touches[0]=Ic.PAN),e.orbitTouches===2&&(this.touches[1]=Ic.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=Ic.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=Ic.ROTATE),e.panTouches===3&&(this.touches[2]=Ic.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,r,i,n,a,o,s){this.overShoot.set(0,0);let l,c,u;e instanceof q?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),u=!0):(l=e.theta,c=e.phi,this.current.set(Ud(this.spherical.theta),Ud(this.spherical.phi)),u=!1),r===0&&(this.current.x+=l,this.current.y+=c),(t===3||t===2)&&(!u&&this.isThetaFlipped?this.current.x>i&&this.current.x<0?this.overShoot.x=i-this.current.x:this.current.x<n&&this.current.x>0&&(this.overShoot.x=n-this.current.x):this.current.x>i?this.overShoot.x=i-this.current.x:this.current.x<n&&(this.overShoot.x=n-this.current.x)),(t===3||t===1)&&(this.current.y>a?this.overShoot.y=a-this.current.y:this.current.y<o&&(this.overShoot.y=o-this.current.y)),u||(this.overShoot.x=Ud(this.overShoot.x),this.overShoot.y=Ud(this.overShoot.y)),r!==0?(this.overRatio.copy(this.overShoot).divide(s),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),r===1&&(this.overRatio.x=CY(Math.abs(this.overRatio.x)),this.overRatio.y=CY(Math.abs(this.overRatio.y))),this.isPointerDown||r===1?r===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):r===2&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=this.overShoot.x*.05),this.phiIsFree||(c=this.overShoot.y*.05),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof q?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let r=this.domElement;if(r&&this.object.isPerspectiveCamera){let i=this.object.position;this.panV.copy(i).sub(this.target);let n=this.panV.length();n*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*n/r.clientHeight,this.object.matrixWorld),this.panUp(2*t*n/r.clientHeight,this.object.matrixWorld)}else r&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrixWorld));this.dispatchEvent(Ort)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(bY)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(bY)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(tm),this.dollyOut(e),this.dispatchEvent(rm)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(tm),this.dollyIn(e),this.dispatchEvent(rm)}setZoom(e){if(this.dispatchEvent(tm),this.object.isPerspectiveCamera){let t=this.initialSphericalRadius/e/this.spherical.radius;this.scale=t}else this.object.isOrthographicCamera&&(this.object.zoom=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0);this.dispatchEvent(rm)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(wY,-this.object.angleOffsetFromUp);let r=this.domElement,i=this.useWindowEvents?window.innerHeight:r.clientHeight,n=2*Math.PI*this.rotateDelta.x/i,a=2*Math.PI*this.rotateDelta.y/i;this.rotateLeft(n),this.rotateUp(a),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(N7e===!1&&GE(e)===!1&&j7e(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1||this.gesture)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(jr.length===2){let e=.5*(jr[0].pageX+jr[1].pageX),t=.5*(jr[0].pageY+jr[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(jr[0].pageX,jr[0].pageY)}handleTouchStartPan(){if(jr.length===2){let e=.5*(jr[0].pageX+jr[1].pageX),t=.5*(jr[0].pageY+jr[1].pageY);this.panStart.set(e,t)}else this.panStart.set(jr[0].pageX,jr[0].pageY)}handleTouchStartDolly(){let e=jr[0].pageX-jr[1].pageX,t=jr[0].pageY-jr[1].pageY,r=Math.sqrt(e*e+t*t);this.dollyStart.set(0,r)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(jr.length===2){let r=D4(e),i=.5*(e.pageX+r.x),n=.5*(e.pageY+r.y);this.rotateEnd.set(i,n)}else{if(e.pointerId!==jr[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(jr.length===2){let t=D4(e),r=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this.panEnd.set(r,i)}else{if(e.pointerId!==jr[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=D4(e),r=e.pageX-t.x,i=e.pageY-t.y,n=Math.sqrt(r*r+i*i);this.dollyEnd.set(0,n),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){var e;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let t=(e=this.options)==null?void 0:e.showCameraLock;return t&&t(),!0}}else return!1}};function Ud(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function CY(e){return 1-Math.pow(1-e,4)}var _Y=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.page=i,this.currentIntersectedObjects=[],this.actions=No(t,t.actions,i,n,a,r),this.target=t.target,this.triggeringObjects=[];for(let o of t.triggeringObjects){let s=i.scene.find(o);s&&this.triggeringObjects.push(s)}}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){Fo(this.actions)}dispatch(){this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.actions.Transition.forEach(e=>{e.data.runMode==="Toggle"?e.toggle():e.play()}),this.actions.SwitchCamera.forEach(e=>{e.data.runMode==="Toggle"?e.toggle():e.play()}),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Particles.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}},Fi;G7e.then(e=>Fi=e);var za=new q,Du=new qr,qp=new q,WI=new lo(0,0,0,"YXZ"),SY=new lo(0,0,0,"XYZ"),Iu=new q,GI=new q,qI=new q(1,1,1),Jv=new qr,RB=new kt,EY=new kt,Urt={type:"updateMatrix"},BY=new qr,KI=new jl,hN={type:"beginEvent",eventName:"Collision"},Nrt={type:"beginEvent",eventName:"Trigger"};function krt(e){if(MC.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((r,i)=>{if(i.events){if(Array.isArray(i.events)){for(let n of i.events)if(n.data.disabled!==!0&&n.data.type==="GameControl"&&n.data.collisionEnabled){t=!0;break}}else for(let n of Object.values(i.events))if(n.disabled!==!0&&n.type==="GameControl"&&n.collisionEnabled){t=!0;break}}}),t}var ZP=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),jrt=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==Fi.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[r,i,n]=this.rigidBodyToMesh.get(t.handle);if(za.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),Du.copy(t.rotation()),r.matrixWorld.compose(za,Du,i),r.hasNonUniformScale&&r.matrixWorld.multiply(r.shearScale),r.dispatchEvent(Urt),n){let a=r.cloner;if(a&&a.objectForSample===void 0){a.matrixWorld.copy(r.matrixWorld);for(let o of a.children)o.updateMatrixWorld(!0)}for(let o of r.children)o.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,r,i)=>{var o,s,l,c;if(i===!1)return;let n,a;if(this.sensorToTriggerEvent[t]?(n=this.sensorToTriggerEvent[t],a=this.sharedGameControlGlobals.colliderToEntity.get(r)):this.sensorToTriggerEvent[r]&&(n=this.sensorToTriggerEvent[r],a=this.sharedGameControlGlobals.colliderToEntity.get(t)),n&&a&&n.isValidTriggeringObject(a)){n.dispatch();return}for(let u=this.sharedGameControlGlobals.createdObjects.length-1;u>=0;u--){let d=this.sharedGameControlGlobals.createdObjects[u];if(d.userData.hasCollisionDestroy&&(((o=d.rigidBody)==null?void 0:o.collider(0).handle)===t||((s=d.rigidBody)==null?void 0:s.collider(0).handle)===r)){this.sharedGameControlGlobals.createdObjects.splice(u,1),d.removeFromParent(),requestAnimationFrame(()=>{var h;return(h=this.sharedGameControlGlobals.rapierWorld)==null?void 0:h.removeRigidBody(d.rigidBody)});break}}if(((l=this.gameControl)==null?void 0:l.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let u=this.sharedGameControlGlobals.colliderToEntity.get(r),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,r)}else if(((c=this.gameControl)==null?void 0:c.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(r)){let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,t)}else{let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d!==void 0)for(let m of d)m.data.target==="scene"&&this.dispatchCollisionEvent(m,u,t);let h=this.sharedGameControlGlobals.colliderToEntity.get(r),f=this.sharedGameControlGlobals.entityToCollisionEvents[h==null?void 0:h.uuid];if(f!==void 0)for(let m of f)m.data.target==="scene"&&this.dispatchCollisionEvent(m,h,r)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=cde,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",r=>{"gamepad"in r.data&&"axes"in r.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(r.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{var r,i;let t=e.dataPatched;for(let n of t.events){if(n.data.disabled===!0)continue;let a=(i=(r=n.data.actions)==null?void 0:r.find(o=>o.data.type==="Destroy"))==null?void 0:i.data;if(a)for(let o of a.objects){let s=this.page.scene.find(o);s&&(s.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let r of t.events)if(!(r.data.disabled===!0||r.data.type!=="DragDrop"))for(let i of r.data.objects){let n=this.page.scene.find(i);n&&(n.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{var c,u;let r,i=t instanceof z5,n=t instanceof V5;if(t instanceof Gu||i||n)return;t instanceof Ps?r=t.object:r=t;let a=r.dataPatched;if(((c=a.physics)==null?void 0:c.enabled)==="visibility"?!a.visible:!((u=a.physics)!=null&&u.enabled))return!0;let o=t.geometry,s=r.userData.hasDestroy===!0,l=r.userData.hasDrag===!0;if(ZP(a)||s||l||r.dataPatched.events.some(d=>d.data.disabled!==!0&&d.data.type==="GameControl"))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;o&&e.push(uf(o,t.matrixWorld))}),e.length>0){let t=Im(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new w2(t)}}addRigidBody(e,t,r){let i=[],n="geometry"in e?e.geometry:void 0,a=t.dataPatched;if((n==null?void 0:n.getAttribute("position"))!==void 0&&i.push(uf(n,e.shearScale)),a.physics.fusedBody){let o=this.gatherChildrenGeom(e,i);e.traverseObject(o),e.children.forEach(l=>l.updateMatrixWorld(!0));let s=e.cloner;s&&s.objectForSample===void 0&&a.physics.rigidBody==="dynamic"&&(s.traverseObject(o),s.children.forEach(l=>l.updateMatrixWorld(!0)))}if(i.length>0){let o,s=!r.fromCreate&&a.physics.rigidBody==="dynamic"||r.fromCreate&&r.dynamic;s?(o=Fi.RigidBodyDesc.dynamic(),o.setLinearDamping(a.physics.damping).setAngularDamping(a.physics.damping).setAdditionalMass(1e-9).setGravityScale(a.physics.gravityScale).enabledRotations(...a.physics.enabledRotation).enabledTranslations(...a.physics.enabledTranslation)):(r.hasTransformAnim||r.hasFollow||r.hasDrag)&&!r.fromCreate?(o=Fi.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):o=Fi.RigidBodyDesc.fixed();let l=Im(i);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(za,Du,qp),e.position0=za.clone().divideScalar(this.pixelsPerMeter),e.rotation0=Du.clone(),za.divideScalar(this.pixelsPerMeter),o.setTranslation(za.x,za.y,za.z).setRotation(Du),n?l==null||l.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l==null||l.scale(qp.x/this.pixelsPerMeter,qp.y/this.pixelsPerMeter,qp.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(o);s&&this.rigidBodyToMesh.set(c.handle,[e,qp.clone(),a.physics.fusedBody]);let u=!(a.geometry===void 0||a.geometry.type==="SubdivGeometry"||a.geometry.type==="NonParametricGeometry"||a.geometry.type==="BooleanGeometry"||a.geometry.type==="VectorGeometry"||a.geometry.type==="StarGeometry"||a.geometry.type==="RectangleGeometry"||a.geometry.type==="EllipseGeometry"||a.geometry.type==="TriangleGeometry"||a.geometry.type==="TorusGeometry"||a.geometry.type==="HelixGeometry");try{this.addCollider(c,a.physics,l,t,u)}catch{try{this.addCollider(c,a.physics,l,t,!1)}catch(d){console.error(d)}}e.rigidBody=c}}addBoundsTree(e){var r,i;let t=[];if(((r=e.geometry)==null?void 0:r.getAttribute("position"))!==void 0&&((i=e.geometry)==null?void 0:i.getAttribute("position").count)>0&&t.push(uf(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=Im(t,!1);e.bvhGeometry=n,n.getAttribute("position").count>0&&(e.bvhGeometry.boundsTree=new w2(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e))}}addCollider(e,t,r,i,n=!0){var s,l;if((r==null?void 0:r.getAttribute("position").count)===0||((s=r==null?void 0:r.getIndex())==null?void 0:s.count)===0)return;let a;r&&(t.colliderType==="trimesh"?a=Fi.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array):a=Fi.ColliderDesc.convexMesh(r.getAttribute("position").array,n?r.getIndex().array:void 0)),a.setFrictionCombineRule(Fi.CoefficientCombineRule.Average).setRestitutionCombineRule(Fi.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let o=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e);this.sharedGameControlGlobals.colliderToEntity.set(o.handle,i),(l=this.sharedGameControlGlobals.entityToCollisionEvents[i.uuid])!=null&&l.some(c=>c.target==="scene")&&o.setActiveEvents(Fi.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(r,i)=>{var s;if(i===0)return;let n;if(r instanceof Gu)if(r.objectForSample){if(r.objectForSample.dataPatched.physics.fusedBody)return;n=r.object}else return r.object.dataPatched.physics.fusedBody===!0&&r.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(r instanceof Ps)n=r.object;else if(n=r,(s=n.dataPatched.cloner)==null?void 0:s.hideBase)return!0;let a=n.dataPatched;if(a.physics.enabled==="visibility"?!a.visible:!a.physics.enabled)return!0;i===1?e.hasNonUniformScale?r.matrixWorld.multiplyMatrices(e.shearScale,r.hiddenMatrix):r.matrixWorld.copy(r.hiddenMatrix):r.matrixWorld.multiplyMatrices(r.parent.matrixWorld,r.hiddenMatrix),r.matrixWorld.multiply(r.matrix);let o=r.geometry;(o==null?void 0:o.getAttribute("position"))!==void 0&&t.push(uf(o,r.matrixWorld))}}activate(e){var h,f;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,r=!1,i=5,n=8,a=9,o="drag",s=this.page.data.publish.gameControlObject,l=s!==null?this.page.find(s):null,c=null;if(l)for(let m of l.data.events){if(m.data.disabled||m.data.type!=="GameControl")continue;let A=l;for(;this.usePhysics&&((h=A=A.parent)==null?void 0:h.parent)!==null;)(f=A.data.physics)==null||f.fusedBody;m.data.collisionEnabled&&(this.needsCollisionDetection=!0),c===null&&(c=m.data)}if(this.page.traverseEntity(m=>{for(let A of m.dataPatched.events)if(A.data.disabled===!1&&A.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),l&&c&&(l.data.visible===!0||l.data.physics.enabled===!0)){r=r||c.camera===t.uuid||l.uuid===t.uuid;let m=new ude(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=m,i=c.joystickPosLoc,n=c.joystickRotLoc,a=c.jumpTouchButtonLoc,o=c.rotByTouch,pc&&c.touchControl&&(this.joystickToGameControls[i]="pos",c.moveMode==="walk"&&(this.joystickToGameControls[a]="jmp"),o==="joystick"&&(this.joystickToGameControls[n]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let m=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new Brt(this.usePhysics,this.isExport);let A;m.collider.type==="sphere"?A=m.collider.radius*2:A=m.collider.height,A=Math.floor(A/m.navmesh.ch-1),this.navigationMeshWrapper.init({...m.navmesh,walkableHeight:A},this.gameControl,this.eventContext)}}if(r===!1){let{enableRotate:m,enablePan:A,enableZoom:g,autoRotate:p,hoverRotatePanMode:v}=this.eventManager.publish.orbitControls;(m||A||g||p||v!==0)&&(this.orbitControls=new vde(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((m,A)=>{let g=document.body.appendChild(document.createElement("div")),[p,v,y]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[A],b=(u-5*p)/4+p,x={},w=m==="jmp",C=w?0:p;A<10?(A<5?x.top=C/2:x.bottom=C/2,x.left=C/2+A%5*b):A===10?(x.left=C/2,x.top=d/2):(x.right=C/2,x.top=d/2),x.top?x.top-=v[1]:x.bottom+=v[1],x.left?x.left+=v[0]:x.right-=v[0];for(let P in x)x[P]+="px";if(w){let P=g.appendChild(document.createElement("div"));Object.assign(P.style,x,{position:"absolute",width:p+"px",height:p+"px",backgroundColor:`rgba(255,255,255,${y==="show"?.4:0})`,zIndex:"9999",borderRadius:p+"px",border:y==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let M=p/16*16*.4;y==="show"&&(P.innerHTML=`
						<svg width="${M}" height="${p*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),P.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),P.addEventListener("touchend",O=>O.preventDefault()),this.joysticks[A]=[void 0,g];return}let _={zone:g,mode:"static",position:x,size:p};y==="hide"&&(_.restOpacity=0);let B=KZe.create(_);B.on("move",(P,M)=>{let O=this.gameControl;m==="pos"?M.force<.2?O.moveForce=0:(O.movementState.movePosZ=Math.sin(-M.angle.radian),O.movementState.movePosX=Math.cos(-M.angle.radian),M.force>1.2?O.movementState.run=1:O.movementState.run=0,M.force<.3?O.moveForce=(M.force-.2)/.1:O.moveForce=1):m==="rot"&&(M.force<.2?O.rotForce=0:(O.movementState.rotPosX=M.vector.y,O.movementState.rotPosY=-M.vector.x,M.force<.3?O.rotForce=(M.force-.2)/.1:O.rotForce=1)),this.requestRender()}),B.on("end",(P,M)=>{let O=this.gameControl;m==="pos"?(O.movementState.movePosZ=0,O.movementState.movePosX=0,O.moveForce=1):m==="rot"&&(O.movementState.rotPosX=0,O.movementState.rotPosY=0,O.rotForce=1)}),this.joysticks[A]=[B,g]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(m=>m.initialDisabled=!1)},80)}initPhysics(){var o;(o=this.sharedGameControlGlobals.rapierWorld)==null||o.free(),this.sharedGameControlGlobals.rapierWorld=new Fi.World(new Fi.Vector3(0,this.gravity,0)),this.events=new Fi.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(s=>{var p,v,y,b;let l;if(s instanceof Gu)if(s.objectForSample){if(s.objectForSample.dataPatched.physics.fusedBody)return;l=s.object}else return s.object.dataPatched.physics.fusedBody===!0&&s.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(s instanceof Ps)l=s.object;else{if(s instanceof V5||s instanceof z5)return;if(l=s,((p=l.dataPatched.cloner)==null?void 0:p.disabled)===!1&&((v=l.dataPatched.cloner)==null?void 0:v.hideBase)&&((y=l.dataPatched.physics)==null?void 0:y.fusedBody)!==!0)return!0}let c=l.dataPatched,u;for(let x of c.events)x.data.disabled!==!0&&x.data.type==="GameControl"&&(u=x.data);if(!c.physics||(c.physics.enabled==="visibility"?!c.visible:!c.physics.enabled))return!0;s.updateMatrixWorldSVD();let d=ZP(c),h=!1,f=l.userData.hasDestroy,m=l.userData.hasDrag,A=!1;for(let x of c.events)if(x.data.disabled!==!0){if(x.data.type==="Collision"){h=!0;let w=new grt(x.id,x.data,l,this.page,this.sharedAssets,this.eventManager);w.initialDisabled=!0,this.collisionEvents.push(w),this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid].every(C=>C.id!==x.id)?this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid].push(w):this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid]=[w]}else if(x.data.type==="Follow"){A=!0;let w=x.data.target;s.traverseVisible(C=>{C.userData.isFollowingObj=w})}}c.physics.rigidBody==="dynamic"&&c.physics.fusedBody===!1&&(s.matrixWorldFusedFalse=s.matrixWorld.clone());let g=s.geometry;if(u!==void 0){let x=Fi.RigidBodyDesc.kinematicPositionBased();(s.hasNonUniformScale?s.matrixWorldRigid:s.matrixWorld).decompose(za,Du,qp),s.position0=za.clone().divideScalar(this.pixelsPerMeter),s.rotation0=Du.clone(),za.divideScalar(this.pixelsPerMeter),x.setTranslation(za.x,za.y,za.z).setRotation(Du);let w=this.sharedGameControlGlobals.rapierWorld.createRigidBody(x);s.rigidBody=w;let C;u.collider.type==="sphere"?C=Fi.ColliderDesc.ball(u.collider.radius/this.pixelsPerMeter):u.collider.type==="capsule"?C=Fi.ColliderDesc.capsule((u.collider.height/2-u.collider.radius)/this.pixelsPerMeter,u.collider.radius/this.pixelsPerMeter):C=Fi.ColliderDesc.cuboid(u.collider.width/this.pixelsPerMeter/2,u.collider.height/this.pixelsPerMeter/2,u.collider.depth/this.pixelsPerMeter/2),C.setFrictionCombineRule(Fi.CoefficientCombineRule.Average).setRestitutionCombineRule(Fi.CoefficientCombineRule.Average).setDensity(c.physics.density).setFriction(c.physics.friction).setRestitution(c.physics.restitution);let _=this.sharedGameControlGlobals.rapierWorld.createCollider(C,w);this.sharedGameControlGlobals.colliderToEntity.set(_.handle,l),za.fromArray(u.collider.position).multiply(qp.setFromMatrixScale(l.matrixWorld)).divideScalar(this.pixelsPerMeter),_.setTranslationWrtParent(za);let B=new qr().setFromEuler(new lo().setFromVector3(new q().fromArray(u.collider.rotation)));_.setRotationWrtParent(B),_.setActiveEvents(Fi.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(l,!0)}else c.physics.rigidBody==="dynamic"||d||A||f||m||h?(this.addRigidBody(s,l,{hasFollow:A,hasTransformAnim:d,hasDrag:m}),this.generateSensorColliderDescs(l,c.physics.fusedBody)):(g&&e.push(uf(g,s.matrixWorld)),c.physics.fusedBody&&s.traverseObject((x,w)=>{var P;if(w===0)return;let C;if(x instanceof Gu)if(x.objectForSample){if(x.objectForSample.dataPatched.physics.fusedBody)return;C=x.object}else return x.object.dataPatched.physics.fusedBody===!0&&x.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else{if(x instanceof V5||x instanceof z5)return;if(x instanceof Ps)C=x.object;else if(C=x,(P=C.dataPatched.cloner)==null?void 0:P.hideBase)return!0}let _=C.dataPatched;if(_.physics.enabled==="visibility"?!_.visible:!_.physics.enabled)return!0;let B=x.geometry;(B==null?void 0:B.getAttribute("position"))!==void 0&&e.push(uf(B,x.matrixWorld))}),this.generateSensorColliderDescs(l,c.physics.fusedBody,t));if(((b=c.physics)==null?void 0:b.fusedBody)===!0||u)return!0}),e.length===0)return;let r=Im(e);r.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let i=Fi.RigidBodyDesc.fixed(),n=this.sharedGameControlGlobals.rapierWorld.createRigidBody(i),a=Fi.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array).setFrictionCombineRule(Fi.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Fi.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(a,n);for(let[s,l]of t){let c=this.sharedGameControlGlobals.rapierWorld.createCollider(s,n);this.sensorToTriggerEvent[c.handle]=l}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let r=new _Y(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),i=new kt().compose(Iu.fromArray(t.data.position),Jv.setFromEuler(SY.fromArray(t.data.rotation)),qI);if(t.data.triggerZone==="box"){let n=new Fa;n.min.fromArray(t.data.size).multiplyScalar(-.5),n.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([n,i,e,r])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,i,e,r])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var e,t,r,i;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(n=>{let a=n;a.matrixWorldFusedFalse&&(a.matrixWorldFusedFalse=void 0),a.rigidBody&&(a.rigidBody=void 0),a.position0&&(a.position0=void 0),a.rotation0&&(a.rotation0=void 0)}),(e=this.sharedGameControlGlobals.rapierWorld)==null||e.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(t=this.gameControl)==null||t.reset(),(r=this.gameControl)==null||r.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([n,a])=>{n==null||n.destroy(),a.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(i=this.navigationMeshWrapper)==null||i.dispose(),this.navigationMeshWrapper=void 0;for(let n of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))n.forEach(a=>a.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,r){if(!this.isEnabled)return!0;let i=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(i=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,i=!1):this.initializationCounter===2&&this.gameControl&&(i=!this.gameControl.update(e,t,r)&&i),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let n=.016666666666666666;if(e===0)i=this.stepPhysics()&&i;else{let a=e/1e3;a<n&&a>n*.55&&(a=n),this.accumulator+=a;let o=performance.now(),s=0,l=6;for(;this.accumulator>=n&&s<l&&(i=this.stepPhysics()&&i,this.accumulator-=n,s++,!(performance.now()-o>n*1e3)););this.accumulator=this.accumulator%n}}return i}stepPhysics(){var e;for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(za,Du,qp),WI.setFromQuaternion(Du);let r=t;r.prevR===void 0?(r.prevR=WI.clone(),r.prevT=za.clone()):(r.prevR.copy(WI),r.prevT.copy(za)),t.rigidBody&&(t.rigidBody.setNextKinematicTranslation(za.divideScalar(this.pixelsPerMeter)),t.rigidBody.setNextKinematicRotation(Du))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(e=this.events)==null||e.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,r){var a;let i=((a=this.sharedGameControlGlobals.rapierWorld)==null?void 0:a.getCollider(r))._parent,n;if(t.cloner){for(let o of t.cloner.children)if(o.rigidBody===i){n=o;break}}e.dispatch(n),t.dispatchEvent(hN)}updateUseWindowEvents(e){var t;(t=this.orbitControls)==null||t.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,r){let i=EY.copy(e.matrixWorld).invert();e.traverseEntity((n,a)=>{if(t===!1&&a===1)return!0;for(let o of n.dataPatched.events)if(o.data.type==="Trigger"&&o.data.disabled!==!0){let s=new _Y(o.id,o.data,n,this.page,this.sharedAssets,this.eventManager),l;if(o.data.triggerZone==="box"?l=Fi.ColliderDesc.cuboid(...o.data.size.map(c=>c/(2*this.pixelsPerMeter))):l=Fi.ColliderDesc.ball(o.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(Fi.ActiveEvents.COLLISION_EVENTS),Iu.fromArray(o.data.position),Jv.setFromEuler(SY.fromArray(o.data.rotation)),RB.compose(Iu,Jv,qI).premultiply(n.matrixWorld),r?(RB.decompose(Iu,Jv,GI),l.setActiveCollisionTypes(Fi.ActiveCollisionTypes.KINEMATIC_FIXED|Fi.ActiveCollisionTypes.DYNAMIC_FIXED)):(RB.premultiply(i).decompose(Iu,Jv,GI),e.rigidBody.bodyType()===Fi.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Fi.RigidBodyType.Fixed?l.setActiveCollisionTypes(Fi.ActiveCollisionTypes.KINEMATIC_FIXED|Fi.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(Fi.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Fi.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Iu.divideScalar(this.pixelsPerMeter),l.setTranslation(Iu.x,Iu.y,Iu.z),l.setRotation(Jv),r)r.push([l,s]);else{let c=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[c.handle]=s}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[r,i,n,a]=this.sharedGameControlGlobals.triggers[t];for(let o=0;o<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;o++){let s=this.sharedGameControlGlobals.entitiesWithTransformAnim[o];if(n===s||a.isValidTriggeringObject(Oi.is(s)?s:s.object)===!1)continue;let l=EY.copy(n.matrixWorld).decompose(Iu,BY,GI).compose(Iu,BY,qI).multiply(i),c=RB.copy(s.matrixWorld).invert().multiply(l);r instanceof Fa?e=s.bvhGeometry.boundsTree.intersectsBox(r,c):(KI.radius=r,KI.center.setFromMatrixPosition(c),e=s.bvhGeometry.boundsTree.intersectsSphere(KI)),e?a.currentIntersectedObjects.indexOf(s)===-1&&(a.currentIntersectedObjects.push(s),a.dispatch(),n.dispatchEvent(Nrt)):a.currentIntersectedObjects=a.currentIntersectedObjects.filter(u=>u!==s)}}}};function zrt(e){let t=this._clip.duration,r=this._clip.start??0,i=this.loop,n=this.time+e,a=this._loopCount,o=i===oz;if(e===0)return a===-1?n:o&&(a&1)===1?t-(n-r):n;if(i===Boe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),n>=t||n<r){let s=Math.floor((n-r)/(t-r));n-=(t-r)*s,a+=Math.abs(s);let l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o||(n=e>0?t:r,this.repetitions===1&&(n=t)),this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=n;if(o&&(a&1)===1)return t-(n-r)}return n}var MY=!1,Hrt=class{constructor(e,t,r,i){this.scene=e,this.requestRender=t,this.updateDisplayProgress=r,this.animationInspectorState=i,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=n=>{n.data.type==="Empty"&&n.data.animations&&n.data.animations.forEach((a,o)=>{let s=a[0]+"/";if(Array.isArray(n.identity)?s+=n.identity[0]:s+=n.uuid,this.clipIdToAction[s])return;let l=_R.parse(JSON.parse(a[2]));n.animations[o]=l;let c=this.mixer.clipAction(l,n);MY===!1&&(Object.getPrototypeOf(c)._updateTime=zrt,MY=!0),c.clampWhenFinished=!0,this.clipIdToAction[s]=c})},this.mixer=new ike(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let r=this.scene.find(t);if(!r)return;let i=r.animations.find(a=>a.uuid===e);if(!i)return;let n=this.clipIdToAction[e];!n||(n.stop(),this.mixer.uncacheClip(i),delete this.clipIdToAction[e],r.animations=r.animations.filter(a=>a.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=Moe}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,r=this.clipIdToAction[t];if(r)return e&&(e.repeat>=0&&(r.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(r.loop=oz)),r.play(),r.paused=!1,this.requestRender(),r}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){var t;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(t=this.animationInspectorState)!=null&&t.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*(this.maxFrames-1)%(this.maxFrames-1))),this.requestRender()}get maxFrames(){return tde(this.activeClip??void 0)}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let r=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(e/(this.maxFrames-1),.9999)*this.activeClip.duration),this.requestRender(),r&&(this.clipIdToAction[t].paused=!0)}},XI=new WeakMap,Vrt=class extends m_{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){let n=new SR(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,a=>{this.decodeDracoFile(a,t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){let n={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};return this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){let r=JSON.stringify(t);if(XI.has(e)){let s=XI.get(e);if(s.key===r)return s.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i,n=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(n,a).then(s=>(i=s,new Promise((l,c)=>{i._callbacks[n]={resolve:l,reject:c},i.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(s=>this._createGeometry(s.geometry));return o.catch(()=>!0).then(()=>{i&&n&&this._releaseTask(i,n)}),XI.set(e,{key:r,promise:o}),o}_createGeometry(e){let t=new Mr;e.index&&t.setIndex(new Qr(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r],n=i.name,a=i.array,o=i.itemSize;t.setAttribute(n,new Qr(a,o))}return t}_loadLibrary(e,t){let r=new SR(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,n)=>{r.load(e,i,void 0,n)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{let i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);let n=Qrt.toString(),a=["/* draco decoder */",i,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(n){let a=n.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,n){return i._taskLoad>n._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function Qrt(){let e,t;onmessage=function(o){let s=o.data;switch(s.type){case"init":e=s.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(e)});break;case"decode":let l=s.buffer,c=s.taskConfig;t.then(u=>{let d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{let m=r(d,h,f,c),A=m.attributes.map(g=>g.array.buffer);m.index&&A.push(m.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:m},A)}catch(m){console.error(m),self.postMessage({type:"error",id:s.id,error:m.message})}finally{d.destroy(f),d.destroy(h)}});break}};function r(o,s,l,c){let u=c.attributeIDs,d=c.attributeTypes,h,f,m=s.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)h=new o.Mesh,f=s.DecodeBufferToMesh(l,h);else if(m===o.POINT_CLOUD)h=new o.PointCloud,f=s.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());let A={index:null,attributes:[]};for(let g in u){let p=self[d[g]],v,y;if(c.useUniqueIDs)y=u[g],v=s.GetAttributeByUniqueId(h,y);else{if(y=s.GetAttributeId(h,o[u[g]]),y===-1)continue;v=s.GetAttribute(h,y)}A.attributes.push(n(o,s,h,g,p,v))}return m===o.TRIANGULAR_MESH&&(A.index=i(o,s,h)),o.destroy(h),A}function i(o,s,l){let c=l.num_faces()*3,u=c*4,d=o._malloc(u);s.GetTrianglesUInt32Array(l,u,d);let h=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:h,itemSize:1}}function n(o,s,l,c,u,d){let h=d.num_components(),f=l.num_points()*h,m=f*u.BYTES_PER_ELEMENT,A=a(o,u),g=o._malloc(m);s.GetAttributeDataArrayForAllPoints(l,d,A,m,g);let p=new u(o.HEAPF32.buffer,g,f).slice();return o._free(g),{name:c,array:p,itemSize:h}}function a(o,s){switch(s){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}var PA;function Wrt(){return PA||(PA=new Vrt,PA.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),PA.decoderPending}async function Grt(e){if(PA){let t={attributeIDs:PA.defaultAttributeIDs,attributeTypes:PA.defaultAttributeTypes,useUniqueIDs:!1},r;try{r=await PA.decodeGeometry(new Int8Array(e).buffer,t)}catch(i){console.error(i)}if(r)return{index:r.index?{array:r.index.array}:void 0,attributes:Object.entries(r.attributes).map(([i,n])=>({name:i,itemSize:n.itemSize,array:n.array}))}}return null}async function qrt(e,t){let[r,i]=dle(jR.deserialize(new Uint8Array(e)));return Rle(r),t&&t(r),i.result().data}function Krt(e){let t=[];return e.scene.objects.traverse((r,i)=>{i.type==="Mesh"&&i.geometry.type==="NonParametricGeometry"&&i.geometry.data.draco!==void 0&&t.push(i)}),t}async function Xrt(e){for(let t of e){let r=await Grt(t.geometry.data.draco);if(r){let i=t.geometry.data;r.index&&(i.index={array:r.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let n={};r.attributes.forEach(({name:a,array:o,itemSize:s})=>{n[a]={array:o,itemSize:s,type:"Float32Array",normalized:!1}}),i.attributes=n,i.draco=void 0}}}var Yrt=class{constructor(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0],this._delay=500,this._distance=2,this._onMouseDown=e=>{let t=[e.clientX,e.clientY],r=new Date().getTime();if(this._clickCount>0){let i=t[0]-this._lastPosition[0],n=t[1]-this._lastPosition[1];Math.sqrt(i*i+n*n)>this._distance&&(this._clickCount=0)}this._lastPosition=t,this._clickCount=r-this._lastTime>this._delay?1:this._clickCount+1,this._lastTime=r},this._onMouseUp=e=>{}}start(e,t=500,r=2){this._target&&this.stop(),this.reset(),this._delay=t,this._distance=r,this._target=e,this._target.addEventListener("pointerdown",this._onMouseDown,!1),this._target.addEventListener("pointerup",this._onMouseUp,!1)}stop(){this._target&&(this._target.removeEventListener("pointerdown",this._onMouseDown,!1),this._target.removeEventListener("pointerup",this._onMouseUp,!1),this._target=void 0)}get clickCount(){return this._clickCount}reset(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0]}},$rt=class{constructor(e,t,r,i,n,a,o,s){this.eventId=e,this.id=t,this.data=r,this.dataEvent=i,this.object=n,this.stage=!1,this.actions=No(i,r.actions,a,o,s,n)}disconnect(){Fo(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},Jrt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(r,i)=>{this.breakpoints.forEach(n=>{let a=QR.deviceToSize(n.data.size),o=n.dataEvent.orientation==="horizontal"?r:i,s;switch(n.data.operator){case"<":s=o<a[0];break;case">":s=o>a[0];break;case"<>":s=o>a[0]&&o<a[1];break}n.stage!==s&&(n.stage=s,n.stage?n.dispatchIn():n.dispatchOut())})},this.onResizeObserver=new ResizeObserver(r=>{for(let i of r){let{width:n,height:a}=i.contentRect;this.resize(n,a)}})}connect(){let{page:e,sharedAssets:t,domElement:r}=this.eventContext;this.onResizeObserver.observe(r);let i=n=>{var a;if(!(!n.visible||!((a=n.data)!=null&&a.events.length)))for(let{data:o,id:s}of n.data.events)o.disabled||o.type==="Resize"&&o.breakpoints.forEach(({data:l,id:c})=>{try{let u=new $rt(s,c,l,o,n,e,t,this.eventManager);this.breakpoints.push(u)}catch{}})};e.traverseEntity(n=>{var a;(n instanceof Es||n instanceof Bo)&&((a=n.frame)==null||a.traverse(o=>{i(o)})),i(n)})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},Zrt=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.userAPIs={},this.events=[],this.onSuccess=({userAPIId:r})=>{this.events.forEach(i=>{i.data.userAPIId===r&&i.dispatchSuccess()})},this.onError=({userAPIId:r})=>{this.events.forEach(i=>{i.data.userAPIId===r&&i.dispatchError()})},this.userAPIs=e.sharedAssets.getUserAPIs()}connect(){this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(r=>r.data.type==="API"&&!r.data.disabled).forEach(r=>{this.events.push(new eit(r.id,r.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userAPIs).forEach(([e,t])=>{t.on("success",this.onSuccess),t.on("error",this.onError),t.autostart&&t.callUserAPI(this.eventContext.sharedAssets)})}disconnect(){Object.entries(this.userAPIs).forEach(([e,t])=>{t.off("success",this.onSuccess),t.off("error",this.onError)})}},eit=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.successActions=No(t,t.successActions,i,n,a,r),this.errorActions=No(t,t.errorActions,i,n,a,r)}dispatchSuccess(){this.dispatchActions(this.successActions)}dispatchError(){this.dispatchActions(this.errorActions)}dispatchActions(e){e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},tit=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this.userWebhooks={},this.events=[],this.onMessage=({userWebhookId:r})=>{this.events.forEach(i=>{i.data.userWebhookId===r&&i.dispatch()})},this.userWebhooks=e.sharedAssets.getUserWebhooks()}connect(){this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(r=>r.data.type==="WEBHOOK"&&!r.data.disabled).forEach(r=>{this.events.push(new rit(r.id,r.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userWebhooks).forEach(([e,t])=>{t.connect(),t.on("message",this.onMessage)})}disconnect(){Object.entries(this.userWebhooks).forEach(([e,t])=>{t.off("message",this.onMessage),t.disconnect()})}},rit=class{constructor(e,t,r,i,n,a){this.id=e,this.data=t,this.object=r,this.actions=No(t,t.actions,i,n,a,r)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}};function iit(){let e=document.createElement("textarea");return e.style.position="fixed",e.style.top="200px",e.style.left="400px",e.style.zIndex="-1",e.style.border="1px solid rgba(255,0,0,0.5)",e.style.width="10px",e.style.height="500px",e.style.color="white",e.style.opacity="0.5",e.style.background="transparent",e.style.display="none",e.style.margin="0px",e.style.padding="0px",e.style.boxSizing="content-box",e.style.pointerEvents="none",e}var nit=new q(0,0,1),PY=new q,TY=new q,OY=new Ka,ait=class{constructor(e,t,r,i,n){this.containerScene=e,this.raycaster=t,this.sharedAssets=r,this.requestRender=i,this.onExit=n,this.htmlInput=null,this.virtualInput=null,this.helper=new cue,this.doubleClickHandler=new Yrt,this.isDragging=!1,this.plane=new Bl,this.caretInterval=0,this.planeIntersection=new q,this.projected=new ke,this._lastIndex=0,this._isFirstDragMove=!1,this.selectionOnDragStart=0,this.onTextMaterialChanged=()=>{var o;let a=(o=this.virtualInput)==null?void 0:o.data;if(this.virtualInput!==void 0&&a){let s=a.material,l=typeof s=="string"?this.sharedAssets.data.materials[s]:s,c=mJe(l,this.sharedAssets);this.helper.setCaretColor(c)}},this.stopAnimateTextCursor=()=>{clearInterval(this.caretInterval),this.helper&&(this.helper.caretMesh.visible=!1)},this.startAnimateTextCursor=()=>{this.stopAnimateTextCursor(),this.helper&&(this.helper.caretMesh.visible=!0,this.caretInterval=setInterval(()=>{this.helper&&(this.helper.caretMesh.visible=!this.helper.caretMesh.visible),this.requestRender()},600))},this.handleCaretUpdate=a=>{if(!this.htmlInput||!this.virtualInput)return;let o=this.helper,s=(a==null?void 0:a.key)==="ArrowLeft"||(a==null?void 0:a.key)==="ArrowRight",l=(a==null?void 0:a.key)==="ArrowUp"||(a==null?void 0:a.key)==="ArrowDown";this.htmlInput.selectionStart===this.htmlInput.selectionEnd?(o.setCaretPosition(this.htmlInput.selectionStart,{horizontalKeyMove:s,verticalKeyMove:l}),this.startAnimateTextCursor()):o.setSelection(this.htmlInput.selectionStart,this.htmlInput.selectionEnd),this.requestRender()},this.containerScene.add(this.helper)}createInput(){return this.htmlInput=iit(),this.htmlInput}connect(){}disconnect(){var e;this.stopAnimateTextCursor(),this.helper.hide(),(e=this.htmlInput)==null||e.remove(),this.doubleClickHandler.stop()}handleMouseDown(){var a;if(!this.htmlInput||!this.virtualInput)return!0;this.getPointOnPlane();let e=this.doubleClickHandler.clickCount,{index:t,lineIndex:r,characterIndex:i}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,e>1?"inside":"previous")??{index:0,lineIndex:0,characterIndex:0};((a=this.virtualInput)==null?void 0:a.wrappedText[r][Math.max(0,i-1)])===`
`&&(t--,i--),this._lastIndex=t,this._isFirstDragMove=!0;let n=this.checkClickedObject();if(e===1){if(n===null)return this.onExit(this.virtualInput),!0;this.selectionOnDragStart=t,this.isDragging=!0,this.setInputSelection(t)}else n===this.virtualInput&&(e===2?this.selectClosestWord(r,i):e>2&&(this.setInputSelection(0,this.htmlInput.value.length),this.doubleClickHandler.reset()))}handleMouseUp(){this.applyRangeToTextInput(),this.isDragging=!1,this._isFirstDragMove=!1}handleMouseMove(){!this.virtualInput||(this._isFirstDragMove&&this.doubleClickHandler.clickCount>1&&(this.selectionOnDragStart=this._lastIndex,this.isDragging=!0,this.setInputSelection(this._lastIndex)),this._isFirstDragMove=!1,this.getPointOnPlane(),this.applyRangeToTextInput())}focus(e){var t;if(this.virtualInput=e,this.updateTextInputStyles(),this.htmlInput)if(e){let r=(t=this.data)==null?void 0:t.geometry.text;this.htmlInput.value=typeof r=="string"?"":(r==null?void 0:r.textValue.toString())??""}else this.htmlInput.value=""}blur(){}get data(){let{virtualInput:e}=this;if(e)return e.dataPatched}applyRangeToTextInput(){var n;if(!this.isDragging||!this.virtualInput||!this.htmlInput)return;let e=this.selectionOnDragStart,{index:t,lineIndex:r,characterIndex:i}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,this.doubleClickHandler.clickCount>2?"inside":"previous")??{index:0};r!==void 0&&i!==void 0&&((n=this.virtualInput)==null?void 0:n.wrappedText[r][i-1])===`
`&&t--,this.htmlInput.setSelectionRange(Math.min(e,t),Math.max(e,t))}checkClickedObject(){if(this.virtualInput){let e=this.raycaster.intersectObject(this.virtualInput,!1);if(e.length>0){let t=e[0];if(t.object instanceof S6)return t.object}}return null}selectClosestWord(e,t){if(!this.virtualInput)return;let r=this.virtualInput.wrappedText,i=r[e],n=t+1,a=t;i[t]!==" "&&(n=this.findNextCharOccurence(i,t,"forward"," "),a=this.findNextCharOccurence(i,t,"backward"," "),a>0&&a++,n>=i.length-1&&e===r.length-1&&n++);let o=this.helper,s=o.getGlobalIndexFromLineAndCharIndexes(r,e,a),l=o.getGlobalIndexFromLineAndCharIndexes(r,e,n);this.setInputSelection(s,l)}findNextCharOccurence(e,t,r,i=" "){let n=Math.max(0,e.length-1),a=r==="forward"?n:0,o=r==="forward"?1:-1,s=Math.max(Math.min(t,n),0);for(;s!==a;)if(s+=o,e.charAt(s)===i)return s;return a}getPointOnPlane(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;if(!(!this.virtualInput||!e)&&this.raycaster.ray.intersectsPlane(this.plane)){this.planeIntersection===null&&(this.planeIntersection=new q);let r=this.raycaster.ray.intersectPlane(this.plane,this.planeIntersection);if(r){this.planeIntersection.copy(this.virtualInput.worldToLocal(r));let i=typeof e.geometry.width=="number"?e.geometry.width:1,n=typeof e.geometry.height=="number"?e.geometry.height:1;this.projected.set(r.x+i*.5,r.y-n*.5)}}}updatePlane(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;this.virtualInput&&e&&(OY.getNormalMatrix(this.virtualInput.matrixWorld),PY.copy(nit).applyMatrix3(OY).normalize(),this.virtualInput.localToWorld(TY.set(0,0,e.geometry.depth)),this.plane.setFromNormalAndCoplanarPoint(PY,TY))}setInputSelection(e,t=e){var r;(r=this.htmlInput)==null||r.setSelectionRange(e,t),setTimeout(()=>{var i;(i=this.htmlInput)==null||i.focus()})}updateTextInputStyles(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;this.virtualInput&&e&&this.htmlInput&&(this.htmlInput.style.fontSize=e.geometry.fontSize+"px",this.htmlInput.style.letterSpacing=e.geometry.letterSpacing*e.geometry.fontSize+"px",this.htmlInput.style.lineHeight=e.geometry.fontSize*e.geometry.lineHeight+"px",this.htmlInput.style.width=e.geometry.width+"px",this.htmlInput.style.height=e.geometry.height+"px",this.htmlInput.style.textAlign=oit(e.geometry.horizontalAlign))}};function oit(e){return e===4?"justify":e===2?"right":e===3?"center":"left"}var yde=(e,t)=>{if(typeof e=="string"){let r=t.data(e);if(r)return yde(r.value,t)}return es.getDisplayedValue(e)};function DY(e,t){let r=e.text,i="";if(typeof r=="string"){let n=t.variables.data(i);n&&(i=yde(n.value,t.variables))}else i=r.textValue.toString();return i}var sit=class extends Vl{constructor(e,t){super(e),this.eventManager=t,this._textInputs=[],this.sceneHelpers=new uh,this.helper=new cue,this._onMouseDownFocusIn=r=>{if(jr.length>1)return;this.eventContext.updateRaycaster(r);let i=null;if(this.eventContext.raycaster){for(let n of this._textInputs)if(this.eventContext.raycaster.intersectObject(n,!0).length>0){i=n;break}}this.focusOnTextInput(i),this._onCaretUpdate(),this._onMouseUp(),this.textInputManager.doubleClickHandler.start(this.eventContext.domElement),this.textInputManager.doubleClickHandler._onMouseDown(r),this._onMouseDown(r)},this.onExit=()=>{let{virtualInput:r}=this.textInputManager;if(r===null)return;let i=this.textInputManager.htmlInput;this.helper.hide(),i==null||i.setSelectionRange(i.value.length,i.value.length),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0);let{domElement:n}=this.eventContext;n.removeEventListener("pointerdown",this._onMouseDown,!1),n.removeEventListener("pointerup",this._onMouseUp,!1),n.removeEventListener("pointermove",this._onMouseMove,!1),window.removeEventListener("keydown",this._onKeyPress),this.textInputManager.doubleClickHandler.reset(),n.addEventListener("pointerdown",this._onMouseDownFocusIn),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers()},this._onMouseDown=r=>{this.eventContext.updateRaycaster(r),this.textInputManager.handleMouseDown(),this.textInputManager.virtualInput&&this.eventContext.raycaster.intersectObject(this.textInputManager.virtualInput,!0).length>0&&this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1)},this._onMouseUp=()=>{this.textInputManager.handleMouseUp(),this.eventManager.controlsManager.orbitControls&&!this.eventManager.controlsManager.orbitControls.enabled&&(this.eventManager.controlsManager.orbitControls.enabled=!0)},this._onMouseMove=r=>{this.eventContext.updateRaycaster(r),this.textInputManager.handleMouseMove()},this._onTextEdit=r=>{let{htmlInput:i,virtualInput:n,helper:a}=this.textInputManager;if(!i||!n)return;let o=i.value;n.textGeometry.setText(o).then(()=>{this.eventContext.requestRender()});let s=n.data;a.update();let l=s.geometry.text;if(typeof l=="string"){let c=l;this.eventContext.sharedAssets.updateVariable(c,{textValue:o})}this.textInputManager.updateTextInputStyles(),this._onCaretUpdate()},this._onCaretUpdate=r=>{this.textInputManager.handleCaretUpdate(r)},this._onKeyPress=r=>{r.key==="Escape"&&this.onExit()},this.textInputManager=new ait(this.sceneHelpers,e.raycaster,e.sharedAssets,e.requestRender,this.onExit)}connect(){let e=[];if(this.eventContext.scene.traverseEntity(i=>{i instanceof S6&&e.push(i)}),this._textInputs=e,e.length===0)return;let{domElement:t}=this.eventContext;t.addEventListener("pointerdown",this._onMouseDownFocusIn),this.textInputManager.connect();let r=this.textInputManager.createInput();document.body.appendChild(r),r.style.display="none",r.addEventListener("keyup",this._onCaretUpdate),r.addEventListener("keydown",this._onCaretUpdate),r.addEventListener("beforeinput",this._onCaretUpdate),r.addEventListener("paste",this._onCaretUpdate),r.addEventListener("cut",this._onCaretUpdate),r.addEventListener("select",this._onCaretUpdate),r.addEventListener("selectstart",this._onCaretUpdate)}disconnect(){let e=this.textInputManager.htmlInput,{domElement:t}=this.eventContext;t.removeEventListener("pointerdown",this._onMouseDownFocusIn),e==null||e.removeEventListener("keyup",this._onCaretUpdate),e==null||e.removeEventListener("keydown",this._onCaretUpdate),e==null||e.removeEventListener("beforeinput",this._onCaretUpdate),e==null||e.removeEventListener("paste",this._onCaretUpdate),e==null||e.removeEventListener("cut",this._onCaretUpdate),e==null||e.removeEventListener("select",this._onCaretUpdate),e==null||e.removeEventListener("selectstart",this._onCaretUpdate),this._textInputs.forEach(r=>{let i=DY(r.data.geometry,this.eventContext.sharedAssets.data);r.textGeometry.setText(i)}),t.removeEventListener("pointerdown",this._onMouseDown,!1),t.removeEventListener("pointerup",this._onMouseUp,!1),t.removeEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers(),this.textInputManager.disconnect()}focusOnTextInput(e){this.textInputManager.focus(e),this.textInputManager.onTextMaterialChanged();let t=this.textInputManager.htmlInput;if(!t||e===null)return;this.textInputManager.updateTextInputStyles(),this.eventContext.renderer.sceneHelpersOnTop=this.sceneHelpers,this.eventContext.renderer.pipeline.enableHelpers(),this.textInputManager.isDragging=!1;let r=DY(e.textGeometry.userData.parameters,this.eventContext.sharedAssets.data);t.value=r,t.setSelectionRange(0,0),this.textInputManager.helper.show(e),t.style.display="block",t.addEventListener("input",this._onTextEdit),this.textInputManager.updatePlane();let{domElement:i}=this.eventContext;i.removeEventListener("pointerdown",this._onMouseDownFocusIn),i.addEventListener("pointerdown",this._onMouseDown,!1),i.addEventListener("pointerup",this._onMouseUp,!1),i.addEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress)}},lit=class{constructor(e,t,r,i,n){this.publish=e,this.controlsManager=t,this.animationControls=r,this.eventContext=i,this.sharedVariables=n,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=a=>{let o=window.parent!==window,s=document.documentElement.scrollHeight>document.documentElement.clientHeight||document.documentElement.scrollWidth>document.documentElement.clientWidth;(a.touches.length>1||this.preventTouchScroll||o===!1&&s===!1)&&a.preventDefault()},this.onMouseWheelPreventScroll=a=>{this.preventScroll&&a.preventDefault()},this.onMouseMove=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:a.buttons>0}},this.onMouseDown=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:!0}},this.onMouseUp=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:!1}},this.getMousePosition=a=>{var c;let{domRect:o}=this.eventContext,{pageX:s,pageY:l}=((c=a.touches)==null?void 0:c.length)>0?a.touches[0]:a;return{x:s-(o.left+window.scrollX),y:l-(o.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=i.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new ktt(this.eventContext),VariableChange:new mrt(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),API:new Zrt(this.eventContext,this),WEBHOOK:new tit(this.eventContext,this),Conditional:new Gtt(this.eventContext,this),Start:new Art(this.eventContext,this),Basic:new ztt(this.eventContext,this,this.needsRaycast),MouseHover:new urt(this.eventContext,this),Scroll:new frt(this.eventContext,this),Follow:new rrt(this.eventContext,this),DragDrop:new $tt(this.eventContext,this),LookAt:new srt(this.eventContext),Resize:new Jrt(this.eventContext,this),Textfields:new sit(this.eventContext,this)};let{page:e,domElement:t}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(r=>{r.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(r=>r.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){var r;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(i=>i.disconnect()),(r=this.controlsManager.gameControl)==null||r.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(i=>{i.removeEventListener("requestRender",this.requestRender),i.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=r=>{if(r.data.type==="Conditional"&&(r.data.ifActions.forEach(t),r.data.elseActions.forEach(t)),r.data.type==="Conditional"||r.data.type==="SetVariable")for(let i of r.data.type==="Conditional"?r.data.condition:r.data.expression)"id"in i&&Array.isArray(i.id)&&(i.id[0]==="mouse"&&(this.needsMouse=!0),i.id[0]==="raycast"&&(this.needsRaycast=!0));r.data.type==="DynamicVariablePlay"&&r.data.variableId!==""&&(r.data.mode==="Play"||r.data.mode==="PlayPause"||r.data.mode==="Toggle")&&e.setDynamicVariablePlayState(r.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(r=>{var i;if((i=r.data)!=null&&i.events.length)for(let n of r.data.events)if(n.data.type==="VariableChange"&&(n.data.variableId==="mouseProperty"&&(this.needsMouse=!0),n.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),n.data.type==="Conditional")for(let a of["inActions","outActions"])n.data[a].forEach(t);else if(n.data.type==="DragDrop")for(let a of["drag","drop"])n.data.dragDropActions[a].forEach(t);else if(n.data.type==="GameControl")for(let a of["idle","move","jump","run"])n.data.gameActions[a].forEach(t);else if(n.data.type==="Resize")for(let a of n.data.breakpoints)a.data.actions.forEach(t);else n.data.type==="LookAt"||n.data.type==="API"||n.data.actions.forEach(t)})}},cit=class{constructor(e,t,r,i,n){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new ke().copy(r),this._editorSize=new ke().copy(i),this._aspect=t.aspect,this._fov=n??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,r=this._editorSize.y;this._aspect=e/t,t<=r&&(this._camera.zoom*=r/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,r=this._editorSize.y,i=this._fov;if(e&&t>r){let n=uit(t,1080,2160,1,15)/100;i*=t/r,i*=1-n}this._camera.aspect=this._aspect,this._camera.fov=i,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function uit(e,t,r,i,n){return(e-t)/(r-t)*(n-i)+i}var dit=class{get sharedAssets(){return this.shared}constructor(e,t={},r=!0){this.shared=new p6(e.shared,t,!0,r),this.scene=new M6(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Bo&&!e.uiScene&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof Ts&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},hit=class{constructor({x:e=10,y:t=10}){this._startTime=0;let r=document.getElementById("spe-perfs");r?this.element=r:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){var e;(e=this.element.parentElement)==null||e.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function fit(e){let t;if(e.index)for(let r=0;r<e.index.array.length;r+=3)t=e.index.array[r],e.index.array[r]=e.index.array[r+2],e.index.array[r+2]=t}function E2(e){return e instanceof RC?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function pit(e,t){let r={};return e.traverseEntity(i=>{var l;if(!i.visible||!(i instanceof ll)||i.type!=="Mesh"||Array.isArray(i.material)||i.states&&Object.keys(i.states).length)return;let n=i.parent;for(;n;){if(n instanceof ll&&i.states&&Object.keys(i.states).length)return;n=n.parent}let a=i.material.uuid,o=t.shared.materials[a];if(o){if(!Zo.isMergable(o))return}else{let c=(l=t.scene.objects.get(i.uuid))==null?void 0:l.data;if(c&&"material"in c&&typeof c.material!="string"){if(!Zo.isMergable(c.material))return;a=Zo.getHash(c.material)}}r[a]||(r[a]={});let s=r[a][E2(i)];if(s){if(s.push(i),i.cloner)for(let c of i.cloner.children)s.push(c)}else if(r[a][E2(i)]=[i],i.cloner)for(let c of i.cloner.children)r[a][E2(i)].push(c)}),r}function Ait(e){let t=0;return Object.values(e).forEach(r=>{Object.values(r).forEach(i=>{let n=i.length;n>t&&(t=n)})}),t}function git(e,t){let r=pit(t,e),i=Ait(r),n=new Array(i),a=0,o=new Array(i),s=0,l=new Array(i),c=0,u=new Array(i),d=0;for(let[h,f]of Object.entries(r))for(let m of Object.values(f)){if(s=0,c=0,m.forEach(g=>{g instanceof ll&&(o[s++]=g.geometry.clone(),l[c++]=g)}),c<2)continue;for(let g=0;g<c;g++)l[g].updateWorldMatrix(!0,!1),o[g].applyMatrix4(l[g].matrixWorld),l[g].matrixWorld.determinant()<0&&fit(o[g]);let A=Im(o.slice(0,s),!1);if(A){let g;switch(h){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),g=new ta(A,l[0].material);break}default:{g=new ta(A,l[0].material);break}}g.castShadow=l[0].castShadow,g.receiveShadow=l[0].receiveShadow,t.add(g);let p=v=>{d=0;for(let y of v)y.children&&p(y.children),y instanceof ll&&(Array.isArray(y.material)||r[y.material.uuid]&&r[y.material.uuid][E2(y)]&&r[y.material.uuid][E2(y)].length>1||(u[d++]=y));for(let y=0;y<d;y++)t.attach(u[y])};for(let v=0;v<c;v++){let y=l[v];p(y.children),n[a++]=y}}}for(let h=0;h<a;h++)n[h].removeFromParent()}var mit=Xf(zDe(),1),vit=new ke;function yit(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var bit=class{constructor(e,{renderOnDemand:t,renderMode:r="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=i=>{var n,a,o,s,l,c,u,d,h,f,m,A,g;if(this.time=i,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(n=this._perfs)==null||n.start(),!this._renderer){(a=this._perfs)==null||a.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(o=this._perfs)==null||o.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((s=this._eventManager.handlers)!=null&&s.Start.hasVideoAction||(l=this._eventManager.handlers)!=null&&l.Basic.hasVideoAction||(c=this._eventManager.handlers)!=null&&c.Conditional.hasVideoAction)&&(this._skipRender=!1),(u=this._animationControls)==null||u.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,(d=this._scene)==null||d.traverseVisibleEntity(p=>{p.type==="ParticleSystem"&&(p.update(this.dt),this._skipRender=!1)}),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(h=this._eventManager)!=null&&h.isEnabled&&(((f=this._eventManager.handlers)==null?void 0:f.Follow).onAnimationFrameDamping(),((m=this._eventManager.handlers)==null?void 0:m.LookAt).onAnimationFrameDamping(),((A=this._eventManager.handlers)==null?void 0:A.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let p=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=p,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(g=this._perfs)==null||g.end()},this._resize=i=>{var n,a,o,s,l,c,u,d,h,f;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=vit.set(this._viewportWidth,this._viewportHeight)),i){let m=this._viewportWidth,A=this._viewportHeight;this._renderer.setSize(m-1,A-1,!1),this._renderer.setSize(m,A,!1)}else this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1);if(this._camera=(n=this._scene)==null?void 0:n.activeCamera,(u=this._scene)==null||u.updateViewPlaneSize(((o=(a=this._frameView)==null?void 0:a.frameSize)==null?void 0:o.x)??this._viewportWidth,((l=(s=this._frameView)==null?void 0:s.frameSize)==null?void 0:l.y)??this._viewportHeight,((c=this._frameView)==null?void 0:c.enableResponsive)??!1),this._camera){let m=Object.values(((d=this._data)==null?void 0:d.frames)??{})[0].preset??"fullscreen";(h=this._frameView)==null||h.setCamera(this._camera),(f=this._frameView)==null||f.updateCamera(m!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=Nz(this._resize,10),this._onScroll=i=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=e,this.renderMode=t?"auto":r,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new hit({x:10,y:10})),H7e(e)}async load(e,t,r){yit(e),this.disposed=!1;let i=await(await fetch(e,r)).arrayBuffer();await this.start(i,{variables:t})}async start(e,{interactive:t=!0,variables:r}={}){var l,c,u,d;if(this.disposed)return;let i=await qrt(e);this._data=i;let n=Krt(i);i.version&&(0,mit.default)(i.version,"1.9.27")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([n.length&&Wrt(),rX(i)&&Mqe(),DXe(i)&&_qe(),MC.physicsEnabled(i.scene.objects)&&q7e(),JK(i)&&cXe(),DX(i)&&RZe(),sXe(i)&&oXe(),CX(i)&&PJe(),Prt(i)&&W7e()].filter(Boolean)),n.length&&await Xrt(n),(l=this._eventManager)==null||l.deactivate(),(c=this._controls)==null||c.deactivate(),(u=this._scene)==null||u.dispose();let a=new dit(i);if(a.resetPersonalCameraFromDocumentData(),this._scene=a.scene,this._sharedAssetsManager=a.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let h=performance.now();git(i,a.scene);let f=performance.now();console.log("Merged geometries in ",f-h," ms")}rX(i)&&this._scene.traverse(h=>{_f(h)&&h.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var h;this._requestRenderAutoMode(),(h=this._scene)==null||h.traverse(f=>{f instanceof Gu&&f.pendingMediaLoad&&f.update()})}),(d=this._scene)==null||d.traverse(h=>{h.type==="ParticleSystem"&&(h.wakeUp(),h.data.autoPlay?h.start():h.stop())});let o=Object.keys(i.shared.fonts).map(h=>this._sharedAssetsManager.getFont(h).loadingPromise);if(Promise.all(o).then(()=>{a.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),JK(i)&&krt(i)&&await Promise.all(o),CX(i)){let h=[];this._scene.traverseEntity(f=>{(f instanceof Es||f instanceof Bo)&&f.uiCanvas&&h.push(f.uiCanvas)}),await Promise.all(h.map(f=>f.promise))}if(this._scene.rewriteEventsBeforeGoToPlayMode(),z6(this._scene.activePage,this._sharedAssetsManager),!this._renderer&&(this._renderer=new AJe({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=i.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.enableUIOverlay(),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode),i.shared.images.SplineWatermark)){let h=this._sharedAssetsManager.getImage("SplineWatermark");await h.loadPromise;let f=h.getTexture(1001);this._renderer.pipeline.setWatermark(f)}DX(i)&&this._scene.initializeSplatViewer(),i.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(i.scene.blueNoiseTextureData);let s=Object.values(i.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(s.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=s.size[0],this._viewportHeight=s.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new cit(this._renderer,this._camera,new ke(this._viewportWidth,this._viewportHeight),new ke(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(s.allowResponsive??!1)&&s.preset==="fullscreen"),t){let h=new Utt(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,s);this._scene.updateMatrixWorld(!0),this._controls=new jrt(h),this._animationControls=new Hrt(this._scene,this._requestRenderAutoMode),this._eventManager=new lit(i.scene.publish,this._controls,this._animationControls,h,i.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),this._scene.activePage.data.postprocessing.depthOfField.enabled&&Promise.all(this._sharedAssetsManager.getImageLoadPromises()).then(()=>{this._resize(!0)}),r!==void 0&&this.setVariables(r),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var h;(h=this._renderer)==null||h.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300),document.addEventListener("scroll",this._onScroll)}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[r,i]of t)this.setVariable(r,i)}}setVariable(e,t){var i;let r=this._getVariableByName(e);if(r&&!("dynamicVariableType"in r.data)){let n=t;typeof r.data.value=="number"?n=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof r.data.value=="boolean"?n=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof r.data.value!="string"&&r.data.value.textValue!==void 0&&(n=t.toString());let a=typeof n=="string"?{textValue:n}:n;(i=this._sharedAssetsManager)==null||i.updateVariable(r.id,a),this.requestRender(),this._requestRenderAutoMode()}else r===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in r.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let r=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(r)}}_getVariableValue(e){return typeof e!="string"&&es.isTextValue(e)?es.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(r=>r.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){var t;let e=[];return(t=this._scene)==null||t.traverseEntity(r=>{if(r.uuid!==C1&&!this._scene.isInvisibleObjects(r)&&!(r instanceof Bo)){let i=this._createProxyObject(r);i&&e.push(i)}}),e}getSplineEvents(){var e,t;return((t=(e=this._eventManager)==null?void 0:e.handlers)==null?void 0:t.Spline).splineEvents}emitEvent(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEvent(e)}emitEventReverse(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){var t,r;((t=this._controls)==null?void 0:t.orbitControls)instanceof vde&&((r=this._controls)==null||r.orbitControls.setZoom(e))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){var o;let{r:t,g:r,b:i,a:n}={r:0,g:0,b:0,a:1},a=new is(t,r,i,n);try{a.setStyle(e)}catch{console.error("This is not a valid css color",e)}(o=this._scene)==null||o.activePage.setBackgroundColor(a),this._requestRenderAutoMode()}dispose(){var e,t,r,i,n,a,o;this.disposed=!0,(e=this._eventManager)==null||e.deactivate(),(t=this._scene)==null||t.dispose(),(r=this._sharedAssetsManager)==null||r.dispose(),this._proxyObjectCache.forEach(s=>{d9.unsubscribe(s)}),this._variablesCache.clear(),(i=this._renderer)==null||i.setAnimationLoop(null),(n=this._renderer)==null||n.dispose(),this._renderer=void 0,(a=this._sharedAssetsManager)==null||a.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(o=this._controls)==null||o.deactivate(),this.dt=0,V7e(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){var e,t,r;this._isPaused||((e=this._renderer)==null||e.setAnimationLoop(null),this._isPaused=!0,(t=this._eventManager)==null||t.pause(),(r=this._controls)!=null&&r.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var e,t,r;!this._isPaused||(this._isPaused=!1,(e=this._eventManager)==null||e.resume(),(t=this._controls)!=null&&t.orbitControls&&(this._controls.orbitControls.enabled=!0),(r=this._renderer)==null||r.setAnimationLoop(this.render))}setGlobalEvents(e){var t;(t=this._eventManager)==null||t.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){var n;if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(a=>{a instanceof Bo&&(t=a.name)});let r={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Bo||e instanceof M6||(n=e.parent)==null?void 0:n.uuid,emitEvent(a){e.dispatchEvent({type:"userEvent",eventName:a})},emitEventReverse(a){e.dispatchEvent({type:"userEvent",eventName:a,reverse:!0})}},i=d9(r,(a,o)=>{var s;typeof e[a]!="object"&&((s=Object.getOwnPropertyDescriptor(e,a))!=null&&s.writable)&&(e[a]=o),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,i),i}setUIWasmUrl(e){zce.skiaWasmUrl=e}},UB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fN={},wit={get exports(){return fN},set exports(e){fN=e}},fx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IY;function xit(){if(IY)return fx;IY=1;var e=al,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,c){var u,d={},h=null,f=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(f=l.ref);for(u in l)i.call(l,u)&&!a.hasOwnProperty(u)&&(d[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:t,type:s,key:h,ref:f,props:d,_owner:n.current}}return fx.Fragment=r,fx.jsx=o,fx.jsxs=o,fx}(function(e){e.exports=xit()})(wit);const pN=fN.jsx;var Cit="Expected a function",FY=0/0,_it="[object Symbol]",Sit=/^\s+|\s+$/g,Eit=/^[-+]0x[0-9a-f]+$/i,Bit=/^0b[01]+$/i,Mit=/^0o[0-7]+$/i,Pit=parseInt,Tit=typeof UB=="object"&&UB&&UB.Object===Object&&UB,Oit=typeof self=="object"&&self&&self.Object===Object&&self,Dit=Tit||Oit||Function("return this")(),Iit=Object.prototype,Fit=Iit.toString,Lit=Math.max,Rit=Math.min,YI=function(){return Dit.Date.now()};function Uit(e,t,r){var i,n,a,o,s,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Cit);t=LY(t)||0,AN(r)&&(u=!!r.leading,d="maxWait"in r,a=d?Lit(LY(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function f(w){var C=i,_=n;return i=n=void 0,c=w,o=e.apply(_,C),o}function m(w){return c=w,s=setTimeout(p,t),u?f(w):o}function A(w){var C=w-l,_=w-c,B=t-C;return d?Rit(B,a-_):B}function g(w){var C=w-l,_=w-c;return l===void 0||C>=t||C<0||d&&_>=a}function p(){var w=YI();if(g(w))return v(w);s=setTimeout(p,A(w))}function v(w){return s=void 0,h&&i?f(w):(i=n=void 0,o)}function y(){s!==void 0&&clearTimeout(s),c=0,i=l=n=s=void 0}function b(){return s===void 0?o:v(YI())}function x(){var w=YI(),C=g(w);if(i=arguments,n=this,l=w,C){if(s===void 0)return m(l);if(d)return s=setTimeout(p,t),f(l)}return s===void 0&&(s=setTimeout(p,t)),o}return x.cancel=y,x.flush=b,x}function AN(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Nit(e){return!!e&&typeof e=="object"}function kit(e){return typeof e=="symbol"||Nit(e)&&Fit.call(e)==_it}function LY(e){if(typeof e=="number")return e;if(kit(e))return FY;if(AN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Sit,"");var r=Bit.test(e);return r||Mit.test(e)?Pit(e.slice(2),r?2:8):Eit.test(e)?FY:+e}var jit=Uit;function zit(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}const Hit=[],Vit={width:"100%",height:"100%"},Qit=Oe.forwardRef(function({className:e,children:t,debounceTime:r=300,ignoreDimensions:i=Hit,parentSizeStyles:n,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:o,...s},l){const c=Oe.useRef(null),u=Oe.useRef(0),[d,h]=Oe.useState({width:0,height:0,top:0,left:0}),f=Oe.useMemo(()=>{const m=Array.isArray(i)?i:[i];return jit(A=>{h(g=>Object.keys(g).filter(p=>g[p]!==A[p]).every(p=>m.includes(p))?g:A)},r,{leading:a})},[r,a,i]);return Oe.useEffect(()=>{const m=o||window.ResizeObserver,A=new m(g=>{g.forEach(p=>{const{left:v,top:y,width:b,height:x}=(p==null?void 0:p.contentRect)??{};u.current=window.requestAnimationFrame(()=>{f({width:b,height:x,top:y,left:v})})})});return c.current&&A.observe(c.current),()=>{window.cancelAnimationFrame(u.current),A.disconnect(),f.cancel()}},[f,o]),pN("div",{style:{...Vit,...n},ref:zit([l,c]),className:e,...s,children:t({...d,ref:c.current,resize:f})})}),bde=Oe.forwardRef(({scene:e,style:t,onMouseDown:r,onMouseUp:i,onMouseHover:n,onKeyDown:a,onKeyUp:o,onStart:s,onLookAt:l,onFollow:c,onWheel:u,onLoad:d,renderOnDemand:h=!0,...f},m)=>{const A=Oe.useRef(null),[g,p]=Oe.useState(!0);return Oe.useEffect(()=>{p(!0);let v;const y=[{name:"mouseDown",cb:r},{name:"mouseUp",cb:i},{name:"mouseHover",cb:n},{name:"keyDown",cb:a},{name:"keyUp",cb:o},{name:"start",cb:s},{name:"lookAt",cb:l},{name:"follow",cb:c},{name:"scroll",cb:u}];if(A.current){v=new bit(A.current,{renderOnDemand:h});async function b(){await v.load(e);for(let x of y)x.cb&&v.addEventListener(x.name,x.cb);p(!1),d==null||d(v)}b()}return()=>{for(let b of y)b.cb&&v.removeEventListener(b.name,b.cb);v.dispose()}},[e]),pN(Qit,{ref:m,parentSizeStyles:t,debounceTime:50,...f,children:()=>pN("canvas",{ref:A,style:{display:g?"none":"block"}})})});var wde={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RY=al.createContext&&al.createContext(wde),qA=globalThis&&globalThis.__assign||function(){return qA=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qA.apply(this,arguments)},Wit=globalThis&&globalThis.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function xde(e){return e&&e.map(function(t,r){return al.createElement(t.tag,qA({key:r},t.attr),xde(t.child))})}function Cde(e){return function(t){return al.createElement(Git,qA({attr:qA({},e.attr)},t),xde(e.child))}}function Git(e){var t=function(r){var i=e.attr,n=e.size,a=e.title,o=Wit(e,["attr","size","title"]),s=n||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),al.createElement("svg",qA({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,o,{className:l,style:qA(qA({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&al.createElement("title",null,a),e.children)};return RY!==void 0?al.createElement(RY.Consumer,null,function(r){return t(r)}):t(wde)}function _de(e){return Cde({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"defs",attr:{},child:[{tag:"clipPath",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M124-288l388-672 388 672H124z",clipRule:"evenodd"}}]}]},{tag:"path",attr:{d:"M508 624a112 112 0 0 0 112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 0 0-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 0 0 0 11.31L155.25 889a8 8 0 0 0 11.31 0l712.16-712.12a8 8 0 0 0 0-11.32zM332 512a176 176 0 0 1 258.88-155.28l-48.62 48.62a112.08 112.08 0 0 0-140.92 140.92l-48.62 48.62A175.09 175.09 0 0 1 332 512z"}},{tag:"path",attr:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 0 1 445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5z"}}]})(e)}function Sde(e){return Cde({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]})(e)}function M1(){const[e,t]=Oe.useState(!1),[r,i]=Oe.useState(""),[n,a]=Oe.useState(""),[o,s]=tg(["access_token"]),[l,c]=tg(["adminCookies"]),u=uZ(),d=async h=>{if(h.preventDefault(),!r||!n){alert("Username and password are required.");return}if(r==="Adminee_Tech_Agency"&&n==="111")window.location.href="/dashboard/home",s("access_token",response.data.token),c("adminCookies",r),window.localStorage.setItem("username",r),window.localStorage.setItem("emailCookies","tech.agency@gmail.com");else try{const f=await rs.post("https://tech-agency.onrender.com/login",{username:r,password:n});f.data.message==="Please verify your email before logging in."||f.data.message==="User doesn't exist!"||f.data.message==="Username or password is incorrect"?alert(f.data.message):(s("access_token",f.data.token),window.localStorage.setItem("userId",f.data.userId),window.localStorage.setItem("username",f.data.username),window.localStorage.setItem("email",f.data.email),u("/sidebar/home_user"))}catch(f){console.error("Login failed:",f.response?f.response.data:f.message),alert("Login failed. Please try again.")}};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"w-full flex flex-row signup",children:[N.jsx("div",{className:"w-1/2 p-8 ml-20",children:N.jsxs(mr.Card,{className:"w-full mt-10",children:[N.jsx(mr.CardHeader,{variant:"gradient",color:"blue",className:"mb-4 grid h-24 place-items-center",children:N.jsx(mr.Typography,{variant:"h6",color:"white",children:"Login to your account"})}),N.jsxs(mr.CardBody,{className:"flex flex-col gap-4",children:[N.jsx("h4",{children:"Username:"}),N.jsx(mr.Input,{type:"text",size:"lg",value:r,onChange:h=>i(h.target.value),required:!0}),N.jsx("h4",{children:"Password:"}),N.jsxs("div",{className:"relative",children:[N.jsx(mr.Input,{type:e?"text":"password",required:!0,size:"lg",value:n,onChange:h=>a(h.target.value)}),N.jsx("span",{className:"absolute right-3 top-3 cursor-pointer",onClick:()=>t(!e),children:e?N.jsx(_de,{}):N.jsx(Sde,{})})]})]}),N.jsxs(mr.CardFooter,{className:"pt-0",children:[N.jsx(mr.Button,{variant:"gradient",onClick:d,fullWidth:!0,children:"Login"}),N.jsxs(mr.Typography,{variant:"small",className:"mt-6 flex justify-center",children:["You don't have an account?",N.jsx(Tn,{to:"/signup",children:N.jsx(mr.Typography,{as:"span",variant:"small",color:"blue",className:"ml-1 font-bold",children:"SignUp"})})]})]})]})}),N.jsx(bde,{className:"w-1/5",scene:"https://prod.spline.design/S1lJQE08ZV6bzitw/scene.splinecode"})]})})}function Ede(){const[e,t]=tg("access_token");return N.jsx(N.Fragment,{children:e.access_token?N.jsxs("div",{className:"home-client",children:[N.jsx("img",{className:"home-img w-1/2 h-1/2",src:EDe,alt:"welcome"}),N.jsx("h1",{className:"home-title",children:"welcome to your space"})]}):N.jsx(M1,{})})}function qit(){const[e,t]=Oe.useState([]);Oe.useState(null),Oe.useEffect(()=>{const o=localStorage.getItem("username");o&&rs.get(`https://tech-agency.onrender.com/ordersUser?username=${o}`).then(s=>{t(s.data)}).catch(s=>{console.error(s)})},[]);const r=o=>{o.statut=="rejected by Admin"||o.statut=="rejected by Client"||o.price==0&&o.duration==0?alert("Can't accept"):rs.put("https://tech-agency.onrender.com/acceptByClient",{statut:"accepted by Client",id:o._id}).then(window.location.href="/sidebar/responses")},i=o=>{o.price==0&&o.duration==0||o.statut=="rejected by Admin"?alert("Can't refuse Order ! "):rs.put("https://tech-agency.onrender.com/refuseByClient",{statut:"rejected by Client",id:o._id}).then(window.location.href="/sidebar/responses")},[n,a]=tg("access_token");return N.jsx(N.Fragment,{children:N.jsx("div",{className:"flex flex-col",children:n.access_token?N.jsx("div",{className:"flex flex-col w-full",children:N.jsx(mr.Card,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",children:N.jsxs("table",{className:"w-full  table-auto m-5",children:[N.jsx("thead",{children:N.jsx("tr",{children:["Project Subject","Duration","Price","statut","Action"].map(o=>N.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-7 text-left whitespace-nowrap",children:N.jsx(mr.Typography,{variant:"small",className:"text-[11px] font-bold uppercase text-gray-50",children:o})},o))})}),N.jsx("tbody",{children:e.map(o=>N.jsxs("tr",{className:"m-1 text-gray-50",children:[N.jsx("td",{children:o.subject}),N.jsx("td",{children:o.duration}),N.jsx("td",{children:o.price}),N.jsx("td",{children:o.statut}),N.jsxs("td",{className:"flex flex-row",children:[N.jsx(mr.Button,{onClick:()=>{r(o)},className:"accept m-2",color:"green",children:"Accept"}),N.jsx(mr.Button,{onClick:()=>{i(o)},className:"refuse m-2 ",color:"red",children:"Refuse"})]})]},o._id))})]})})}):N.jsx(M1,{})})})}const Kit="/assets/user-963daac4.avif";function Bde(){const[e,t]=Oe.useState(""),[r,i]=Oe.useState("");Oe.useState("");const[n,a]=Oe.useState(""),[o,s]=Oe.useState("");Oe.useEffect(()=>{const h=localStorage.getItem("username"),f=localStorage.getItem("userId"),m=localStorage.getItem("email");h&&f&&m&&(t(h),s(f),i(m))},[]);const[l,c]=tg("access_token"),u=()=>{c("access_token",""),window.localStorage.removeItem("userId"),window.localStorage.removeItem("username"),window.localStorage.removeItem("email"),window.location.reload(!1)},d=async h=>{await rs.put("https://tech-agency.onrender.com/updateprofile",{username:e,password:n,id:h}).then(f=>{alert("Profile updated successefuly! "),u(),window.location.href="/login"})};return N.jsx("div",{children:N.jsxs("div",{className:"ProfileUser",children:[l.access_token?N.jsx("button",{className:"btn-Save logout",onClick:u,children:"Logout"}):N.jsx(M1,{}),N.jsx("h3",{children:"Personal Informations:"}),N.jsx(ez,{className:"bg-gradient-to-br from-blue-gray-800 to-blue-gray-900 ",children:N.jsxs("div",{className:"info",children:[N.jsxs("div",{className:"personal-info",children:[N.jsx("div",{className:"img",children:N.jsx("img",{src:Kit,alt:""})}),N.jsx("div",{className:"contact",children:N.jsxs("h4",{children:["Email:",N.jsx("p",{children:r})]})})]}),N.jsxs("h4",{children:["Username:",N.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value)})]}),N.jsxs("h4",{children:["Password:",N.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value)})]}),N.jsx("button",{className:"btn-Save",onClick:()=>{d(o)},children:"Save"})]})})]})})}function Xit(e){return x0("MuiCardActions",e)}n1("MuiCardActions",["root","spacing"]);const Yit=["disableSpacing","className"],$it=e=>{const{classes:t,disableSpacing:r}=e;return i1({root:["root",!r&&"spacing"]},Xit,t)},Jit=l1("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>Kr({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Zit=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiCardActions"}),{disableSpacing:n=!1,className:a}=i,o=dl(i,Yit),s=Kr({},i,{disableSpacing:n}),l=$it(s);return N.jsx(Jit,Kr({className:a1(l.root,a),ownerState:s,ref:r},o))}),ent=Zit;function tnt(e){return x0("MuiCardContent",e)}n1("MuiCardContent",["root"]);const rnt=["className","component"],int=e=>{const{classes:t}=e;return i1({root:["root"]},tnt,t)},nnt=l1("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ant=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiCardContent"}),{className:n,component:a="div"}=i,o=dl(i,rnt),s=Kr({},i,{component:a}),l=int(s);return N.jsx(nnt,Kr({as:a,className:a1(l.root,n),ownerState:s,ref:r},o))}),ont=ant;function snt(e){return x0("MuiTypography",e)}n1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lnt=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],cnt=e=>{const{align:t,gutterBottom:r,noWrap:i,paragraph:n,variant:a,classes:o}=e,s={root:["root",a,e.align!=="inherit"&&`align${tu(t)}`,r&&"gutterBottom",i&&"noWrap",n&&"paragraph"]};return i1(s,snt,o)},unt=l1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${tu(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>Kr({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),UY={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},dnt={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},hnt=e=>dnt[e]||e,fnt=Oe.forwardRef(function(t,r){const i=s1({props:t,name:"MuiTypography"}),n=hnt(i.color),a=Kbe(Kr({},i,{color:n})),{align:o="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=UY}=a,m=dl(a,lnt),A=Kr({},a,{align:o,color:n,className:s,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:f}),g=l||(d?"p":f[h]||UY[h])||"span",p=cnt(A);return N.jsx(unt,Kr({as:g,ref:r,ownerState:A,className:a1(p.root,s)},m))}),NY=fnt;function Mde(){const[e,t]=Oe.useState(null),[r,i]=Oe.useState(""),[n,a]=Oe.useState(""),[o,s]=Oe.useState(""),[l,c]=Oe.useState(""),[u,d]=tg("access_token"),h=()=>{rs.post("https://tech-agency.onrender.com/sendOrder",{service:e.name,username:r,email:n,subject:o,specifications:l}).then(p=>{alert("Order sent successefuly! "),window.location.href="/sidebar/userService",console.log(p.data)})},[f,m]=Oe.useState([]);Oe.useEffect(()=>{rs.get("https://tech-agency.onrender.com/services").then(p=>{m(p.data)})},[f]),Oe.useEffect(()=>{const p=localStorage.getItem("username");p&&i(p)},[]),Oe.useEffect(()=>{const p=localStorage.getItem("email");p&&a(p)},[]);const[A,g]=Oe.useState(!1);return N.jsxs("div",{className:"UserServices",children:[u.access_token?N.jsx("div",{className:"container mt-4 ",children:f.map(p=>N.jsxs(ez,{sx:{maxWidth:345},className:"User-Card bg-gradient-to-br from-blue-gray-800 to-blue-gray-900",children:[N.jsxs(ont,{className:"content-Card",children:[N.jsx(NY,{gutterBottom:!0,variant:"h5",component:"div",children:p.name}),N.jsx(NY,{variant:"body2",color:"#d1d1d1",children:p.description})]}),N.jsx(ent,{children:N.jsx("button",{className:"btn-Save Order",onClick:()=>{g(!0),t(p)},children:"Order Now"})})]},p._id))}):N.jsx(M1,{}),A&&N.jsx("div",{className:"popup-container",children:N.jsxs("div",{className:"popup action",children:[N.jsxs("h3",{children:["UserName: ",N.jsx("p",{children:r})]}),N.jsxs("h3",{children:["Email: ",N.jsx("p",{children:n})]}),N.jsx("h3",{children:"Subject:"}),N.jsx("input",{type:"text",onChange:p=>s(p.target.value),value:o,placeholder:"type subject here"}),N.jsx("h3",{children:"Specification:"}),N.jsx("input",{type:"textarea",onChange:p=>c(p.target.value),value:l,placeholder:"type your specifications here ..."}),N.jsxs("div",{className:"buttons",children:[N.jsx("button",{className:"btn-Save",onClick:h,children:"Send order"}),N.jsx("button",{className:"action-btn cancel",onClick:()=>g(!1),children:"Cancel"})]})]})})]})}const NB={className:"w-5 h-5 text-inherit"},kY=[{layout:"sidebar",pages:[{icon:N.jsx(goe,{...NB}),name:"Home",path:"/home_user",element:N.jsx(Ede,{})},{icon:N.jsx(vj,{...NB}),name:"Services",path:"/userService",element:N.jsx(Mde,{})},{icon:N.jsx(voe,{...NB}),name:"Responses",path:"/responses",element:N.jsx(qit,{})},{icon:N.jsx(moe,{...NB}),name:"Profile",path:"/profileUser",element:N.jsx(Bde,{})}]}];function Pde(){const[e,t]=e_(),{sidenavType:r}=e,[i,n]=tg("access_token");return N.jsx(N.Fragment,{children:i.access_token?N.jsx(N.Fragment,{children:N.jsxs("div",{className:"min-h-screen ",id:"bg-home",children:[N.jsx(t_,{routes:kY,brandImg:r==="dark"?"/img/user.avif":"/img/logo-ct-dark.png"}),N.jsxs("div",{className:"p-4 xl:ml-80",children:[N.jsx(ej,{}),N.jsx(tj,{}),N.jsx(mr.IconButton,{size:"lg",color:"white",className:"fixed bottom-8 right-8 z-40 rounded-full shadow-blue-gray-900/10",ripple:!1,onClick:()=>Zk(t,!0),children:N.jsx(fZ,{className:"h-5 w-5"})}),N.jsx(mk,{children:kY.map(({layout:a,pages:o})=>a==="sidebar"&&o.map(({path:s,element:l})=>N.jsx(no,{exact:!0,path:s,element:l})))}),N.jsx("div",{className:"text-blue-gray-600",children:N.jsx(r_,{})})]})]})}):N.jsx(M1,{})})}Pde.displayName="/src/layouts/sidebar.jsx";var V6={},eT=function(){return eT=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},eT.apply(this,arguments)},pnt=function(){function e(t,r,i){var n=this;this.endVal=r,this.options=i,this.version="2.6.2",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(a){n.startTime||(n.startTime=a);var o=a-n.startTime;n.remaining=n.duration-o,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(o,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(o,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(o/n.duration);var s=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=s?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),o<n.duration?n.rAF=requestAnimationFrame(n.count):n.finalEndVal!==null?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(a){var o,s,l,c,u=a<0?"-":"";o=Math.abs(a).toFixed(n.options.decimalPlaces);var d=(o+="").split(".");if(s=d[0],l=d.length>1?n.options.decimal+d[1]:"",n.options.useGrouping){c="";for(var h=3,f=0,m=0,A=s.length;m<A;++m)n.options.useIndianSeparators&&m===4&&(h=2,f=1),m!==0&&f%h==0&&(c=n.options.separator+c),f++,c=s[A-m-1]+c;s=c}return n.options.numerals&&n.options.numerals.length&&(s=s.replace(/[0-9]/g,function(g){return n.options.numerals[+g]}),l=l.replace(/[0-9]/g,function(g){return n.options.numerals[+g]})),u+n.options.prefix+s+l+n.options.suffix},this.easeOutExpo=function(a,o,s,l){return s*(1-Math.pow(2,-10*a/l))*1024/1023+o},this.options=eT(eT({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(r),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(a){return a()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var r=window.innerHeight+window.scrollY,i=t.el.getBoundingClientRect(),n=i.top+window.pageYOffset,a=i.top+i.height+window.pageYOffset;a<r&&a>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>a||n>r)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var r=t-this.startVal;if(Math.abs(r)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var r;if(this.el){var i=this.formattingFn(t);!((r=this.options.plugin)===null||r===void 0)&&r.render?this.options.plugin.render(this.el,i):this.el.tagName==="INPUT"?this.el.value=i:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=i:this.el.innerHTML=i}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var r=Number(t);return this.ensureNumber(r)?r:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Ant=Object.freeze(Object.defineProperty({__proto__:null,CountUp:pnt},Symbol.toStringTag,{value:"Module"})),gnt=Gb(Ant);Object.defineProperty(V6,"__esModule",{value:!0});var Eo=Oe,mnt=gnt;function vnt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(u){c=!0,n=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return s}}function jY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jY(Object(r),!0).forEach(function(i){ynt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jY(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function ynt(e,t,r){return t=Ent(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},gN.apply(this,arguments)}function bnt(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Tde(e,t){if(e==null)return{};var r=bnt(e,t),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function wnt(e,t){return xnt(e)||vnt(e,t)||Cnt(e,t)||_nt()}function xnt(e){if(Array.isArray(e))return e}function Cnt(e,t){if(e){if(typeof e=="string")return zY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zY(e,t)}}function zY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _nt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Snt(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ent(e){var t=Snt(e,"string");return typeof t=="symbol"?t:String(t)}var Bnt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Eo.useLayoutEffect:Eo.useEffect;function Uu(e){var t=Eo.useRef(e);return Bnt(function(){t.current=e}),Eo.useCallback(function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.current.apply(void 0,i)},[])}var Mnt=function(t,r){var i=r.decimal,n=r.decimals,a=r.duration,o=r.easingFn,s=r.end,l=r.formattingFn,c=r.numerals,u=r.prefix,d=r.separator,h=r.start,f=r.suffix,m=r.useEasing,A=r.useGrouping,g=r.useIndianSeparators,p=r.enableScrollSpy,v=r.scrollSpyDelay,y=r.scrollSpyOnce;return new mnt.CountUp(t,s,{startVal:h,duration:a,decimal:i,decimalPlaces:n,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:f,useEasing:m,useIndianSeparators:g,useGrouping:A,enableScrollSpy:p,scrollSpyDelay:v,scrollSpyOnce:y})},Pnt=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Tnt={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Ode=function(t){var r=Object.fromEntries(Object.entries(t).filter(function(B){var P=wnt(B,2),M=P[1];return M!==void 0})),i=Eo.useMemo(function(){return tT(tT({},Tnt),r)},[t]),n=i.ref,a=i.startOnMount,o=i.enableReinitialize,s=i.delay,l=i.onEnd,c=i.onStart,u=i.onPauseResume,d=i.onReset,h=i.onUpdate,f=Tde(i,Pnt),m=Eo.useRef(),A=Eo.useRef(),g=Eo.useRef(!1),p=Uu(function(){return Mnt(typeof n=="string"?n:n.current,f)}),v=Uu(function(B){var P=m.current;if(P&&!B)return P;var M=p();return m.current=M,M}),y=Uu(function(){var B=function(){return v(!0).start(function(){l==null||l({pauseResume:b,reset:x,start:C,update:w})})};s&&s>0?A.current=setTimeout(B,s*1e3):B(),c==null||c({pauseResume:b,reset:x,update:w})}),b=Uu(function(){v().pauseResume(),u==null||u({reset:x,start:C,update:w})}),x=Uu(function(){v().el&&(A.current&&clearTimeout(A.current),v().reset(),d==null||d({pauseResume:b,start:C,update:w}))}),w=Uu(function(B){v().update(B),h==null||h({pauseResume:b,reset:x,start:C})}),C=Uu(function(){x(),y()}),_=Uu(function(B){a&&(B&&x(),y())});return Eo.useEffect(function(){g.current?o&&_(!0):(g.current=!0,_())},[o,g,_,s,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Eo.useEffect(function(){return function(){x()}},[x]),{start:C,pauseResume:b,reset:x,update:w,getCountUp:v}},Ont=["className","redraw","containerProps","children","style"],Dnt=function(t){var r=t.className,i=t.redraw,n=t.containerProps,a=t.children,o=t.style,s=Tde(t,Ont),l=Eo.useRef(null),c=Eo.useRef(!1),u=Ode(tT(tT({},s),{},{ref:l,startOnMount:typeof a!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,f=u.update,m=u.pauseResume,A=u.getCountUp,g=Uu(function(){d()}),p=Uu(function(b){t.preserveValue||h(),f(b)}),v=Uu(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}A()});Eo.useEffect(function(){v()},[v]),Eo.useEffect(function(){c.current&&p(t.end)},[t.end,p]);var y=i&&t;return Eo.useEffect(function(){i&&c.current&&g()},[g,i,y]),Eo.useEffect(function(){!i&&c.current&&g()},[g,i,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Eo.useEffect(function(){c.current=!0},[]),typeof a=="function"?a({countUpRef:l,start:d,reset:h,update:f,pauseResume:m,getCountUp:A}):Eo.createElement("span",gN({className:r,ref:l,style:o},n),typeof t.start<"u"?A().formattingFn(t.start):"")},Int=V6.default=Dnt;V6.useCountUp=Ode;function kB({finalNumber:e}){const[t,r]=Oe.useState(0),i=Oe.useRef(null);return Oe.useEffect(()=>{const n=setInterval(()=>{r(a=>a+1)},1e3);return()=>clearInterval(n)},[]),Oe.useEffect(()=>{i.current&&i.current.update(t)},[t]),N.jsx("div",{children:N.jsx(Int,{start:0,end:e,duration:2.5,separator:",",className:"text-5xl font-bold text-blue-gray-900",ref:i})})}var Q6={},Fnt=Ra;Object.defineProperty(Q6,"__esModule",{value:!0});var Dde=Q6.default=void 0,Lnt=Fnt(Ua()),Rnt=N,Unt=(0,Lnt.default)((0,Rnt.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");Dde=Q6.default=Unt;var W6={},Nnt=Ra;Object.defineProperty(W6,"__esModule",{value:!0});var Ide=W6.default=void 0,knt=Nnt(Ua()),jnt=N,znt=(0,knt.default)((0,jnt.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");Ide=W6.default=znt;var G6={},Hnt=Ra;Object.defineProperty(G6,"__esModule",{value:!0});var Fde=G6.default=void 0,Vnt=Hnt(Ua()),Qnt=N,Wnt=(0,Vnt.default)((0,Qnt.jsx)("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12zm3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5V18zm1-9h-2V4h2v5zm5 7.5h-4V15h4v1.5zm0-3h-4V12h4v1.5z"}),"Badge");Fde=G6.default=Wnt;function Gnt(){const[e,t]=Oe.useState(null);Oe.useEffect(()=>{async function n(){const a=await fetch("https://tech-agency.onrender.com/countClients"),{countClient:o}=await a.json();t(o)}n()},[e]);const[r,i]=Oe.useState(null);return Oe.useEffect(()=>{async function n(){const a=await fetch("https://tech-agency.onrender.com/count"),{count:o}=await a.json();i(o)}n()},[r]),N.jsxs("div",{className:"py-10 numbers relative",children:[N.jsxs("h1",{className:"text-black text-6xl mt-10 w-full font-bold",children:["Tech-Agency in ",N.jsx("span",{className:"text-blue-500",children:" Numbers"})]}),N.jsxs("div",{className:"py-4 inline-grid grid-cols-4 w-full  gap-14",children:[N.jsxs("div",{className:"p-4 border border-gray-400 w-full  rounded-3xl flex flex-col justify-center items-center",children:[N.jsxs("div",{className:"flex flex-row",children:[N.jsx(i3,{className:"text-blue-gray-600 text-xl mr-4 ",sx:{fontSize:50,color:"#38bdf8"}}),N.jsx(kB,{finalNumber:e})]}),N.jsx("p",{className:"my-2 text-gray-600 text-lg",children:"global Clients"})]}),N.jsxs("div",{className:"p-4 border border-gray-400 w-full rounded-3xl flex flex-col justify-center items-center",children:[N.jsxs("div",{className:"flex flex-row",children:[N.jsx(Ide,{className:"text-blue-gray-600 text-xl mr-4 ",sx:{fontSize:50,color:"#38bdf8"}}),N.jsx(kB,{finalNumber:r})]}),N.jsx("p",{className:"my-2 text-gray-600 text-lg",children:"global Orders"})]}),N.jsxs("div",{className:"p-4 border border-gray-400 w-full rounded-3xl flex flex-col justify-center items-center",children:[N.jsxs("div",{className:"flex flex-row",children:[N.jsx(Dde,{className:"text-blue-gray-600 text-xl mr-4 ",sx:{fontSize:50,color:"#38bdf8"}}),N.jsx(kB,{finalNumber:3})]}),N.jsx("p",{className:"my-2 text-gray-600 text-lg",children:"Years of Experience"})]}),N.jsxs("div",{className:"p-4 border border-gray-400 w-full rounded-3xl flex flex-col justify-center items-center",children:[N.jsxs("div",{className:"flex flex-row",children:[N.jsx(Fde,{className:"text-blue-gray-600 text-xl mr-4 ",sx:{fontSize:50,color:"#38bdf8"}}),N.jsx(kB,{finalNumber:12})]}),N.jsx("p",{className:"my-2 text-gray-600 text-lg",children:"Our Team"})]})]})]})}const qnt="/assets/dev-aea549b9.png";function Knt(){return N.jsxs("div",{className:"flex flex-col hero",children:[N.jsxs("div",{className:" flex flex-row justify-between items-center py-4 w-full ",children:[N.jsx("a",{className:"font-bold text-xl text-blue-500",children:N.jsx(Tn,{to:"/",children:"TECH-AGENCY"})}),N.jsx("div",{children:N.jsxs("ul",{className:"flex flex-row",children:[N.jsx("li",{children:N.jsx("a",{className:"mx-3 text-base font-medium ",children:N.jsx(Tn,{to:"/services",children:"Services"})})}),N.jsx("li",{children:N.jsx("a",{className:"mx-3 text-base font-medium ",children:N.jsx(Tn,{to:"/about",children:"About"})})}),N.jsx("li",{children:N.jsx("a",{className:"mx-3 text-base font-medium ",children:N.jsx(Tn,{to:"/contact",children:"Contact"})})})]})}),N.jsx(Tn,{className:"px-4 py-3 rounded-2xl mx-4 bg-blue-500 text-white font-medium text-sm cursor-pointer",to:"/signup",children:"Get Started"})]}),N.jsxs("div",{className:"  hero  h-full w-full relative flex flex-1 flex-row py-6 items-center justify-center",children:[N.jsxs("div",{className:" flex flex-col left-0 w-1/2  top-0 text-left items-start justify-start ",children:[N.jsx("div",{className:"hero-shapes shape1"}),N.jsxs("h1",{className:"text-black text-6xl mt-8 font-bold",children:["Transform Your ",N.jsx("span",{className:"text-blue-600",children:" Idea"})," Into Reality"]}),N.jsxs("p",{className:"text-gray-600 relative font-light text-left text-sm grow  my-2",children:["Bring your vision to life with Tech-Agency. Our team of skilled professionals can help you turn your ideas into reality. From custom software development to innovative web design, we provide comprehensive IT solutions to help you succeed. Get started today and take the first step towards achieving your goals.",N.jsx("div",{className:"hero-shapes shape2"})]}),N.jsx(Tn,{className:"px-4 py-3 rounded-2xl bg-blue-500 text-white font-medium text-sm cursor-pointer",to:"/signup",children:"Get Started"})]}),N.jsx("div",{className:"w-1/2",children:N.jsx("img",{src:qnt,alt:"img",className:"w-full h-full"})})]})]})}var q6={},Xnt=Ra;Object.defineProperty(q6,"__esModule",{value:!0});var Lde=q6.default=void 0,Ynt=Xnt(Ua()),$nt=N,Jnt=(0,Ynt.default)((0,$nt.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");Lde=q6.default=Jnt;var K6={},Znt=Ra;Object.defineProperty(K6,"__esModule",{value:!0});var Rde=K6.default=void 0,eat=Znt(Ua()),tat=N,rat=(0,eat.default)((0,tat.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");Rde=K6.default=rat;var X6={},iat=Ra;Object.defineProperty(X6,"__esModule",{value:!0});var Ude=X6.default=void 0,nat=iat(Ua()),aat=N,oat=(0,nat.default)((0,aat.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}),"CloudDone");Ude=X6.default=oat;function Nde(){return N.jsxs("div",{className:"flex flex-col py-10",children:[N.jsxs("div",{className:"heading",children:[N.jsxs("h1",{className:"text-black text-6xl font-bold",children:["Our",N.jsx("span",{className:"text-blue-500",children:" Services"})]}),N.jsx("p",{className:"text-gray-600 font-light text-left w-1/2 text-sm my-2",children:"At Tech-Agency company, we specialize in providing a wide range of IT solutions to help businesses streamline their operations and achieve their goals. We are committed to delivering high-quality, innovative IT solutions that meet the needs of our clients. Contact us today to learn more about our services and how we can help your business succeed."})]}),N.jsxs("div",{className:"py-6 inline-grid lg:grid-cols-4 md:grid-cols-2 sm:grid-cols-1 gap-4",children:[N.jsxs("div",{className:"p-6 border cursor-pointer service-box border-gray-400 w-full  rounded-3xl flex flex-col justify-center items-star hover:bg-white drop-shadow-2xl",children:[N.jsx("div",{className:"p-4 bg-blue-gray-100 flex service-icon justify-center items-start rounded-3xl",children:N.jsx(Lde,{className:"text-blue-gray-600 text-xl icon ",sx:{fontSize:40,color:"#3b82f6"}})}),N.jsx("h1",{className:"text-3xl text-blue-gray-900 font-semibold my-4",children:"Software Developement"}),N.jsx("p",{className:"my-2 text-gray-600 font-light text-left text-sm",children:"Our company offers comprehensive software development services that cater to the unique needs of businesses across various industries. With a team of highly skilled and experienced software engineers, we specialize in creating, designing, and implementing customized computer programs and applications."})]}),N.jsxs("div",{className:"p-6 border cursor-pointer service-box border-gray-400 w-full  rounded-3xl flex flex-col justify-center items-star hover:bg-white drop-shadow-2xl",children:[N.jsx("div",{className:"p-4 bg-blue-gray-100 flex service-icon justify-center items-start rounded-3xl",children:N.jsx(Ude,{className:"text-blue-gray-600 text-xl icon ",sx:{fontSize:40,color:"#3b82f6"}})}),N.jsx("h1",{className:"text-3xl text-blue-gray-900 font-semibold my-4",children:"Cloud management."}),N.jsx("p",{className:"my-2 text-gray-600 font-light text-left text-sm",children:"Our company specializes in providing comprehensive cloud management services that empower businesses to harness the full potential of cloud computing. With our expertise, we help organizations effectively leverage cloud infrastructure, platforms, and services."})]}),N.jsxs("div",{className:"p-6 border cursor-pointer service-box border-gray-400 w-full  rounded-3xl flex flex-col justify-center items-star hover:bg-white drop-shadow-2xl",children:[N.jsx("div",{className:"p-4 bg-blue-gray-100 flex service-icon justify-center items-start rounded-3xl",children:N.jsx(Rde,{className:"text-blue-gray-600 text-xl icon ",sx:{fontSize:40,color:"#3b82f6"}})}),N.jsx("h1",{className:"text-3xl text-blue-gray-900 font-semibold my-4",children:"IT security."}),N.jsx("p",{className:"my-2 text-gray-600 font-light text-left text-sm",children:"Our company specializes in providing comprehensive IT security services that safeguard businesses against cyber threats and protect their valuable assets. With our expertise, we offer a range of solutions tailored to the unique security needs of modern organizations."})]}),N.jsxs("div",{className:"p-6 border cursor-pointer service-box border-gray-400 w-full  rounded-3xl flex flex-col justify-center items-star hover:bg-white drop-shadow-2xl",children:[N.jsx("div",{className:"p-4 bg-blue-gray-100 flex service-icon justify-center items-start rounded-3xl",children:N.jsx(n3,{className:"text-blue-gray-600 text-xl icon ",sx:{fontSize:40,color:"#3b82f6"}})}),N.jsx("h1",{className:"text-3xl text-blue-gray-900 font-semibold my-4",children:"SAAS Services."}),N.jsx("p",{className:"my-2 text-gray-600 font-light text-left text-sm",children:"Our company specializes in providing cutting-edge Software-as-a-Service (SaaS) solutions that empower businesses to streamline their operations, enhance productivity, and drive growth. With our SaaS services, we offer scalable and flexible software solutions that are accessible anytime, anywhere, through a secure online platform."})]})]})]})}const sat="/assets/Customer Support-9d45b91f.png";function kde(){return N.jsxs("div",{className:"flex flex-col why relative py-10",children:[N.jsxs("div",{className:"heading",children:[N.jsxs("h1",{className:"text-black text-6xl font-bold",children:["Why",N.jsx("span",{className:"text-blue-500",children:" Us"})]}),N.jsxs("p",{className:"text-gray-600 font-light text-left w-1/2 text-sm my-2",children:["Welcome to our IT solutions company, where we specialize in delivering innovative technology solutions to meet the evolving needs of businesses. With a passion for excellence and a commitment to client satisfaction, we strive to be the trusted partner that empowers organizations to unlock their full potential.",N.jsx("br",{})]})]}),N.jsxs("div",{className:"flex justify-center gap-6 items-center py-6",children:[N.jsx("div",{className:"img",children:N.jsx("img",{src:sat,alt:"img"})}),N.jsxs("div",{className:"flex relative flex-col",children:[N.jsxs("div",{className:"Why-box px-4 flex flex-col items-start justify-start h-40 ",children:[N.jsx("h2",{className:"text-gray-800 text-lg font-semibold cursor-pointer hover:text-blue-500",children:"Best Quality"}),N.jsx("p",{className:"text-gray-600 font-light text-left  text-sm my-2",children:"you can trust that you will receive reliable, innovative, and personalized services that will drive your business forward in the ever-changing world of technology."})]}),N.jsx("div",{className:"shape-circle circle-2"}),N.jsxs("div",{className:"Why-box px-4 flex flex-col items-start justify-start h-40 ",children:[N.jsx("h2",{className:"text-gray-800 text-lg font-semibold cursor-pointer hover:text-blue-500",children:"Client Support"}),N.jsx("p",{className:"text-gray-600 font-light text-left text-sm my-2",children:"We believe in building strong and lasting relationships with our clients, providing ongoing support and guidance throughout the entire project lifecycle."})]}),N.jsxs("div",{className:"Why-box relative px-4 flex flex-col items-start justify-start h-40 ",children:[N.jsx("h2",{className:"text-gray-800 text-lg font-semibold cursor-pointer hover:text-blue-500",children:"Security"}),N.jsx("p",{className:"text-gray-600 font-light text-left  text-sm my-2",children:"Thank you for considering our IT solutions company. Your data and digital assets are not only our top priority, but we also take utmost care to implement robust security measures and advanced encryption protocols to safeguard your information from unauthorized access, ensuring the highest levels of data protection."}),N.jsx("div",{className:"shape-circle circle-3"})]})]})]})]})}const lat="/assets/letter-805050fe.png";function jde(){const[e,t]=Oe.useState(""),[r,i]=Oe.useState(""),[n,a]=Oe.useState(""),o=async s=>{s.preventDefault();try{(await rs.post("https://tech-agency.onrender.com/send",{email:e,subject:r,message:n})).status===200?alert("Message sent successfully!"):alert("Failed to send the message. Please try again.")}catch(l){alert("An error occurred while sending the message."),console.error(l)}};return N.jsxs("div",{className:"flex flex-col bg-blue-800 relative rounded-3xl py-8 px-12 my-10",children:[N.jsx("h1",{className:"text-white text-6xl font-bold",children:"Let's Work Together"}),N.jsx("p",{className:"text-gray-100 font-light text-left w-1/2 text-sm my-2",children:"We would love to hear from you! Feel free to reach out to us using the contact information provided below. Our dedicated team is ready to answer any questions you may have or provide further information about our IT solutions and services."}),N.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 my-6",children:[N.jsxs("div",{className:"flex gap-4 w-2/3",children:[N.jsx("input",{value:e,onChange:s=>t(s.target.value),type:"text",className:"bg-blue-600 border-none outline-none p-4 w-1/2 rounded-2xl",placeholder:"email",required:!0}),N.jsx("input",{value:r,onChange:s=>i(s.target.value),type:"text",className:"bg-blue-600 border-none outline-none p-4 w-1/2 rounded-2xl",placeholder:"subject",required:!0})]}),N.jsxs("div",{className:"flex gap-6 w-2/3",children:[N.jsx("input",{value:n,onChange:s=>a(s.target.value),type:"text",className:"bg-blue-600 border-none outline-none p-4 w-2/3 rounded-2xl",placeholder:"your message",required:!0}),N.jsx("button",{type:"submit",className:"bg-white text-blue-800 py-4 px-6 w-1/3 rounded-2xl",children:"send"})]})]}),N.jsx("img",{src:lat,alt:"inbox",className:"absolute right-0 bottom-10"})]})}const cat="/assets/team-1-c59024a1.jpeg",uat="/assets/team-2-f56f4d18.jpeg",dat="/assets/team-3-44fab18e.jpeg";var Y6={},hat=Ra;Object.defineProperty(Y6,"__esModule",{value:!0});var oc=Y6.default=void 0,fat=hat(Ua()),pat=N,Aat=(0,fat.default)((0,pat.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");oc=Y6.default=Aat;var $6={},gat=Ra;Object.defineProperty($6,"__esModule",{value:!0});var mN=$6.default=void 0,mat=gat(Ua()),vat=N,yat=(0,mat.default)((0,vat.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarHalf");mN=$6.default=yat;var J6={},bat=Ra;Object.defineProperty(J6,"__esModule",{value:!0});var zde=J6.default=void 0,wat=bat(Ua()),xat=N,Cat=(0,wat.default)((0,xat.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");zde=J6.default=Cat;function _at(){return N.jsxs("div",{className:"flex flex-col py-10",children:[N.jsx("div",{className:"heading",children:N.jsxs("h1",{className:"text-black text-6xl font-bold",children:["Our",N.jsx("span",{className:"text-blue-500",children:" Testimonials"})]})}),N.jsxs("div",{className:"inline-grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-4 py-6",children:[N.jsxs("div",{className:"border-gray-400 bg-white p-6 w-full border  rounded-3xl",children:[N.jsxs("div",{className:"flex flex-row items-center gap-4",children:[N.jsx("div",{className:"w-1/5 aspect-square ",children:N.jsx("img",{src:cat,className:"w-full h-full rounded-full",alt:"testimonialas"})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("h2",{className:"text-blue-gray-800 text-2xl font-bold",children:"Jennifer K."}),N.jsx("p",{className:"text-blue-gray-600 text-lg font-light",children:"front-end developer"})]})]}),N.jsx("p",{className:"text-lg text-gray-700 my-4 font-normal",children:"Our experience with your Dropleet company has been exceptional. From software development to digital transformation, your team has consistently delivered top-notch solutions tailored to our unique requirements."}),N.jsxs("div",{className:"flex flex-row gap-1",children:[N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}})]})]}),N.jsxs("div",{className:"border-gray-400 bg-white p-6 w-full border  rounded-3xl",children:[N.jsxs("div",{className:"flex flex-row items-center gap-4",children:[N.jsx("div",{className:"w-1/5 aspect-square ",children:N.jsx("img",{src:uat,className:"w-full h-full rounded-full",alt:"testimonialas"})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("h2",{className:"text-blue-gray-800 text-2xl font-bold",children:"David M."}),N.jsx("p",{className:"text-blue-gray-600 text-lg font-light",children:"front-end developer"})]})]}),N.jsx("p",{className:"text-lg text-gray-700 my-4 font-normal",children:"The cloud services provided by your company have revolutionized our business. The scalability and flexibility of the cloud platform have allowed us to easily expand our operations without worrying about infrastructure limitations."}),N.jsxs("div",{className:"flex flex-row gap-1",children:[N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(mN,{sx:{fontSize:35,color:"#fbbf24"}})]})]}),N.jsxs("div",{className:"border-gray-400 bg-white p-6 w-full border  rounded-3xl",children:[N.jsxs("div",{className:"flex flex-row items-center gap-4",children:[N.jsx("div",{className:"w-1/5 aspect-square ",children:N.jsx("img",{src:dat,className:"w-full h-full rounded-full",alt:"testimonialas"})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("h2",{className:"text-blue-gray-800 text-2xl font-bold",children:"Sarah L."}),N.jsx("p",{className:"text-blue-gray-600 text-lg font-light",children:"front-end developer"})]})]}),N.jsx("p",{className:"text-lg text-gray-700 my-4 font-normal",children:"We are extremely satisfied with the cybersecurity services offered by your company. Your proactive approach and robust security measures have protected our sensitive data from potential threats."}),N.jsxs("div",{className:"flex flex-row gap-1",children:[N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(oc,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(mN,{sx:{fontSize:35,color:"#fbbf24"}}),N.jsx(zde,{sx:{fontSize:35,color:"#fbbf24"}})]})]})]})]})}function Sat(){return N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("div",{className:"py-4 inline-grid lg:grid-cols-4 md:grid-cols-2 sm:grid-cols-1 gap-6",children:[N.jsxs("div",{className:"w-full flex flex-col",children:[N.jsx("a",{className:"font-bold text-xl text-blue-500",children:N.jsx(Tn,{to:"/",children:"TECH-AGENCY"})}),N.jsx("p",{className:"text-gray-600 font-light text-left text-sm my-2",children:"Bring your vision to life with Dropleet Sarl. Our team of skilled professionals can help you turn your ideas into reality. From custom software development to innovative web design."})]}),N.jsxs("div",{className:"w-full",children:[N.jsx("h4",{className:"font-bold text-lg text-blue-gray-800",children:"Services"}),N.jsxs("ul",{className:"flex flex-col my-2",children:[N.jsx("li",{className:"py-1",children:N.jsx("a",{className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/services",children:"Software Developement"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/services",children:"IT Security"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/services",children:"Cloud Management"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/services",children:"Saas Services"})})})]})]}),N.jsxs("div",{className:"w-full",children:[N.jsx("h4",{className:"font-bold text-lg text-blue-gray-800",children:"Website Map"}),N.jsxs("ul",{className:"flex flex-col my-2",children:[N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/",children:"Home"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/services",children:"Services"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/about",children:"About us"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/contact",children:"Contact Us"})})})]})]}),N.jsxs("div",{className:"w-full",children:[N.jsx("h4",{className:"font-bold text-lg text-blue-gray-800",children:"Useful links"}),N.jsxs("ul",{className:"flex flex-col my-2",children:[N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/signup",children:"Sign up"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/login",children:"Login"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/",children:"Landing page"})})}),N.jsx("li",{className:"py-1",children:N.jsx("a",{href:"#",className:"text-blue-gray-600 font-light text-base  ",children:N.jsx(Tn,{to:"/terms",children:"Privacy Policy"})})})]})]})]}),N.jsx("hr",{}),N.jsxs("p",{className:"text-center text-blue-gray-700 font-light text-base py-4",children:[N.jsx("span",{className:"text-blue-800",children:"TECH-AGENCY @2024"}),"All Rights Reserved"]})]})}function Eat(){return N.jsxs("div",{className:"container mx-auto w-full flex flex-col",children:[N.jsx(Knt,{}),N.jsx(Gnt,{}),N.jsx(Nde,{}),N.jsx(kde,{}),N.jsx(jde,{}),N.jsx(_at,{}),N.jsx(Sat,{})]})}function Bat(){const[e,t]=Oe.useState(!1),[r,i]=Oe.useState(""),[n,a]=Oe.useState(""),[o,s]=Oe.useState(""),l=u=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u),c=async u=>{if(u.preventDefault(),!r||!n||!o){alert("All fields are required.");return}if(!l(o)){alert("Please enter a valid email address.");return}try{const d=await fetch("https://tech-agency.onrender.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n,email:o})}),h=await d.json();d.status===200?alert(h.message):d.status===400?alert(h.error):alert("Something went wrong, please try again.")}catch(d){console.error("Registration failed:",d),alert("Registration failed. Please try again later.")}};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"w-full flex flex-row signup",children:[N.jsx("div",{className:"w-1/2 p-8 ml-20",children:N.jsxs(mr.Card,{className:"w-full mt-10",children:[N.jsx(mr.CardHeader,{variant:"gradient",color:"blue",className:"mb-4 grid h-24 place-items-center",children:N.jsx(mr.Typography,{variant:"h6",color:"white",children:"New account"})}),N.jsxs(mr.CardBody,{className:"flex flex-col gap-4",children:[N.jsx(mr.Input,{type:"text",required:!0,label:"Username",size:"lg",value:r,onChange:u=>i(u.target.value)}),N.jsx(mr.Input,{type:"email",required:!0,label:"Email",size:"lg",value:o,onChange:u=>s(u.target.value)}),N.jsxs("div",{className:"relative",children:[N.jsx(mr.Input,{type:e?"text":"password",required:!0,label:"Password",size:"lg",value:n,onChange:u=>a(u.target.value)}),N.jsx("span",{className:"absolute right-3 top-3 cursor-pointer",onClick:()=>t(!e),children:e?N.jsx(_de,{}):N.jsx(Sde,{})})]})]}),N.jsxs(mr.CardFooter,{className:"pt-0",children:[N.jsx(mr.Button,{variant:"gradient",onClick:c,fullWidth:!0,children:"Sign Up"}),N.jsxs(mr.Typography,{variant:"small",className:"mt-6 flex justify-center",children:["Already have an account?",N.jsx(Tn,{to:"/login",children:N.jsx(mr.Typography,{as:"span",variant:"small",color:"blue",className:"ml-1 font-bold",children:"Login"})})]})]})]})}),N.jsx(bde,{className:"w-1/5",scene:"https://prod.spline.design/S1lJQE08ZV6bzitw/scene.splinecode"})]})})}function Mat(){const[e,t]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch(`${{}.REACT_APP_API_URL}/count`),{count:u}=await c.json();t(u)}l()},[e]);const[r,i]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch(`${{}.REACT_APP_API_URL}/countmessages`),{countMessages:u}=await c.json();i(u)}l()},[r]);const[n,a]=Oe.useState(null);Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/countService"),{countService:u}=await c.json();a(u)}l()},[n]);const[o,s]=Oe.useState(null);return Oe.useEffect(()=>{async function l(){const c=await fetch("https://tech-agency.onrender.com/countClients"),{countClient:u}=await c.json();s(u)}l()},[o]),N.jsx("div",{className:"Dashboard",children:N.jsxs("div",{className:"boxes",children:[N.jsxs("div",{className:"box",children:[N.jsxs("div",{className:"text",children:[N.jsx("h4",{children:o}),N.jsx("h3",{children:"Clients"})]}),N.jsx("div",{className:"icon",children:N.jsx(i3,{className:"icn"})})]}),N.jsxs("div",{className:"box",children:[N.jsxs("div",{className:"text",children:[N.jsx("h4",{children:"3"}),N.jsx("h3",{children:"Messages"})]}),N.jsx("div",{className:"icon",children:N.jsx(Vj,{className:"icn"})})]}),N.jsxs("div",{className:"box",children:[N.jsxs("div",{className:"text",children:[N.jsx("h4",{children:n}),N.jsx("h3",{children:"Services"})]}),N.jsx("div",{className:"icon",children:N.jsx(n3,{className:"icn"})})]}),N.jsxs("div",{className:"box",children:[N.jsxs("div",{className:"text",children:[N.jsx("h4",{children:e}),N.jsx("h3",{children:"Orders"})]}),N.jsx("div",{className:"icon",children:N.jsx(QT,{className:"icn"})})]})]})})}function Pat(){return N.jsx("div",{children:N.jsx(Mat,{})})}function Tat(){return N.jsxs("div",{className:"p-10",children:[N.jsx("div",{children:N.jsx("h2",{children:N.jsx("b",{children:"Privacy Policy"})})}),N.jsxs("div",{children:[N.jsx("h4",{children:"Last Update: 21/09/2024"}),N.jsx("h2",{children:"1-Introduction:"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("h5",{children:"1-1. The privacy policy has been formulated to clearly demonstrate our unwavering commitment to the privacy of our visitors. The following lines reveal how information obtained by  Tech-Agency website is collected and used."})}),N.jsxs("li",{children:[" ",N.jsx("h5",{children:"1.2. Our site Tech-Agency collects information about visitors to the site in two ways:"}),N.jsx("ul",{children:"a. Information automatically collected by the host server."}),N.jsx("ul",{children:'b. The data that visitors provide to us through optional registration through various site forms such as "register now", "log in", "contact us", etc.'})]})]}),N.jsx("h2",{children:"2. Automated information:"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("h5",{children:"2.1. The host server automatically records some information about visitors. This information includes the date and time of your visit, your IP number, the name of a browser or internet browser, the operating system, and the url from which you came to our site."})}),N.jsx("li",{children:N.jsx("h5",{children:"2.2. This data enables us to improve the content of the site to suit the needs of our visitors, and to protect the site from intrusions."})})]}),N.jsx("h2",{children:"3. Information from the visitor:"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("h5",{children:"3.1. The information we are provided with through the various forms on the site enables us to help our visitors, provide them with useful information, communicate with them, while helping us to improve the content of the site in accordance with their needs."})}),N.jsx("li",{children:N.jsx("h5",{children:"3.2. Some of these models require our visitors to provide us with personal information, such as name, email, age, etc. The information collected through these forms is used to answer, communicate with visitors and improve the user experience."})}),N.jsx("li",{children:N.jsx("h5",{children:"3.3 Under any circumstances, unless a judicial request is received, this information is not provided or sold to any third party, whether advertisers, other financiers or otherwise, but we may provide advertisers with brief statistical data in a aggregated statistical format through which the identity of any of our visitors cannot be disclosed, and no third party will be provided with any personal information in any way, including advertisers and financiers."})})]}),N.jsx("h2",{children:"4. Ensuring information security:"}),N.jsx("ul",{children:N.jsx("li",{children:N.jsx("h5",{children:"4.1. The Tech-Agency website seriously assesses the importance of ensuring the security of the information we have and not losing it and preventing its misuse or modification. This reduces access to this information to the fullest extent possible, whether stored or during transport."})})}),N.jsx("h2",{children:"5. Spam messages:"}),N.jsx("ul",{children:N.jsx("li",{children:N.jsx("h5",{children:"5.1. The site does not send spam messages because it causes inconvenience and causes loss of time"})})}),N.jsx("h2",{children:"6. Privacy Policy Changes:"}),N.jsx("ul",{children:N.jsx("li",{children:N.jsx("h5",{children:"6.1. Please keep in mind that we are reviewing the privacy policy as necessary and may make some changes, at which point we will announce it, email users and request their consent again."})})}),N.jsx("h2",{children:"7. Delete and modify data:"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("h5",{children:"7.1. You can contact us to delete your registered information with us. By sending to email: tech.agency@gmail.com"})}),N.jsx("li",{children:N.jsx("h5",{children:"7.2 You can edit your registered information directly from your profile."})})]}),N.jsx("h2",{children:"8. To contact the site:"}),N.jsx("ul",{children:N.jsx("li",{children:N.jsx("h5",{children:'8.1. To contact the fpt_cours.shop, use the "Contact us" form.'})})})]})]})}const Oat=()=>{const{verificationToken:e}=Zpe(),[t,r]=Oe.useState("Verifying...");return Oe.useEffect(()=>{(async()=>{try{(await fetch(`https://tech-agency.onrender.com/verify/${e}`,{method:"PUT"})).ok?r("Email verified successfully"):r("Email verification failed")}catch{r("Error occurred while verifying email")}})()},[e]),N.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:N.jsxs("div",{className:"bg-white shadow-md rounded-lg p-8 max-w-md text-center",children:[N.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:t}),t==="Email verified successfully"&&N.jsxs("p",{className:"text-gray-600",children:["Your email has been verified! You can now"," ",N.jsx(Tn,{to:"/login",className:"text-blue-500 font-semibold hover:underline",children:"login"}),"."]}),t!=="Verifying..."&&t!=="Email verified successfully"&&N.jsxs("p",{className:"text-gray-600",children:["Email verification failed. Please"," ",N.jsx(Tn,{to:"/login",className:"text-blue-500 font-semibold hover:underline",children:"try logging in"}),"or contact support."]}),!e&&N.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Invalid verification link"})]})})};function Dat(){return N.jsxs(mk,{children:[N.jsx(no,{path:"/signup",element:N.jsx(Bat,{})}),N.jsx(no,{path:"/login",element:N.jsx(M1,{})}),N.jsx(no,{path:"/verify/:verificationToken",element:N.jsx(Oat,{})}),N.jsx(no,{path:"/",element:N.jsx(Eat,{})}),N.jsx(no,{path:"/contact",element:N.jsx(jde,{})}),N.jsx(no,{path:"/services",element:N.jsx(Nde,{})}),N.jsx(no,{path:"/about",element:N.jsx(kde,{})}),N.jsx(no,{path:"/admin",element:N.jsx(Pat,{})}),N.jsx(no,{path:"/orders",element:N.jsx(hoe,{})}),N.jsx(no,{path:"/messages",element:N.jsx(foe,{})}),N.jsx(no,{path:"/userService",element:N.jsx(Mde,{})}),N.jsx(no,{path:"/profileUser",element:N.jsx(Bde,{})}),N.jsx(no,{path:"/dashboard/*",element:N.jsx(Aoe,{})}),N.jsx(no,{path:"/sidebar/*",element:N.jsx(Pde,{})}),N.jsx(no,{path:"/home_user",element:N.jsx(Ede,{})}),N.jsx(no,{path:"/terms",element:N.jsx(Tat,{})})]})}JI.createRoot(document.getElementById("root")).render(N.jsx(mAe,{children:N.jsx(Dat,{})}));export{pn as _,hb as c,HY as g};
